<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Deep Learning on Svtter's Blog</title><link>https://svtter.cn/tags/deep-learning/</link><description>Recent content in Deep Learning on Svtter's Blog</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Wed, 12 Mar 2025 11:12:03 +0800</lastBuildDate><atom:link href="https://svtter.cn/tags/deep-learning/index.xml" rel="self" type="application/rss+xml"/><item><title>Reimplment MAE Work Path.md</title><link>https://svtter.cn/p/reimplment-mae-work-path.md/</link><pubDate>Wed, 12 Mar 2025 11:12:03 +0800</pubDate><guid>https://svtter.cn/p/reimplment-mae-work-path.md/</guid><description>&lt;img src="https://svtter.cn/p/reimplment-mae-work-path.md/arch.png" alt="Featured image of post Reimplment MAE Work Path.md" />&lt;p>è¿™ä¸¤å¤©æˆ‘ä¸€ç›´åœ¨å°è¯•å¤ç° MAEï¼Œä¸æˆ‘çš„æ•°æ®è¿›è¡Œç»“åˆï¼Œæ¥åšå‡ºä¸€ç‚¹æ–°çš„ä¸œè¥¿ã€‚&lt;/p>
&lt;h2 id="offical-mae">Offical MAE
&lt;/h2>&lt;p>æˆ‘é¦–å…ˆä» meta çš„&lt;a class="link" href="https://github.com/facebookresearch/mae" target="_blank" rel="noopener"
>å®˜æ–¹ä»“åº“&lt;/a>å¼€å§‹ã€‚æˆ‘æˆåŠŸè·‘é€šäº† demoï¼Œä½†æ˜¯å‘ç°ä»ç„¶æœ‰äº›é—®é¢˜ã€‚&lt;a class="link" href="https://ai.meta.com/blog/open-sourcing-submitit-a-lightweight-tool-for-slurm-cluster-computation/" target="_blank" rel="noopener"
>submitit&lt;/a> æ˜¯ meta å¼€æºçš„é›†ç¾¤ä»»åŠ¡æäº¤å·¥å…·ã€‚è¿™ä¸ªä»£ç ä½¿ç”¨çš„åº”è¯¥æ˜¯ meta å†…éƒ¨ä½¿ç”¨çš„è®­ç»ƒé›†ç¾¤ï¼ŒåŸºäº &lt;a class="link" href="https://slurm.schedmd.com/quickstart.html" target="_blank" rel="noopener"
>slurm&lt;/a>ã€‚æˆ‘æ— æ³•è®¿é—®è¿™ä¸ªé›†ç¾¤ã€‚è€Œä¸”&lt;a class="link" href="https://slurm.schedmd.com/quickstart_admin.html" target="_blank" rel="noopener"
>éƒ¨ç½²slurm&lt;/a> é›†ç¾¤å¯èƒ½å¾ˆéº»çƒ¦ã€‚å› æ­¤ä½œç½¢ã€‚&lt;/p>
&lt;h3 id="tips">Tips
&lt;/h3>&lt;p>ä½¿ç”¨å¼€æºå·¥å…·æ˜¯å¯¹çš„ã€‚å†…éƒ¨çš„ç§æœ‰å·¥å…·æ— æ³•è¿ç§»åˆ°ä¸‹ä¸€ä¸ªå›¢é˜Ÿï¼Œé‡æ–°å­¦ä¹ çš„æˆæœ¬æ¯”è¾ƒé«˜ã€‚å¼€æºå·¥å…·ä¸€èˆ¬æ²¡æœ‰è¿™ä¸ªé™åˆ¶ï¼Œå¯ä»¥æ‰“é€šåˆ‡æ¢å›¢é˜Ÿåçš„åä½œã€‚&lt;/p>
&lt;h3 id="dockerfile">Dockerfile
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-Dockerfile" data-lang="Dockerfile">&lt;span class="line">&lt;span class="cl">&lt;span class="k">FROM&lt;/span>&lt;span class="s"> pytorch/pytorch:1.11.0-cuda11.3-cudnn8-devel&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> pip install jupyterlab &lt;span class="s2">&amp;#34;numpy&amp;lt;1.20&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;timm==0.4.5&amp;#34;&lt;/span> matplotlib -i https://mirrors.sustech.edu.cn/pypi/simple&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> rm /etc/apt/sources.list.d/cuda.list &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> rm /etc/apt/sources.list.d/nvidia-ml.list &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> apt-get update &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> apt-get install -y wget&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">CMD&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;jupyter&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;lab&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--ip=0.0.0.0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--port=8888&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--no-browser&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--allow-root&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--NotebookApp.token=&amp;#39;abcd&amp;#39;&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨ä¸Šé¢è¿™ä¸ª Dockerfile å¯ä»¥è·‘é€šç¯å¢ƒã€‚&lt;/p>
&lt;h2 id="mae-pytorch">MAE-pytorch
&lt;/h2>&lt;p>ä¹‹åæˆ‘æƒ³ä½¿ç”¨ pytorch lightning æ¥è·‘ä¸€ä¸‹ MAEã€‚ç°åœ¨è®­ç»ƒçš„æ˜¾å¡å¤Ÿç”¨ï¼Œä½†æ˜¯ pytorch ç›´æ¥å†™ DDP æ¯”è¾ƒéº»çƒ¦ã€‚äºæ˜¯æˆ‘å‚è€ƒäº† &lt;a class="link" href="https://github.com/mtrazzak/mae-pytorch" target="_blank" rel="noopener"
>mae-pytorch&lt;/a>ã€‚&lt;/p>
&lt;p>ä½†æ˜¯è®­ç»ƒä¹‹åå‘ç°ï¼Œä¼¼ä¹å¯¹ lightning çš„é€‚é…ä¸æ˜¯å¾ˆå¥½ã€‚æˆ‘è°ƒæ•´äº† &lt;code>num_gpus&lt;/code> å‚æ•°ï¼Œè®­ç»ƒä»ç„¶ä¸é¡ºã€‚&lt;/p>
&lt;p>&lt;a class="link" href="https://gist.github.com/Svtter/f4416107d99d69d3a3c48a6eae918411" target="_blank" rel="noopener"
>https://gist.github.com/Svtter/f4416107d99d69d3a3c48a6eae918411&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">File&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">workspace&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">mae&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">py&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">145&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">MaskedAutoencoderLIT&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">generate_grid_of_samples&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">true_images&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">pred_patch&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">mask&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">144&lt;/span> &lt;span class="n">pred_images&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">res&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">sample_indices&lt;/span>&lt;span class="p">][:,&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">]]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">--&amp;gt;&lt;/span> &lt;span class="mi">145&lt;/span> &lt;span class="n">true_image_grid&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">true_images&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">sample_indices&lt;/span>&lt;span class="p">][:,&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">]]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">147&lt;/span> &lt;span class="n">grid_images&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">cat&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="n">true_image_grid&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">pred_images&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">dim&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="ne">RuntimeError&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">CUDA&lt;/span> &lt;span class="n">error&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">device&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">side&lt;/span> &lt;span class="k">assert&lt;/span> &lt;span class="n">triggered&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">CUDA&lt;/span> &lt;span class="n">kernel&lt;/span> &lt;span class="n">errors&lt;/span> &lt;span class="n">might&lt;/span> &lt;span class="n">be&lt;/span> &lt;span class="n">asynchronously&lt;/span> &lt;span class="n">reported&lt;/span> &lt;span class="n">at&lt;/span> &lt;span class="n">some&lt;/span> &lt;span class="n">other&lt;/span> &lt;span class="n">API&lt;/span> &lt;span class="n">call&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">so&lt;/span> &lt;span class="n">the&lt;/span> &lt;span class="n">stacktrace&lt;/span> &lt;span class="n">below&lt;/span> &lt;span class="n">might&lt;/span> &lt;span class="n">be&lt;/span> &lt;span class="n">incorrect&lt;/span>&lt;span class="o">.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">For&lt;/span> &lt;span class="n">debugging&lt;/span> &lt;span class="n">consider&lt;/span> &lt;span class="n">passing&lt;/span> &lt;span class="n">CUDA_LAUNCH_BLOCKING&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Compile&lt;/span> &lt;span class="k">with&lt;/span> &lt;span class="err">`&lt;/span>&lt;span class="n">TORCH_USE_CUDA_DSA&lt;/span>&lt;span class="err">`&lt;/span> &lt;span class="n">to&lt;/span> &lt;span class="n">enable&lt;/span> &lt;span class="n">device&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">side&lt;/span> &lt;span class="n">assertions&lt;/span>&lt;span class="o">.&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="imagenet-çš„é—®é¢˜">ImageNet çš„é—®é¢˜
&lt;/h3>&lt;p>è€Œä¸” &lt;strong>ImageNet æˆ‘æœ¬åœ°æ²¡æœ‰ç›¸å…³çš„æ•°æ®&lt;/strong>ï¼Œé‡æ–°ä¸‹è½½ä¹Ÿæ˜¯æ¯”è¾ƒéº»çƒ¦ã€‚ï¼ˆè™½ç„¶å¯ä»¥ç”¨ pretrain weightsï¼‰ã€‚&lt;/p>
&lt;p>æˆ‘ä¸‹è½½äº† &lt;a class="link" href="https://www.kaggle.com/c/tiny-imagenet" target="_blank" rel="noopener"
>tiny-imagenet&lt;/a>ï¼Œä½†æ˜¯æ²¡èƒ½èµ·åˆ°ä½œç”¨ã€‚&lt;/p>
&lt;p>æˆ‘å°è¯•äº†ä¸€ä¸‹ï¼Œèƒ½è·‘é€š MNIST + resizeï¼Œä¹Ÿå°±æ˜¯ &lt;code>Tutorial.ipynb&lt;/code> çš„å†…å®¹ã€‚å› ä¸ºå¹¶è¡Œè®­ç»ƒçš„é‡æ–°è°ƒä¼˜æ¯”è¾ƒéº»çƒ¦ï¼Œæˆ‘æš‚æ—¶æ”¾ä¸‹ï¼Œå†å»çœ‹çœ‹å…¶ä»–çš„åº“ã€‚&lt;/p>
&lt;p>ImageNet ä½“ç§¯æ¯”è¾ƒå¤§ï¼Œå¤§å®¶ä¸€èˆ¬ä¼šä½¿ç”¨å°å‹ imagenet æ¥åšä¸€äº›æµ‹è¯•ã€‚ä¾‹å¦‚ &lt;a class="link" href="https://github.com/ultralytics/yolov5/issues/11028" target="_blank" rel="noopener"
>yolo-v5 issue&lt;/a> ä¸­æ‰€è¡¨è¿°çš„ã€‚&lt;/p>
&lt;h4 id="imagenet-100">imagenet-100
&lt;/h4>&lt;p>imagenet å¾€å¾€å¤ªå¤§äº†ï¼Œæˆ‘ä»¬å¯ç”¨ä¸€äº›å°å‹çš„æ•°æ®é›†å»éªŒè¯æ¨¡å‹ï¼›ä½†æ˜¯ shape å’Œæ–‡ä»¶ç»“æ„éœ€è¦ä¸ imagenet ä¸€è‡´ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">kagglehub&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Download latest version&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">path&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">kagglehub&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">dataset_download&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;ambityga/imagenet100&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Path to dataset files:&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">path&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="dockerfile-1">Dockerfile
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-Dockerfile" data-lang="Dockerfile">&lt;span class="line">&lt;span class="cl">&lt;span class="k">FROM&lt;/span>&lt;span class="s"> pytorch/pytorch:2.4.1-cuda11.8-cudnn9-devel&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">WORKDIR&lt;/span>&lt;span class="s"> /workspace&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> requirements.txt .&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> pip install -r requirements.txt -i https://mirrors.sustech.edu.cn/pypi/web/simple &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> pip install jupyterlab matplotlib&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">CMD&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;jupyter&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;lab&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--ip=0.0.0.0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--port=8888&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--no-browser&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--allow-root&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--NotebookApp.token=&amp;#39;abcd&amp;#39;&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="solo-learn">solo learn
&lt;/h2>&lt;p>&lt;a class="link" href="https://github.com/vturrisi/solo-learn?tab=readme-ov-file" target="_blank" rel="noopener"
>solo-learn&lt;/a> æ˜¯å‘è¡¨åœ¨ IJML çš„ä¸€ä¸ªå·¥ä½œã€‚ä¸»è¦å®ç°äº† self-regression çš„ç›¸å…³æ–¹æ³•ã€‚ä»–ä»¬ä½¿ç”¨äº†ä¸€ä¸ªæˆ‘ä¹‹å‰æ²¡æœ‰ä½¿ç”¨è¿‡çš„åº“&lt;a class="link" href="https://github.com/NVIDIA/DALI" target="_blank" rel="noopener"
>NVIDIA/DALI&lt;/a>&lt;/p>
&lt;p>æˆ‘ä½¿ç”¨äº† MAE_pytorch çš„ Dockerfileï¼Œåšäº†ä¸€äº›è°ƒæ•´ã€‚&lt;/p>
&lt;h3 id="start">Start
&lt;/h3>&lt;p>åšåˆ†ç±»ä»»åŠ¡ï¼Œå‚è€ƒæ–‡æ¡£ &lt;a class="link" href="https://solo-learn.readthedocs.io/en/latest/tutorials/offline_linear_eval.html" target="_blank" rel="noopener"
>offline-linear-eval&lt;/a>.&lt;/p>
&lt;p>é¦–å…ˆæ˜¯æ–‡æ¡£æœ‰ç‚¹é—®é¢˜ï¼Œ&lt;code>from solo.utils ...&lt;/code> åº”è¯¥æ”¹ä¸º &lt;code>from solo.data...&lt;/code>ã€‚&lt;/p>
&lt;p>è¿™ä¸ªåº“ä½¿ç”¨äº† &lt;a class="link" href="https://hydra.cc/docs/intro/" target="_blank" rel="noopener"
>hydra&lt;/a> ä»¥åŠ &lt;a class="link" href="https://omegaconf.readthedocs.io/en/2.3_branch/" target="_blank" rel="noopener"
>omegaconf&lt;/a>ã€‚&lt;/p>
&lt;p>&lt;a class="link" href="https://hydra.cc/docs/intro/" target="_blank" rel="noopener"
>hydra&lt;/a> å¯ä»¥æ¯”è¾ƒæœ‰æ•ˆçš„å»å¤„ç†é…ç½®é‡å çš„æƒ…å†µã€‚æˆ‘ä¹‹å‰å†™ç±»ä¼¼çš„ä¸œè¥¿ï¼Œéƒ½æ˜¯ä¸€ä¸ªä¸€ä¸ªç±»ï¼Œç„¶åä¸åœçš„åµŒå¥—åµŒå¥—ã€‚è¿™æ ·çœ‹ï¼Œhydra ç¡®å®æ–¹ä¾¿å¾ˆå¤šã€‚&lt;/p>
&lt;p>&lt;a class="link" href="https://omegaconf.readthedocs.io/en/2.3_branch/" target="_blank" rel="noopener"
>omegaconf&lt;/a> æ˜¯ä¸€ä¸ªä½¿ç”¨ hydra é…ç½®æ–‡ä»¶çš„å·¥å…·ï¼›ç”±äº hydra é…ç½®è¿”å›çš„æ˜¯ DictConfigï¼Œå› æ­¤è¯»å–é…ç½®çš„æ—¶å€™éœ€è¦ä½¿ç”¨ dict æ•°æ®ç»“æ„è¿›è¡Œè®¿é—®ã€‚&lt;/p>
&lt;p>ä¸è¿‡æˆ‘è§‰å¾—å®é™…ä¸Šç”¨å¤„ä¸æ˜¯å¾ˆå¤§ã€‚é™¤éé¡¹ç›®å¾ˆåºå¤§ï¼Œå¦åˆ™å¢åŠ äº†ä¸Šæ‰‹çš„æˆæœ¬ã€‚&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/vturrisi/solo-learn?tab=readme-ov-file" target="_blank" rel="noopener"
>solo-learn&lt;/a> åŸºæœ¬ä¸Šå·²ç»ä¸å¤ªç»´æŠ¤äº†ã€‚æˆ‘å°è¯•ä¸‹è½½äº† imagenet-100ï¼Œæ­£åœ¨æµ‹è¯•ä¸­ã€‚&lt;/p>
&lt;h3 id="dockerfile-2">Dockerfile
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-Dockerfile" data-lang="Dockerfile">&lt;span class="line">&lt;span class="cl">&lt;span class="k">FROM&lt;/span>&lt;span class="s"> pytorch/pytorch:2.4.1-cuda11.8-cudnn9-devel&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">WORKDIR&lt;/span>&lt;span class="s"> /workspace&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> requirements.txt .&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> pip install -r requirements.txt -i https://mirrors.sustech.edu.cn/pypi/web/simple &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> pip install jupyterlab matplotlib&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># RUN pip3 install .[dali,umap,h5] --extra-index-url https://developer.download.nvidia.com/compute/redist&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">CMD&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;jupyter&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;lab&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--ip=0.0.0.0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--port=8888&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--no-browser&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--allow-root&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--NotebookApp.token=&amp;#39;abcd&amp;#39;&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="tips-1">Tips
&lt;/h3>&lt;p>ç›´æ¥ä½¿ç”¨ checkpoints å¯ä»¥èŠ‚çœå¤§é‡çš„è®­ç»ƒæ—¶é—´ã€‚æ‰‹é‡Œçš„å¡æ›´å¤šçš„åº”è¯¥å»ç”¨æ¥ fine tuneï¼Œæˆ–è€…è®­ç»ƒè‡ªå·±çš„æ•°æ®é›†ã€‚ä»å¤´å¼€å§‹è®­ç»ƒï¼ˆæˆ‘ä¹‹å‰çš„åšæ³•ï¼‰å¾€å¾€æ˜¯ä¸ç»æµä¸”é€Ÿåº¦æ…¢çš„ã€‚&lt;/p>
&lt;h2 id="huggingface-transformers">huggingface &lt;a class="link" href="https://huggingface.co/docs/transformers/en/index" target="_blank" rel="noopener"
>transformers&lt;/a>
&lt;/h2>&lt;p>å¾ˆå‡ºåçš„ä¸€ä¸ªåº“ã€‚å¾ˆå¤šæœ‹å‹éƒ½ä½¿ç”¨è¿™ä¸ªåº“æ¥å°è¯•äº†æ„å»ºäº†è‡ªå·±çš„å¤§å‹æ¨¡å‹ã€‚&lt;/p>
&lt;p>æˆ‘æƒ³ MAE åº”è¯¥æ˜¯ç»„æˆéƒ¨åˆ†ä¹‹ä¸€ï¼Œæˆ‘æƒ³å€Ÿç€è¿™ä¸ªæœºä¼šä½¿ç”¨ä¸€ä¸‹çœ‹ã€‚&lt;/p>
&lt;p>æˆ‘å°è¯•äº†ä¸€ä¸‹ open sources models by huggingfaceã€‚&lt;/p>
&lt;p>transformers ä½¿ç”¨èµ·æ¥æ¯”è¾ƒç®€å•ã€‚zero-shot image classification å…¥é—¨é€Ÿåº¦å¾ˆå¿«ã€‚ä½†æ˜¯å¯¹äºå¤šç›®æ ‡çš„å¤æ‚ä»»åŠ¡ï¼Œè¿˜éœ€è¦è¿›ä¸€æ­¥æ¢ç´¢ä¸€ä¸‹ã€‚&lt;/p></description></item><item><title>Dataset å’Œ DataLoader çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ</title><link>https://svtter.cn/p/dataset-%E5%92%8C-dataloader-%E7%9A%84%E5%8C%BA%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88/</link><pubDate>Mon, 24 Feb 2025 22:01:57 +0800</pubDate><guid>https://svtter.cn/p/dataset-%E5%92%8C-dataloader-%E7%9A%84%E5%8C%BA%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88/</guid><description>&lt;p>åœ¨ &lt;code>torch.utils.data&lt;/code> ä¸­ï¼Œæœ‰ä¸¤ä¸ªç±»ï¼Œä¸€ä¸ªæ˜¯&lt;code>Dataset&lt;/code>ï¼Œå¦ä¸€ä¸ªæ˜¯&lt;code>DataLoader&lt;/code>ã€‚&lt;/p>
&lt;p>è¿™ä¸¤ä¸ªç±»çš„ä¸»è¦åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/p>
&lt;p>Dataset ä¸€èˆ¬ç”¨äºè¯»å–æ•°æ®é›†çš„åŸºç¡€æ•°æ®ã€‚ä¾‹å¦‚ï¼Œåœ¨ torch ç»™å‡ºçš„&lt;a class="link" href="https://pytorch.org/tutorials/beginner/data_loading_tutorial.html" target="_blank" rel="noopener"
>å®˜ç½‘è¯´æ˜&lt;/a>ä¸­ï¼Œç”¨äºå±•ç¤ºæ•°æ®é›†çš„æ•°é‡ï¼Œä»¥åŠç”¨äºç¥ç»ç½‘ç»œè®­ç»ƒçš„å•ä¸ªæ ·æœ¬ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">FaceLandmarkDataset&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Dataset&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="fm">__init__&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="fm">__len__&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;è¡¨ç¤ºæ•°æ®é›†çš„æ•°é‡&amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="fm">__getitem__&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">idx&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;è¿”å›æŸä¸ªä¸‹æ ‡çš„æ•°æ®ç»„åˆã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ˜¯å›¾åƒå’Œæ ‡ç­¾ï¼Œåº”è¯¥æ˜¯ {&amp;#39;img&amp;#39;: img, &amp;#39;label&amp;#39;: label} &amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¸ä¹‹ç›¸å¯¹çš„ï¼ŒDataLoader åˆ™æ˜¯ä¸€ä¸ªå¯ä»¥å¹¶è¡Œè¯»å–æ•°æ®çš„ç±»ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¸éœ€è¦è¿›è¡Œç»§æ‰¿ç„¶åæ”¹å†™ã€‚&lt;/p>
&lt;p>æ‰€ä»¥æˆ‘ä»¬ä¸»è¦è¯´è¯´æ€ä¹ˆç”¨ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">dataloader&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">DataLoader&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">transformed_dataset&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">batch_size&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">shuffle&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">num_workers&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå› ä¸º DataLoader çš„å­˜åœ¨ï¼Œå› æ­¤å®é™…ä¸Šæˆ‘ä»¬åœ¨å®ç° Dataset çš„æ—¶å€™:&lt;/p>
&lt;ol>
&lt;li>ä¸éœ€è¦å…³æ³¨ shuffle: ä¸ºäº†ç¥ç»ç½‘ç»œè®­ç»ƒçš„ batchä¸èšé›†åœ¨ä¸€ä¸ªåœ°æ–¹&lt;/li>
&lt;li>ä¸éœ€è¦è€ƒè™‘å¹¶è¡Œè¯»å–ï¼Œå› ä¸ºæœ‰ &lt;code>num_worker&lt;/code>&lt;/li>
&lt;li>ä¸éœ€è¦è€ƒè™‘ &lt;code>batch_size&lt;/code>&lt;/li>
&lt;/ol>
&lt;p>å› æ­¤ï¼ŒDataLoader å¯ä»¥æ¯”è¾ƒå®¹æ˜“çš„å®Œæˆä¸€äº›æ•°æ®é›†å¤„ç†å‰çš„å¿…è¦å·¥ä½œã€‚&lt;/p>
&lt;p>å¦‚æœä½¿ç”¨ lightningï¼Œé‚£ä¹ˆè¿˜éœ€è¦è¿›ä¸€æ­¥äº†è§£ DataModuleã€‚æˆ‘ä¼šåœ¨å¦å¤–ä¸€ç¯‡åšå®¢ä¸­è¯´æ˜ã€‚&lt;/p></description></item><item><title>Where to Put Your Data Folder.md</title><link>https://svtter.cn/p/where-to-put-your-data-folder.md/</link><pubDate>Mon, 24 Feb 2025 14:34:56 +0800</pubDate><guid>https://svtter.cn/p/where-to-put-your-data-folder.md/</guid><description>&lt;p>åœ¨è®­ç»ƒæ¨¡å‹æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥å°½å¯èƒ½çš„æŠŠæ•°æ®å’Œä»£ç æ”¾åœ¨åŒä¸€ä¸ªä½ç½®ã€‚&lt;/p>
&lt;p>æ”¾åœ¨åŒä¸€ä¸ªä½ç½®å¯ä»¥é¿å…è·¯å¾„çš„é—®é¢˜ï¼Œä¾‹å¦‚ç»™å‡ºæ•°æ®çš„ç»å¯¹è·¯å¾„ç­‰ã€‚&lt;/p>
&lt;p>æ¯”å¦‚ï¼Œå¦‚æœæˆ‘å°†è·¯å¾„è®¾ç½®ä¸ºï¼Œ&lt;code>./data/&lt;/code>ï¼Œé‚£ä¹ˆæˆ‘åªéœ€è¦æŠŠæ•°æ®æ”¾åœ¨&lt;code>./data&lt;/code>ç›®å½•ä¸‹å³å¯ã€‚&lt;/p>
&lt;p>æˆ‘å¯ä»¥é€šè¿‡&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ln -s &lt;span class="k">$(&lt;/span>source-path-of-dataset&lt;span class="k">)&lt;/span> ./data
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥å°†æ•°æ®ä»å…¶ä»–ä½ç½®é“¾æ¥è¿‡æ¥ã€‚&lt;/p>
&lt;p>å¦‚æœåœ¨ç›¸åŒçš„ä¸»æœºä¸Šï¼Œgit æ˜¯å¯ä»¥è‡ªåŠ¨åŒæ­¥è¿™äº› link çš„ã€‚&lt;/p>
&lt;p>ä½†å¦‚æœåœ¨ä¸åŒçš„ä¸»æœºä¸Šï¼Œå°±éœ€è¦è‡ªå·±åšå¥½ç®¡ç†äº†ã€‚&lt;/p></description></item><item><title>å›¾ç‰‡æ•°æ®é›†çš„æµè§ˆ</title><link>https://svtter.cn/p/%E5%9B%BE%E7%89%87%E6%95%B0%E6%8D%AE%E9%9B%86%E7%9A%84%E6%B5%8F%E8%A7%88/</link><pubDate>Sun, 12 Jan 2025 18:31:12 +0800</pubDate><guid>https://svtter.cn/p/%E5%9B%BE%E7%89%87%E6%95%B0%E6%8D%AE%E9%9B%86%E7%9A%84%E6%B5%8F%E8%A7%88/</guid><description>&lt;p>æ•°æ®é›†æµè§ˆæ˜¯ä¸ªæ¯”è¾ƒéº»çƒ¦çš„äº‹æƒ…ã€‚å°¤å…¶æ˜¯æ•°æ®é›†æ¯”è¾ƒå¤§çš„æ—¶å€™ã€‚&lt;/p>
&lt;p>npy (numpy array) ï¼Œh5 æ–‡ä»¶æ˜¯ä¸¤ç§å¸¸è§çš„æ•°æ®å­˜å‚¨æ–¹å¼ã€‚
h5 æ–‡ä»¶çš„ç¼ºç‚¹æ˜¯å¾ˆå®¹æ˜“äº§ç”Ÿæ•°æ®æŸåã€‚ç¬”è€…ä½¿ç”¨çš„æ—¶å€™å¤šæ¬¡é‡è§ h5 æ–‡ä»¶æ‰“ä¸å¼€çš„é—®é¢˜ã€‚
npy æ–‡ä»¶åœ¨è¯»å–é€Ÿåº¦ï¼Œæ–‡ä»¶ä¼ è¾“æ–¹é¢å…·æœ‰å¾ˆæ˜æ˜¾çš„ä¼˜åŠ¿ã€‚ç¼ºç‚¹æ˜¯ä¸€æ¬¡æ€§åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå¦‚æœæœåŠ¡å™¨ä¸è¡Œï¼Œå¾ˆå®¹æ˜“çˆ†æ‰ã€‚&lt;/p>
&lt;p>å¸¸è§çš„å›¾åƒæ•°æ®é›†ä¸€èˆ¬æ˜¯å°† label å’Œ image åˆ†å¼€æ”¾ã€‚ä¾‹å¦‚ COCO ç­‰ã€‚è¿™æ ·ä¸€æ¥ï¼Œä¹Ÿå¯ä»¥ç”¨æ–‡ä»¶æµè§ˆå™¨å»æŸ¥çœ‹å›¾ç‰‡ï¼Œå¯ä»¥å¿«é€Ÿçš„è§‚å¯Ÿå›¾ç‰‡çš„ç‰¹ç‚¹ã€‚ä½†ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸ä¼šåœ¨æœ¬åœ°çš„ç”µè„‘ä¸ŠæŸ¥çœ‹å›¾ç‰‡ï¼Œè€Œæ˜¯æ›´å¤šçš„åœ¨æœåŠ¡ä¸Šæ“ä½œæ•°æ®é›†ã€‚&lt;/p>
&lt;p>2024ï¼Œç»“åˆ torchï¼Œæˆ‘æ„Ÿè§‰è¿˜æ˜¯ matplotlib ç›´æ¥ç»˜å›¾ä¼šæ–¹ä¾¿ä¸€äº›ã€‚matplotlib ç›´æ¥ç»˜å›¾ä¸€èˆ¬æ˜¯å±•ç¤ºå•å¼ å›¾ç‰‡ã€‚ä½†æ˜¯å¦‚æœåˆ©ç”¨ subplotï¼Œå¯ä»¥åŒæ—¶å±•ç¤ºæ›´å¤šå›¾ç‰‡ã€‚å¦‚æœç”¨äº† opencvï¼Œå¯ä»¥å°†éƒ¨åˆ†æ ‡ç­¾å€¼æ‰“å°ä¸Šå»ã€‚ä¸è¿‡ä¹Ÿæœ‰ç¼ºç‚¹ï¼šå¦‚æœä½¿ç”¨çš„æ˜¯è¿œç¨‹æœåŠ¡å™¨ï¼Œç”Ÿæˆå›¾ç‰‡çš„ä¼ è¾“è¿‡ç¨‹éœ€è¦å ç”¨è¾ƒå¤šçš„å¸¦å®½ã€‚
å…·ä½“é‡‡ç”¨ä»€ä¹ˆæ–¹å¼ï¼Œè¿˜å¾—è‡ªå·±åšåˆ¤æ–­å‘ï¼&lt;/p></description></item><item><title>CNN Size Computing</title><link>https://svtter.cn/p/cnn-size-computing/</link><pubDate>Fri, 11 Oct 2024 16:51:14 +0800</pubDate><guid>https://svtter.cn/p/cnn-size-computing/</guid><description>&lt;p>CNNs (Convolutional Neural Networks) is a amazing component of neural network theory. However, to use it efficiently, we need to compute the output shape.&lt;/p>
&lt;h3 id="ask-for-chatgpt">ask for chatgpt
&lt;/h3>&lt;ul>
&lt;li>&lt;a class="link" href="https://chatgpt.com/share/19be811d-e750-45de-b5bd-ad391c9dba80" target="_blank" rel="noopener"
>https://chatgpt.com/share/19be811d-e750-45de-b5bd-ad391c9dba80&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="input-shape">input shape
&lt;/h3>&lt;p>Ensure that the input to your network is of the correct shape. The input tensor should have the dimensions &lt;code>[batch_size, channels, height, width]&lt;/code>. For example, if you&amp;rsquo;re using a batch size of 1, the input should be &lt;code>[1, 32, 32, 300]&lt;/code>.&lt;/p>
&lt;ul>
&lt;li>1 is batch size.&lt;/li>
&lt;li>&lt;code>input_data = torch.randn(1, 32, 32, 300) # Example input tensor with the correct shape&lt;/code>&lt;/li>
&lt;/ul>
&lt;h3 id="compute-of-cnn-output">Compute of CNN output
&lt;/h3>&lt;ul>
&lt;li>reference: &lt;a class="link" href="https://www.baeldung.com/cs/convolutional-layer-size" target="_blank" rel="noopener"
>baeldung link&lt;/a>
&lt;img src="https://svtter.cn/assets/image_1717928679511_0.png"
loading="lazy"
alt="image.png"
>&lt;/li>
&lt;/ul>
&lt;p>The channels number is the CNN&amp;rsquo;s filters number.&lt;/p></description></item><item><title>Easy LSTM Training Tricks</title><link>https://svtter.cn/p/easy-lstm-training-tricks/</link><pubDate>Mon, 12 Aug 2024 15:35:03 +0800</pubDate><guid>https://svtter.cn/p/easy-lstm-training-tricks/</guid><description>&lt;p>This post introduces how to train the LSTM networks to get correct outputs.&lt;/p>
&lt;p>If you use this way, not work.&lt;/p>
&lt;ul>
&lt;li>Just use the last width, like &lt;code>x[-1, :, :]&lt;/code>, select the last piece of width.&lt;/li>
&lt;li>It&amp;rsquo;s normal way. However, somethings it will &lt;strong>NOT WORK&lt;/strong>.&lt;/li>
&lt;li>&lt;img src="https://svtter.cn/p/easy-lstm-training-tricks/pics/lstm-1.png"
width="744"
height="1140"
srcset="https://svtter.cn/p/easy-lstm-training-tricks/pics/lstm-1_hu_ac7f1b95cef41c2a.png 480w, https://svtter.cn/p/easy-lstm-training-tricks/pics/lstm-1_hu_90a5c97aafe0bd87.png 1024w"
loading="lazy"
alt="image.png"
class="gallery-image"
data-flex-grow="65"
data-flex-basis="156px"
>&lt;/li>
&lt;/ul>
&lt;p>This way will work.&lt;/p>
&lt;ul>
&lt;li>Flatten all the output&lt;/li>
&lt;li>&lt;img src="https://svtter.cn/p/easy-lstm-training-tricks/pics/lstm-2.png"
width="702"
height="1140"
srcset="https://svtter.cn/p/easy-lstm-training-tricks/pics/lstm-2_hu_15f30d5916691925.png 480w, https://svtter.cn/p/easy-lstm-training-tricks/pics/lstm-2_hu_30536e8b9ab4dc3b.png 1024w"
loading="lazy"
alt="image.png"
class="gallery-image"
data-flex-grow="61"
data-flex-basis="147px"
>&lt;/li>
&lt;li>It always works.&lt;/li>
&lt;/ul>
&lt;p>Have fun.&lt;/p>
&lt;p>Besides, I found &lt;a class="link" href="https://marimo.io/use-cases#examples" target="_blank" rel="noopener"
>marimo&lt;/a>, which is a replacement for jupyter notebooks.&lt;/p></description></item><item><title>My Keras tricks</title><link>https://svtter.cn/p/my-keras-tricks/</link><pubDate>Mon, 07 Jan 2019 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/my-keras-tricks/</guid><description>&lt;p>è®°å½•äº†ä¸€äº›ä½¿ç”¨ keras çš„æŠ€å·§ã€‚&lt;/p>
&lt;h2 id="categorical_crossentropy-vs-sparse_categorical_crossentropy">categorical_crossentropy vs sparse_categorical_crossentropy.
&lt;/h2>&lt;h4 id="3-the-answerin-a-nutshell">3. The Answer,Â In a Nutshell
&lt;/h4>&lt;ul>
&lt;li>
&lt;p>If your targets areÂ one-hotÂ encoded, useÂ categorical_crossentropy.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Examples ofÂ &lt;a href="https://jovianlin.io/keras-one-hot-encode-decode-sequence-data/" target="_blank" rel="noreferrer noopener">one-hot encodings&lt;/a>:&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[1,0,0]&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[0,1,0]&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[0,0,1]&lt;/p>
&lt;/li>
&lt;li>
&lt;p>But if your targets areÂ integers, useÂ sparse_categorical_crossentropy.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Examples of integer encodings (&lt;em>for the sake of completion&lt;/em>):&lt;/p>
&lt;ul>
&lt;li>1, 2, 3&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="clip-norm">&lt;strong>clip norm&lt;/strong>
&lt;/h2>&lt;p style="text-align:center">
&lt;br />&lt;a rel="noreferrer noopener" href="https://wulc.me/2018/05/01/%E6%A2%AF%E5%BA%A6%E8%A3%81%E5%89%AA%E5%8F%8A%E5%85%B6%E4%BD%9C%E7%94%A8/" target="_blank">https://wulc.me/2018/05/01/%E6%A2%AF%E5%BA%A6%E8%A3%81%E5%89%AA%E5%8F%8A%E5%85%B6%E4%BD%9C%E7%94%A8/&lt;/a>&lt;br />å¯ä»¥åŠ é€Ÿ RNN è®­ç»ƒ
&lt;/p>
&lt;h2 id="multiple-gpu">&lt;strong>Multiple GPU&lt;/strong>
&lt;/h2>&lt;p># &lt;a class="link" href="https://keras.io/utils/#multi" target="_blank" rel="noopener"
>https://keras.io/utils/#multi&lt;/a>_gpu_model#&lt;/p>
&lt;p>ä½¿ç”¨å¤šGPUï¼Œæ³¨æ„ä½¿ç”¨ save çš„æ—¶å€™ï¼Œä¼ å‚ä¼  model (multi_gpu_modelçš„modelå‚æ•°)&lt;/p>
&lt;h2 id="encode-labels">&lt;strong>Encode Labels&lt;/strong>
&lt;/h2>&lt;p>å¯ä»¥æŠŠä¸åŒçš„å­—ç¬¦[â€˜aaâ€™, â€˜bbâ€™, â€˜ccâ€™, â€˜aaâ€™] ç¼–ç æˆ [0, 1, 2, 0]&lt;/p>
&lt;table class="wp-block-table">
&lt;tr>
&lt;td>
1&lt;br />2&lt;br />3&lt;br />4&lt;br />5&lt;br />6
&lt;/td>
&lt;pre>&lt;code>&amp;lt;td&amp;gt;
# encode class values as integers&amp;lt;br /&amp;gt;encoder&amp;amp;nbsp;=&amp;amp;nbsp;LabelEncoder()&amp;lt;br /&amp;gt;encoder.fit(Y)&amp;lt;br /&amp;gt;encoded_Y&amp;amp;nbsp;=&amp;amp;nbsp;encoder.transform(Y)&amp;lt;br /&amp;gt;# convert integers to dummy variables (i.e. one hot encoded)&amp;lt;br /&amp;gt;dummy_y&amp;amp;nbsp;=&amp;amp;nbsp;np_utils.to_categorical(encoded_Y)
&amp;lt;/td&amp;gt;
&lt;/code>&lt;/pre>
&lt;/tr>
&lt;/table>
&lt;h2 id="è®­ç»ƒä¸­å­˜åœ¨çš„é—®é¢˜">è®­ç»ƒä¸­å­˜åœ¨çš„é—®é¢˜
&lt;/h2>&lt;p>è®­ç»ƒæ€§èƒ½ä½äº†åˆ«æ€¥ç€è°ƒå‚ï¼Œé¦–å…ˆçœ‹çœ‹æ•°æ®é¢„å¤„ç†æœ‰æ²¡æœ‰é—®é¢˜ï¼Œè¯„ä»·æŒ‡æ ‡æ˜¯ä¸æ˜¯å†™é”™äº†ã€‚å†ä¸€ä¸ªï¼Œbatch norm è¦å‹¤å¿«ç‚¹åŠ ä¸Šã€‚&lt;/p>
&lt;p>ç›¸ä¼¼çš„æ–‡ç« è¿˜æœ‰ï¼š&lt;a class="link" href="https://svtter.github.io/2018/02/01/keras%e5%9d%91/" target="_blank" rel="noopener"
>https://svtter.github.io/2018/02/01/keras%e5%9d%91/&lt;/a>&lt;/p></description></item><item><title>æˆ‘åº”è¯¥å­¦å“ªä¸ªæ·±åº¦å­¦ä¹ æ¡†æ¶ï¼Ÿ</title><link>https://svtter.cn/p/%E6%88%91%E5%BA%94%E8%AF%A5%E5%AD%A6%E5%93%AA%E4%B8%AA%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E6%A1%86%E6%9E%B6/</link><pubDate>Wed, 02 Jan 2019 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E6%88%91%E5%BA%94%E8%AF%A5%E5%AD%A6%E5%93%AA%E4%B8%AA%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E6%A1%86%E6%9E%B6/</guid><description>&lt;img src="https://i0.wp.com/ws1.sinaimg.cn/large/c53b1907ly1fysk81yoinj21wa0zgael.jpg?w=625&amp;#038;ssl=1" data-recalc-dims="1" />
&lt;p>ç­”æ¡ˆä¼¼ä¹æ˜¾ç„¶æ„è§ ğŸ˜‰&lt;/p></description></item><item><title>beam search â€“ ä¸€ä¸ªæœç´¢ç­–ç•¥</title><link>https://svtter.cn/p/beam-search-%E4%B8%80%E4%B8%AA%E6%90%9C%E7%B4%A2%E7%AD%96%E7%95%A5/</link><pubDate>Fri, 23 Nov 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/beam-search-%E4%B8%80%E4%B8%AA%E6%90%9C%E7%B4%A2%E7%AD%96%E7%95%A5/</guid><description>&lt;p>è¿™ç¯‡æ–‡ç« ä¸å»ºè®®è¯»ï¼Œ2018å¹´å†™çš„ï¼Œä¸çŸ¥æ‰€äº‘ã€‚&lt;/p>
&lt;p>beam search æ˜¯ä¸€ä¸ªè¿‘ä¼¼æœç´¢ç­–ç•¥ï¼Œç”¨äºåœ¨å€™é€‰å¯èƒ½ä¸­é€‰æ‹©æœ€å¥½çš„ç»“æœã€‚&lt;a class="link" href="https://hackernoon.com/beam-search-a-search-strategy-5d92fb7817f" target="_blank" rel="noopener"
>åŸæ–‡é“¾æ¥&lt;/a>&lt;/p>
&lt;p>&lt;img src="https://i2.wp.com/cdn-images-1.medium.com/max/1760/1*HmPwWf0VJV3TeaGKoly4Xw.png?w=625&amp;amp;#038;ssl=1"
loading="lazy"
alt="img"
>&lt;/p>
&lt;!-- &lt;img src="" alt="" data-recalc-dims="1" />&lt;/figure> -->
&lt;p>ä¸€ä¸ªå¸¸ç”¨ä¾‹å­ï¼ŒBS(beam search) ç”¨äºè·å¾—ä¸æœºå™¨ç¿»è¯‘ç­‰ä»·çš„ç»“æœã€‚å¯¹äºé‚£äº›ä¸äº†è§£æœºå™¨ç¿»è¯‘çš„äººï¼Œä¹Ÿè‚¯å®šçŸ¥é“ Google Translateã€‚&lt;/p>
&lt;p>è¿™å°±æ˜¯ä¸ºå•¥è¦è®²è¿™ä¸ªã€‚è¿™äº›ç³»ç»Ÿéƒ½ç”¨ BS æŠ€æœ¯æ¥æ‰¾åˆ°ä¸ç»“æœæœ€ç­‰ä»·çš„ç¿»è¯‘ã€‚é˜…è¯»è¿™ä¸ª Wiki æ¥äº†è§£ç›¸åŒæ–‡ä»¶çš„å®šä¹‰ã€‚&lt;/p>
&lt;p>è®©æˆ‘ä»¬è®¨è®ºä¸€ä¸‹è¿™ä¸ªä½¿ç”¨æœºå™¨ç¿»è¯‘æ¡ˆä¾‹çš„ç­–ç•¥ã€‚å¦‚æœä½ æ˜¯ä¸€ä¸ªå–œæ¬¢ç ”ç©¶ç°è±¡èƒŒååŸç†çš„äººï¼Œä¸€å®šè¦è¯»ä¸€ä¸‹ google encoder-decoder ç½‘ç»œæ¶æ„ã€‚è¿™ä¸ªä¸œè¥¿æˆ‘å°±ä¸è®²äº†ï¼Œæœ‰å¾ˆå¤šäººè®²ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ ä¸çŸ¥é“è¿™ä¸ªæ¶æ„ï¼Œçœ‹çœ‹è¿™ä¸ª quora ä¸Šçš„å›ç­”ã€‚&lt;/p>
&lt;h2 id="ä¸€ä¸ªè§†è§’">ä¸€ä¸ªè§†è§’
&lt;/h2>&lt;p>æœºå™¨ç¿»è¯‘æ¨¡å‹å¯ä»¥è¢«è®¤ä¸ºæ˜¯ä¸€ç§ â€œæ¡ä»¶è¯­è¨€æ¨¡å‹â€ï¼Œå¯¹äºâ€¦&lt;/p>
&lt;h2 id="è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹8230">è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹â€¦
&lt;/h2>&lt;p>BS B(beam å®½åº¦) æ˜¯å”¯ä¸€ä¸€ä¸ªè°ƒæ•´ç¿»è¯‘ç»“æœçš„è¶…å‚ã€‚ B åœ¨ä¸€èˆ¬æƒ…å†µå†³å®šäº†ï¼Œåœ¨æ¯ä¸€æ­¥ï¼Œè¦è®°å¿†çš„å•è¯çš„ä¸ªæ•°ï¼Œæ¥å˜æ¢æ¦‚ç‡ã€‚&lt;/p>
&lt;h2 id="ä¸ç¿»è¯‘äº†è¿™é‡Œæœ‰æ›´ç›´æ¥çš„ç»“æœ">ä¸ç¿»è¯‘äº†ã€‚ã€‚è¿™é‡Œæœ‰æ›´ç›´æ¥çš„ç»“æœ
&lt;/h2>&lt;p>beam search æ—¶åœ¨æ¯ä¸€ä¸ªæ—¶é—´ç‚¹é€‰æ‹© beam_width ä¸ªæœ€å¤§çš„å¯èƒ½ç±»åˆ«ï¼Œç„¶ååœ¨æ¯ä¸ªæ—¶é—´ç‚¹ beam_width ä¸ªç±»åˆ«ç»„æˆçš„ç©ºé—´é‡Œå¯»æ‰¾æ•´ä½“æ¦‚ç‡æœ€å¤§çš„ä¸€æ¡è·¯å¾„ï¼Œå¾—åˆ°æœ€åå¾—è¯†åˆ«è¾“å‡ºã€‚è€Œ greedy search åˆ™ç›´æ¥åœ¨æ¯ä¸ªæ—¶é—´ç‚¹å¯»æ‰¾æ¦‚ç‡æœ€å¤§çš„ç±»åˆ«ï¼Œç„¶åä¾æ¬¡ç»„æˆè¿™ä¸ªè·¯å¾„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œgreedy search æ˜¯ beam_width=1 ç‰ˆæœ¬çš„ beam searchã€‚ä¸Šå›¾æ˜¯ CTC è®ºæ–‡é‡Œ greedy search ç¤ºæ„å›¾ã€‚&lt;/p></description></item><item><title>å¯¹äº CTC çš„ä¸€ä¸ªç›´è§‚ç†è§£ä¸è§£é‡Š</title><link>https://svtter.cn/p/%E5%AF%B9%E4%BA%8E-ctc-%E7%9A%84%E4%B8%80%E4%B8%AA%E7%9B%B4%E8%A7%82%E7%90%86%E8%A7%A3%E4%B8%8E%E8%A7%A3%E9%87%8A/</link><pubDate>Thu, 22 Nov 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%AF%B9%E4%BA%8E-ctc-%E7%9A%84%E4%B8%80%E4%B8%AA%E7%9B%B4%E8%A7%82%E7%90%86%E8%A7%A3%E4%B8%8E%E8%A7%A3%E9%87%8A/</guid><description>&lt;blockquote>
&lt;p>è¿™ç¯‡æ–‡ç« æ˜¯ä¸€ä¸ªç¿»è¯‘ï¼š&lt;a class="link" href="https://towardsdatascience.com/intuitively-understanding-connectionist-temporal-classification-3797e43a86c" target="_blank" rel="noopener"
>towardsdatascience-ctc&lt;/a>&lt;/p>&lt;/blockquote>
&lt;p>é€šè¿‡ CTC loss ä»¥åŠç¼–ç æ“ä½œè¿›è¡Œæ–‡å­—è¯†åˆ«ã€‚&lt;/p>
&lt;p>å¦‚æœæƒ³ç”¨ä½¿ç”¨è®¡ç®—æœºè¯†åˆ«æ–‡å­—ï¼Œç¥ç»ç½‘ç»œå¾ˆå¥½ç”¨ã€‚ä½¿ç”¨ä¸€äº›åˆ— CNN ä»åºåˆ—ä¸­æå–ç‰¹å¾ï¼Œä½¿ç”¨ RNN æ¥ä¼ æ’­éœ€ç•¥çš„ä¿¡æ¯ã€‚å®ƒä¼šè¾“å‡ºå­—ç¬¦å¾—åˆ†ï¼Œç»™æ¯ä¸ªåºåˆ—å…ƒç´ ï¼Œé€šè¿‡ä¸€ä¸ªç®€å•çš„çŸ©é˜µè¡¨ç¤ºã€‚ç°åœ¨ï¼Œæœ‰ä¸¤ä¸ªäº‹æƒ…æˆ‘ä»¬æƒ³è¦å¯¹çŸ©é˜µè¿›è¡Œå¤„ç†ã€‚&lt;/p>
&lt;ol>
&lt;li>è®­ç»ƒï¼šè®¡ç®—æŸå¤±å€¼æ¥è®­ç»ƒç¥ç»ç½‘ç»œ&lt;/li>
&lt;li>æ¨ç†ï¼šè§£ç çŸ©é˜µæ¥è·å¾—å›¾ç‰‡ä¸­çš„å­—ç¬¦&lt;/li>
&lt;/ol>
&lt;p>ä¸¤ä¸ªä»»åŠ¡å¯ä»¥åŒæ—¶è¢« CTC æ“ä½œå®Œæˆã€‚å¯¹äºæ‰‹å†™æ•°å­—ç³»ç»Ÿçš„æè¿°ï¼Œå¯ä»¥å‚è§å›¾åƒ 1.&lt;/p>
&lt;p>æˆ‘ä»¬æ›´è¿›ä¸€æ­¥çœ‹çœ‹ CTC æ“ä½œï¼Œå¹¶ä¸”è®¨è®ºä¸€ä¸‹å®ƒå¦‚å®Œæˆçš„ï¼Œä»¥åŠå®ƒèƒŒåçš„å…¬å¼æ˜¯å¦‚æ­¤å·§å¦™ã€‚æœ€åï¼Œæˆ‘å°†ä¼šæŒ‡ç‚¹ä½ æ¥æ‰¾åˆ° Python ä»£ç ä»¥åŠä¸å¤æ‚çš„å…¬å¼ï¼Œå¦‚æœä½ æ„Ÿå…´è¶£çš„è¯ã€‚&lt;/p>
&lt;p>&lt;img src="https://i0.wp.com/cdn-images-1.medium.com/max/1760/1*i2OG4hu9EjsyWcVMc4OOvA.png?w=625&amp;amp;#038;ssl=1"
loading="lazy"
alt="img"
>&lt;/p>
&lt;h2 id="ä¸ºä»€ä¹ˆæˆ‘ä»¬ä½¿ç”¨-ctc">ä¸ºä»€ä¹ˆæˆ‘ä»¬ä½¿ç”¨ CTC
&lt;/h2>&lt;p>å½“ç„¶æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªæ•°æ®é›†ï¼Œè¿™ä¸ªæ•°æ®é›†æœ‰æ–‡æœ¬è¡Œï¼Œç„¶åæŒ‡å‡ºæ¯åˆ—å±äºå“ªä¸€ä¸ªå­—ç¬¦ï¼Œå°±åƒå›¾ 2 ä¸­å±•ç¤ºçš„é‚£æ ·ã€‚ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥è®­ç»ƒä¸€ä¸ªç¥ç»ç½‘ç»œæ¥è¾“å‡ºæ¯ä¸€åˆ—çš„å¾—åˆ†ã€‚è€Œç„¶ï¼Œå¯¹äºè¿™ä¸ªç®€å•çš„è§£æ³•ï¼Œè¿™é‡Œæœ‰ä¸¤ä¸ªé—®é¢˜ã€‚&lt;/p>
&lt;ol>
&lt;li>è¿™ä¸ªååˆ†çš„è€—æ—¶ï¼ˆä»¥åŠæ— èŠï¼‰æ¥åœ¨å­—ç¬¦å±‚é¢ä¸Šæ ‡æ³¨æ•°æ®&lt;/li>
&lt;li>æˆ‘ä»¬ä»…ä»…èƒ½å¤Ÿå¾—åˆ°å­—ç¬¦çš„å¾—åˆ†ï¼Œå› æ­¤è¿˜éœ€è¦ä¸€äº›æ“ä½œæ¥è·å–æœ€ç»ˆçš„æ–‡æœ¬ã€‚ä¸€ä¸ªç®€å•åœ°å­—ç¬¦å¯ä»¥è·¨è¶Šå¤šä¸ªä½ç½®ï¼Œæ¯”å¦‚ï¼Œæˆ‘ä»¬å¾—åˆ° â€œttoooâ€ï¼Œæ˜¯å› ä¸º â€œoâ€ æ˜¯ä¸€ä¸ªæ¯”è¾ƒå®½çš„å­—ç¬¦ã€‚æˆ‘ä»¬å·²ç»åˆ é™¤äº†å¤šä½™çš„ â€œtâ€ and â€œoâ€ï¼Œä½†æ˜¯ï¼Œå¦‚æœè¦è¯†åˆ«çš„å­—ç¬¦æ˜¯ â€œtooâ€ï¼Œæˆ‘ä»¬åº”è¯¥æ€ä¹ˆåŠï¼Ÿå¦‚æœåˆ é™¤äº†å¤šä½™çš„ â€œoâ€ï¼Œå°†ä¼šç»™æˆ‘ä»¬é”™è¯¯çš„ç­”æ¡ˆã€‚æˆ‘ä»¬åº”è¯¥å¦‚ä½•å¤„ç†å‘¢ï¼Ÿ&lt;/li>
&lt;/ol>
&lt;p>CTC è§£å†³äº†å‡ ä¸ªé—®é¢˜&lt;/p>
&lt;ol>
&lt;li>æˆ‘ä»¬åªéœ€è¦å‘Šè¯‰ CTC loss functionï¼Œæ–‡æœ¬åœ¨å›¾åƒä¸­å‡ºç°äº†ï¼Œå› æ­¤æˆ‘ä»¬å¿½ç•¥ä½ç½®å’Œå®½åº¦æ–‡ä¸­åœ¨å›¾åƒä¸­ã€‚&lt;/li>
&lt;li>ä¸éœ€è¦æ›´å¤šçš„æ–‡æœ¬è¯†åˆ«å¤„ç†&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://i0.wp.com/cdn-images-1.medium.com/max/1760/1*rfeNj9aNfUSqA-SXB_i4Bw.png"
loading="lazy"
alt="img"
>&lt;/p>
&lt;h2 id="ctc-å¦‚ä½•å·¥ä½œçš„">CTC å¦‚ä½•å·¥ä½œçš„
&lt;/h2>&lt;p>å°±åƒæ˜¯æˆ‘ä»¬å·²ç»è®¨è®ºçš„ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›åœ¨å›¾åƒçš„æ¯ä¸€åˆ—æ ‡æ³¨æ•°æ®ï¼ˆè¿™æ›¾ç»è¢«æˆ‘ä»¬æˆä¸ºæ—¶é—´æ­¥ï¼‰ã€‚ç¥ç»ç½‘ç»œçš„è®­ç»ƒå°†ä¼šè¢« CTC æŸå¤±å‡½æ•°æ‰€æŒ‡å¼•ã€‚æˆ‘ä»¬åªéœ€è¦æŠŠæ•°æ®çŸ©é˜µç»™ CTC å‡½æ•°ï¼Œä»¥åŠå¯¹åº”çš„çœŸå®å€¼å³å¯ã€‚ä½†æ˜¯å®ƒæ˜¯æ€ä¹ˆçŸ¥é“æ¯ä¸€ä¸ªå­—ç¬¦å‡ºç°çš„å‘¢ï¼Ÿä»–ä¸çŸ¥é“ã€‚ç›¸å¯¹è€Œè¨€ï¼Œå®ƒå°è¯•äº†å›¾ç‰‡ä¸­æ‰€æœ‰çš„çœŸå®æ–‡æœ¬ï¼Œä»¥åŠè®¡ç®—äº†æ‰€æœ‰çš„åŠ å’Œã€‚é€šè¿‡è¿™ä¸ªæ–¹å¼ï¼Œ This way, the score of a GT text is high if the sum over the alignment-scores has a high value.&lt;/p>
&lt;h2 id="ç¼–ç æ–‡æœ¬">ç¼–ç æ–‡æœ¬
&lt;/h2>&lt;p>å¦‚ä½•ç¼–ç é‡å¤çš„æ–‡æœ¬æ›¾ç»æ˜¯ä¸€ä¸ªé—®é¢˜ã€‚è¿™ä¸ªé—®é¢˜é€šè¿‡å¼•å…¥ä¸€ä¸ªè™šå‡å­—ç¬¦æ¥è§£å†³äº†ï¼ˆç§°ä¸ºç©ºï¼Œä½†æ˜¯ä¸è¦æŠŠå®ƒå’ŒçœŸæ­£çš„ space æ··æ·†ã€‚ï¼‰ã€‚è¿™ä¸ªç‰¹æ®Šçš„å­—ç¬¦è¢«æ ‡è®°ä¸º â€œ-â€ï¼Œåœ¨ä¸‹é¢çš„æ–‡æœ¬ä¸­ã€‚æˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªèªæ˜çš„ç¼–ç ç­–ç•¥æ¥è§£å†³é‡å¤å­—ç¬¦çš„é—®é¢˜ã€‚å½“ç¼–ç ä¸€ä¸ªæ–‡æœ¬çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥éšæœºåŠ å…¥è®¸å¤šç©ºåœ¨ä»»ä½•ä½ç½®ä¸­ï¼Œå½“æˆ‘ä»¬è§£ç çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°†ä¼šæŠŠçš„è¿™äº›åˆ é™¤ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬å¿…é¡»åœ¨é‡å¤å­—ç¬¦ä¸²ä¸­åŠ å…¥ç©ºï¼Œä¾‹å¦‚ â€œhe&lt;strong>ll&lt;/strong>oâ€ï¼Œå¦‚æ­¤ä¸€æ¥ï¼Œé‡å¤å­—ç¬¦å°±ä¸æ˜¯é—®é¢˜äº†ã€‚&lt;/p>
&lt;p>Letâ€™s look at some examples:&lt;/p>
&lt;p>â€œtoâ€ â†’ â€œâ€”ttttttoooâ€, or â€œ-t-o-â€, or â€œtoâ€ â€œtooâ€ â†’ â€œâ€”ttttto-oâ€, or â€œ-t-o-o-â€, or â€œto-oâ€, but not â€œtooâ€&lt;/p>
&lt;p>æ­£å¦‚ä½ æ‰€è§ï¼Œè¿™äº›æ¨¡å¼ä¹Ÿå…è®¸æˆ‘ä»¬ç®€å•çš„åˆ›å»ºä¸€äº›ç›¸åŒæ–‡æœ¬ä¸²çš„ä¸åŒå¯¹å–ï¼Œæ¯”å¦‚ â€œt-oâ€, ä»¥åŠ â€œtooâ€ï¼Œä»¥åŠ â€œ-toâ€ï¼Œæ‰€æœ‰çš„è¡¨ç¤ºéƒ½æ˜¯åŒä¸€ä¸ªæ–‡æœ¬ â€œtoâ€ï¼Œä½†æ˜¯é€šè¿‡å¯¹å›¾ç‰‡ä¸åŒå¯¹å…¶è·å¾—çš„ã€‚ç¥ç»ç½‘ç»œè¢«è®­ç»ƒäºè¾“å‡ºä¸€ä¸ªç¼–ç çš„æ–‡æœ¬ï¼ˆåœ¨ç¥ç»ç½‘ç»œçš„çŸ©é˜µä¸­ç¼–ç ï¼‰ã€‚&lt;/p>
&lt;h2 id="æŸå¤±è®¡ç®—">æŸå¤±è®¡ç®—
&lt;/h2>&lt;p>æˆ‘ä»¬éœ€è¦è®¡ç®—æ¯ä¸€ä¸ªæŸå¤±å€¼ï¼Œè¿™ä¸ªæŸå¤±å€¼æ˜¯ç”±å›¾åƒæ ¸çœŸå®æ–‡æœ¬ç»™å‡ºæ¥è®­ç»ƒ NN çš„ã€‚ä½ å·²ç»çŸ¥é“ NN è¾“å‡ºä¸€ä¸ªçŸ©é˜µï¼ŒåŒ…å«ä¸€ä¸ªå¾—åˆ†ï¼Œä¸ºæ¯ä¸ªæ–‡æœ¬åœ¨æ¯ä¸ªæ—¶é—´æ­¥ä¸Šã€‚ä¸€ä¸ªå°çŸ©é˜µåœ¨å›¾ä¸‰ä¸­å±•ç¤ºï¼šæœ‰è®¸å¤šçš„æ—¶é—´æ­¥ï¼ˆt0, t1ï¼‰ï¼Œä»¥åŠä¸‰ä¸ªå­—ç¬¦ï¼ˆâ€aâ€, â€œbâ€, ä»¥åŠ blank â€œ-â€œ).&lt;/p>
&lt;p>&lt;img src="https://i1.wp.com/cdn-images-1.medium.com/max/1760/1*BFQYgGofh6HOxnGdkJnO-w.png?w=625&amp;amp;#038;ssl=1"
loading="lazy"
alt="img"
>&lt;/p>
&lt;p>æ­¤å¤–ï¼Œä½ å·²ç»çŸ¥é“ï¼Œloss æ˜¯é€šè¿‡åŠ å’Œæ‰€æœ‰ç§¯åˆ†æ¥è¿›è¡Œè®¡ç®—çš„ï¼Œé€šè¿‡è¿™ä¸ªæ–¹å¼ï¼Œå­—ç¬¦å‡ºç°åœ¨å›¾ç‰‡çš„å“ªä¸ªä½ç½®ä¸é‡è¦ã€‚&lt;/p>
&lt;p>å¯¹äºä¸€ä¸ª alignment çš„å¾—åˆ†ï¼ˆæˆ–è€… pathï¼›åœ¨æ–‡å­¦ä¸­ä¸€èˆ¬è¿™ä¹ˆç§°å‘¼ï¼‰é€šè¿‡å°†ç›¸åº”çš„å­—ç¬¦ç›¸ä¹˜ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œpathâ€aaâ€ çš„å¾—åˆ†æ˜¯ï¼š0.4*0.4=0.16ï¼Œâ€a-â€ çš„å¾—åˆ†æ˜¯ 0.4*0.6=0.24ï¼Œâ€-aâ€ çš„å¾—åˆ†æ˜¯ 0.6*0.4=0.24. ä¸ºäº†è·å¾— GT æ–‡æœ¬çš„å¾—åˆ†ï¼Œæˆ‘ä»¬åŠ å’Œè¿™ä¸ªæ–‡æœ¬çš„æ‰€æœ‰ path çš„å¾—åˆ†ã€‚æˆ‘ä»¬å‡è®¾ï¼ŒGT æ–‡æœ¬æ˜¯ â€œaâ€ï¼Œæˆ‘ä»¬å·²ç»è®¡ç®—äº†æ‰€æœ‰é•¿åº¦ä¸º â€œ2â€ çš„ pathï¼Œåˆ†åˆ«æ˜¯ â€œaaâ€ï¼Œâ€œa-â€ï¼Œâ€œ-aâ€ï¼Œæˆ‘ä»¬å·²ç»è®¡ç®—äº†è¿™äº› path æ‰€æœ‰çš„å¾—åˆ†ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦æŠŠä»–ä»¬åŠ èµ·æ¥ï¼Œå¾—åˆ° 0.4Ã—0.4 + 0.4Ã—0.6 + 0.6Ã—0.4 = 0.64ã€‚å¦‚ GT æ–‡æœ¬å¯èƒ½æ˜¯ â€œâ€ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°åªæœ‰ä¸€ç§ç›¸å…³çš„ pathï¼Œé‚£ä¹ˆå°±æ˜¯ â€œâ€“â€ï¼Œè·å¾—çš„å¾—åˆ†æ˜¯ 0.6Ã—0.6 =0.36.&lt;/p>
&lt;p>å¦‚æœä»”ç»†çœ‹ï¼Œä½ å·²ç»å‘ç°æˆ‘ä»¬è®¡ç®—äº† GT çš„å¯èƒ½æ€§ï¼Œä½†æ˜¯ä¸æ˜¯ loss å€¼ï¼Œè€Œç„¶ï¼Œloss çŸ¥è¯†æ¦‚ç‡çš„è´Ÿå¯¹æ•°ã€‚è¿™ä¸ª loss å€¼æ˜¯åå‘ä¼ æ’­ç®—æ³•ä»¥åŠ NN çš„å‚æ•°æ›´æ–°ä½¿ç”¨çš„ï¼Œæˆ‘è¿™é‡Œæ²¡æœ‰è¿›è¡Œè¯¦ç»†çš„è®¨è®ºã€‚&lt;/p>
&lt;h2 id="è§£ç ">è§£ç 
&lt;/h2>&lt;p>å½“æˆ‘ä»¬è®­ç»ƒä¸€ä¸ª NNï¼Œæˆ‘ä»¬æƒ³è¦ä½¿ç”¨å®ƒæ¥è¯†åˆ«é‚£äº›ä¹‹å‰æ²¡æœ‰çœ‹åˆ°çš„å›¾åƒã€‚æˆ–è€…æ›´å¤šåœ¨æ›´å¤šçš„æŠ€æœ¯æœ¯è¯­ï¼šæˆ‘ä»¬æƒ³è¦è®¡ç®—ï¼ŒNN è¾“å‡ºçš„çŸ©é˜µæœ€å¯èƒ½æ˜¯ä»€ä¹ˆã€‚ä½ å·²ç»çŸ¥é“ä¸€ä¸ªæ–¹æ³•æ¥è®¡ç®—ç»™å‡ºæ–‡æœ¬çš„å¾—åˆ†ï¼Œä½†æ˜¯ç°åœ¨ï¼Œæˆ‘ä»¬æ²¡æœ‰è¢«ç»™å‡ºä»»ä½•æ–‡æœ¬ï¼Œäº‹å®ä¸Šï¼Œå®ƒæ­£æ˜¯æˆ‘ä»¬æ­£åœ¨å¯»æ‰¾çš„æ–‡æœ¬ã€‚å°è¯•æ‰€æœ‰å¯èƒ½çš„æ–‡æœ¬ï¼Œå¦‚æœä»–ä»¬åªæœ‰å¾ˆå°‘çš„æ—¶é—´æ­¥ä»¥åŠå­—ç¬¦ï¼Œä½†æ˜¯å¯¹äºç»ƒä¹ ç”¨ä¾‹è€Œè¨€ï¼Œè¿™ä¸å¯è¡Œã€‚&lt;/p>
&lt;p>ä¸€ä¸ªç®€å•è€Œå¿«é€Ÿçš„ç®—æ³•ï¼Œæ˜¯æœ€ä½³ path è§£ç ï¼ŒåŒ…å«ä¸¤ä¸ªæ­¥éª¤ï¼š&lt;/p>
&lt;ol>
&lt;li>å®ƒè®¡ç®—äº†æœ€ä½³ pathï¼Œé€šè¿‡è·å–æœ€å¯èƒ½çš„æ¯ä¸€ä¸ªæ—¶é—´æ­¥çš„å­—ç¬¦&lt;/li>
&lt;li>é¦–å…ˆåˆ é™¤é‡å¤çš„å­—ç¬¦ï¼Œç„¶ååˆ é™¤ path é‡Œé¢æ‰€æœ‰çš„ç©ºã€‚è¿™ä»ç„¶è¡¨ç¤ºäº†è¯†åˆ«çš„æ–‡æœ¬ã€‚&lt;/li>
&lt;/ol>
&lt;p>æ­£å¦‚ FIG4 æ‰€å±•ç¤ºçš„ï¼Œå­—ç¬¦æ˜¯ â€œaâ€ï¼Œâ€œbâ€ ä»¥åŠ â€œ-â€ï¼ˆç©ºï¼‰ï¼Œä¸€å…±æœ‰ 5 ä¸ªæ—¶é—´æ­¥ã€‚è®©æˆ‘ä»¬åº”ç”¨æœ€ä½³ path decoder æ¥å¤„ç†è¿™ä¸ªçŸ©é˜µã€‚åœ¨ t0ï¼Œæœ€å¯èƒ½çš„æ˜¯â€œaâ€ï¼ŒåŒæ ·åº”ç”¨äº t1ï¼Œt2. ç©ºå­—ç¬¦åœ¨ t3 æ˜¯æœ€å¯èƒ½çš„ã€‚æœ€åï¼Œâ€œbâ€ æ˜¯ t4 æ—¶åˆ»æœ€å¯èƒ½çš„ã€‚è¿™å°†ç»™å‡ºæˆ‘ä»¬ä¸€ä¸ª pathâ€œaaa-bâ€ï¼Œæˆ‘ä»¬åˆ é™¤äº†é‡å¤çš„å­—ç¬¦ï¼Œè¿™å°†ä¼šè¿”å›â€œa-bâ€ï¼Œç„¶åæˆ‘ä»¬åˆ é™¤ path ä¸­çš„ç©ºï¼Œè¿™ç»™æˆ‘ä»¬ä¸€ä¸ªâ€œabâ€ï¼Œä½œä¸ºæˆ‘ä»¬è¾“å‡ºçš„è¯†åˆ«ç»“æœã€‚&lt;/p>
&lt;p>&lt;img src="https://i0.wp.com/cdn-images-1.medium.com/max/1600/1*1_5KnLvaTkGUFoyat2jHcQ.png?w=625&amp;amp;#038;ssl=1"
loading="lazy"
alt="img"
>&lt;/p>
&lt;p>æœ€ä½³ path è§£ææ˜¯ï¼Œå½“å®¹çº³ï¼Œä»…ä»…æ˜¯ä¸€ä¸ªè¿‘ä¼¼ã€‚æ„å»ºæ ·ä¾‹å®¹æ˜“ç»™å‡ºé”™è¯¯çš„ç»“æœï¼Œæ¯”å¦‚ç”¨è¿™ä¸ªæ–¹æ³•æ„å»º FIG3ï¼Œå°†ä¼šå¾—åˆ° â€œâ€ï¼Œä½œä¸ºè¯†åˆ«æ–‡æœ¬ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“â€œâ€ ç»“æœçš„æ¦‚ç‡æ˜¯ 0.36ï¼Œè€Œ â€œaâ€ çš„æ¦‚ç‡æ˜¯ 0.64ã€‚è€Œç„¶ï¼Œè¿‘ä¼¼ç®—æ³•ç»å¸¸åœ¨ç»ƒä¹ çš„æƒ…æ™¯ä¸‹ç»™å‡ºæ¯”è¾ƒå¥½çš„ç»“æœã€‚ä¹Ÿæœ‰è®¸å¤šå…¶ä»–çš„æ¯”è¾ƒå¥½çš„ decoderï¼Œä¾‹å¦‚ beam-searchï¼Œprefix-search ä»¥åŠ token passingï¼Œè¿™äº›å…³äºè¯­è¨€ç»“æ„çš„æ–¹æ³•ï¼Œéƒ½æœ‰åˆ©äºæå‡ç»“æœã€‚&lt;/p>
&lt;h2 id="ç»“è®ºä»¥åŠå±•æœ›">ç»“è®ºä»¥åŠå±•æœ›
&lt;/h2>&lt;p>é¦–å…ˆæˆ‘ä»¬çœ‹å¾—æ˜¯ï¼Œç¥ç»ç½‘ç»œå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼›ç„¶åï¼Œæˆ‘ä»¬å±•ç¤ºäº† CTC å¦‚ä½•è§£å†³è¿™äº›é—®é¢˜ï¼Œç„¶åï¼Œæˆ‘ä»¬è§£é‡Šäº† CTC ä¸ºå•¥èƒ½å¤Ÿå·¥ä½œï¼Œå¦‚ä½•è®¡ç®—çš„ lossï¼Œä»¥åŠå¦‚ä½•è§£ç  CTC è®­ç»ƒçš„ NNã€‚&lt;/p>
\[1] introduce the CTC operation, the paper also shows all the relevant math. If you are interested in how to improve&amp;nbsp;decoding,&amp;nbsp;take a look&amp;nbsp;at the articles about beam search&amp;nbsp;decoding&amp;nbsp;[2\]\[3\]\[4\]\[5\]&lt;p>. Finally, if you want to look at theÂ bigger pictureÂ of how to recognize (handwritten) text, look at my article on how to build aÂ handwrittenÂ text recognition system [6].&lt;/p></description></item><item><title>ä½¿ç”¨ä¸»åŠ¨å­¦ä¹ åŠ é€Ÿæœºå™¨å­¦ä¹ </title><link>https://svtter.cn/p/%E4%BD%BF%E7%94%A8%E4%B8%BB%E5%8A%A8%E5%AD%A6%E4%B9%A0%E5%8A%A0%E9%80%9F%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/</link><pubDate>Tue, 20 Nov 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E4%BD%BF%E7%94%A8%E4%B8%BB%E5%8A%A8%E5%AD%A6%E4%B9%A0%E5%8A%A0%E9%80%9F%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/</guid><description>&lt;blockquote class="wp-block-quote">
&lt;p>
ä¸€ç¯‡ medium æ–‡ç« çš„æ¸£ç¿»
&lt;/p>
&lt;p>&lt;cite>&lt;a class="link" href="https://becominghuman.ai/accelerate-machine-learning-with-active-learning-96cea4b72fdb" target="_blank" rel="noopener"
>https://becominghuman.ai/accelerate-machine-learning-with-active-learning-96cea4b72fdb&lt;/a>&lt;/cite>&lt;/p>
&lt;/blockquote>
&lt;p>è®©æˆ‘ä»¬è®¨è®ºä¸€ä¸‹ä¸»åŠ¨å­¦ä¹ ã€‚æˆ‘ç›¸ä¿¡è¿™ä¸ªæ–¹æ³•å¯ä»¥æå¤§çš„å¢é€Ÿï¼Œä»¥åŠå‡å°‘è®¸å¤šæœºå™¨å­¦ä¹ å·¥ç¨‹çš„èŠ±è´¹ã€‚è¿™ç¯‡æ–‡ç« æˆ‘å°†ä»ä¸¤ä¸ªéƒ¨åˆ†è¯´æ˜è¿™ä¸ªé—®é¢˜ã€‚åœ¨ç¬¬ä¸€éƒ¨åˆ†ï¼Œæˆ‘ç»™å‡ºäº†ä¸€ä¸ªæé«˜çš„å±‚çº§çš„ä¸»åŠ¨å­¦ä¹ çš„è¯´æ˜ï¼Œä»¥åŠå¦‚ä½•æŠŠå®ƒåˆ©ç”¨åˆ°æœºå™¨å­¦ä¹ å·¥ç¨‹ä¸­ã€‚åœ¨ç¬¬äºŒéƒ¨åˆ†ï¼Œæ·±å…¥åˆ°ä¸€ä¸ªä¸»åŠ¨å­¦ä¹  demo ä¸­ã€‚&lt;/p>
&lt;h2 id="ç¬¬ä¸€éƒ¨åˆ†">ç¬¬ä¸€éƒ¨åˆ†
&lt;/h2>&lt;h3 id="ä¸»åŠ¨å­¦ä¹ æ˜¯å¦‚ä½•å·¥ä½œçš„">ä¸»åŠ¨å­¦ä¹ æ˜¯å¦‚ä½•å·¥ä½œçš„
&lt;/h3>&lt;p>è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå¾ˆç®€å•çš„æ¦‚è§ˆï¼Œæ¥çœ‹çœ‹æœºå™¨å­¦ä¹ æ˜¯å¦‚ä½•å·¥ä½œåœ°ã€‚&lt;figure class="wp-block-image">&lt;/p>
&lt;p>&lt;img src="https://i2.wp.com/ww1.sinaimg.cn/large/c53b1907ly1fxdd3awts2j218g0j4wj2.jpg?w=625" alt="Repeat thousands of times and you get a trained model!" data-recalc-dims="1" />&lt;/figure>&lt;/p>
&lt;p>è®¸å¤šæœºå™¨å­¦ä¹ æ¨¡å‹æ˜¯å·¨å¤§çš„çŒœç–‘æœºå™¨â€”â€”ä»–ä»¬çœ‹äº†è®¸å¤šæ•°æ®ï¼Œè®¡ç®—å‡ºä¸€ä¸ªçŒœæµ‹çš„ç»“æœï¼Œæ£€æŸ¥ä»–ä»¬çš„ç­”æ¡ˆï¼Œå¾®è°ƒä¸€ä¸‹ï¼Œç„¶åå†è¯•è¯•ã€‚åœ¨è®¸å¤šæ•°æ®ä¹‹åï¼Œæ¨¡å‹å°†ä¼šå˜å¾—ååˆ†å‡†ç¡®ã€‚&lt;/p>
&lt;h3 id="æ ‡è®°æ•°æ®">æ ‡è®°æ•°æ®
&lt;/h3>&lt;p>â€¦&lt;/p>
&lt;h3 id="ä¸»åŠ¨å­¦ä¹ ">ä¸»åŠ¨å­¦ä¹ 
&lt;/h3>&lt;p>ä¸»åŠ¨å­¦ä¹ æ˜¯ä¸€ç§æ–¹æ³•ï¼Œæœ‰æ—¶å¯ä»¥æå¤§å‡å°‘æ ‡è®°æ ·æœ¬çš„æ•°é‡ã€‚å®ƒé€šè¿‡ä¸“å®¶æ ‡è®°æ ·æœ¬æ¥å®Œæˆè¿™ä¸ªå·¥ä½œã€‚&lt;/p>
&lt;p>ä¸ä½¿ç”¨å…¨éƒ¨çš„æ•°æ®ä¸€æ¬¡æ ‡æ³¨æ‰€æœ‰æ•°æ®ï¼Œä¸»åŠ¨å­¦ä¹ ä¼˜å…ˆå¤„ç†é‚£äº›è®©æ¨¡å‹æ„Ÿåˆ°å›°æƒ‘çš„æ•°æ®ï¼Œå¹¶ä¸”ä»…ä»…éœ€è¦å¥½é‚£äº›æ•°æ®çš„æ ‡ç­¾ã€‚æ¨¡å‹åœ¨å°æ ·æœ¬æ•°æ®ä¸Šè¿›è¡Œè®­ç»ƒï¼Œç„¶åæ ¹æ®é‚£äº›æœ€ä»¤æ¨¡å‹ç–‘æƒ‘çš„æ•°æ®ï¼Œè¯·æ±‚æ›´å¤šçš„æ ‡ç­¾ã€‚&lt;/p>
&lt;p>é€šè¿‡ä¼˜å…ˆå¤„ç†é‚£äº›æœ€è¿·æƒ‘çš„æ ·æœ¬ï¼Œæ¨¡å‹å¯ä»¥ä¸“æ³¨äºæä¾›ä¸€äº›æœ€æœ‰ä»·å€¼çš„ä¿¡æ¯ã€‚è¿™å¸®åŠ©æ¨¡å‹è®­ç»ƒçš„æ›´å¿«ï¼Œå¹¶ä¸”è®©ä¸“å®¶è·³è¿‡é‚£äº›å¯¹äºæ¨¡å‹å¸®åŠ©ä¸æ˜¯å¾ˆå¤§çš„æ•°æ®ã€‚ç»“æœæ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå¤§ç¨‹åº¦ä¸Šå‡å°‘æ ‡è®°æ ·æœ¬çš„æ•°é‡ï¼Œå¹¶ä¸”æˆ‘ä»¬ä»ç„¶å¾—åˆ°ä¸€ä¸ªå¾ˆå¥½çš„æ¨¡å‹ã€‚è¿™æ„å‘³ç€èŠ‚çœæ—¶é—´å’Œé‡‘é’±ï¼&lt;/p>
&lt;h2 id="ç¬¬äºŒéƒ¨åˆ†">ç¬¬äºŒéƒ¨åˆ†
&lt;/h2>&lt;h3 id="mnist-ä¾‹å­">MNIST ä¾‹å­
&lt;/h3>&lt;p>è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹å®é™…çš„ä¸»åŠ¨å­¦ä¹ æ ·æœ¬ã€‚&lt;/p>
&lt;p>ä½¿ç”¨æ–‡æ¡£è‰¯å¥½çš„ MNIST æ•°æ®é›†ï¼Œä»¥åŠç»å…¸çš„ Tensorflow å·ç§¯ç¥ç»å®Œäº†è¿‡ã€‚ä¸€ä¸ªèªæ˜çš„æ¨¡å‹å’Œæ¶æ„å¯ä»¥åšçš„æ›´å¥½ï¼Œä½†æ˜¯æˆ‘ä»¬æƒ³è¦ç›´æ¥ä½¿ç”¨è¿™ä¸ªæ¨¡å‹ã€‚&lt;/p>
&lt;p>MNIST æ•°æ®é›†æ˜¯å…¬å¼€å¯è·å–å¾—çš„æ•°æ®é›†ï¼ŒåŒ…å«äº†å¤§é‡çš„æ‰‹å†™æ•°å­—ï¼Œä»¥åŠæ•°å€¼æ ‡ç­¾ã€‚å®ƒç»å¸¸è¢«ä½¿ç”¨äºæœºå™¨å­¦ä¹ å…¥é—¨æ•™ç¨‹ï¼Œå› ä¸ºä»–çš„æ ‡è®°æ•°æ®è´¨é‡å¾ˆé«˜ï¼Œå¹¶ä¸”ç®€å•åœ°æ¨¡å‹ä¹Ÿå¯ä»¥è¡¨ç°çš„ä¸é”™ã€‚&lt;figure class="wp-block-image">&lt;/p>
&lt;p>&lt;img src="https://i1.wp.com/ww1.sinaimg.cn/large/c53b1907ly1fxdd4dewm6j20ho04fq38.jpg?w=625" alt="" data-recalc-dims="1" />&lt;/figure>&lt;/p>
&lt;h3 id="è®¾è®¡">è®¾è®¡
&lt;/h3>&lt;p>è¿™ä¸ªå·¥ç¨‹åŒ…å«ä¸¤ä¸ªéƒ¨åˆ†ï¼š&lt;/p>
&lt;ol>
&lt;li>åœ¨è®­ç»ƒæ¨¡å‹çš„æ—¶å€™ï¼Œæ¨¡ä»¿ä¸»åŠ¨å­¦ä¹ &lt;/li>
&lt;li>åœ¨ä¸¥æ ¼çš„æ¨¡å‹ä¸Šç¡®å®šä¸»åŠ¨å­¦ä¹ çš„æ•ˆç‡&lt;/li>
&lt;/ol>
&lt;h3 id="è®­ç»ƒä¸€ä¸ªæ¨¡å‹">è®­ç»ƒä¸€ä¸ªæ¨¡å‹
&lt;/h3>&lt;p>æˆ‘ä»¬ä½¿ç”¨ mini-batch è®­ç»ƒã€‚è¿™ä¸ªæ¨¡å‹ä»…ä»…åœ¨è®­ç»ƒé›†ä¸­ï¼Œçœ‹ä¸€ä¸ªå°æ•°é‡æ ·æœ¬ï¼Œé€šè¿‡å°æ•°é‡æ ·æœ¬è¿›è¡Œå­¦ä¹ ã€‚&lt;/p>
&lt;p>è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸€ä¸ªæ­£å¸¸çš„ï¼ˆé â€“ ä¸»åŠ¨å­¦ä¹ ï¼‰çš„è®­ç»ƒè¿‡ç¨‹ï¼Œæ¨¡å‹åœ¨ä¸€ä¸ªéšæœºç»“åˆçš„å°æ‰¹æ¬¡ä¸Šè¿›è¡Œè®­ç»ƒã€‚æ¯åœ¨å° â€“ æ‰¹æ¬¡è®­ç»ƒä¸­çš„è¿­ä»£ï¼Œéƒ½åœ¨æµ‹è¯•è®°ä¸Šè¿è¡Œæ¨¡å‹ï¼ˆä¸ä½œä¸ºè®­ç»ƒé›†çš„ä¸€éƒ¨åˆ†ï¼‰æ¥è¿½è¸ªæ¨¡å‹æ˜¯æ€æ ·å¢é•¿çš„ã€‚æˆ‘æä¾›äº†å‡†ç¡®ç‡ä»¥åŠ cross-entropyÂ æŸå¤±ï¼ˆå°±åƒæ˜¯å¹³å‡è¯¯å·®ä¸€æ ·ï¼‰ã€‚åœ¨è¿™é‡Œï¼Œæ¯ä¸€ä¸ªå°æ‰¹æ¬¡æœ‰ä¸ª 10 ä¸ªä¾‹å­ï¼Œæˆ‘è¿è¡Œäº† 2000 æ‰¹æ¬¡ï¼ˆ20000 ä¸ªæ ‡æ³¨ï¼‰ã€‚&lt;figure class="wp-block-image">&lt;/p>
&lt;p>&lt;img src="https://i1.wp.com/ww1.sinaimg.cn/large/c53b1907ly1fxdd4pv3b2j218g0fhjtx.jpg?w=625" alt="" data-recalc-dims="1" />&lt;/figure>&lt;/p>
&lt;p>å¯¹äºè¿™ä¸ªåˆ†ç±»ä»»åŠ¡ï¼Œæˆ‘ä»¬è¯•å›¾æŠŠ 0~9 çš„æ•°å­—è¿›è¡Œåˆ†ç±»ï¼Œæ„å‘³ç€éšæœºçŒœæµ‹ä»…æœ‰ 10% çš„å‡†ç¡®ç‡ã€‚ç®€å•çš„ç¥ç»ç½‘ç»œå·²ç»åšçš„ä¸é”™äº†ã€‚&lt;/p>
&lt;h3 id="æ¨¡æ‹Ÿä¸»åŠ¨å­¦ä¹ ">æ¨¡æ‹Ÿä¸»åŠ¨å­¦ä¹ 
&lt;/h3>&lt;p>è·å¾—ä¸»åŠ¨å­¦ä¹ ç»“æœæœ‰ä¸€ç‚¹å°æŠ€å·§ã€‚æˆ‘ä»¬ä¸åœ¨æ•°æ®é›†ä¸­çš„éšæœºé€‰æ‹©æ•°æ®ï¼Œç›¸åï¼Œæ¨¡å‹å°†ä¼šè¯„ä¼°è®¸å¤šåœ¨è®­ç»ƒé›†ä¸­çš„ä¾‹å­ï¼Œç„¶åå°†ç½®ä¿¡åº¦æœ€å°çš„æ•°æ®ä½œä¸ºå° â€“ æ‰¹æ¬¡ï¼ˆåœ¨è¿™ä¸ªå·¥ç¨‹ä¸­ï¼Œæˆ‘æŸ¥çœ‹äº† 1000 ä¸ªåœ¨è®­ç»ƒé›†ä¸­çš„éšæœºæ ·æœ¬ï¼Œæ¥ç¡®å®šç½®ä¿¡åº¦è‡³å°‘ä¸º 10ï¼‰ã€‚åœ¨é‚£é‡Œï¼Œæ¨¡å‹å°†ä¼šåƒå¤„ç†å° â€“ æ‰¹æ¬¡æ•°æ®ä¸€æ ·å¤„ç†è¿›è¡Œè®­ç»ƒè¿‡ç¨‹ï¼Œå®ƒå°†ä¼šé‡å¤è¿™ä¸ªè¿‡ç¨‹æ¥æ›´æ–°æ¨¡å‹ã€‚å°±åƒæ˜¯åœ¨ â€œé â€“ ä¸»åŠ¨å­¦ä¹ â€ æ ·ä¾‹ä¸­ï¼Œæ¯ç»è¿‡ä¸€äº›è¿­ä»£ï¼Œæˆ‘å°†ä¼šåœ¨æµ‹è¯•è®°ä¸Šè¿è¡Œæ¨¡å‹ï¼Œè¿½è¸ªæ¨¡å‹çš„è®­ç»ƒè¿‡ç¨‹ã€‚&lt;figure class="wp-block-image">&lt;/p>
&lt;p>&lt;img src="https://i2.wp.com/ww1.sinaimg.cn/large/c53b1907ly1fxdd5z4a18j218g0ljjwd.jpg?w=625" alt="" data-recalc-dims="1" />&lt;/figure>&lt;/p>
&lt;p>æœ‰è®¸å¤šå¾ˆå¥½çš„æ–‡ç« æ¥è¯´æ˜å¦‚ä½•å®ç° ä¸»åŠ¨å­¦ä¹ ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»…ä»…æƒ³è¦æŠŠäº‹æƒ…åšçš„ç®€å•ä¸€äº›ã€‚è¿™ä¸ªæ¨¡å‹ä½¿ç”¨ä¸€ä¸ª â€œsoftmaxâ€ æ¥ç”Ÿæˆæ¦‚ç‡â€”â€”åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ˜¯æ•°å­— 0~9ã€‚â€ ç½®ä¿¡åº¦â€ é€šè¿‡é€‰æ‹©â€ æœ€å¤§çš„æ¦‚ç‡å‡å»æœ€å°çš„æ¦‚ç‡ â€œã€‚æ¨¡å‹è¶Šè‡ªä¿¡ï¼Œè¿™ä¸ªå·®å€¼è¶Šå¤§ã€‚ï¼ˆç½®ä¿¡åº¦ä¸æ„å‘³ç€å‡†ç¡®ç‡ï¼‰ã€‚&lt;figure class="wp-block-image">&lt;/p>
&lt;p>&lt;img src="https://i0.wp.com/ww1.sinaimg.cn/large/c53b1907ly1fxdd96i561j218g0ejte0.jpg?w=625" alt="" data-recalc-dims="1" />&lt;/figure>&lt;/p>
&lt;p>ä¸»åŠ¨å­¦ä¹ è¿‡ç¨‹ï¼Œä½¿ç”¨äº†é‚£äº›ç½®ä¿¡åº¦æ¯”è¾ƒä½çš„æ•°æ®ï¼Œå¹¶ä¸”åœ¨ä¸Šé¢è¿›è¡Œè®­ç»ƒã€‚å¹¶ä¸”å½“ç„¶çš„ï¼Œå½“æ¨¡å‹æ”¹å˜äº†ï¼Œå®ƒçš„ç½®ä¿¡åº¦ä¹Ÿä¸€æ ·ä¼šæ”¹å˜ã€‚&lt;/p>
&lt;p>MNIST æ•°æ®é›†å·²ç»æœ‰äº†æˆ‘ä»¬éœ€è¦çš„æ ‡ç­¾ï¼Œä½†æ˜¯è¿™ä¸ªè¿‡ç¨‹ï¼Œåœ¨ mini-batch ä¸­ï¼Œæ¨¡æ‹Ÿè¯¢é—®äº†ä¸“å®¶ï¼Œæ¥è·å–æ ‡ç­¾ã€‚åœ¨é€šå¸¸æƒ…å†µä¸‹ï¼Œä¸“å®¶ä¼šéšæœºè¢«æé—®ï¼Œæ¥è·å–æ•°æ®ã€‚åœ¨ä¸»åŠ¨å­¦ä¹ çš„ä¾‹å­ä¸­ï¼Œæ¨¡å‹ä¼šé€‰æ‹©é‚£äº›æ•°æ®ï¼Œå¸Œæœ›ä¸“å®¶è¿›è¡Œæ ‡æ³¨ã€‚&lt;/p>
&lt;p>è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ä¸»åŠ¨å­¦ä¹ ç»“æœ VS ä¸€èˆ¬çš„ç»“æœã€‚æ³¨æ„ y-axisã€‚&lt;figure class="wp-block-image">&lt;/p>
&lt;p>&lt;img src="https://i1.wp.com/ww1.sinaimg.cn/large/c53b1907ly1fxddharrn6j218g0h378k.jpg?w=625" alt="" data-recalc-dims="1" />&lt;/figure>&lt;/p>
&lt;p>é€šè¿‡ mini-batchï¼ˆ8000 æ ‡ç­¾ï¼‰ï¼Œä¸»åŠ¨å­¦ä¹ çš„æ–¹æ³•åŒ¹é…äº† 2000 mini-batchï¼ˆ20000labelï¼‰æ•°æ®çš„å‡†ç¡®ç‡ã€‚æ‰€ä»¥ï¼Œä½¿ç”¨ä¸€æ¥è¿‘ä¸€åŠçš„æ•°æ®ï¼Œä¸»åŠ¨å­¦ä¹ å¯ä»¥è¾¾åˆ°åŒæ ·åœ°å‡†ç¡®ç‡ã€‚&lt;/p>
&lt;h3 id="å€¾æ–œæ•°æ®çš„äºŒåˆ†ç±»ä»»åŠ¡">å€¾æ–œæ•°æ®çš„äºŒåˆ†ç±»ä»»åŠ¡
&lt;/h3>&lt;p>ä¸»åŠ¨å­¦ä¹ å¯ä»¥å¤§æ–½æ‹³è„šçš„åœ°æ–¹æ˜¯ï¼Œæ•°æ®çš„å¼ºçƒˆåå·®ã€‚&lt;/p>
&lt;p>è®­ç»ƒä¸€ä¸ªæ¨¡å‹çš„æ—¶å€™ï¼Œé‡è¦çš„ä¸ä»…ä»…æ˜¯æ ‡è®°çš„æ•°æ®ï¼Œè¿˜æœ‰ä¸åŒæ•°æ®çš„ï¼Œåˆç†çš„ä¸åŒè¡¨ç¤ºã€‚å¦‚æœæˆ‘ä»¬å°è¯•åœ¨ MNIST ä¸Šè®­ç»ƒä¸€ä¸ªæ¨¡å‹ï¼Œè€Œæ²¡æœ‰ä»»ä½•åŒ…å« 3 çš„æ•°æ®ï¼Œæ”¶é›†å¤šå°‘æ•°æ®å¹¶ä¸é‡è¦ï¼Œé‡è¦çš„æ˜¯æˆ‘ä»¬çš„æ¨¡å‹ä¸å¯èƒ½åŒºåˆ† 3ã€‚å¦‚æœæˆ‘ä»¬ä»…ä»…å«æœ‰ä¸€å°éƒ¨åˆ† 3ï¼Œæˆ‘ä»¬ä»ç„¶ä¼šé¢ä¸´ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯æ¨¡å‹ä»…ä»…ä¼šå‡†ç¡®çš„åŒºåˆ†å…¶ä»–æ•°å­—ï¼Œä¹Ÿå°±æ˜¯é‚£äº›æœ‰æ›´å¥½è¡¨è¾¾çš„æ•°æ®ã€‚&lt;/p>
&lt;p>æ•°æ®çš„åå·®ï¼Œä¸å‡è¡¡å¯¹äº MNIST æ•°æ®é›†ä¸­ä¸å­˜åœ¨ï¼Œä½†æ˜¯å®ƒçš„ç¡®æ˜¯ä¸€ä¸ªçœŸå®ä¸–ç•Œçš„é—®é¢˜ã€‚å¦‚æœæˆ‘ä»¬è®­ç»ƒä¸€ä¸ªæ¨¡å‹æ¥è¯†åˆ« CT ä¸­çš„è„‘ç˜¤ï¼Œå¤§å¤šæ•° CT å›¾åƒä¸ä¼šå«æœ‰è‚¿ç˜¤å›¾åƒï¼Œæ‰€ä»¥æ ‡æ³¨ â€œè‚¿ç˜¤â€ çš„æ•°æ®å°†ä¼šè¿œä¸å‡è¡¡äº â€œéè‚¿ç˜¤â€ çš„æ ·æœ¬æ•°æ®ã€‚å› ä¸ºä¸»åŠ¨å­¦ä¹ ä¼˜å…ˆè€ƒè™‘çš„ä¾‹å­ä¸é‚£ä¹ˆè‡ªä¿¡ï¼Œå› æ­¤ä¸»åŠ¨å­¦ä¹ å¯èƒ½æœ‰åŠ©äºè¯†åˆ« â€œå¼‚å¸¸ â€œæˆ–ä»£è¡¨æ€§ä¸è¶³çš„æ•°æ®å¹¶ä¸”ç¡®å®šä¼˜å…ˆçº§ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬åœ¨ MNIST ä¸Šæ¨¡æ‹Ÿä¸€ä¸‹Â skewÂ çš„é—®é¢˜ã€‚é‡æ–°å®šä¹‰ MNIST çš„é—®é¢˜ï¼Œå®šä¹‰æˆ 3 æˆ–è€…é 3ï¼Œç„¶åï¼Œé 3 çš„æ•°æ®æœ‰ 90%ï¼Œè€Œ 3 çš„æ•°æ®ä»…æœ‰ 10%ã€‚æ‰€ä»¥æ„šè ¢çš„ç­–ç•¥å°†ä¼šåœ¨â€ é 3â€œä¸Šè¾¾åˆ° 90% çš„å‡†ç¡®ç‡ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹ä¸»åŠ¨å­¦ä¹ æ˜¯å¦‚ä½•åšçš„ï¼š&lt;figure class="wp-block-image">&lt;/p>
&lt;p>&lt;img src="https://i2.wp.com/ww1.sinaimg.cn/large/c53b1907ly1fxdf9177f8j218g0hdwkb.jpg?w=625" alt="" data-recalc-dims="1" />&lt;/figure>&lt;/p>
&lt;p>åœ¨ä½¿ç”¨ä¸»åŠ¨å­¦ä¹ çš„æ—¶å€™ï¼Œåœ¨ 500mini-batchï¼ˆ5000labelsï¼‰æˆ‘ä»¬å°±è¾¾åˆ°ï¼Œç”šè‡³æ›´å¥½åœ°å‡†ç¡®ç‡ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œcross-entropy ç®—æ³•ï¼Œé€šè¿‡ 2000 mini-batchã€‚ä¸»åŠ¨å­¦ä¹ å‡å°‘äº† 4 å€çš„æ•°æ®é‡ã€‚ä¸»åŠ¨å­¦ä¹ æ˜¯å¦‚ä½•åšåˆ°çš„ï¼Ÿçœ‹ä¸‹å›¾ã€‚&lt;figure class="wp-block-image">&lt;/p>
&lt;p>&lt;img src="https://i2.wp.com/ww1.sinaimg.cn/large/c53b1907ly1fxdfe5ahvnj20ua0nkjv0.jpg?w=625" alt="" data-recalc-dims="1" />&lt;/figure>&lt;/p>
&lt;h2 id="åç»­">åç»­
&lt;/h2>&lt;p>æœªå®Œï¼Œåé¢ç¿»ä¸ç¿»çœ‹å¿ƒæƒ…ã€‚ã€‚ä¹Ÿä¸çŸ¥é“å·¥ä¸šç•Œç© active learning çš„å¤šä¸å¤šã€‚&lt;/p></description></item><item><title>Keraså‘</title><link>https://svtter.cn/p/keras%E5%9D%91/</link><pubDate>Thu, 01 Feb 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/keras%E5%9D%91/</guid><description>&lt;p>ä½¿ç”¨Kerasåšåˆ†ç±»çš„æ—¶å€™è¸©äº†ä¸€ä¸ªå‘ï¼Œä¹Ÿæ˜¯æ‹¿æ¥ä¸»ä¹‰çš„é”…ï¼Œä¼°è®¡ä¹Ÿæœ‰ä¸å°‘åŒå¿—é‡åˆ°ã€‚&lt;/p>
&lt;p>åœ¨è¿›è¡Œåˆ†ç±»çš„æ—¶å€™ï¼Œå¾€å¾€ä½¿ç”¨&lt;code>categorical_crossentropy&lt;/code>ï¼Œæœ‰æ—¶å€™èŒæ–°ï¼ˆåƒæˆ‘ï¼‰ä¼šç”¨&lt;code>binary_crossentropy&lt;/code>ï¼Œè™½ç„¶ç»“æœå¯èƒ½ä¸Šæµ®30%ï¼Œä½†æ˜¯è¿™ä¸ªç»“æœæ˜¯ä¸å¯¹çš„ã€‚&lt;code>model.fit&lt;/code>ä»¥åŠ&lt;code>model.evaluate&lt;/code>ç»™å‡ºçš„&lt;code>acc&lt;/code>çš„å€¼éƒ½æ˜¯æœ‰é—®é¢˜çš„ï¼Œæ­£ç¡®çš„è®¡ç®—æ–¹æ³•åº”è¯¥æ˜¯ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Actual accuracy calculated manually:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">y_pred&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">model&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">predict&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x_test&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">acc&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">sum&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">argmax&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">y_test&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">])&lt;/span>&lt;span class="o">==&lt;/span>&lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">argmax&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">y_pred&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">10000&lt;/span>&lt;span class="p">)])&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">10000&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å…¶ä¸­&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">numpy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">argmax&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">axis&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">None&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">out&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">None&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è¿”å›æ²¿è½´axisæœ€å¤§å€¼çš„ç´¢å¼•ã€‚&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨æµ‹è¯•æ ·æœ¬çš„æ•°é‡ä»£æ›¿&lt;code>10000&lt;/code>ï¼Œè¾“å‡ºçš„accæ‰æ˜¯æ­£ç¡®çš„ç»“æœã€‚&lt;/p>
&lt;p>è¿™ä¸ªæ–¹æ³•æ˜¯ä½¿ç”¨äºŒåˆ†ç±»çš„æ—¶å€™æ‰èƒ½ä½¿ç”¨çš„ï¼Œlabelçš„ä¸ªæ•°å¤šäº2å°±ä¸èƒ½ä½¿ç”¨ã€‚&lt;/p>
&lt;h2 id="å‚è€ƒ">å‚è€ƒ
&lt;/h2>&lt;p>&lt;a class="link" href="https://stackoverflow.com/questions/42081257/keras-binary-crossentropy-vs-categorical-crossentropy-performance" target="_blank" rel="noopener"
>https://stackoverflow.com/questions/42081257/keras-binary-crossentropy-vs-categorical-crossentropy-performance&lt;/a>&lt;/p></description></item></channel></rss>