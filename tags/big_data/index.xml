<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Big_data on Svtter's Blog</title><link>https://svtter.cn/tags/big_data/</link><description>Recent content in Big_data on Svtter's Blog</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Tue, 26 Dec 2017 01:00:00 +0800</lastBuildDate><atom:link href="https://svtter.cn/tags/big_data/index.xml" rel="self" type="application/rss+xml"/><item><title>使用Docker安装Spark</title><link>https://svtter.cn/p/%E4%BD%BF%E7%94%A8docker%E5%AE%89%E8%A3%85spark/</link><pubDate>Tue, 26 Dec 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E4%BD%BF%E7%94%A8docker%E5%AE%89%E8%A3%85spark/</guid><description>&lt;p&gt;在国内加载Dockerhub上的镜像速度会比较慢，对此我们可以通过设置mirror镜像的方式来加速images的下载。&lt;/p&gt;
&lt;p&gt;此外，如果是ipv6的网络，在一些mirror可以直接走ipv6通路，速度非常客观。这里以USTC的mirror为例。&lt;/p&gt;
&lt;p&gt;我这里的环境是Ubuntu 14.04，对于不同的Linux环境，修改的方式都差不多；修改文件&lt;code&gt;/etc/docker/daemon.json&lt;/code&gt;，如果没有这个文件，创建一个，注意，此处可能需要&lt;code&gt;root&lt;/code&gt;权限。修改完成后，运行命令&lt;code&gt;sudo service docker restart&lt;/code&gt;重启docker服务。&lt;/p&gt;
&lt;div class="codehilite"&gt;
&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="nt"&gt;"registry-mirrors"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"https://docker.mirrors.ustc.edu.cn"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;配置好以后，选择&lt;code&gt;2.1.0&lt;/code&gt;版本的spark进行docker下载。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;docker pull p7hb/docker-spark:2.1.0&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;或者直接运行&lt;/p&gt;
&lt;p&gt;&lt;code&gt;docker run -it -p 4040:4040 -p 8080:8080 -p 8081:8081 -h spark --name=spark p7hb/docker-spark:2.1.0&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="参考"&gt;参考
&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;a class="link" href="https://lug.ustc.edu.cn/wiki/mirrors/help/docker" target="_blank" rel="noopener"
&gt;https://lug.ustc.edu.cn/wiki/mirrors/help/docker&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="link" href="https://github.com/P7h/docker-spark" target="_blank" rel="noopener"
&gt;https://github.com/P7h/docker-spark&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;</description></item></channel></rss>