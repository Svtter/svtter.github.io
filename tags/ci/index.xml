<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>CI on Svtter's Blog</title><link>https://svtter.cn/tags/ci/</link><description>Recent content in CI on Svtter's Blog</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Mon, 17 Aug 2020 08:44:46 +0800</lastBuildDate><atom:link href="https://svtter.cn/tags/ci/index.xml" rel="self" type="application/rss+xml"/><item><title>âš™ è®°å½•ä¸€æ¬¡ gitlab runner çš„é…ç½®</title><link>https://svtter.cn/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1-gitlab-runner-%E7%9A%84%E9%85%8D%E7%BD%AE/</link><pubDate>Mon, 17 Aug 2020 08:44:46 +0800</pubDate><guid>https://svtter.cn/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1-gitlab-runner-%E7%9A%84%E9%85%8D%E7%BD%AE/</guid><description>&lt;p&gt;é¦–å…ˆä»‹ç»ä¸€ä¸‹æ•´ä½“çš„æƒ…å†µï¼Œå’Œæˆ‘ä»¬çš„éœ€æ±‚ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;åœ¨æˆ‘ä»¬ç»„é‡Œï¼Œä¸åŒçš„é¡¹ç›®å’ŒæœåŠ¡ï¼Œè¢«åˆ†åˆ°ä¸åŒçš„ repo ä¸­ï¼Œæ‰˜ç®¡åœ¨ gitlab ä¸Šé¢ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æœ€è¿‘ä¸€æ®µæ—¶é—´ï¼Œç”±äºæ„å»ºçš„æ—¶é—´å˜é•¿ï¼Œç”¨æ‰äº† gitlab å…è´¹çš„ 2000 minutesã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å› æ­¤ï¼Œæ‰“ç®—é‡‡ç”¨è‡ªå·±çš„ runnerï¼Œæ¥è¿›è¡ŒæœåŠ¡çš„æ„å»ºå’Œä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;Gitlab runner é…ç½®æœ‰äº›ç¥å¥‡ã€‚&lt;/p&gt;
&lt;h2 id="-æŠ€æœ¯èƒŒæ™¯"&gt;ğŸ”™ æŠ€æœ¯èƒŒæ™¯
&lt;/h2&gt;&lt;p&gt;åœ¨è¿™ä¹‹å‰ï¼Œæˆ‘ä»¬å·²ç»å•ç»™ &lt;code&gt;data_service&lt;/code&gt; éƒ¨ç½²äº†ä¸€ä¸ª &lt;code&gt;gitlab-runner&lt;/code&gt;ã€‚è¿™æ˜¯ç”±äº&lt;code&gt;data-service&lt;/code&gt; è·‘ CI çš„æ—¶é—´æ ¼å¤–é•¿ï¼Œå› æ­¤å•ç‹¬è¿›è¡Œäº†é…ç½®ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯æ²¡æœ‰æƒ³åˆ°çš„æ˜¯ï¼Œbackend-service è€—å°½äº†æ‰€æœ‰çš„ gitlab åˆ†é’Ÿæ•°ã€‚&lt;/p&gt;
&lt;p&gt;â€‹ æœ¬æ–‡èŠ±è´¹äº†ä½œè€… &lt;code&gt;$8&lt;/code&gt; ã€‚å¦‚æœå¯ä»¥çš„è¯ï¼Œè¯·æ”¯æŒä¸€ä¸‹ä½œè€…ã€‚&lt;/p&gt;
&lt;h2 id="-gitlab-runner-æ¦‚å¿µ"&gt;ğŸƒâ€â™‚ï¸ Gitlab Runner æ¦‚å¿µ
&lt;/h2&gt;&lt;p&gt;CI æ˜¯ç”± jobs ç»„æˆçš„ï¼›&lt;/p&gt;
&lt;p&gt;pipeline æ˜¯ç”±å¤šä¸ª jobs ç»„æˆã€‚&lt;/p&gt;
&lt;p&gt;å®˜æ–¹æ–‡æ¡£å£°ç§°ï¼Œåœ¨ gitlab ä¸­ï¼Œæ²¡æœ‰&lt;code&gt;shared runner&lt;/code&gt;ï¼Œå°±ä¸èƒ½å¯åŠ¨ jobs äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä½†å…¶å®ï¼Œåªè¦æœ‰ &lt;code&gt;group runner&lt;/code&gt; æˆ–è€… &lt;code&gt;specific runner&lt;/code&gt; ï¼ˆä¹Ÿå°±æ˜¯æˆ‘ä»¬è‡ªå·±é…ç½®çš„ runnerï¼‰ï¼Œjob ä¹Ÿå¯ä»¥æ­£å¸¸è¿è¡Œã€‚&lt;/p&gt;
&lt;p&gt;è¦æ³¨æ„ä¸€ä¸‹ &lt;code&gt;tag&lt;/code&gt; é€‰é¡¹ã€‚&lt;code&gt;tag&lt;/code&gt; é€‰é¡¹ï¼Œå¹¶éå•çº¯çš„å¯¹ &lt;code&gt;runner&lt;/code&gt; è¿›è¡ŒåŒºåˆ†ã€‚é¡¹ç›®ä¹Ÿä¼šä¾æ®&lt;code&gt;tag&lt;/code&gt;ï¼Œè¢«åˆ†é…ç»™ä¸åŒçš„&lt;code&gt;runner&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡ï¼Œæˆ‘ä»¬åœ¨æœ€åˆé…ç½®&lt;code&gt;runner&lt;/code&gt;æ—¶ä¸æ¸…æ¥šè¿™ä¸€ç‚¹ã€‚æˆ‘ä»¬è¿˜ä»¥ä¸ºï¼Œå°±æ˜¯å®˜æ–¹æ‰€å£°ç§°çš„ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="s2"&gt;&amp;#34;&amp;#34;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="s2"&gt;Shared Runners on GitLab.com run in autoscale mode and are powered by Google Cloud Platform. Autoscaling means reduced wait times to spin up builds, and isolated VMs for each project, thus maximizing security.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="s2"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="s2"&gt;They&amp;#39;re free to use for public open source projects and limited to 2000 CI minutes per month per group for private projects. Read about all GitLab.com plans.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="s2"&gt;&amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å› æ­¤ç»™&lt;code&gt;gitlab&lt;/code&gt;è¿›è¡Œäº†ä¸€ä¸‹ä¿¡ä»°å……å€¼ã€‚åæ¥å‘è§‰ä¼¼ä¹å……å€¼ä¹‹åï¼Œæˆ‘ä»¬é…ç½®çš„&lt;code&gt;group runner&lt;/code&gt;ä¹Ÿæ²¡æœ‰å¼€å§‹è¿è¡Œã€‚&lt;/p&gt;
&lt;p&gt;æœ€åæˆ‘ä»¬å®šä½åˆ°&lt;code&gt;runner&lt;/code&gt;çš„&lt;code&gt;tag&lt;/code&gt;é—®é¢˜ï¼Œæœ€ç»ˆæš‚æ—¶ç§»é™¤äº†&lt;code&gt;tag&lt;/code&gt;ï¼Œè§£å†³äº†é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;å¸Œæœ› &lt;code&gt;gitlab&lt;/code&gt; èƒ½å¤Ÿå‘å±•çš„è¶Šæ¥è¶Šå¥½ã€‚å¸Œæœ›&lt;code&gt;Mozilla&lt;/code&gt;æ”¯æ’‘ä¸‹å»ã€‚&lt;/p&gt;</description></item></channel></rss>