<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Posts on Svtter's Blog</title><link>https://svtter.cn/post/</link><description>Recent content in Posts on Svtter's Blog</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Sat, 12 Jul 2025 12:11:53 +0800</lastBuildDate><atom:link href="https://svtter.cn/post/index.xml" rel="self" type="application/rss+xml"/><item><title>Rewrite Code With Roo Code</title><link>https://svtter.cn/p/rewrite-code-with-roo-code/</link><pubDate>Sat, 12 Jul 2025 12:11:53 +0800</pubDate><guid>https://svtter.cn/p/rewrite-code-with-roo-code/</guid><description>&lt;img src="https://svtter.cn/p/rewrite-code-with-roo-code/pics/bg.png" alt="Featured image of post Rewrite Code With Roo Code" />&lt;p>&lt;a class="link" href="https://roocode.com/" target="_blank" rel="noopener"
>Roo Code&lt;/a> 是 cline 的一个分支。&lt;/p>
&lt;p>为了验证 roo code 是否好用，我尝试使用 roo code + deepseek v3 来重写 &lt;a class="link" href="https://meterhub.sun-praise.com" target="_blank" rel="noopener"
>meterhub&lt;/a>。&lt;/p>
&lt;p>结果上来说，体验一般般。前期对于项目的构建等内容做的还不错。但是一旦涉及到部分具体的细节，很容易在一个问题上走不出去。&lt;/p>
&lt;p>为了方便起见，下文我一律使用 roo code 来指代 (roo code + deepseek v3)。&lt;/p>
&lt;h2 id="结论">结论
&lt;/h2>&lt;p>roo code 会卡在一些简单的问题上。例如使用 next auth 来设置邮箱链接登录，roo code 无法很好的完成任务。&lt;/p>
&lt;p>这种问题会导致研发进度卡很久。这其实与&lt;a class="link" href="https://mp.weixin.qq.com/s/Gpe4Uw9Alj08dK5UF3UUvw" target="_blank" rel="noopener"
>这篇文章&lt;/a>的结论比较相似。&lt;/p>
&lt;a href="https://mp.weixin.qq.com/s/Gpe4Uw9Alj08dK5UF3UUvw" target="_blank" rel="noopener" style="text-decoration:none; display:block; max-width:600px; border:1px solid #e0e0e0; border-radius:8px; overflow:hidden; color:inherit; font-family:-apple-system, BlinkMacSystemFont, sans-serif; margin:1em 0;">
&lt;div style="position:relative; padding-top:56.25%; background:#f0f0f0;">
&lt;!-- 封面图示例：建议替换为实际封面图 URL -->
&lt;img src="pics/image.png" alt="文章封面" style="position:absolute; top:0; left:0; width:100%; height:100%; object-fit:cover;">
&lt;/div>
&lt;div style="padding:12px;">
&lt;h3 style="margin:0 0 8px; font-size:18px; line-height:1.2; color:#000">
研究显示：AI 并没有提升编程效率，它反而让你变慢了19%
&lt;/h3>
&lt;p style="margin:0 0 10px; color:#555; font-size:14px; line-height:1.4;">
刚刚，METR发布了一份关于AI 编程的研究报告，像一记重拳打在了整个AI编程工具行业的脸上。这不是什么小打小闹的实验室测试，而是16位资深开源开发者在他们自己维护的项目上进行的246个真实任务测试
&lt;/p>
&lt;div style="font-size:12px; color:#999;">
微信公众号 · 发布日期
&lt;/div>
&lt;/div>
&lt;/a>
&lt;h2 id="context-of-me">Context of Me
&lt;/h2>&lt;blockquote>
&lt;p>我对 nextjs 了解如何？我在编程过程中具有怎样的知识背景？&lt;/p>&lt;/blockquote>
&lt;p>我本身对 nextjs 有一定的了解，但没有深入使用 nextauth 等工具的经验。因此，遇到问题我更加倾向于让 roo code 去解决问题。
我原本以为 roo code 重写的速度很快，而且很方便。正如这篇文章所说：&lt;/p>
&lt;a href="https://mp.weixin.qq.com/s/Gpe4Uw9Alj08dK5UF3UUvw" target="_blank" rel="noopener" style="text-decoration:none; display:block; max-width:600px; border:1px solid #e0e0e0; border-radius:8px; overflow:hidden; color:inherit; font-family:-apple-system, BlinkMacSystemFont, sans-serif; margin:1em 0;">
&lt;div style="position:relative; padding-top:56.25%; background:#f0f0f0;">
&lt;!-- 封面图示例：建议替换为实际封面图 URL -->
&lt;img src="pics/image.png" alt="文章封面" style="position:absolute; top:0; left:0; width:100%; height:100%; object-fit:cover;">
&lt;/div>
&lt;div style="padding:12px;">
&lt;h3 style="margin:0 0 8px; font-size:18px; line-height:1.2; color:#000">
一个月重写三次代码库、三个月就换套写法！吴恩达：AI创业拼的是速度，代码不重要
&lt;/h3>
&lt;p style="margin:0 0 10px; color:#555; font-size:14px; line-height:1.4;">
近期，吴恩达 (Andrew Ng) 在 Y Combinator 发表了最新演讲，分享了自己的创业心得。他提出为创业公司成败的关键在于执行速度，执行速度比以往任何时候都更加重要，此外，他还详细阐述了创业公司应该如何提速。
&lt;/p>
&lt;div style="font-size:12px; color:#999;">
InfoQ · 2025-07-11
&lt;/div>
&lt;/div>
&lt;/a>
&lt;p>是实际体验下来，效果不行。最终我决定结束这个重写。&lt;/p>
&lt;h2 id="其他">其他
&lt;/h2>&lt;p>吐槽一下：&lt;/p>
&lt;ul>
&lt;li>微信输入法会重复输入标点符号。我不得不在使用 vscode 的时候切换为搜狗输入法。&lt;/li>
&lt;li>火绒会截断不少使用 Admin 权限的安装程序，导致这些程序无法被被打开，但是火绒也不会有提示。&lt;/li>
&lt;/ul></description></item><item><title>Try Cline</title><link>https://svtter.cn/p/try-cline/</link><pubDate>Sun, 06 Jul 2025 10:29:43 +0800</pubDate><guid>https://svtter.cn/p/try-cline/</guid><description>&lt;img src="https://svtter.cn/p/try-cline/pics/bg.webp" alt="Featured image of post Try Cline" />&lt;p>我之前一直使用 cursor 进行编程，近日发现 cline 效果也很好 (#1 calling tool on openrouter)。&lt;/p>
&lt;p>因此，今天尝试了一下 cline 的编辑能力，似乎比我想象的要调理和强大的多。&lt;/p>
&lt;h2 id="界面显示">界面显示
&lt;/h2>&lt;p>cline 能够查看发送给大模型的 context。这一点相比于 cursor 要透明很多。&lt;/p>
&lt;p>&lt;img src="https://svtter.cn/p/try-cline/pics/cline-clip.png"
width="552"
height="465"
srcset="https://svtter.cn/p/try-cline/pics/cline-clip_hu_eaaa7125a04d835d.png 480w, https://svtter.cn/p/try-cline/pics/cline-clip_hu_c54a7197038a58e6.png 1024w"
loading="lazy"
alt="gui"
class="gallery-image"
data-flex-grow="118"
data-flex-basis="284px"
>&lt;/p>
&lt;h2 id="测试的任务">测试的任务
&lt;/h2>&lt;p>原始任务：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">帮我创建windows桌面项目，使用 c# 编写，可以设置 windows 网络为 dhcp，或者固定ip+网关+DNS
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这个任务设计到 windows 的 API，还有对一些简单工具的使用。&lt;/p>
&lt;h2 id="运行过程">运行过程
&lt;/h2>&lt;p>整体运行还是比较流畅的，除了遇到了一个解决不了的问题（无法显示 UI）&lt;/p>
&lt;p>&lt;img src="https://svtter.cn/p/try-cline/pics/interactive.png"
width="523"
height="1780"
srcset="https://svtter.cn/p/try-cline/pics/interactive_hu_448c51fd8829035d.png 480w, https://svtter.cn/p/try-cline/pics/interactive_hu_26ce6c43bfd5c969.png 1024w"
loading="lazy"
alt="interactive"
class="gallery-image"
data-flex-grow="29"
data-flex-basis="70px"
>&lt;/p>
&lt;p>在使用过程中，遇到了无法解决的问题：程序在运行后闪退。后来发现是因为 windows 应用初始化的时候，部分变量值为 null，没有通过 xml 清单进行加载。&lt;/p>
&lt;p>最后我用 cursor + vscode 解决了问题。cursor 建议使用 visual studio 去编辑项目，而不是使用 dotnet 命令行。因此我发现了 null 变量的位置，从而修复了问题。&lt;/p>
&lt;h2 id="费用问题">费用问题
&lt;/h2>&lt;ul>
&lt;li>Cline 操作文件的过程还是比较流畅的，但是费用太高了。我操作了一上午，花费了 $3.17 美元，还没能把事情搞定。&lt;/li>
&lt;li>基本上我一个周编程时间是4天，因此两个周就能达到 cursor 一个月的订阅费用了。&lt;/li>
&lt;li>除非 cline 有足够的优势，否则我应该不会选择 cline。&lt;/li>
&lt;/ul></description></item><item><title>Poor Performance of Large Models on Specific Tasks</title><link>https://svtter.cn/p/poor-performance-of-large-models-on-specific-tasks/</link><pubDate>Thu, 19 Jun 2025 16:34:32 +0800</pubDate><guid>https://svtter.cn/p/poor-performance-of-large-models-on-specific-tasks/</guid><description>&lt;img src="https://svtter.cn/p/poor-performance-of-large-models-on-specific-tasks/pics/bg.png" alt="Featured image of post Poor Performance of Large Models on Specific Tasks" />&lt;p>视觉大模型在一些具体任务上比较糟糕，对于格式化的文本比较友好。这里我以仪表识别区域的定位作为例子，展示大模型的效果。&lt;/p>
&lt;h2 id="源代码">源代码
&lt;/h2>&lt;p>&lt;a class="link" href="https://github.com/Svtter/vl-model/pull/4" target="_blank" rel="noopener"
>https://github.com/Svtter/vl-model/pull/4&lt;/a>&lt;/p>
&lt;h2 id="测试的任务">测试的任务
&lt;/h2>&lt;ol>
&lt;li>将图片中的文本 boxes 提取出来。&lt;/li>
&lt;li>将图片中的仪表读数区域提取出来。&lt;/li>
&lt;/ol>
&lt;h2 id="测试的文件">测试的文件
&lt;/h2>&lt;p>&lt;img src="https://svtter.cn/p/poor-performance-of-large-models-on-specific-tasks/pics/meter-2.jpg"
width="1280"
height="1707"
srcset="https://svtter.cn/p/poor-performance-of-large-models-on-specific-tasks/pics/meter-2_hu_c88be12cb06d2945.jpg 480w, https://svtter.cn/p/poor-performance-of-large-models-on-specific-tasks/pics/meter-2_hu_791a35b85a8e04bb.jpg 1024w"
loading="lazy"
alt="Original Meter"
class="gallery-image"
data-flex-grow="74"
data-flex-basis="179px"
>&lt;/p>
&lt;p>我们可以从这个测试结果中看出不同模型的表现差异：&lt;/p>
&lt;h2 id="测试结果对比">测试结果对比
&lt;/h2>&lt;h3 id="bounding-boxes-作为提示词的结果">bounding boxes 作为提示词的结果
&lt;/h3>&lt;p>&lt;img src="https://svtter.cn/p/poor-performance-of-large-models-on-specific-tasks/pics/cropped_image.png"
width="1280"
height="1707"
srcset="https://svtter.cn/p/poor-performance-of-large-models-on-specific-tasks/pics/cropped_image_hu_21b7440b53011ad6.png 480w, https://svtter.cn/p/poor-performance-of-large-models-on-specific-tasks/pics/cropped_image_hu_e002cc344d0e25da.png 1024w"
loading="lazy"
alt="整体测试结果"
class="gallery-image"
data-flex-grow="74"
data-flex-basis="179px"
>&lt;/p>
&lt;h3 id="各模型详细表现">各模型详细表现
&lt;/h3>&lt;h4 id="anthropic-claude-35-sonnet">Anthropic Claude 3.5 Sonnet
&lt;/h4>&lt;p>&lt;img src="https://svtter.cn/p/poor-performance-of-large-models-on-specific-tasks/pics/cropped_image_anthropic_claude-3.5-sonnet.png"
width="187"
height="56"
srcset="https://svtter.cn/p/poor-performance-of-large-models-on-specific-tasks/pics/cropped_image_anthropic_claude-3.5-sonnet_hu_21e838496ec13e0c.png 480w, https://svtter.cn/p/poor-performance-of-large-models-on-specific-tasks/pics/cropped_image_anthropic_claude-3.5-sonnet_hu_98d3433b78049bde.png 1024w"
loading="lazy"
alt="Claude 3.5 Sonnet 测试结果"
class="gallery-image"
data-flex-grow="333"
data-flex-basis="801px"
>&lt;/p>
&lt;h4 id="google-gemini-25-pro">Google Gemini 2.5 Pro
&lt;/h4>&lt;p>&lt;img src="https://svtter.cn/p/poor-performance-of-large-models-on-specific-tasks/pics/cropped_image_google_gemini-2.5-pro.png"
width="690"
height="142"
srcset="https://svtter.cn/p/poor-performance-of-large-models-on-specific-tasks/pics/cropped_image_google_gemini-2.5-pro_hu_eb7a36a86550fa2e.png 480w, https://svtter.cn/p/poor-performance-of-large-models-on-specific-tasks/pics/cropped_image_google_gemini-2.5-pro_hu_c6c68f3c0be13424.png 1024w"
loading="lazy"
alt="Gemini 2.5 Pro 测试结果"
class="gallery-image"
data-flex-grow="485"
data-flex-basis="1166px"
>&lt;/p>
&lt;h4 id="openai-gpt-4o">OpenAI GPT-4o
&lt;/h4>&lt;p>&lt;img src="https://svtter.cn/p/poor-performance-of-large-models-on-specific-tasks/pics/cropped_image_openai_gpt-4o.png"
width="120"
height="60"
srcset="https://svtter.cn/p/poor-performance-of-large-models-on-specific-tasks/pics/cropped_image_openai_gpt-4o_hu_66da02220ce9dd8e.png 480w, https://svtter.cn/p/poor-performance-of-large-models-on-specific-tasks/pics/cropped_image_openai_gpt-4o_hu_895477318e72aaf7.png 1024w"
loading="lazy"
alt="GPT-4o 测试结果"
class="gallery-image"
data-flex-grow="200"
data-flex-basis="480px"
>&lt;/p>
&lt;h2 id="分析总结">分析总结
&lt;/h2>&lt;p>从这些测试结果可以看出：&lt;/p>
&lt;ol>
&lt;li>&lt;strong>视觉识别能力差异&lt;/strong>：不同模型在处理相同视觉任务时表现出明显的性能差异&lt;/li>
&lt;li>&lt;strong>格式化文本处理&lt;/strong>：相比视觉任务，模型在处理结构化文本时表现更加稳定&lt;/li>
&lt;li>&lt;strong>模型特性&lt;/strong>：每个模型都有其独特的优势和局限性&lt;/li>
&lt;/ol>
&lt;p>这些结果提醒我们在选择 AI 模型时需要根据具体任务类型来评估其适用性。&lt;/p></description></item><item><title>Docker Registry for Personal Docker Images</title><link>https://svtter.cn/p/docker-registry-for-personal-docker-images/</link><pubDate>Sun, 15 Jun 2025 16:43:47 +0800</pubDate><guid>https://svtter.cn/p/docker-registry-for-personal-docker-images/</guid><description>&lt;p>这篇文章中我尝试一种新的形式: 由我要提出问题，答案由 gpt 回答和撰写。另外，我会初步审核一下 gpt 回复的内容。&lt;/p>
&lt;h2 id="亚马逊与-docker-镜像存储服务对比相关问题">亚马逊与 Docker 镜像存储服务对比相关问题
&lt;/h2>&lt;ol>
&lt;li>亚马逊美国Serverless服务器的价格是多少？&lt;/li>
&lt;li>亚马逊私有Docker Registry（如ECR）的价格是多少？&lt;/li>
&lt;li>Docker个人用户一个月的使用费用是多少？&lt;/li>
&lt;li>Docker个人版和其他付费版本（专业版、团队版、商业版）的区别是什么？&lt;/li>
&lt;li>对比亚马逊ECR和Docker Hub提供的镜像存储服务，用于存储即将过期的镜像及未来通过Docker Image部署函数服务。&lt;/li>
&lt;/ol>
&lt;h2 id="keypoints">Keypoints
&lt;/h2>&lt;ul>
&lt;li>使用 Amazon 可以让其他服务，例如 serverless 在不使用外部流量的前提下来获取 docker image.&lt;/li>
&lt;/ul>
&lt;h2 id="answer-by-gpt-doubao">Answer by GPT (doubao)
&lt;/h2>&lt;p>豆包：&lt;/p>
&lt;h3 id="亚马逊与-docker-镜像存储服务对比文档">亚马逊与 Docker 镜像存储服务对比文档
&lt;/h3>&lt;h4 id="一服务概述">&lt;strong>一、服务概述&lt;/strong>
&lt;/h4>&lt;pre>&lt;code>1. **亚马逊ECR（Elastic Container Registry）**
&lt;/code>&lt;/pre>
&lt;p>亚马逊 AWS 提供的托管 Docker 镜像存储服务，深度集成 AWS 生态（如 Lambda、ECS、EC2 等），支持私有和公共镜像仓库，具备高可用性和安全管控能力。&lt;/p>
&lt;pre>&lt;code>2. **Docker Hub**
&lt;/code>&lt;/pre>
&lt;p>Docker 官方提供的镜像存储服务，分为公共仓库和私有仓库，面向个人及企业用户，支持全球镜像分发和社区共享。&lt;/p>
&lt;h4 id="二核心功能对比">&lt;strong>二、核心功能对比&lt;/strong>
&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;strong>对比维度&lt;/strong>&lt;/th>
&lt;th>&lt;strong>亚马逊 ECR&lt;/strong>&lt;/th>
&lt;th>&lt;strong>Docker Hub&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;strong>存储类型&lt;/strong>&lt;/td>
&lt;td>私有仓库为主（支持公共仓库，但需手动配置）&lt;/td>
&lt;td>公共仓库免费，私有仓库需付费升级&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>集成能力&lt;/strong>&lt;/td>
&lt;td>深度集成 AWS 服务（Lambda/ECS/CodePipeline）&lt;/td>
&lt;td>支持与 Docker Desktop、CI/CD 工具通用集成&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>安全性&lt;/strong>&lt;/td>
&lt;td>- 支持 AWS IAM 权限控制、加密（KMS）&lt;/td>
&lt;td>- 基础安全扫描（付费版增强）&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>- 镜像签名、漏洞扫描（需配合 AWS Inspector）&lt;/td>
&lt;td>- 企业版支持 SSO、团队权限管理&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>全球分发&lt;/strong>&lt;/td>
&lt;td>多区域部署，自动复制镜像到指定区域&lt;/td>
&lt;td>全球镜像缓存节点，加速拉取&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>构建与自动化&lt;/strong>&lt;/td>
&lt;td>支持与 CodeBuild 集成，自动构建镜像&lt;/td>
&lt;td>支持 Docker Cloud 自动构建（付费版）&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>免费额度&lt;/strong>&lt;/td>
&lt;td>- 新用户首年 500MB 私有存储/月&lt;/td>
&lt;td>- 公共仓库无限，私有仓库免费版仅 1 个仓库&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>过期镜像管理&lt;/strong>&lt;/td>
&lt;td>需手动配置生命周期策略（删除旧版本镜像）&lt;/td>
&lt;td>付费版支持镜像过期策略设置&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="三费用对比以美国地区为例">&lt;strong>三、费用对比（以美国地区为例）&lt;/strong>
&lt;/h4>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;strong>服务项&lt;/strong>&lt;/th>
&lt;th>&lt;strong>亚马逊 ECR&lt;/strong>&lt;/th>
&lt;th>&lt;strong>Docker Hub&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;strong>存储费用&lt;/strong>&lt;/td>
&lt;td>- 超出 500MB 后：0.1 美元/GB/月&lt;/td>
&lt;td>- 私有仓库：专业版 5 美元/月起（含 2GB 存储）&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>数据传输&lt;/strong>&lt;/td>
&lt;td>- 同区域内 AWS 服务间传输免费&lt;/td>
&lt;td>- 公共仓库拉取免费，私有仓库按流量计费&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>镜像拉取限制&lt;/strong>&lt;/td>
&lt;td>无明确限制（按需付费）&lt;/td>
&lt;td>- 免费版：匿名用户每 6 小时 100 次拉取&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>- 专业版：5000 次/天，团队版无限制&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="四适用场景建议">&lt;strong>四、适用场景建议&lt;/strong>
&lt;/h4>&lt;pre>&lt;code>1. **选择亚马逊ECR的场景**
&lt;/code>&lt;/pre>
&lt;p>&lt;strong>已使用 AWS 生态&lt;/strong>：如计划通过 Lambda 部署函数服务，ECR 可直接与 Lambda 集成，简化部署流程，无需额外配置网络或认证。&lt;/p>
&lt;p>&lt;strong>高安全需求&lt;/strong>：依赖 AWS IAM 权限体系，需镜像加密、细粒度访问控制（如仅限特定 AWS 账号访问）。&lt;/p>
&lt;p>&lt;strong>多区域部署&lt;/strong>：需将镜像自动同步到不同 AWS 区域，降低函数服务部署的网络延迟。&lt;/p>
&lt;pre>&lt;code>2. **选择Docker Hub的场景**
&lt;/code>&lt;/pre>
&lt;p>&lt;strong>轻量级个人/团队项目&lt;/strong>：公共仓库适合开源协作，私有仓库专业版（5 美元/月）性价比高，适合小规模镜像存储。&lt;/p>
&lt;p>&lt;strong>跨平台兼容性&lt;/strong>：不依赖特定云服务商，支持本地开发与多云部署（如 AWS、Azure、GCP）。&lt;/p>
&lt;p>&lt;strong>社区资源依赖&lt;/strong>：需直接拉取社区公共镜像（如官方 Docker 镜像），或需要通过 Docker CLI 快速管理镜像。&lt;/p>
&lt;h4 id="五针对函数服务部署的建议">&lt;strong>五、针对函数服务部署的建议&lt;/strong>
&lt;/h4>&lt;pre>&lt;code>1. **当前过期镜像存储**
&lt;/code>&lt;/pre>
&lt;p>若镜像用于 AWS Lambda，优先选择 ECR，可通过生命周期策略自动清理旧版本，避免冗余存储费用。&lt;/p>
&lt;p>若镜像为通用型（非 AWS 专属），Docker Hub 专业版可设置私有仓库存储，并标记过期镜像为“存档”状态，节省空间。&lt;/p>
&lt;pre>&lt;code>2. **未来函数服务部署**
&lt;/code>&lt;/pre>
&lt;p>&lt;strong>AWS Lambda 集成&lt;/strong>：使用 ECR 存储镜像，通过 Lambda 控制台直接关联 ECR 仓库，实现代码更新自动部署（需配置 CodePipeline 触发器）。&lt;/p>
&lt;p>&lt;strong>跨云或本地部署&lt;/strong>：Docker Hub 私有仓库配合 Docker Compose 或 Kubernetes，支持多环境一致性部署，适合需要灵活迁移的场景。&lt;/p>
&lt;h4 id="六总结">&lt;strong>六、总结&lt;/strong>
&lt;/h4>&lt;p>&lt;strong>亚马逊 ECR&lt;/strong>：适合深度绑定 AWS 的企业级用户，安全与集成能力强，费用按存储和流量按需计算。&lt;/p>
&lt;p>&lt;strong>Docker Hub&lt;/strong>：适合个人开发者、中小团队或跨云场景，付费版功能均衡，性价比高。
根据您的需求（存储过期镜像+函数服务部署），若已使用 AWS 生态，ECR 是更优选择；若追求通用性和成本控制，Docker Hub 专业版可满足基础需求。&lt;/p>
&lt;h2 id="結論">結論
&lt;/h2>&lt;p>完全可以使用 Docker 的私人倉庫作為自己的主力倉庫。Docker 私人仓库价格相对划算，在使用 aws 或者 tencent cloud 的时候，完全可以配置一个合适的代理来拉取相关的镜像。或者使用 docker login 登录之后再进行拉取。&lt;/p></description></item><item><title>a Little Trick to Collect Chat Records</title><link>https://svtter.cn/p/a-little-trick-to-collect-chat-records/</link><pubDate>Fri, 13 Jun 2025 11:52:27 +0800</pubDate><guid>https://svtter.cn/p/a-little-trick-to-collect-chat-records/</guid><description>&lt;p>我在与 chatgpt 沟通的时候，发现有时候会出现幻觉以及明显变笨。&lt;/p>
&lt;p>好在 gpt 提供了 canvas 功能。我们可以让 gpt 采集我们之前的问题。&lt;/p>
&lt;p>只需要这样一句话：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-txt" data-lang="txt">&lt;span class="line">&lt;span class="cl">帮我把我提出的问题整理到 canvas 上面。去掉答案，只保留问题
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>如此一来，我们就能得到一个我们的对话内容。&lt;/p>
&lt;h2 id="others">others
&lt;/h2>&lt;ul>
&lt;li>仔细想来，现在 gpt 的使用方法，就像是之前的编程技巧一样。如果找到了一个好的使用场景和方法，对产出的提升帮助巨大。&lt;/li>
&lt;li>gpt 打破不了信息壁垒，但是可以协助我们从逻辑上推理出一些表象之后的本质。&lt;/li>
&lt;/ul></description></item><item><title>Using Vision Language Model to Perform Meter Reading</title><link>https://svtter.cn/p/using-vision-language-model-to-perform-meter-reading/</link><pubDate>Fri, 06 Jun 2025 09:56:20 +0800</pubDate><guid>https://svtter.cn/p/using-vision-language-model-to-perform-meter-reading/</guid><description>&lt;img src="https://svtter.cn/p/using-vision-language-model-to-perform-meter-reading/bg.png" alt="Featured image of post Using Vision Language Model to Perform Meter Reading" />&lt;p>除了图片较为复杂的情况，大模型已经能够比较好的识别图像中的文本了。
但是对于一些相对极端的情况，做的还不是很好:&lt;/p>
&lt;ul>
&lt;li>例如表盘上有水滴，导致图像产生了部分畸变。&lt;/li>
&lt;li>表盘中的分割线太粗，导致模型认为粗线是数字”1”。&lt;/li>
&lt;/ul>
&lt;p>这是一个简单的示例，如何通过大模型来进行仪表识别。&lt;/p>
&lt;script src="https://tarptaeya.github.io/repo-card/repo-card.js">&lt;/script>
&lt;!-- inside body, where you want to create the card -->
&lt;div class="repo-card" data-repo="svtter/vl-model">&lt;/div>
&lt;p>在这个开源项目里，我调用了兼容 openai 接口的 qwen 模型，来获取仪表识别的结果。&lt;/p>
&lt;p>尽管模型的性能可能不如想象的好，但是用于主动学习来标注模型绰绰有余。&lt;/p></description></item><item><title>Using Aider for Cli Code Edit</title><link>https://svtter.cn/p/using-aider-for-cli-code-edit/</link><pubDate>Tue, 03 Jun 2025 21:18:22 +0800</pubDate><guid>https://svtter.cn/p/using-aider-for-cli-code-edit/</guid><description>&lt;img src="https://svtter.cn/p/using-aider-for-cli-code-edit/aider-bg.png" alt="Featured image of post Using Aider for Cli Code Edit" />&lt;p>这篇文章是使用 aider 进行命令行文章编辑。&lt;/p>
&lt;p>aider 是 openhands 某种程度上的替代品，成熟度比 openhands 要高很多（开源版本的 openhands 经常不可用）。&lt;/p>
&lt;p>安装 aider 非常简单，就像是官方文档描述的一样：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">python -m pip install aider-install
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">aider-install
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>然后最好在自己的终端里面配置好 api key。如果使用硅基流动的 deepseek，你可以这样配置：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-zsh" data-lang="zsh">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># using siliconflow&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">OPENAI_API_KEY&lt;/span>&lt;span class="o">=&lt;/span>&amp;lt;your key&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">OPENAI_BASE_URL&lt;/span>&lt;span class="o">=&lt;/span>https://api.siliconflow.cn/v1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>可以使用硅基流动的免费增额。使用我的注册码来&lt;a class="link" href="https://cloud.siliconflow.cn/i/CoM3DLIA" target="_blank" rel="noopener"
>注册&lt;/a>。&lt;/li>
&lt;li>如果需要更高的访问频次，可以直接使用 deepseek 官方的 API。这里可以&lt;a class="link" href="https://platform.deepseek.com/api_keys" target="_blank" rel="noopener"
>获取 API KEY&lt;/a>。&lt;/li>
&lt;/ul>
&lt;p>这样一来，就可以直接使用 aider 了。&lt;/p>
&lt;p>下面，我们以硅基流动的 API KEY 为例子，让我们试试采用&lt;code>deepseek-ai/DeepSeek-R1-0528-Qwen3-8B&lt;/code>模型。&lt;/p>
&lt;p>&lt;code>aider --model openai/deepseek-ai/DeepSeek-R1-0528-Qwen3-8B README.md&lt;/code>&lt;/p>
&lt;p>得到输出：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">~/work/blog/hugo-blog master ⇡3 ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── svtter@debian-vm 09:28:01 PM
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">❯ aider --model fast README.md
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Warning &lt;span class="k">for&lt;/span> openai/deepseek-ai/DeepSeek-R1-0528-Qwen3-8B: Unknown context window size and costs, using sane defaults.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">You can skip this check with --no-show-model-warnings
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">https://aider.chat/docs/llms/warnings.html
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Open documentation url &lt;span class="k">for&lt;/span> more info? &lt;span class="o">(&lt;/span>Y&lt;span class="o">)&lt;/span>es/&lt;span class="o">(&lt;/span>N&lt;span class="o">)&lt;/span>o/&lt;span class="o">(&lt;/span>D&lt;span class="o">)&lt;/span>on&lt;span class="err">&amp;#39;&lt;/span>t ask again &lt;span class="o">[&lt;/span>Yes&lt;span class="o">]&lt;/span>: n
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Aider v0.84.0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Model: openai/deepseek-ai/DeepSeek-R1-0528-Qwen3-8B with diff edit format
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Git repo: .git with 5,038 files
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Warning: For large repos, consider using --subtree-only and .aiderignore
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">See: https://aider.chat/docs/faq.html#can-i-use-aider-in-a-large-mono-repo
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Repo-map: using &lt;span class="m">1024&lt;/span> tokens, auto refresh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Added README.md to the chat.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">README.md
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这说明成功了；如果失败了，会提示：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">~/work/blog/hugo-blog master !1 ?1 ─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── svtter@debian-vm 09:23:49 PM
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">❯ aider --model fast /home/svtter/work/blog/hugo-blog/content/post/2025-06-03-using-aider-for-cli-code-edit/index.md
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Warning &lt;span class="k">for&lt;/span> fast: Unknown context window size and costs, using sane defaults.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Did you mean one of these?
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- openrouter/x-ai/grok-3-fast-beta
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- openrouter/x-ai/grok-3-mini-fast-beta
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- xai/grok-3-fast-beta
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- xai/grok-3-fast-latest
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- xai/grok-3-mini-fast-beta
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">- xai/grok-3-mini-fast-latest
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">You can skip this check with --no-show-model-warnings
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">https://aider.chat/docs/llms/warnings.html
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Open documentation url &lt;span class="k">for&lt;/span> more info? &lt;span class="o">(&lt;/span>Y&lt;span class="o">)&lt;/span>es/&lt;span class="o">(&lt;/span>N&lt;span class="o">)&lt;/span>o/&lt;span class="o">(&lt;/span>D&lt;span class="o">)&lt;/span>on&lt;span class="err">&amp;#39;&lt;/span>t ask again &lt;span class="o">[&lt;/span>Yes&lt;span class="o">]&lt;/span>:
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>简单的编辑，可以直接用小模型来处理。&lt;/p>
&lt;blockquote>
&lt;p>至于怎么算简单&amp;hellip;&lt;/p>&lt;/blockquote>
&lt;p>本文的 tag 就是通过 aider 生成的。在示例中，我编辑了&lt;code>README.md&lt;/code>文件。但是你完全可以打开一个 git repository，来编辑其他的代码。&lt;/p>
&lt;h2 id="补充">补充
&lt;/h2>&lt;p>后来我又使用&lt;code>claude&lt;/code>相关的模型来测试了一下 aider 的效果。&lt;/p>
&lt;p>&lt;code>aider --model openrouter/anthropic/claude-sonnet-4 --yes&lt;/code>&lt;/p>
&lt;p>我在 &lt;a class="link" href="https://github.com/svtter/libpaper" target="_blank" rel="noopener"
>libpaper&lt;/a> 项目中开了一个新的分支 &lt;a class="link" href="https://github.com/Svtter/libpaper/pull/1" target="_blank" rel="noopener"
>feat/web-api&lt;/a>，完全由 claude+aider 进行开发。&lt;/p>
&lt;script src="https://tarptaeya.github.io/repo-card/repo-card.js">&lt;/script>
&lt;!-- inside body, where you want to create the card -->
&lt;div class="repo-card" data-repo="svtter/libpaper">&lt;/div>
&lt;p>效果非常好。&lt;/p>
&lt;p>Have fun。&lt;/p></description></item><item><title>Using uv to publish python package</title><link>https://svtter.cn/p/using-uv-to-publish-python-package/</link><pubDate>Tue, 03 Jun 2025 15:54:28 +0800</pubDate><guid>https://svtter.cn/p/using-uv-to-publish-python-package/</guid><description>&lt;p>自我从 pdm 迁移到 uv 后，除了依赖管理之外，我希望使用 uv 来发布包。&lt;/p>
&lt;h2 id="方法一">方法一
&lt;/h2>&lt;p>LLMs 给了答复，在 pyproject.toml 中添加内容：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-toml" data-lang="toml">&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="nx">build-system&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">requires&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;setuptools&amp;gt;=42&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;wheel&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;uv&amp;gt;=0.6.0&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">build-backend&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;setuptools.build_meta&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>添加这段内容之后，我们运行&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">uv build
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>然后再运行&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">python -m twine upload
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>即可完成包的发布。&lt;/p>
&lt;h2 id="方法二">方法二
&lt;/h2>&lt;p>由于有大量的使用 pdm 的项目，因此直接修改 pdm 也会造成很多不方便的地方。&lt;/p>
&lt;p>仍然可以使用 pdm 作为 &lt;code>build-system&lt;/code>，但是使用 uv 作为包管理工具。&lt;/p>
&lt;p>也就是说:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-toml" data-lang="toml">&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="nx">build-system&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">requires&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;pdm-backend&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">build-backend&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;pdm.backend&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>甚至&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-toml" data-lang="toml">&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="nx">tool&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pdm&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">distribution&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="nx">tool&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pdm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">version&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">source&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;file&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">path&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;src/spback/__init__.py&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="一些想法">一些想法
&lt;/h2>&lt;p>LLMs 已经很强大了。但是，LLMs 无法保证生成内容的准确性，需要人来验证。因此，验证产物的人类是必须的。&lt;/p>
&lt;p>这段代码必须有人来验证才能工作。当然，如果仅仅是修改内容，可以让 LLMs 与我们协作，通过 cursor 的形式。&lt;/p></description></item><item><title>Kill Ghost Process</title><link>https://svtter.cn/p/kill-ghost-process/</link><pubDate>Fri, 30 May 2025 11:25:39 +0800</pubDate><guid>https://svtter.cn/p/kill-ghost-process/</guid><description>&lt;p>有时候我们会遇到一些幽灵进程，这些进程占用了显卡资源，但实际上并未发挥作用。&lt;/p>
&lt;p>例如这样：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">Fri May &lt;span class="m">30&lt;/span> 11:22:31 &lt;span class="m">2025&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+---------------------------------------------------------------------------------------+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> NVIDIA-SMI 545.29.06 Driver Version: 545.29.06 CUDA Version: 12.3 &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span>-----------------------------------------+----------------------+----------------------+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> GPU Name Persistence-M &lt;span class="p">|&lt;/span> Bus-Id Disp.A &lt;span class="p">|&lt;/span> Volatile Uncorr. ECC &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> Fan Temp Perf Pwr:Usage/Cap &lt;span class="p">|&lt;/span> Memory-Usage &lt;span class="p">|&lt;/span> GPU-Util Compute M. &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> MIG M. &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span>&lt;span class="o">=========================================&lt;/span>+&lt;span class="o">======================&lt;/span>+&lt;span class="o">======================&lt;/span>&lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="m">0&lt;/span> Tesla P100-SXM2-16GB Off &lt;span class="p">|&lt;/span> 00000000:1A:00.0 Off &lt;span class="p">|&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> N/A 38C P0 43W / 300W &lt;span class="p">|&lt;/span> 8696MiB / 16384MiB &lt;span class="p">|&lt;/span> 0% Default &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> N/A &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+-----------------------------------------+----------------------+----------------------+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="m">1&lt;/span> Tesla P100-SXM2-16GB Off &lt;span class="p">|&lt;/span> 00000000:1B:00.0 Off &lt;span class="p">|&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> N/A 41C P0 42W / 300W &lt;span class="p">|&lt;/span> 9408MiB / 16384MiB &lt;span class="p">|&lt;/span> 0% Default &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> N/A &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+-----------------------------------------+----------------------+----------------------+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="m">2&lt;/span> Tesla P100-SXM2-16GB Off &lt;span class="p">|&lt;/span> 00000000:3D:00.0 Off &lt;span class="p">|&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> N/A 39C P0 44W / 300W &lt;span class="p">|&lt;/span> 4288MiB / 16384MiB &lt;span class="p">|&lt;/span> 0% Default &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> N/A &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+-----------------------------------------+----------------------+----------------------+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="m">3&lt;/span> Tesla P100-SXM2-16GB Off &lt;span class="p">|&lt;/span> 00000000:3E:00.0 Off &lt;span class="p">|&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> N/A 39C P0 43W / 300W &lt;span class="p">|&lt;/span> 404MiB / 16384MiB &lt;span class="p">|&lt;/span> 0% Default &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> N/A &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+-----------------------------------------+----------------------+----------------------+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="m">4&lt;/span> Tesla P100-SXM2-16GB Off &lt;span class="p">|&lt;/span> 00000000:88:00.0 Off &lt;span class="p">|&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> N/A 42C P0 43W / 300W &lt;span class="p">|&lt;/span> 13248MiB / 16384MiB &lt;span class="p">|&lt;/span> 0% Default &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> N/A &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+-----------------------------------------+----------------------+----------------------+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="m">5&lt;/span> Tesla P100-SXM2-16GB Off &lt;span class="p">|&lt;/span> 00000000:89:00.0 Off &lt;span class="p">|&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> N/A 45C P0 49W / 300W &lt;span class="p">|&lt;/span> 9450MiB / 16384MiB &lt;span class="p">|&lt;/span> 8% Default &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> N/A &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+-----------------------------------------+----------------------+----------------------+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="m">6&lt;/span> Tesla P100-SXM2-16GB Off &lt;span class="p">|&lt;/span> 00000000:B1:00.0 Off &lt;span class="p">|&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> N/A 42C P0 40W / 300W &lt;span class="p">|&lt;/span> 9200MiB / 16384MiB &lt;span class="p">|&lt;/span> 0% Default &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> N/A &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+-----------------------------------------+----------------------+----------------------+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="m">7&lt;/span> Tesla P100-SXM2-16GB Off &lt;span class="p">|&lt;/span> 00000000:B2:00.0 Off &lt;span class="p">|&lt;/span> &lt;span class="m">0&lt;/span> &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> N/A 43C P0 41W / 300W &lt;span class="p">|&lt;/span> 5350MiB / 16384MiB &lt;span class="p">|&lt;/span> 0% Default &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="p">|&lt;/span> N/A &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+-----------------------------------------+----------------------+----------------------+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+---------------------------------------------------------------------------------------+
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> Processes: &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> GPU GI CI PID Type Process name GPU Memory &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> ID ID Usage &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span>&lt;span class="o">=======================================================================================&lt;/span>&lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="m">1&lt;/span> N/A N/A &lt;span class="m">65559&lt;/span> C python 9406MiB &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="m">3&lt;/span> N/A N/A &lt;span class="m">85647&lt;/span> C ...Polyspace/R2020a/bin/glnxa64/MATLAB 400MiB &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">|&lt;/span> &lt;span class="m">5&lt;/span> N/A N/A &lt;span class="m">20759&lt;/span> C rddfg_cent_rw-StarCraft2-debug@syc 9448MiB &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+---------------------------------------------------------------------------------------+
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>明确占用显存的就三个进程，但是其他的显存都被占用了。&lt;/p>
&lt;h2 id="解决方案">解决方案
&lt;/h2>&lt;p>我们保存并运行如下的脚本:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/bin/bash
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># nvidia-smi 显示的合法 PID&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 以下 PID 为合法的示例&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">KEEP_PIDS&lt;/span>&lt;span class="o">=(&lt;/span>&lt;span class="s2">&amp;#34;65559&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;85647&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;20759&amp;#34;&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 所有 GPU 相关的进程（不通过 nvidia-smi 显示）&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">ALL_PIDS&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>fuser /dev/nvidia* 2&amp;gt;/dev/null &lt;span class="p">|&lt;/span> tr &lt;span class="s1">&amp;#39; &amp;#39;&lt;/span> &lt;span class="s1">&amp;#39;\n&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span> sort -u&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> pid in &lt;span class="nv">$ALL_PIDS&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">do&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[[&lt;/span> ! &lt;span class="s2">&amp;#34; &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">KEEP_PIDS&lt;/span>&lt;span class="p">[@]&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2"> &amp;#34;&lt;/span> &lt;span class="o">=&lt;/span>~ &lt;span class="s2">&amp;#34; &lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">pid&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2"> &amp;#34;&lt;/span> &lt;span class="o">]]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;Killing ghost process PID &lt;/span>&lt;span class="nv">$pid&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> sudo &lt;span class="nb">kill&lt;/span> -9 &lt;span class="nv">$pid&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;Keeping important process PID &lt;/span>&lt;span class="nv">$pid&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">done&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;!-- 参考链接：https://chatgpt.com/share/683925bd-0860-8009-8756-b3b2c067c20b --></description></item><item><title>Better Oh My Zsh</title><link>https://svtter.cn/p/better-oh-my-zsh/</link><pubDate>Fri, 09 May 2025 12:32:20 +0800</pubDate><guid>https://svtter.cn/p/better-oh-my-zsh/</guid><description>&lt;img src="https://svtter.cn/p/better-oh-my-zsh/bg.png" alt="Featured image of post Better Oh My Zsh" />&lt;p>ohmyzsh 是一个十分好用的工具，但实际上默认配置尚未让这个工具达到巅峰。&lt;/p>
&lt;p>需要编辑&lt;code>~/.zshrc&lt;/code>来增加两个插件：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-zsh" data-lang="zsh">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">plugins&lt;/span>&lt;span class="o">=(&lt;/span>... &lt;span class="nb">history&lt;/span> zsh-autosuggestions zsh-syntax-highlighting&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>要使用这些插件，需要从 github 上下载对应的 repo。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git clone https://github.com/zsh-users/zsh-autosuggestions &lt;span class="si">${&lt;/span>&lt;span class="nv">ZSH_CUSTOM&lt;/span>&lt;span class="k">:-&lt;/span>&lt;span class="p">~/.oh-my-zsh/custom&lt;/span>&lt;span class="si">}&lt;/span>/plugins/zsh-autosuggestions
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git clone https://github.com/zsh-users/zsh-syntax-highlighting.git &lt;span class="si">${&lt;/span>&lt;span class="nv">ZSH_CUSTOM&lt;/span>&lt;span class="k">:-&lt;/span>&lt;span class="p">~/.oh-my-zsh/custom&lt;/span>&lt;span class="si">}&lt;/span>/plugins/zsh-syntax-highlighting
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>如此一来，ohmyzsh 可以自动提示以及高亮显示命令了。&lt;/p>
&lt;p>此外，由于 antigen 已经很久没有更新了，不太推荐使用。&lt;/p></description></item><item><title>使用 openhands 操作代码仓库</title><link>https://svtter.cn/p/%E4%BD%BF%E7%94%A8-openhands-%E6%93%8D%E4%BD%9C%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/</link><pubDate>Thu, 08 May 2025 11:25:53 +0800</pubDate><guid>https://svtter.cn/p/%E4%BD%BF%E7%94%A8-openhands-%E6%93%8D%E4%BD%9C%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/</guid><description>&lt;img src="https://svtter.cn/p/%E4%BD%BF%E7%94%A8-openhands-%E6%93%8D%E4%BD%9C%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/image.png" alt="Featured image of post 使用 openhands 操作代码仓库" />&lt;p>codex 是 openai 出品的 headless code editor (我起的名字)。 相对的，openhands 是一个优秀的开源作品，可以自主操作和编辑 repo。openhands 有基于 web 的 UI 界面。&lt;/p>
&lt;h2 id="安装">安装
&lt;/h2>&lt;p>通过私有化部署可以直接使用 openhands&lt;/p>
&lt;ul>
&lt;li>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">docker pull docker.all-hands.dev/all-hands-ai/runtime:0.37-nikolaik
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker run -it --rm --pull&lt;span class="o">=&lt;/span>always &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -e &lt;span class="nv">SANDBOX_RUNTIME_CONTAINER_IMAGE&lt;/span>&lt;span class="o">=&lt;/span>docker.all-hands.dev/all-hands-ai/runtime:0.37-nikolaik &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -e &lt;span class="nv">LOG_ALL_EVENTS&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nb">true&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -v /var/run/docker.sock:/var/run/docker.sock &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -v ~/.openhands-state:/.openhands-state &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -p 3000:3000 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --add-host host.docker.internal:host-gateway &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --name openhands-app &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> docker.all-hands.dev/all-hands-ai/openhands:0.37
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;h2 id="使用自定的-provider">使用自定的 provider
&lt;/h2>&lt;ul>
&lt;li>openhands 实际上使用 litellm 来调用其他的仓库。
&lt;ul>
&lt;li>配置 litellm 的&lt;a class="link" href="https://docs.litellm.ai/docs/proxy/configs" target="_blank" rel="noopener"
>相关文档&lt;/a>&lt;/li>
&lt;li>配置样例
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">model_name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">vllm-models&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">litellm_params&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">model&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">openai/facebook/opt-125m&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># the `openai/` prefix tells litellm it&amp;#39;s openai compatible&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">api_base&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">http://0.0.0.0:4000/v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">api_key&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">none&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">rpm&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">1440&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">model_info&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;img src="https://svtter.cn/p/%E4%BD%BF%E7%94%A8-openhands-%E6%93%8D%E4%BD%9C%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/image.png"
width="1628"
height="1386"
srcset="https://svtter.cn/p/%E4%BD%BF%E7%94%A8-openhands-%E6%93%8D%E4%BD%9C%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/image_hu_9a632fc87bb7442b.png 480w, https://svtter.cn/p/%E4%BD%BF%E7%94%A8-openhands-%E6%93%8D%E4%BD%9C%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93/image_hu_f99d31c2de0c77b1.png 1024w"
loading="lazy"
alt="image.png"
class="gallery-image"
data-flex-grow="117"
data-flex-basis="281px"
>&lt;/li>
&lt;/ul>
&lt;p>实际上配置 openhands 不需要去配置 litellm。但是，配置的方式和 litellm 是一样的。&lt;/p>
&lt;p>在 openhands 设置中，需要在 model 前面加上 openai 来让 litellm 知道模型是 openai 兼容的。&lt;/p></description></item><item><title>Heroku 的开源平替</title><link>https://svtter.cn/p/heroku-%E7%9A%84%E5%BC%80%E6%BA%90%E5%B9%B3%E6%9B%BF/</link><pubDate>Tue, 06 May 2025 21:49:42 +0800</pubDate><guid>https://svtter.cn/p/heroku-%E7%9A%84%E5%BC%80%E6%BA%90%E5%B9%B3%E6%9B%BF/</guid><description>&lt;img src="https://svtter.cn/p/heroku-%E7%9A%84%E5%BC%80%E6%BA%90%E5%B9%B3%E6%9B%BF/bg.png" alt="Featured image of post Heroku 的开源平替" />&lt;p>近期出现了大量的 heroku 平替。这些替代品或多或少的支持了各种大型企业在内部构建自己的 PaaS 平台。&lt;/p>
&lt;p>&lt;a class="link" href="https://www.heroku.com/" target="_blank" rel="noopener"
>Heroku&lt;/a> 是一个用于 PaaS (Platform as a Service)，可以用于快速部署应用系统，平台的技术负责人是 Ruby 编程语言的创造者松本行弘。母公司是 Salesforce。&lt;/p>
&lt;p>PaaS 最大的好处就是不用自己考虑太多操作系统的事情，节省了运维的时间。而且如果配置得当，还能获得较好的监控等系统。&lt;/p>
&lt;ul>
&lt;li>基于 Docker 的替代品如下：
&lt;ul>
&lt;li>dokku star: 30.4k&lt;/li>
&lt;li>coolify star: 40.9k&lt;/li>
&lt;li>dokploy star: 19.8k&lt;/li>
&lt;li>tsuru star: 5.1k&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>之所以这些平台如雨后春笋，可能是因为 docker 的崛起，虚拟机管理变成了容器管理，而且有了相对简单的接口，人们可以在这个基础上进行二次开发。
我目前使用的是 coolify，感觉还不错。但是近期似乎没有怎么更新。我也在考虑使用更加方便的系统。
从稳定性上看，coolify 的稳定性是基于 docker 稳定性的，所以不用太担心 web 访问的问题。&lt;/p>
&lt;ul>
&lt;li>基于 kubernetes 的工具也不少。
&lt;ul>
&lt;li>例如 &lt;a class="link" href="https://docs.lagoon.sh/installing-lagoon/install-harbor/" target="_blank" rel="noopener"
>lagoon&lt;/a>；
&lt;ul>
&lt;li>依赖 harbor&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Kubernetes 上的系统部署会相对麻烦一些，需要配置多个组件。如果支持 helm chart，部署还会方便一些。&lt;/li>
&lt;/ul>
&lt;p>最后，经验之谈，基于 golang 的开源项目往往质量相对会高一些。（但不绝对）。&lt;/p></description></item><item><title>2025 Q1 总结</title><link>https://svtter.cn/p/2025-q1-%E6%80%BB%E7%BB%93/</link><pubDate>Sat, 03 May 2025 10:56:16 +0800</pubDate><guid>https://svtter.cn/p/2025-q1-%E6%80%BB%E7%BB%93/</guid><description>&lt;img src="https://svtter.cn/p/2025-q1-%E6%80%BB%E7%BB%93/bg.png" alt="Featured image of post 2025 Q1 总结" />&lt;p>新的认知:&lt;/p>
&lt;ul>
&lt;li>将知识串联起来，而不是一个个单一的节点；将其形成图结构，就可以从自己的每次 insight 收获新的 insight。&lt;/li>
&lt;li>恰如其分的使用工具，不要一味的追求可编程以及可重构。这是作为 SE 养成的习惯，但解决问题时，应对症下药。&lt;/li>
&lt;/ul>
&lt;h2 id="上个阶段">上个阶段
&lt;/h2>&lt;p>下面从工作，学习，科研，还是从这几个角度总结 Q1 的相关事情。&lt;/p>
&lt;h3 id="research">Research
&lt;/h3>&lt;ul>
&lt;li>我原本计划在 Q1 发一篇会议类的文章，跟进一些最新的研究进展，但是我发现实际上这个任务没有完成。我想这是由于准备 SWR 的论文导致的。我补充了大量的关于 swr 的实验，以及重写了很多之前我认为不太可靠的代码。提交了 SWR 论文。&lt;/li>
&lt;li>我重构了部分 meter-viewer 的内容；准备重新引入新的方法，用于构建更合适的数据集。&lt;/li>
&lt;li>我基于 lightning 重新实现了 SWR&lt;/li>
&lt;li>思考了面向仪表识别问题的域迁移模型&lt;/li>
&lt;li>探索了部分主动学习算法&lt;/li>
&lt;/ul>
&lt;h3 id="work">Work
&lt;/h3>&lt;ul>
&lt;li>meterhub 又做了一些设计和底层思考。
&lt;ul>
&lt;li>在一月份的大部分时间在做 meterhub 的改进。&lt;/li>
&lt;li>feedback features&lt;/li>
&lt;li>login with email&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Release &lt;a class="link" href="https://github.com/Svtter/django-login-email/releases/tag/v0.6.1" target="_blank" rel="noopener"
>django-login-mail v0.6.1&lt;/a>&lt;/li>
&lt;li>挖了新坑 githubManager&lt;/li>
&lt;li>HIGH 升级了 hugo 的主题和更新模式，使用了 &lt;a class="link" href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener"
>stack 主题&lt;/a>，以及对应的 github CI。&lt;/li>
&lt;/ul>
&lt;h3 id="learn">Learn
&lt;/h3>&lt;ul>
&lt;li>调用了一下 openai 的 sdk，llamaindex 的简单调用；
id:: 68020c3f-8471-4f22-987a-95823263678c&lt;/li>
&lt;li>MAE 再学习&lt;/li>
&lt;li>CLIP code reading&lt;/li>
&lt;li>OpenManus 以及 Docker&lt;/li>
&lt;li>ComfyUI test&lt;/li>
&lt;li>MCP server&lt;/li>
&lt;li>Cuda related problems&amp;hellip;&lt;/li>
&lt;li>Using of openrouter.&lt;/li>
&lt;li>对基本的编程技术做了一定的磨练。
&lt;ul>
&lt;li>Rethinking about FP.&lt;/li>
&lt;li>&lt;a class="link" href="https://svtter.cn/p/where-to-put-your-data-folder.md/" target="_blank" rel="noopener"
>Where to Put Your Data Folder.md&lt;/a>&lt;/li>
&lt;li>PDM 的使用 &lt;a class="link" href="https://svtter.cn/p/dynamic-version-in-pdm.md/" target="_blank" rel="noopener"
>https://svtter.cn/p/dynamic-version-in-pdm.md/&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>运维方面
&lt;ul>
&lt;li>SSL 证书 &lt;a class="link" href="https://svtter.cn/p/certbot-self-signed.md/" target="_blank" rel="noopener"
>https://svtter.cn/p/certbot-self-signed.md/&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="下个阶段的计划">下个阶段的计划
&lt;/h2>&lt;ul>
&lt;li>论文聚焦整体框架的编写
&lt;ul>
&lt;li>因为不是一个特别能坐得住的人，需要多多注意聚焦的问题。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>尝试发表学术会议的论文，级别不重要。&lt;/li>
&lt;li>凝练毕业论文的大纲，编写细节&lt;/li>
&lt;li>编写一篇新的论文&lt;/li>
&lt;/ul></description></item><item><title>Visual Studio Code Tips - 2</title><link>https://svtter.cn/p/visual-studio-code-tips-2/</link><pubDate>Wed, 30 Apr 2025 10:54:07 +0800</pubDate><guid>https://svtter.cn/p/visual-studio-code-tips-2/</guid><description>&lt;img src="https://svtter.cn/p/visual-studio-code-tips-2/bg.png" alt="Featured image of post Visual Studio Code Tips - 2" />&lt;p>当我们使用 vscode （cursor）进行 python 编码的时候，难免会引入大文件到工作目录里。此时，如果不对分析器加以限制，容易导致整个系统非常卡顿。&lt;/p>
&lt;h2 id="避免大文件引入">避免大文件引入
&lt;/h2>&lt;p>我们可以编辑设置来避免这个问题。&lt;/p>
&lt;p>例如，我们希望忽略的路径是&lt;code>/app/data&lt;/code>，相对目录是&lt;code>./data&lt;/code>。通过打开&lt;code>&amp;lt;project_root&amp;gt;/.vscode/settings.json&lt;/code>，加入如下内容：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;python.analysis.exclude&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;/app/data&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;/app/data/**&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;./data/**&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;./data&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这样一来，就可以避免分析器，例如 pylancer，分析你的数据目录了。&lt;/p>
&lt;h2 id="增加默认-pythonpath">增加默认 PYTHONPATH
&lt;/h2>&lt;p>有时候我们希望在某个文件夹下的 python 包可以被直接引入。我们可以设置 &lt;code>PYHONPATH&lt;/code> 到 &lt;code>.vscode/settings.json&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;python.envFile&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;${workspaceFolder}/.env&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>然后配置 env 文件（例如将 /app 加入到 PYTHONPATH）&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-env" data-lang="env">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">PYTHONPATH&lt;/span>&lt;span class="o">=&lt;/span>/app
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Build a Kubernetes Cluster.md</title><link>https://svtter.cn/p/build-a-kubernetes-cluster.md/</link><pubDate>Sat, 26 Apr 2025 09:55:38 +0800</pubDate><guid>https://svtter.cn/p/build-a-kubernetes-cluster.md/</guid><description>&lt;img src="https://svtter.cn/p/build-a-kubernetes-cluster.md/bg.png" alt="Featured image of post Build a Kubernetes Cluster.md" />&lt;p>Kubernetes 是现行容器云的事实标准。这两天我构建了一个私有化的 kubernetes 集群，将过程整理成了脚本，可以使用这些脚本进行二次部署。&lt;/p>
&lt;p>部署集群的代码：&lt;/p>
&lt;script src="https://tarptaeya.github.io/repo-card/repo-card.js">&lt;/script>
&lt;!-- inside body, where you want to create the card -->
&lt;div class="repo-card" data-repo="svtter/k8s-deployment">&lt;/div>
&lt;h2 id="架设前提">架设前提
&lt;/h2>&lt;p>实际上，大多数 kubernetes 部署失败的案例，都在网络环境建设上翻了跟头。&lt;/p>
&lt;p>架设 kubernetes 集群的前提条件（包括对人和对环境的）：&lt;/p>
&lt;ol>
&lt;li>自由的访问网络&lt;/li>
&lt;li>能够对内网中的 DNS 服务器进行管理，能够对 IP 地址进行管理。&lt;/li>
&lt;li>服务器方面：&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>作为 master 的服务器 &amp;gt;= 1&lt;/li>
&lt;li>作为 node 节点的服务器 &amp;gt;= 2&lt;/li>
&lt;li>使用 supported 操作系统。例如 Ubuntu，CentOS 等。&lt;/li>
&lt;/ul>
&lt;p>此外，服务器防火墙，swap 等需要提前关闭。这些前提条件在&lt;a class="link" href="https://sealos.run/docs/k8s/quick-start/deploy-kubernetes" target="_blank" rel="noopener"
>这里&lt;/a>会更加详细的描述，我这里就不啰嗦了。在我的代码库中，我提供了对应的代码，可以快速进行操作。&lt;/p>
&lt;p>部署 kubernetes 是一个中高级运维人员的必备技能。这个过程中涉及了大量的网络以及操作系统知识。&lt;/p>
&lt;h2 id="架构简述">架构简述
&lt;/h2>&lt;p>Kubernetes 结构图如下：&lt;/p>
&lt;p>&lt;img src="https://svtter.cn/p/build-a-kubernetes-cluster.md/arch.png"
width="1024"
height="698"
srcset="https://svtter.cn/p/build-a-kubernetes-cluster.md/arch_hu_8f61cc3c186fb5ed.png 480w, https://svtter.cn/p/build-a-kubernetes-cluster.md/arch_hu_2a09611c6ee56014.png 1024w"
loading="lazy"
alt="Kubernetes architecture"
class="gallery-image"
data-flex-grow="146"
data-flex-basis="352px"
>&lt;/p>
&lt;p>其中，master 节点再 Control Plan 中，用于接收外部请求和转发。&lt;/p>
&lt;h2 id="安装过程">安装过程
&lt;/h2>&lt;p>安装脚本：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 安装 uv&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">bash install-uv.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 根据自己的实际情况配置网络中的主机&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 配置 master node，worker node&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vim conf.py
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 安装 sealos&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">bash download_sealos.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 运行安装脚本&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">uv run install-k8s.py
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="使用">使用
&lt;/h2>&lt;p>安装完成后，可以直接使用 helm 进行集群容器的安装和卸载。&lt;/p></description></item><item><title>Git MCP Tools.md</title><link>https://svtter.cn/p/git-mcp-tools.md/</link><pubDate>Thu, 24 Apr 2025 18:32:38 +0800</pubDate><guid>https://svtter.cn/p/git-mcp-tools.md/</guid><description>&lt;img src="https://svtter.cn/p/git-mcp-tools.md/bg.png" alt="Featured image of post Git MCP Tools.md" />&lt;p>&lt;a class="link" href="https://www.anthropic.com/news/model-context-protocol" target="_blank" rel="noopener"
>MCP 协议&lt;/a> 很有意思，能让大模型使用工具，来扩展大模型的能力。为了体验一下自动化的快乐，我结合 &lt;a class="link" href="https://gofastmcp.com/getting-started/welcome" target="_blank" rel="noopener"
>FastMCP&lt;/a> 开发一个 MCP 服务：&lt;/p>
&lt;script src="https://tarptaeya.github.io/repo-card/repo-card.js">&lt;/script>
&lt;!-- inside body, where you want to create the card -->
&lt;div class="repo-card" data-repo="svtter/git-mcp">&lt;/div>
&lt;p>这个服务可以通过我预先定义的几个命令，例如 &lt;a class="link" href="https://github.com/Svtter/git-mcp/blob/main/server.py#L31" target="_blank" rel="noopener"
>status&lt;/a> ，来操作指定的 git 仓库。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">status&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">import&lt;/span> &lt;span class="nn">subprocess&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">output&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">subprocess&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">run&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;git&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;status&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">cwd&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">repo_path&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">capture_output&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">text&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">output&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">stdout&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="实际使用">实际使用
&lt;/h2>&lt;p>通过 &lt;a class="link" href="https://github.com/ThinkInAIXYZ/deepchat" target="_blank" rel="noopener"
>DeepChat&lt;/a> 进行沟通。&lt;/p>
&lt;p>&lt;img src="https://svtter.cn/p/git-mcp-tools.md/chat.png"
width="2424"
height="1490"
srcset="https://svtter.cn/p/git-mcp-tools.md/chat_hu_c17bff78f6fe9a3f.png 480w, https://svtter.cn/p/git-mcp-tools.md/chat_hu_7113379ef67f753.png 1024w"
loading="lazy"
alt="chat.png"
class="gallery-image"
data-flex-grow="162"
data-flex-basis="390px"
>&lt;/p>
&lt;p>可以看到，&lt;a class="link" href="https://github.com/ThinkInAIXYZ/deepchat" target="_blank" rel="noopener"
>deepchat&lt;/a> 借助大模型，帮我查看了项目 &lt;a class="link" href="https://github.com/Svtter/git-mcp" target="_blank" rel="noopener"
>git-mcp&lt;/a> 在我本地的情况。&lt;/p>
&lt;h2 id="遇到的问题">遇到的问题
&lt;/h2>&lt;ol>
&lt;li>使用&lt;code>mcp.resources&lt;/code>和使用&lt;code>mcp.tool&lt;/code>是不一样的。如果不定义 tool，有时候大模型会找不到对应的资源。&lt;/li>
&lt;/ol></description></item><item><title>vsphere 6.5 Problem.md</title><link>https://svtter.cn/p/vsphere-6.5-problem.md/</link><pubDate>Thu, 24 Apr 2025 17:00:29 +0800</pubDate><guid>https://svtter.cn/p/vsphere-6.5-problem.md/</guid><description>&lt;img src="https://svtter.cn/p/vsphere-6.5-problem.md/bg.png" alt="Featured image of post vsphere 6.5 Problem.md" />&lt;blockquote>
&lt;p>系统版本: vmware esxi 6.5&lt;/p>&lt;/blockquote>
&lt;p>这两天在配置 k8s 内网，发现一个奇怪的问题，ovf 镜像导出之后，再导入启动不了了。&lt;/p>
&lt;p>&lt;img src="https://svtter.cn/p/vsphere-6.5-problem.md/p1.png"
width="972"
height="234"
srcset="https://svtter.cn/p/vsphere-6.5-problem.md/p1_hu_43f6d3c0924e5069.png 480w, https://svtter.cn/p/vsphere-6.5-problem.md/p1_hu_f4c9c7438c027b78.png 1024w"
loading="lazy"
alt="p1"
class="gallery-image"
data-flex-grow="415"
data-flex-basis="996px"
>&lt;/p>
&lt;p>试着跟 kimi 沟通了一下，不太行，这是个笨蛋。&lt;/p>
&lt;p>起初我也认为是 BIOS 和 EFI 切换的问题。但是我检查了一下导出的虚拟机，导入导出都在一个平台上，引导选项也没改变。因此并非如此。&lt;/p>
&lt;blockquote>
&lt;p>补充知识&lt;/p>
&lt;p>EFI（Extensible Firmware Interface，可扩展固件接口）是一种由英特尔（Intel）开发的接口标准，用于计算机硬件和操作系统之间的通信。它主要用于替代传统的BIOS（Basic Input/Output System，基本输入输出系统）。&lt;/p>&lt;/blockquote>
&lt;img src="https://svtter.cn/memos/si.jpg" />
&lt;p>这就很奇怪了。（用 esxi 6.5 这种上古版本的我可能也奇怪）&lt;/p>
&lt;p>实际上我的操作是没有问题的，问题在于 esxi 在导出的时候会丢失了引导信息。&lt;/p>
&lt;h2 id="修复方法">修复方法
&lt;/h2>&lt;p>首先改一下 SCSI 控制器。&lt;/p>
&lt;p>&lt;img src="https://svtter.cn/p/vsphere-6.5-problem.md/p2.png"
width="1552"
height="1104"
srcset="https://svtter.cn/p/vsphere-6.5-problem.md/p2_hu_8423605af33ed61.png 480w, https://svtter.cn/p/vsphere-6.5-problem.md/p2_hu_b2ca61ee95296e97.png 1024w"
loading="lazy"
alt="p2"
class="gallery-image"
data-flex-grow="140"
data-flex-basis="337px"
>&lt;/p>
&lt;ul>
&lt;li>找到 SCSI 控制器 0
&lt;ul>
&lt;li>类型从 &lt;code>VMware Paravirtual&lt;/code> 改成 → &lt;code>LSI Logic SAS&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>然后再次启动，从 boot option 里面找到 debian 选项。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Boot Maintenance Manager → Boot Options → Add Boot Option
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>路径是：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">/EFI/Debian/grubx64.efi
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>选择并且添加后，即可启动。&lt;/p>
&lt;h2 id="资源声明">资源声明
&lt;/h2>&lt;ul>
&lt;li>背景图来自 &lt;a class="link" href="https://www.iperiusbackup.net/en/benefits-virtualization-administrator-would-get-from-using-vmware-esxi/" target="_blank" rel="noopener"
>link&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>about PDF Reader.md</title><link>https://svtter.cn/p/about-pdf-reader.md/</link><pubDate>Thu, 24 Apr 2025 16:16:41 +0800</pubDate><guid>https://svtter.cn/p/about-pdf-reader.md/</guid><description>&lt;img src="https://svtter.cn/p/about-pdf-reader.md/image.png" alt="Featured image of post about PDF Reader.md" />&lt;p>这两天一直在测试文件接口与大模型的结合，从 pdf 读取数据，并且转换成 excel 的能力。&lt;/p>
&lt;p>这是开源的代码：&lt;/p>
&lt;script src="https://tarptaeya.github.io/repo-card/repo-card.js">&lt;/script>
&lt;!-- inside body, where you want to create the card -->
&lt;div class="repo-card" data-repo="svtter/pdf-reader">&lt;/div>
&lt;h2 id="资源声明">资源声明
&lt;/h2>&lt;ul>
&lt;li>本文的图片出自 &lt;a class="link" href="https://medium.com/@kapildevkhatik2/the-ultimate-guide-to-pdf-summarization-with-openai-api-simplify-your-reading-process-80021210cd11" target="_blank" rel="noopener"
>https://medium.com/@kapildevkhatik2/the-ultimate-guide-to-pdf-summarization-with-openai-api-simplify-your-reading-process-80021210cd11&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Deployment of Dify 1.2.0.md</title><link>https://svtter.cn/p/deployment-of-dify-1.2.0.md/</link><pubDate>Tue, 22 Apr 2025 11:20:02 +0800</pubDate><guid>https://svtter.cn/p/deployment-of-dify-1.2.0.md/</guid><description>&lt;img src="https://svtter.cn/p/deployment-of-dify-1.2.0.md/image.png" alt="Featured image of post Deployment of Dify 1.2.0.md" />&lt;p>我认为 hacker 应该抛弃从代码构建 agent 想法，全面拥抱工作流平台，例如 dify。这样的效率比写代码高许多倍。如果一定要去写代码，可以写插件嵌入到 dify。&lt;/p>
&lt;p>dify 是什么？一个面向 LLMs 的工作流平台。&lt;/p>
&lt;script src="https://tarptaeya.github.io/repo-card/repo-card.js">&lt;/script>
&lt;!-- inside body, where you want to create the card -->
&lt;div class="repo-card" data-repo="langgenius/dify">&lt;/div>
&lt;h2 id="部署方法">部署方法
&lt;/h2>&lt;p>在服务器上执行下面的代码即可。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git clone https://github.com/langenius/dify
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> dify/docker
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cp .env.example .env
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker compose up -d
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="部署问题">部署问题
&lt;/h2>&lt;p>dify 尽管是开源项目，但是由于比较新，经常会有一些奇奇怪怪的问题。&lt;/p>
&lt;h3 id="plugin-restart-problem">Plugin restart problem
&lt;/h3>&lt;p>在使用 dify 1.2.0 的时候，dify plugin daemon 会不停的重启。此时参考这个 &lt;a class="link" href="https://github.com/langgenius/dify/issues/17788" target="_blank" rel="noopener"
>issue&lt;/a>。&lt;/p>
&lt;blockquote>
&lt;p>有趣的是，在这个 issue 中，解决问题的是 AI。&lt;/p>&lt;/blockquote>
&lt;h3 id="protocols-problem">protocols problem
&lt;/h3>&lt;p>&lt;code>http ... https&lt;/code>&lt;/p>
&lt;p>调整&lt;code>FILE_URLS&lt;/code>变量&lt;/p>
&lt;h2 id="插件">插件
&lt;/h2>&lt;p>为了使用一些功能，我编写了 一个用于文件压缩的 dify 插件。&lt;/p>
&lt;script src="https://tarptaeya.github.io/repo-card/repo-card.js">&lt;/script>
&lt;!-- inside body, where you want to create the card -->
&lt;div class="repo-card" data-repo="svtter/filecompress">&lt;/div>
&lt;h2 id="资源声明">资源声明
&lt;/h2>&lt;ul>
&lt;li>图片来自 &lt;a class="link" href="https://chatgpt-lab.com/n/n12d18abb26c8?gs=a6ed475ccea2" target="_blank" rel="noopener"
>chatgpt-lab&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Work With Langfuse.md</title><link>https://svtter.cn/p/work-with-langfuse.md/</link><pubDate>Mon, 21 Apr 2025 14:51:38 +0800</pubDate><guid>https://svtter.cn/p/work-with-langfuse.md/</guid><description>&lt;img src="https://svtter.cn/p/work-with-langfuse.md/image.png" alt="Featured image of post Work With Langfuse.md" />&lt;p>我们在开发 LLMs 应用时，会考虑 LLMs 调用过程中的性能问题，以及监视过程中的输出。&lt;/p>
&lt;p>这个时候 langsmith 以及 langfuse 用处就很大了。&lt;/p>
&lt;p>但是，有时候我们本地有计算资源，不想使用云端的资源进行 LLM 调用资源监控，因此就不会考虑 langsmith。&lt;/p>
&lt;p>此时，我们可以使用 langfuse 来做这个事情。&lt;/p>
&lt;h2 id="部署">部署
&lt;/h2>&lt;p>部署 langfuse 非常简单，只需要做：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git clone https://github.com/langfuse/langfuse.git
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> langfuse
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker compose up -d
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这样一来就部署成功了。&lt;/p>
&lt;h2 id="替换">替换
&lt;/h2>&lt;p>如果之前使用 openai 的 sdk，我们可以这样来继续使用。&lt;/p>
&lt;p>项目中安装 langfuse&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">pip install langfuse
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>配置 API key，你需要在部署好的 langfuse 中使用。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">LANGFUSE_SECRET_KEY&lt;/span>&lt;span class="o">=&lt;/span>&amp;lt;secret key&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">LANGFUSE_PUBLIC_KEY&lt;/span>&lt;span class="o">=&lt;/span>&amp;lt;public key&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">LANGFUSE_HOST&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;http://localhost:3001&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>我这里设置 langfuse 的端口是 &lt;code>3001&lt;/code>；你应该根据你自己的配置来做。&lt;/p>
&lt;p>替换原本的 openai 即可。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># remove: import openai&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">langfuse.openai&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">openai&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>除此之外，langfuse 也支持 &lt;code>langchain&lt;/code> 和 &lt;code>llamaindex&lt;/code>，这里就不再赘述了。&lt;/p>
&lt;h2 id="思考">思考
&lt;/h2>&lt;p>coze 也在做大模型 agent 框架，但是思路不太一样。coze 正在做全部的内容，包括工作流以及 LLMs，比较封闭。&lt;/p>
&lt;p>但是 langfuse 相对开放，允许使用 langchain，使用其他的模型。&lt;/p>
&lt;p>作为开发者，小厂商，相比之下，我更喜欢 langfuse 的模式。因为我可以有更多的选择。但是，如果项目周期比较紧张，coze 又勉强能用，我会选择 coze。&lt;/p>
&lt;h2 id="问题">问题
&lt;/h2>&lt;ol>
&lt;li>当我替换掉 openai 的 sdk 时，发生了异常。&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">Unexpected error occurred. Please check your request and contact support: https://langfuse.com/support.
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>当我测试 &lt;code>test_langfuse.py&lt;/code> 的时候还是有问题。&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">os&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">langfuse.decorators&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">observe&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">langfuse.openai&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">openai&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@observe&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">story&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">openai&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">chat&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">completions&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">create&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">model&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;moonshot-v1-auto&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1"># kimi api 测试&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">max_tokens&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">messages&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="s2">&amp;#34;role&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;system&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;content&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;You are a great storyteller.&amp;#34;&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>&lt;span class="s2">&amp;#34;role&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;user&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;content&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;Once upon a time in a galaxy far, far away...&amp;#34;&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">.&lt;/span>&lt;span class="n">choices&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">.&lt;/span>&lt;span class="n">message&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">content&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@observe&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">story&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">test_langfuse&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assert&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">getenv&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;OPENAI_BASE_URL&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="ow">is&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="kc">None&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">assert&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">getenv&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;OPENAI_API_KEY&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="ow">is&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="kc">None&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>对于此问题，我开启了一个 &lt;a class="link" href="https://github.com/orgs/langfuse/discussions/6529" target="_blank" rel="noopener"
>discussion&lt;/a>。&lt;/p>
&lt;p>此外，如果想要查看原始代码，可以从 &lt;a class="link" href="https://github.com/svtter/pdf-reader" target="_blank" rel="noopener"
>https://github.com/svtter/pdf-reader&lt;/a> 中获取。&lt;/p></description></item><item><title>String Template in Prompt.md</title><link>https://svtter.cn/p/string-template-in-prompt.md/</link><pubDate>Fri, 18 Apr 2025 10:16:02 +0800</pubDate><guid>https://svtter.cn/p/string-template-in-prompt.md/</guid><description>&lt;img src="https://svtter.cn/p/string-template-in-prompt.md/image.png" alt="Featured image of post String Template in Prompt.md" />&lt;p>我在尝试编写 prompt 的时候，遇到了一个问题：&lt;code>KeyError: '\n &amp;quot;filename&amp;quot;'&lt;/code>.&lt;/p>
&lt;p>原因是我在 prompt 中是这样编写的：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-text" data-lang="text">&lt;span class="line">&lt;span class="cl">请以JSON格式返回结果，格式如下：
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;filename&amp;#34;: &amp;#34;文件名.csv&amp;#34;, // 如果没有明确提到文件名，填写null
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#34;content&amp;#34;: &amp;#34;第一行第一列,第一行第二列\n第二行第一列,第二行第二列\n...&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> },
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> // 更多CSV数据...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">文本内容如下：&amp;#34;&amp;#34;&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{text}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;#34;&amp;#34;&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>我是采用这种方式来调用的：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 获取上面的 prompt&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">prompt&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">get_prompt&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">prompt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">format&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">text&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">text&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>发现问题之后，我想能不能用&lt;code>langchain&lt;/code>的&lt;code>StringTemplate&lt;/code>绕过。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">langchain_core.prompts&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">PromptTemplate&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">prompt_template&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">PromptTemplate&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">from_template&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">prompt&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>结果也是报了同样的错误。&lt;code>KeyError: '\n &amp;quot;filename&amp;quot;'&lt;/code>。&lt;/p>
&lt;p>才发觉 &lt;code>StringTemplate&lt;/code> 底层应该也是用 &lt;code>string.format&lt;/code> 的方法去实现的。&lt;/p>
&lt;p>那么怎么办呢？用 &lt;code>jinja2&lt;/code>。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">jinja2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">prompt&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">get_prompt&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">prompt&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">jinja2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Template&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">prompt&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">render&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">text&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">text&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这样一来 render 就没有问题了。&lt;/p></description></item><item><title>Confused OpenAI SDK Compatibility.md</title><link>https://svtter.cn/p/confused-openai-sdk-compatibility.md/</link><pubDate>Thu, 17 Apr 2025 17:43:16 +0800</pubDate><guid>https://svtter.cn/p/confused-openai-sdk-compatibility.md/</guid><description>&lt;img src="https://svtter.cn/p/confused-openai-sdk-compatibility.md/background.png" alt="Featured image of post Confused OpenAI SDK Compatibility.md" />&lt;h2 id="需求">需求
&lt;/h2>&lt;p>为了分析一个 pdf 文件，我尝试使用 openai sdk 来调用 qwen 的接口。因为 qwen 声称了 openai 接口的兼容性，因此我尝试了一下。&lt;/p>
&lt;h2 id="方案">方案
&lt;/h2>&lt;p>我在调用&lt;code>client.files.create&lt;/code>接口时，是这样的：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># self.client = OpenAI(api_key=&amp;#39;...&amp;#39;, base_url=&amp;#39;qwen...&amp;#39;)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">file_object&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">client&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">files&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">create&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">file&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">file_path&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">purpose&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">file_purpose&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>起初，我将&lt;code>self.file_purpose=&amp;quot;file-extract&amp;quot;&lt;/code>。&lt;/p>
&lt;p>但是调用之后，我得到了一个这样的错误：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">openai.BadRequestError: Error code: &lt;span class="m">400&lt;/span> - &lt;span class="o">{&lt;/span>&lt;span class="s1">&amp;#39;error&amp;#39;&lt;/span>: &lt;span class="o">{&lt;/span>&lt;span class="s1">&amp;#39;message&amp;#39;&lt;/span>: &lt;span class="s1">&amp;#39;file purpose must be batch_output.&amp;#39;&lt;/span>, &lt;span class="s1">&amp;#39;type&amp;#39;&lt;/span>: &lt;span class="s1">&amp;#39;invalid_request_error&amp;#39;&lt;/span>, &lt;span class="s1">&amp;#39;param&amp;#39;&lt;/span>: None, &lt;span class="s1">&amp;#39;code&amp;#39;&lt;/span>: None&lt;span class="o">}}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>好吧，那我将其设置为&lt;code>batch_output&lt;/code>.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">file_purpose&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;batch_output&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>我得到了新的错误：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">openai.BadRequestError: Error code: &lt;span class="m">400&lt;/span> - &lt;span class="o">{&lt;/span>&lt;span class="s1">&amp;#39;error&amp;#39;&lt;/span>: &lt;span class="o">{&lt;/span>&lt;span class="s1">&amp;#39;message&amp;#39;&lt;/span>: &lt;span class="s2">&amp;#34;&amp;#39;purpose&amp;#39; must be one of [&amp;#39;file-extract&amp;#39;, &amp;#39;batch&amp;#39;]&amp;#34;&lt;/span>, &lt;span class="s1">&amp;#39;type&amp;#39;&lt;/span>: &lt;span class="s1">&amp;#39;invalid_request_error&amp;#39;&lt;/span>, &lt;span class="s1">&amp;#39;param&amp;#39;&lt;/span>: &lt;span class="s1">&amp;#39;purpose&amp;#39;&lt;/span>, &lt;span class="s1">&amp;#39;code&amp;#39;&lt;/span>: None&lt;span class="o">}}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>然后我改回了&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">file_purpose&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;file-extract&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>然后我又得到了原来的错误：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">openai.BadRequestError: Error code: &lt;span class="m">400&lt;/span> - &lt;span class="o">{&lt;/span>&lt;span class="s1">&amp;#39;error&amp;#39;&lt;/span>: &lt;span class="o">{&lt;/span>&lt;span class="s1">&amp;#39;message&amp;#39;&lt;/span>: &lt;span class="s1">&amp;#39;file purpose must be batch_output.&amp;#39;&lt;/span>, &lt;span class="s1">&amp;#39;type&amp;#39;&lt;/span>: &lt;span class="s1">&amp;#39;invalid_request_error&amp;#39;&lt;/span>, &lt;span class="s1">&amp;#39;param&amp;#39;&lt;/span>: None, &lt;span class="s1">&amp;#39;code&amp;#39;&lt;/span>: None&lt;span class="o">}}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;center>
&lt;img src="https://svtter.cn/memos/si.jpg" />
&lt;/center>
&lt;p>暂时没有解决方案。给大家看个乐子。&lt;/p>
&lt;h2 id="后续">后续
&lt;/h2>&lt;p>我将 API 地址切换成了 zhipu。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Zhipu&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Chat&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="fm">__init__&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">super&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="fm">__init__&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">client&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">OpenAI&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">api_key&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">getenv&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;ZHIPU_API_KEY&amp;#34;&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">base_url&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;https://open.bigmodel.cn/api/paas/v4&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">support_file_id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">True&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">file_purpose&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;file-extract&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>一次就跑通了。&lt;/p>
&lt;h2 id="后续-2">后续 2
&lt;/h2>&lt;p>百联平台，我找到了对应的&lt;a class="link" href="https://help.aliyun.com/zh/model-studio/developer-reference/openai-file-interface" target="_blank" rel="noopener"
>接口文档&lt;/a>。&lt;/p>
&lt;p>有空再测测。&lt;/p></description></item><item><title>Knowledge of PPOCR.md</title><link>https://svtter.cn/p/knowledge-of-ppocr.md/</link><pubDate>Mon, 14 Apr 2025 18:11:00 +0800</pubDate><guid>https://svtter.cn/p/knowledge-of-ppocr.md/</guid><description>&lt;img src="https://svtter.cn/p/knowledge-of-ppocr.md/background.jpg" alt="Featured image of post Knowledge of PPOCR.md" />&lt;p>我在 2.7 版本中使用的 ppocrlabel 组件，被迁移到了单独的 &lt;a class="link" href="https://github.com/PFCCLab/PPOCRLabel" target="_blank" rel="noopener"
>PPOCRLabel&lt;/a>。&lt;/p>
&lt;h2 id="ppocrlabel">PPOCRLabel
&lt;/h2>&lt;p>可以通过 ppocrlabel 组件，使用模型对图像进行预标记，然后在手动进行自主标记。&lt;/p>
&lt;p>这种方式可以极大的降低标注的成本。&lt;/p>
&lt;p>关于 &lt;a class="link" href="" >paddleocr&lt;/a> 的知识，以后都会在这个博客下面更新。&lt;/p>
&lt;p>在部署 paddle 的时候遇到了一些问题，这里记录一下。&lt;/p>
&lt;h2 id="notebook-related">Notebook Related
&lt;/h2>&lt;ol>
&lt;li>我使用镜像&lt;code>registry.baidubce.com/paddlepaddle/paddle:2.4.2&lt;/code>，安装&lt;code>notebook&lt;/code>，无法打开:&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://svtter.cn/p/knowledge-of-ppocr.md/pics/paddle-note-error.png"
width="1832"
height="414"
srcset="https://svtter.cn/p/knowledge-of-ppocr.md/pics/paddle-note-error_hu_c106deaf2249524f.png 480w, https://svtter.cn/p/knowledge-of-ppocr.md/pics/paddle-note-error_hu_a87e63bcde44b288.png 1024w"
loading="lazy"
alt="error"
class="gallery-image"
data-flex-grow="442"
data-flex-basis="1062px"
>&lt;/p>
&lt;ol start="2">
&lt;li>paddle:2.4 以上的版本，如果 CPU 不支持 AVX，那么是无法运行的。&lt;/li>
&lt;/ol>
&lt;p>我尝试部署了一个 paddle 模型，最后通过使用&lt;code>PaddleOCR&lt;/code>这个类完成了推理。其他的方法推理都不太行。&lt;/p>
&lt;p>实际上 paddle 在 ocr 方面做的很出色了，兼顾了很多细节。&lt;/p>
&lt;p>但是,由于文档使用的工具链上有不够细致的地方，导致用户不太舒服。&lt;/p></description></item><item><title>Draw Subfig and making subplot.md</title><link>https://svtter.cn/p/draw-subfig-and-making-subplot.md/</link><pubDate>Tue, 08 Apr 2025 10:17:09 +0800</pubDate><guid>https://svtter.cn/p/draw-subfig-and-making-subplot.md/</guid><description>&lt;img src="https://svtter.cn/p/draw-subfig-and-making-subplot.md/Figure_1.png" alt="Featured image of post Draw Subfig and making subplot.md" />&lt;p>创建子图来进行图像浏览，灵活性很强，但是经常忘记怎么用，这里特意写一个博客，来强化一下记忆。&lt;/p>
&lt;h2 id="绘制子图">绘制子图
&lt;/h2>&lt;p>首先，在某个位置绘制子图，需要调用 &lt;code>plt.subplot&lt;/code> 方法。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">matplotlib.pyplot&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">plt&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">subplot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">nrows&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ncols&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">index&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>分别是行列以及子图编号。我之前经常不记得 index 是子图编号。&lt;/p>
&lt;p>在绘制子图之前，首先要创建子图。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 创建子图&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">figure&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">figsize&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="例子">例子
&lt;/h2>&lt;p>接下来， 是一个完整的例子。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">matplotlib.pyplot&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">plt&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">numpy&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">np&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 创建数据&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">linspace&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">y1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sin&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">y2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">cos&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">y3&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tan&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 创建子图&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">figure&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">figsize&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 第一个子图&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">subplot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># 2行2列的第1个&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">plot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">y1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">label&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;sin(x)&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">title&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Sine Wave&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">legend&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 第二个子图&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">subplot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># 2行2列的第2个&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">plot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">y2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">label&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;cos(x)&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">title&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Cosine Wave&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">legend&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 第三个子图&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">subplot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># 2行2列的第3个&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">plot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">y3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">label&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;tan(x)&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">title&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Tangent Wave&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">legend&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 第四个子图&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">subplot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># 2行2列的第4个&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">plot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">y1&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">y2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">label&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;sin(x) + cos(x)&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">title&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Sum of Sine and Cosine&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">legend&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 显示图形&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tight_layout&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1"># 自动调整子图间距&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">show&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="效果图">效果图
&lt;/h3>&lt;p>&lt;img src="https://svtter.cn/p/draw-subfig-and-making-subplot.md/Figure_1.png"
width="1000"
height="600"
srcset="https://svtter.cn/p/draw-subfig-and-making-subplot.md/Figure_1_hu_2f717dbb32c2b091.png 480w, https://svtter.cn/p/draw-subfig-and-making-subplot.md/Figure_1_hu_77282dea2c42b334.png 1024w"
loading="lazy"
class="gallery-image"
data-flex-grow="166"
data-flex-basis="400px"
>&lt;/p>
&lt;p>如果想要查看 (32, 1, 192, 32) shape 的图像，实际上还可以使用 torchvision 提供的工具函数。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">torchvision.utils&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">vutils&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 将图片制作成网格&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">grid_img&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">vutils&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">make_grid&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">nrow&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">padding&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 可视化网格图片&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">figure&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">figsize&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">imshow&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">grid_img&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">permute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="c1"># 调整通道顺序以适应 matplotlib 的要求&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">axis&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;off&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">show&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="n">j&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Diffusion Model.md</title><link>https://svtter.cn/p/diffusion-model.md/</link><pubDate>Sat, 05 Apr 2025 21:51:38 +0800</pubDate><guid>https://svtter.cn/p/diffusion-model.md/</guid><description>&lt;img src="https://svtter.cn/p/diffusion-model.md/noise-dog.png" alt="Featured image of post Diffusion Model.md" />&lt;p>深度学习的魅力在于，一旦有新的任务在某些架构上获得了新的性能，许多其他任务可以参考这个架构，进而从中受益。&lt;/p>
&lt;p>我想，diffusion model 是一个典型的模型。虽然我不进行 diffusion model 的相关研究，目前也没有相关的项目与之有关，但是了解一下这个网络架构并没有坏处。&lt;/p>
&lt;p>diffusion model 是一个从图像处理过程中受益的模型。&lt;/p>
&lt;p>diffusion model 通过学习图像增加噪声的逆过程，从而学习到了从噪声中生成图像的能力。&lt;/p>
&lt;p>&lt;img src="https://svtter.cn/p/diffusion-model.md/noise-dog.png"
width="2992"
height="668"
srcset="https://svtter.cn/p/diffusion-model.md/noise-dog_hu_c99a3a942e0e9506.png 480w, https://svtter.cn/p/diffusion-model.md/noise-dog_hu_ad0c92868aa71fcd.png 1024w"
loading="lazy"
alt="noise-dog"
class="gallery-image"
data-flex-grow="447"
data-flex-basis="1074px"
>&lt;/p>
&lt;p>为了能够让模型获得更好的性能，将模型的降噪 step 作为输入之一。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">noise image -&amp;gt; -------------
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> | |----&amp;gt; cleared image
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">step (int) -&amp;gt; | denoiser |
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> | |
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> --------------|
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Prompt is a soft Contrain.md</title><link>https://svtter.cn/p/prompt-is-a-soft-contrain.md/</link><pubDate>Fri, 04 Apr 2025 11:20:42 +0800</pubDate><guid>https://svtter.cn/p/prompt-is-a-soft-contrain.md/</guid><description>&lt;img src="https://svtter.cn/p/prompt-is-a-soft-contrain.md/ds.jpg" alt="Featured image of post Prompt is a soft Contrain.md" />&lt;p>大语言模型的提示词本质上是一种软约束（soft contrain）。&lt;/p>
&lt;p>我们经常会发现，尽管我们对大模型提出了要求，这种要求往往是通过提示词实现的，但大模型仍然会输出超出我们要求的内容。&lt;/p>
&lt;p>因此，这种要求不是硬性的，永远都会有极小的可能性会出现问题。例如 CRNN，也一定会出现识别的字符串超出原本字符串长度的情况。&lt;/p>
&lt;p>进而，工程师在设计基于 LLMs 的应用时，应该将这部分考虑进去。毕竟，如果&lt;code>int a = 10; print(a);&lt;/code> 的输出一般就是&lt;code>10&lt;/code>。&lt;/p>
&lt;p>工程师为了能够让预训练的大模型能够更好的与人进行沟通（chat），往往在训练后会对大模型进行微调(fine tune)。&lt;/p>
&lt;p>这种微调，某种程度上就是使用一些已有的 prompt 和回答，对模型进行训练。&lt;/p>
&lt;p>因此，prompt engineering 的意义就是，使得 prompt 能够和微调的数据集进行匹配，从而使得模型能够获得更好的性能。&lt;/p></description></item><item><title>Using uv.md</title><link>https://svtter.cn/p/using-uv.md/</link><pubDate>Sun, 30 Mar 2025 14:33:34 +0800</pubDate><guid>https://svtter.cn/p/using-uv.md/</guid><description>&lt;img src="https://svtter.cn/p/using-uv.md/image.png" alt="Featured image of post Using uv.md" />&lt;p>近期我开始大量的使用 uv 而不是 pdm 了。&lt;/p>
&lt;h2 id="knowledge-piece">knowledge piece
&lt;/h2>&lt;p>&lt;code>uvx&lt;/code> could replace &lt;code>pipx&lt;/code>.&lt;/p>
&lt;p>The uvx command invokes a tool without installing it.&lt;/p>
&lt;p>For example, to run &lt;code>ruff&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">uvx ruff
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Config devcontainer.md</title><link>https://svtter.cn/p/config-devcontainer.md/</link><pubDate>Wed, 26 Mar 2025 20:17:47 +0800</pubDate><guid>https://svtter.cn/p/config-devcontainer.md/</guid><description>&lt;img src="https://svtter.cn/p/config-devcontainer.md/image.png" alt="Featured image of post Config devcontainer.md" />&lt;p>有时候，尽管我们启动一个 docker 环境可以执行代码，但是 vscode 补全未能生效。&lt;/p>
&lt;p>这是由于相关的库都在 container 中，我们 vscode 一般是运行在 host os 上。&lt;/p>
&lt;p>为了解决这个问题，我们可以在项目根目录下，使用 docker-compose.yml 来创建一个开发环境。&lt;/p>
&lt;p>然后，创建一个&lt;code>.devcontainer/devcontainer.json&lt;/code>文件。&lt;/p>
&lt;p>例如，如果你要开发 python 的程序，可以使用下面的 &lt;code>.devcontainer/devcontainer.json&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;MyPython&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;dockerComposeFile&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;../docker-compose.yml&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;service&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;notebook&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="err">#&lt;/span> &lt;span class="err">service&lt;/span> &lt;span class="err">in&lt;/span> &lt;span class="err">your&lt;/span> &lt;span class="err">docker-compose.yml&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;workspaceFolder&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;/app&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;shutdownAction&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;none&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;customizations&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;vscode&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;extensions&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;ms-python.python&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;ms-azuretools.vscode-docker&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;tamasfe.even-better-toml&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;charliermarsh.ruff&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;ms-python.black-formatter&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;ms-toolsai.jupyter&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>如此一来，就可以启动一个安装好相关环境的『子』系统了。&lt;/p>
&lt;p>深入阅读：&lt;a class="link" href="https://blog.roboflow.com/nvidia-docker-vscode-pytorch/#installing-docker-for-machine-learning" target="_blank" rel="noopener"
>Develop like a Pro with NVIDIA + Docker + VS Code + PyTorch&lt;/a>。&lt;/p></description></item><item><title>A Docker Image for Computer Vision</title><link>https://svtter.cn/p/a-docker-image-for-computer-vision/</link><pubDate>Wed, 26 Mar 2025 19:57:22 +0800</pubDate><guid>https://svtter.cn/p/a-docker-image-for-computer-vision/</guid><description>&lt;img src="https://svtter.cn/p/a-docker-image-for-computer-vision/image.png" alt="Featured image of post A Docker Image for Computer Vision" />&lt;p>我们在调试深度学习代码的时候，经常会因为环境的问题而头痛。&lt;/p>
&lt;p>为了方便调试，把 pytorch cuda 等环境打成 docker image 是一个很不错的选择。&lt;/p>
&lt;h2 id="为什么">为什么？
&lt;/h2>&lt;ul>
&lt;li>时间节省：反复配置和调整版本会浪费时间，导致花费大量的时间在 ops 的工作上。&lt;/li>
&lt;li>环境稳定：docker image 构建之后是静态的，直接拉取即可。&lt;/li>
&lt;li>迁移方便：可以在不同机器上迁移已经配置好的环境&lt;/li>
&lt;/ul>
&lt;h2 id="如何构建">如何构建
&lt;/h2>&lt;p>这是一个 Docker Image 示例，用于将深度学习环境打包：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-Dockerfile" data-lang="Dockerfile">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># 可以改成你需要的 pytorch 版本&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="s"> pytorch/pytorch:2.4.1-cuda11.8-cudnn9-devel&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># 这些是常用的包&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> apt-get update &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> apt-get install git zsh ffmpeg libsm6 libxext6 -y &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> apt-get clean &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> rm -rf /var/lib/apt/lists/*&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">WORKDIR&lt;/span>&lt;span class="s"> /app&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># 放在代码库的根目录下，可以安装 requirements.txt&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> requirements.txt .&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> pip install -r requirements.txt&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># install jupyterlab&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> pip install jupyterlab&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># COPY . .&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># 使用 jupyterlab 托管，可以快速启动，token 是`yourtoken`。如果你在公网使用，要考虑使用更复杂的 token。&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">CMD&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;jupyter&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;lab&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--ip=0.0.0.0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--port=8888&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--no-browser&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--allow-root&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--NotebookApp.token=yourtoken&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这个示例安装了一些基础的类库，通过 pip 即可安装 &lt;code>opencv-python&lt;/code>。&lt;/p>
&lt;p>将&lt;code>Dockerfile&lt;/code>放在目录下，然后可以使用&lt;code>docker compose&lt;/code>启动。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">notebook&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">build&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">context&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">dockerfile&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Dockerfile&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># 还可以挂载自己需要的 dataset&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">.:/app&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">~/.ssh:/root/.ssh&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># 支持 ssh&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">8888&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="m">8888&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">shm_size&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;32gb&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">deploy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">resources&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">reservations&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">devices&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">driver&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">nvidia&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">count&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">all&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">capabilities&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="l">gpu]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>启动命令是：&lt;code>docker compose up -d&lt;/code>.&lt;/p>
&lt;h2 id="从-dockerhub-上下载">从 Dockerhub 上下载
&lt;/h2>&lt;p>为了方便大家直接使用，我将这个镜像打包，并且上传到了 dockerhub。下载命令是：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">docker pull svtter/debian-pytorch
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>源代码可以从这里获得：&lt;/p>
&lt;script src="https://tarptaeya.github.io/repo-card/repo-card.js">&lt;/script>
&lt;!-- inside body, where you want to create the card -->
&lt;div class="repo-card" data-repo="Svtter/debian-pytorch">&lt;/div></description></item><item><title>Read Code of CLIP.md</title><link>https://svtter.cn/p/read-code-of-clip.md/</link><pubDate>Wed, 19 Mar 2025 13:23:50 +0800</pubDate><guid>https://svtter.cn/p/read-code-of-clip.md/</guid><description>&lt;img src="https://svtter.cn/p/read-code-of-clip.md/image.png" alt="Featured image of post Read Code of CLIP.md" />&lt;p>Contrastive Language-Image Pre-Training (CLIP) 是 openai 的经典工作之一。出自论文&lt;a class="link" href="https://arxiv.org/abs/2103.00020" target="_blank" rel="noopener"
>&lt;/a>&lt;/p>
&lt;p>为了能够在 CLIP 上完成我的新 idea，我尝试阅读 &lt;a class="link" href="https://github.com/openai/CLIP" target="_blank" rel="noopener"
>openai/clip&lt;/a> 来理解 clip 在 classifier 上的基本工作原理。&lt;/p>
&lt;p>这是 &lt;a class="link" href="https://github.com/openai/CLIP" target="_blank" rel="noopener"
>openai/clip&lt;/a> 给出的 python 样例代码&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">torch&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">clip&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">PIL&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">Image&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">device&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;cuda&amp;#34;&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">cuda&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">is_available&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="s2">&amp;#34;cpu&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">model&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">preprocess&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">clip&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">load&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;ViT-B/32&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">device&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">device&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">image&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">preprocess&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Image&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;CLIP.png&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">unsqueeze&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">to&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">device&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">text&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">clip&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tokenize&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="s2">&amp;#34;a diagram&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;a dog&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;a cat&amp;#34;&lt;/span>&lt;span class="p">])&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">to&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">device&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">with&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">no_grad&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">image_features&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">model&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">encode_image&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">image&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">text_features&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">model&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">encode_text&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">text&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">logits_per_image&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">logits_per_text&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">model&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">image&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">text&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">probs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">logits_per_image&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">softmax&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">dim&lt;/span>&lt;span class="o">=-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">cpu&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">numpy&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Label probs:&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">probs&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># prints: [[0.9927937 0.00421068 0.00299572]]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>load 函数用于加载特定的 openai 模型。这里是基于&lt;code>ViT-B/32&lt;/code>，一个 Vision Transformer 32B。&lt;/p>
&lt;p>可以看到，如果 openai 支持的 vision encoder 大概有如下几种：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">_MODELS&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;RN50&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;https://openaipublic.azureedge.net/clip/models/afeb0e10f9e5a86da6080e35cf09123aca3b358a0c3e3b6c78a7b63bc04b6762/RN50.pt&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;RN101&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;https://openaipublic.azureedge.net/clip/models/8fa8567bab74a42d41c5915025a8e4538c3bdbe8804a470a72f30b0d94fab599/RN101.pt&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;RN50x4&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;https://openaipublic.azureedge.net/clip/models/7e526bd135e493cef0776de27d5f42653e6b4c8bf9e0f653bb11773263205fdd/RN50x4.pt&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;RN50x16&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;https://openaipublic.azureedge.net/clip/models/52378b407f34354e150460fe41077663dd5b39c54cd0bfd2b27167a4a06ec9aa/RN50x16.pt&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;RN50x64&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;https://openaipublic.azureedge.net/clip/models/be1cfb55d75a9666199fb2206c106743da0f6468c9d327f3e0d0a543a9919d9c/RN50x64.pt&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;ViT-B/32&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;https://openaipublic.azureedge.net/clip/models/40d365715913c9da98579312b702a82c18be219cc2a73407c4526f58eba950af/ViT-B-32.pt&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;ViT-B/16&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;https://openaipublic.azureedge.net/clip/models/5806e77cd80f8b59890b7e101eabd078d9fb84e6937f9e85e4ecb61988df416f/ViT-B-16.pt&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;ViT-L/14&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;https://openaipublic.azureedge.net/clip/models/b8cca3fd41ae0c99ba7e8951adf17d267cdb84cd88be6f7c2e0eca1737a03836/ViT-L-14.pt&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;ViT-L/14@336px&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;https://openaipublic.azureedge.net/clip/models/3035c92b350959924f9f00213499208652fc7ea050643e8b385c2dac08641f02/ViT-L-14-336px.pt&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>我们假设模型已经下载完成，让我们看看 _tranform 预处理工作是如何进行的：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">_transform&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n_px&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">Compose&lt;/span>&lt;span class="p">([&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Resize&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n_px&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">interpolation&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">BICUBIC&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">CenterCrop&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n_px&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">_convert_image_to_rgb&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ToTensor&lt;/span>&lt;span class="p">(),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Normalize&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="mf">0.48145466&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.4578275&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.40821073&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="mf">0.26862954&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.26130258&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.27577711&lt;/span>&lt;span class="p">)),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>也不是很复杂，预处理&lt;code>Normalize&lt;/code>参数虽然不太明白。似乎是用的 ViT 同样的预处理参数。&lt;/p>
&lt;p>然后进入模型加载阶段，我们可以看到，如果不是 &lt;a class="link" href="https://chenglu.me/blogs/pytorch-jit" target="_blank" rel="noopener"
>jit 加载&lt;/a> ，那么模型会选择 state_dict 的模式。
通过加载 state_dict 的过程，我们可以看到 build_model 函数用于加载权重，将权重赋值给已有的模型结构。&lt;/p>
&lt;p>这个模型结构的文件是&lt;a class="link" href="https://github.com/openai/CLIP/blob/main/clip/model.py" target="_blank" rel="noopener"
>model.py&lt;/a>。
因此，CLIP 的主要代码位于&lt;a class="link" href="https://github.com/openai/CLIP/blob/main/clip/model.py#L243" target="_blank" rel="noopener"
>model.py#L243&lt;/a>。&lt;/p>
&lt;p>image_encoder 和 text_encoder 的输出，分别是两个不同的特征 tensor。&lt;/p>
&lt;p>将两个 tensor 进行矩阵乘积，分别得到一个相似性矩阵。这个相似性矩阵的大小是 &lt;code>(batch_size, batch_size)&lt;/code>。&lt;/p>
&lt;blockquote>
&lt;p>TIPS: 如果说 batch-size 太小，为1，那么对比学习的性能可能就大打折扣了。&lt;/p>&lt;/blockquote>
&lt;p>这两个 tensor 使用 symmetric cross-entropy loss 进行计算，来用于更新网络权重。&lt;/p>
&lt;p>专门做智能指标的提升，不太在意计算量。不追求最新最高的智能指标，更加关注模型计算的运行效率。&lt;/p>
&lt;blockquote>
&lt;p>trick: 给参数加一个 log 来使得权重更新没有那么剧烈，计算起来没有那么大。&lt;/p>&lt;/blockquote>
&lt;p>&lt;a class="link" href="https://github.com/openai/CLIP" target="_blank" rel="noopener"
>CLIP&lt;/a> 代码中没有给出能够直接进行训练的代码。下一篇文章，尝试阅读一下 openclip。&lt;/p></description></item><item><title>Create a Never Stop Container.md</title><link>https://svtter.cn/p/create-a-never-stop-container.md/</link><pubDate>Fri, 14 Mar 2025 16:45:58 +0800</pubDate><guid>https://svtter.cn/p/create-a-never-stop-container.md/</guid><description>&lt;img src="https://svtter.cn/p/create-a-never-stop-container.md/background.png" alt="Featured image of post Create a Never Stop Container.md" />&lt;p>有时候我们需要启动一个不停止的容器，来调试我们的应用，或者使用 devcontainer。&lt;/p>
&lt;p>如果我们想在 &lt;code>Dockerfile&lt;/code> 中完成这个事情，我们可以添加这个&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-Dockerfile" data-lang="Dockerfile">&lt;span class="line">&lt;span class="cl">...&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># 其他内容&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">ENTRYPOINT&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;tail&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;-f&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;/dev/null&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>如果是 &lt;code>docker-compose.yml&lt;/code>，我们可以这样做&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">your-app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">entrypoint&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;tail&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;-f&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;/dev/null&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>如此一来，这个容器就不会停止了。&lt;/p></description></item><item><title>Using Sshfs to Mount Remote Folder.md</title><link>https://svtter.cn/p/using-sshfs-to-mount-remote-folder.md/</link><pubDate>Thu, 13 Mar 2025 16:04:12 +0800</pubDate><guid>https://svtter.cn/p/using-sshfs-to-mount-remote-folder.md/</guid><description>&lt;p>因为操作远程目录不是很容易，我之前一直倾向于采用 nfs 来挂载磁盘。但是 nfs 磁盘配置起来并不简单，涉及到权限等一系列问题。&lt;/p>
&lt;p>因此，如果只是图方便操作，实际上 sshfs 是一个更好的选择。&lt;/p>
&lt;h2 id="安装">安装
&lt;/h2>&lt;p>如果使用 &lt;code>ubuntu/debian&lt;/code> 系统，可以直接在客户机上使用: &lt;code>apt install sshfs -y&lt;/code> 来进行安装。&lt;/p>
&lt;h2 id="使用">使用
&lt;/h2>&lt;p>例如，如果我希望挂载远程主机的一个目录，我可以这样做&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sshfs user@host:/home/user/Downloads ./downloads
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这样一来，就可以在本地对该内容进行操作了。&lt;/p>
&lt;p>当然，这样做的前提是，远程主机本身支持 ssh 登录。sshfs 底层是使用 ssh 技术来支撑的。&lt;/p>
&lt;p>实际上，之前就采用过 sshfs 的技术来同步数据。但由于时间久远，忘记了这个技术的存在。&lt;/p>
&lt;p>这里写一篇小文章，用于记录一下。&lt;/p></description></item><item><title>Reimplment MAE Work Path.md</title><link>https://svtter.cn/p/reimplment-mae-work-path.md/</link><pubDate>Wed, 12 Mar 2025 11:12:03 +0800</pubDate><guid>https://svtter.cn/p/reimplment-mae-work-path.md/</guid><description>&lt;img src="https://svtter.cn/p/reimplment-mae-work-path.md/arch.png" alt="Featured image of post Reimplment MAE Work Path.md" />&lt;p>这两天我一直在尝试复现 MAE，与我的数据进行结合，来做出一点新的东西。&lt;/p>
&lt;h2 id="offical-mae">Offical MAE
&lt;/h2>&lt;p>我首先从 meta 的&lt;a class="link" href="https://github.com/facebookresearch/mae" target="_blank" rel="noopener"
>官方仓库&lt;/a>开始。我成功跑通了 demo，但是发现仍然有些问题。&lt;a class="link" href="https://ai.meta.com/blog/open-sourcing-submitit-a-lightweight-tool-for-slurm-cluster-computation/" target="_blank" rel="noopener"
>submitit&lt;/a> 是 meta 开源的集群任务提交工具。这个代码使用的应该是 meta 内部使用的训练集群，基于 &lt;a class="link" href="https://slurm.schedmd.com/quickstart.html" target="_blank" rel="noopener"
>slurm&lt;/a>。我无法访问这个集群。而且&lt;a class="link" href="https://slurm.schedmd.com/quickstart_admin.html" target="_blank" rel="noopener"
>部署slurm&lt;/a> 集群可能很麻烦。因此作罢。&lt;/p>
&lt;h3 id="tips">Tips
&lt;/h3>&lt;p>使用开源工具是对的。内部的私有工具无法迁移到下一个团队，重新学习的成本比较高。开源工具一般没有这个限制，可以打通切换团队后的协作。&lt;/p>
&lt;h3 id="dockerfile">Dockerfile
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-Dockerfile" data-lang="Dockerfile">&lt;span class="line">&lt;span class="cl">&lt;span class="k">FROM&lt;/span>&lt;span class="s"> pytorch/pytorch:1.11.0-cuda11.3-cudnn8-devel&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> pip install jupyterlab &lt;span class="s2">&amp;#34;numpy&amp;lt;1.20&amp;#34;&lt;/span> &lt;span class="s2">&amp;#34;timm==0.4.5&amp;#34;&lt;/span> matplotlib -i https://mirrors.sustech.edu.cn/pypi/simple&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> rm /etc/apt/sources.list.d/cuda.list &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> rm /etc/apt/sources.list.d/nvidia-ml.list &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> apt-get update &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> apt-get install -y wget&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">CMD&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;jupyter&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;lab&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--ip=0.0.0.0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--port=8888&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--no-browser&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--allow-root&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--NotebookApp.token=&amp;#39;abcd&amp;#39;&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>使用上面这个 Dockerfile 可以跑通环境。&lt;/p>
&lt;h2 id="mae-pytorch">MAE-pytorch
&lt;/h2>&lt;p>之后我想使用 pytorch lightning 来跑一下 MAE。现在训练的显卡够用，但是 pytorch 直接写 DDP 比较麻烦。于是我参考了 &lt;a class="link" href="https://github.com/mtrazzak/mae-pytorch" target="_blank" rel="noopener"
>mae-pytorch&lt;/a>。&lt;/p>
&lt;p>但是训练之后发现，似乎对 lightning 的适配不是很好。我调整了 &lt;code>num_gpus&lt;/code> 参数，训练仍然不顺。&lt;/p>
&lt;p>&lt;a class="link" href="https://gist.github.com/Svtter/f4416107d99d69d3a3c48a6eae918411" target="_blank" rel="noopener"
>https://gist.github.com/Svtter/f4416107d99d69d3a3c48a6eae918411&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">File&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">workspace&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">mae&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">py&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">145&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">MaskedAutoencoderLIT&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">generate_grid_of_samples&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">true_images&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">pred_patch&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">mask&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">144&lt;/span> &lt;span class="n">pred_images&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">res&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">sample_indices&lt;/span>&lt;span class="p">][:,&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">]]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">--&amp;gt;&lt;/span> &lt;span class="mi">145&lt;/span> &lt;span class="n">true_image_grid&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">true_images&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">sample_indices&lt;/span>&lt;span class="p">][:,&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">]]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="mi">147&lt;/span> &lt;span class="n">grid_images&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">cat&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="n">true_image_grid&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">pred_images&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">dim&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="ne">RuntimeError&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">CUDA&lt;/span> &lt;span class="n">error&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">device&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">side&lt;/span> &lt;span class="k">assert&lt;/span> &lt;span class="n">triggered&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">CUDA&lt;/span> &lt;span class="n">kernel&lt;/span> &lt;span class="n">errors&lt;/span> &lt;span class="n">might&lt;/span> &lt;span class="n">be&lt;/span> &lt;span class="n">asynchronously&lt;/span> &lt;span class="n">reported&lt;/span> &lt;span class="n">at&lt;/span> &lt;span class="n">some&lt;/span> &lt;span class="n">other&lt;/span> &lt;span class="n">API&lt;/span> &lt;span class="n">call&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">so&lt;/span> &lt;span class="n">the&lt;/span> &lt;span class="n">stacktrace&lt;/span> &lt;span class="n">below&lt;/span> &lt;span class="n">might&lt;/span> &lt;span class="n">be&lt;/span> &lt;span class="n">incorrect&lt;/span>&lt;span class="o">.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">For&lt;/span> &lt;span class="n">debugging&lt;/span> &lt;span class="n">consider&lt;/span> &lt;span class="n">passing&lt;/span> &lt;span class="n">CUDA_LAUNCH_BLOCKING&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Compile&lt;/span> &lt;span class="k">with&lt;/span> &lt;span class="err">`&lt;/span>&lt;span class="n">TORCH_USE_CUDA_DSA&lt;/span>&lt;span class="err">`&lt;/span> &lt;span class="n">to&lt;/span> &lt;span class="n">enable&lt;/span> &lt;span class="n">device&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">side&lt;/span> &lt;span class="n">assertions&lt;/span>&lt;span class="o">.&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="imagenet-的问题">ImageNet 的问题
&lt;/h3>&lt;p>而且 &lt;strong>ImageNet 我本地没有相关的数据&lt;/strong>，重新下载也是比较麻烦。（虽然可以用 pretrain weights）。&lt;/p>
&lt;p>我下载了 &lt;a class="link" href="https://www.kaggle.com/c/tiny-imagenet" target="_blank" rel="noopener"
>tiny-imagenet&lt;/a>，但是没能起到作用。&lt;/p>
&lt;p>我尝试了一下，能跑通 MNIST + resize，也就是 &lt;code>Tutorial.ipynb&lt;/code> 的内容。因为并行训练的重新调优比较麻烦，我暂时放下，再去看看其他的库。&lt;/p>
&lt;p>ImageNet 体积比较大，大家一般会使用小型 imagenet 来做一些测试。例如 &lt;a class="link" href="https://github.com/ultralytics/yolov5/issues/11028" target="_blank" rel="noopener"
>yolo-v5 issue&lt;/a> 中所表述的。&lt;/p>
&lt;h4 id="imagenet-100">imagenet-100
&lt;/h4>&lt;p>imagenet 往往太大了，我们可用一些小型的数据集去验证模型；但是 shape 和文件结构需要与 imagenet 一致。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">kagglehub&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Download latest version&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">path&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">kagglehub&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">dataset_download&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;ambityga/imagenet100&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Path to dataset files:&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">path&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="dockerfile-1">Dockerfile
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-Dockerfile" data-lang="Dockerfile">&lt;span class="line">&lt;span class="cl">&lt;span class="k">FROM&lt;/span>&lt;span class="s"> pytorch/pytorch:2.4.1-cuda11.8-cudnn9-devel&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">WORKDIR&lt;/span>&lt;span class="s"> /workspace&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> requirements.txt .&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> pip install -r requirements.txt -i https://mirrors.sustech.edu.cn/pypi/web/simple &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> pip install jupyterlab matplotlib&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">CMD&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;jupyter&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;lab&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--ip=0.0.0.0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--port=8888&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--no-browser&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--allow-root&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--NotebookApp.token=&amp;#39;abcd&amp;#39;&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="solo-learn">solo learn
&lt;/h2>&lt;p>&lt;a class="link" href="https://github.com/vturrisi/solo-learn?tab=readme-ov-file" target="_blank" rel="noopener"
>solo-learn&lt;/a> 是发表在 IJML 的一个工作。主要实现了 self-regression 的相关方法。他们使用了一个我之前没有使用过的库&lt;a class="link" href="https://github.com/NVIDIA/DALI" target="_blank" rel="noopener"
>NVIDIA/DALI&lt;/a>&lt;/p>
&lt;p>我使用了 MAE_pytorch 的 Dockerfile，做了一些调整。&lt;/p>
&lt;h3 id="start">Start
&lt;/h3>&lt;p>做分类任务，参考文档 &lt;a class="link" href="https://solo-learn.readthedocs.io/en/latest/tutorials/offline_linear_eval.html" target="_blank" rel="noopener"
>offline-linear-eval&lt;/a>.&lt;/p>
&lt;p>首先是文档有点问题，&lt;code>from solo.utils ...&lt;/code> 应该改为 &lt;code>from solo.data...&lt;/code>。&lt;/p>
&lt;p>这个库使用了 &lt;a class="link" href="https://hydra.cc/docs/intro/" target="_blank" rel="noopener"
>hydra&lt;/a> 以及 &lt;a class="link" href="https://omegaconf.readthedocs.io/en/2.3_branch/" target="_blank" rel="noopener"
>omegaconf&lt;/a>。&lt;/p>
&lt;p>&lt;a class="link" href="https://hydra.cc/docs/intro/" target="_blank" rel="noopener"
>hydra&lt;/a> 可以比较有效的去处理配置重叠的情况。我之前写类似的东西，都是一个一个类，然后不停的嵌套嵌套。这样看，hydra 确实方便很多。&lt;/p>
&lt;p>&lt;a class="link" href="https://omegaconf.readthedocs.io/en/2.3_branch/" target="_blank" rel="noopener"
>omegaconf&lt;/a> 是一个使用 hydra 配置文件的工具；由于 hydra 配置返回的是 DictConfig，因此读取配置的时候需要使用 dict 数据结构进行访问。&lt;/p>
&lt;p>不过我觉得实际上用处不是很大。除非项目很庞大，否则增加了上手的成本。&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/vturrisi/solo-learn?tab=readme-ov-file" target="_blank" rel="noopener"
>solo-learn&lt;/a> 基本上已经不太维护了。我尝试下载了 imagenet-100，正在测试中。&lt;/p>
&lt;p>尝试执行了&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/bin/bash
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">python3 main_pretrain.py &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --config-path scripts/pretrain/imagenet-100/ &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --config-name barlow.yaml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># add new arguments (e.g. those not defined in the yaml files)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># by doing ++new_argument=VALUE&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># pytorch lightning&amp;#39;s arguments can be added here as well.&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>遇到 cuda 内存不够用的情况。放弃了。&lt;/p>
&lt;h3 id="dockerfile-2">Dockerfile
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-Dockerfile" data-lang="Dockerfile">&lt;span class="line">&lt;span class="cl">&lt;span class="k">FROM&lt;/span>&lt;span class="s"> pytorch/pytorch:2.4.1-cuda11.8-cudnn9-devel&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">WORKDIR&lt;/span>&lt;span class="s"> /workspace&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> requirements.txt .&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> pip install -r requirements.txt -i https://mirrors.sustech.edu.cn/pypi/web/simple &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> pip install jupyterlab matplotlib&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># RUN pip3 install .[dali,umap,h5] --extra-index-url https://developer.download.nvidia.com/compute/redist&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">CMD&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;jupyter&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;lab&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--ip=0.0.0.0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--port=8888&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--no-browser&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--allow-root&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--NotebookApp.token=&amp;#39;abcd&amp;#39;&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="tips-1">Tips
&lt;/h3>&lt;p>直接使用 checkpoints 可以节省大量的训练时间。手里的卡更多的应该去用来 fine tune，或者训练自己的数据集。从头开始训练（我之前的做法）往往是不经济且速度慢的。&lt;/p>
&lt;h2 id="huggingface-transformers">huggingface &lt;a class="link" href="https://huggingface.co/docs/transformers/en/index" target="_blank" rel="noopener"
>transformers&lt;/a>
&lt;/h2>&lt;p>很出名的一个库。很多朋友都使用这个库来尝试了构建了自己的大型模型。&lt;/p>
&lt;p>我想 MAE 应该是组成部分之一，我想借着这个机会使用一下看。&lt;/p>
&lt;p>我尝试了一下 open sources models by huggingface。&lt;/p>
&lt;p>transformers 使用起来比较简单。zero-shot image classification 入门速度很快。&lt;/p>
&lt;!-- 但是对于多目标的复杂任务，还需要进一步探索一下。 -->
&lt;p>使用 vit_mae，可以通过这个&lt;a class="link" href="https://huggingface.co/docs/transformers/v4.17.0/en/model_doc/vit_mae#overview" target="_blank" rel="noopener"
>官方文档&lt;/a>。&lt;/p>
&lt;h3 id="使用预训练权重的-mae">使用预训练权重的 MAE
&lt;/h3>&lt;p>这是 huggingface 官方提供的源代码，我直接贴在这里了。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">transformers&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">ViTFeatureExtractor&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ViTForImageClassification&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">torch&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">datasets&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">load_dataset&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">dataset&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">load_dataset&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;huggingface/cats-image&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">image&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">dataset&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;test&amp;#34;&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="s2">&amp;#34;image&amp;#34;&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">feature_extractor&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ViTFeatureExtractor&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">from_pretrained&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;google/vit-base-patch16-224&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">model&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ViTForImageClassification&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">from_pretrained&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;google/vit-base-patch16-224&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">inputs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">feature_extractor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">image&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">return_tensors&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;pt&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">with&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">no_grad&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">logits&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">model&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">**&lt;/span>&lt;span class="n">inputs&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">logits&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># model predicts one of the 1000 ImageNet classes&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">predicted_label&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">logits&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">argmax&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">item&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">model&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">config&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">id2label&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">predicted_label&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Play With Openmanus.md</title><link>https://svtter.cn/p/play-with-openmanus.md/</link><pubDate>Mon, 10 Mar 2025 20:21:44 +0800</pubDate><guid>https://svtter.cn/p/play-with-openmanus.md/</guid><description>&lt;img src="https://svtter.cn/p/play-with-openmanus.md/pics/chat.png" alt="Featured image of post Play With Openmanus.md" />&lt;p>Manus 最近很火爆，我部署了 &lt;a class="link" href="https://github.com/mannaandpoem/OpenManus" target="_blank" rel="noopener"
>OpenManus&lt;/a>，来体验一下 Manus 这种通用的 Agent。&lt;/p>
&lt;p>为此，我构建了一个镜像，可以无痛拉起 &lt;a class="link" href="https://github.com/mannaandpoem/OpenManus" target="_blank" rel="noopener"
>OpenManus&lt;/a>，可以从 &lt;a class="link" href="https://hub.docker.com/r/svtter/openmanus" target="_blank" rel="noopener"
>svtter/openmanus&lt;/a> 获得。&lt;/p>
&lt;h2 id="教程">教程
&lt;/h2>&lt;ol>
&lt;li>编写 &lt;code>docker-compose.yml&lt;/code>:&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">openmanus&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">images&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">svtter/openmanus&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># - .:/app&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">./config:/app/config&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="3">
&lt;li>填写 &lt;code>config/config.yml&lt;/code> 文件:&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># A config file for OpenManus&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Global LLM configuration&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="l">llm]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="l">model = &amp;#34;anthropic/claude-3.7-sonnet&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="l">base_url = &amp;#34;https://openrouter.ai/api/v1&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># 使用 openrouter&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="l">api_key = &amp;#34;sk-**&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># api key&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="l">max_tokens = 4096&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="l">temperature = 0.0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># [llm] #AZURE OPENAI:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># api_type= &amp;#39;azure&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># model = &amp;#34;YOUR_MODEL_NAME&amp;#34; #&amp;#34;gpt-4o-mini&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># base_url = &amp;#34;{YOUR_AZURE_ENDPOINT.rstrip(&amp;#39;/&amp;#39;)}/openai/deployments/{AZURE_DEPOLYMENT_ID}&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># api_key = &amp;#34;AZURE API KEY&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># max_tokens = 8096&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># temperature = 0.0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># api_version=&amp;#34;AZURE API VERSION&amp;#34; #&amp;#34;2024-08-01-preview&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Optional configuration for specific LLM models&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="l">llm.vision]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="l">model = &amp;#34;anthropic/claude-3.7-sonnet&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="l">base_url = &amp;#34;https://openrouter.ai/api/v1&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># 使用 openrouter&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="l">api_key = &amp;#34;sk-**&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># 使用 api-key&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="4">
&lt;li>最后的目录结构应该这样的：&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">├── config
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ └── config.yml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">└── docker-compose.yml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">1 directory, 2 files
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="5">
&lt;li>运行命令：&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">docker compose run openmanus python main.py
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>即可看到交互命令行。&lt;/p>
&lt;h2 id="测试">测试
&lt;/h2>&lt;p>让我们测试一下。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">INFO [browser_use] BrowserUse logging setup complete with level info
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [root] Anonymized telemetry enabled. See https://docs.browser-use.com/development/telemetry for more information.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Enter your prompt (or &amp;#39;exit&amp;#39;/&amp;#39;quit&amp;#39; to quit): who is the best NBA player now?
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>执行完成：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="mi">2025&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">03&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">10&lt;/span> &lt;span class="mi">12&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">31&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">20.198&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="n">INFO&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="n">app&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">agent&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">base&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">137&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">Executing&lt;/span> &lt;span class="n">step&lt;/span> &lt;span class="mi">13&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">30&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="mi">2025&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">03&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">10&lt;/span> &lt;span class="mi">12&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">31&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">26.653&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="n">INFO&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="n">app&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">agent&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">toolcall&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">think&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">53&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="err">✨&lt;/span> &lt;span class="n">Manus&lt;/span>&lt;span class="s1">&amp;#39;s thoughts: Thank you for your question about the best NBA player currently. Based on my research, I can provide you with a definitive answer:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">**&lt;/span>&lt;span class="n">Nikola&lt;/span> &lt;span class="n">Jokic&lt;/span>&lt;span class="o">**&lt;/span> &lt;span class="n">of&lt;/span> &lt;span class="n">the&lt;/span> &lt;span class="n">Denver&lt;/span> &lt;span class="n">Nuggets&lt;/span> &lt;span class="n">is&lt;/span> &lt;span class="n">widely&lt;/span> &lt;span class="n">considered&lt;/span> &lt;span class="n">the&lt;/span> &lt;span class="n">best&lt;/span> &lt;span class="n">NBA&lt;/span> &lt;span class="n">player&lt;/span> &lt;span class="n">right&lt;/span> &lt;span class="n">now&lt;/span>&lt;span class="o">.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">This&lt;/span> &lt;span class="n">conclusion&lt;/span> &lt;span class="n">is&lt;/span> &lt;span class="n">supported&lt;/span> &lt;span class="n">by&lt;/span> &lt;span class="n">multiple&lt;/span> &lt;span class="n">authoritative&lt;/span> &lt;span class="n">sources&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span> &lt;span class="n">ESPN&lt;/span>&lt;span class="s1">&amp;#39;s NBA Rank 2024-2025 places Jokic at #1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span> &lt;span class="n">CBS&lt;/span> &lt;span class="n">Sports&lt;/span> &lt;span class="n">rankings&lt;/span> &lt;span class="n">specifically&lt;/span> &lt;span class="n">mention&lt;/span> &lt;span class="s2">&amp;#34;Nikola Jokic over SGA at No. 1&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span> &lt;span class="n">Jokic&lt;/span> &lt;span class="n">has&lt;/span> &lt;span class="n">won&lt;/span> &lt;span class="n">the&lt;/span> &lt;span class="n">NBA&lt;/span> &lt;span class="n">MVP&lt;/span> &lt;span class="n">award&lt;/span> &lt;span class="n">three&lt;/span> &lt;span class="n">times&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">recent&lt;/span> &lt;span class="n">years&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="mi">2021&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2022&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="ow">and&lt;/span> &lt;span class="mi">2024&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span> &lt;span class="n">He&lt;/span> &lt;span class="n">led&lt;/span> &lt;span class="n">the&lt;/span> &lt;span class="n">Denver&lt;/span> &lt;span class="n">Nuggets&lt;/span> &lt;span class="n">to&lt;/span> &lt;span class="n">their&lt;/span> &lt;span class="n">first&lt;/span> &lt;span class="n">NBA&lt;/span> &lt;span class="n">Championship&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="mi">2023&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">The&lt;/span> &lt;span class="n">current&lt;/span> &lt;span class="n">consensus&lt;/span> &lt;span class="n">top&lt;/span> &lt;span class="mi">5&lt;/span> &lt;span class="n">NBA&lt;/span> &lt;span class="n">players&lt;/span> &lt;span class="n">are&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="mf">1.&lt;/span> &lt;span class="n">Nikola&lt;/span> &lt;span class="n">Jokic&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">Denver&lt;/span> &lt;span class="n">Nuggets&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="mf">2.&lt;/span> &lt;span class="n">Luka&lt;/span> &lt;span class="n">Doncic&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">Dallas&lt;/span> &lt;span class="n">Mavericks&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="mf">3.&lt;/span> &lt;span class="n">Giannis&lt;/span> &lt;span class="n">Antetokounmpo&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">Milwaukee&lt;/span> &lt;span class="n">Bucks&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="mf">4.&lt;/span> &lt;span class="n">Shai&lt;/span> &lt;span class="n">Gilgeous&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Alexander&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">Oklahoma&lt;/span> &lt;span class="n">City&lt;/span> &lt;span class="n">Thunder&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="mf">5.&lt;/span> &lt;span class="n">Jayson&lt;/span> &lt;span class="n">Tatum&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">Boston&lt;/span> &lt;span class="n">Celtics&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Jokic&lt;/span> &lt;span class="n">stands&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">his&lt;/span> &lt;span class="n">exceptional&lt;/span> &lt;span class="n">versatility&lt;/span> &lt;span class="n">as&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="n">center&lt;/span> &lt;span class="n">with&lt;/span> &lt;span class="n">elite&lt;/span> &lt;span class="n">passing&lt;/span> &lt;span class="n">skills&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">scoring&lt;/span> &lt;span class="n">efficiency&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">rebounding&lt;/span> &lt;span class="n">prowess&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="ow">and&lt;/span> &lt;span class="n">basketball&lt;/span> &lt;span class="n">IQ&lt;/span>&lt;span class="o">.&lt;/span> &lt;span class="n">His&lt;/span> &lt;span class="n">unique&lt;/span> &lt;span class="n">ability&lt;/span> &lt;span class="n">to&lt;/span> &lt;span class="n">function&lt;/span> &lt;span class="n">as&lt;/span> &lt;span class="n">both&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="n">dominant&lt;/span> &lt;span class="n">scorer&lt;/span> &lt;span class="ow">and&lt;/span> &lt;span class="n">primary&lt;/span> &lt;span class="n">playmaker&lt;/span> &lt;span class="n">at&lt;/span> &lt;span class="mi">7&lt;/span> &lt;span class="n">feet&lt;/span> &lt;span class="n">tall&lt;/span> &lt;span class="n">makes&lt;/span> &lt;span class="n">him&lt;/span> &lt;span class="n">one&lt;/span> &lt;span class="n">of&lt;/span> &lt;span class="n">the&lt;/span> &lt;span class="n">most&lt;/span> &lt;span class="n">impactful&lt;/span> &lt;span class="n">players&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">the&lt;/span> &lt;span class="n">league&lt;/span>&lt;span class="o">.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="mi">2025&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">03&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">10&lt;/span> &lt;span class="mi">12&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">31&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">26.653&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="n">INFO&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="n">app&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">agent&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">toolcall&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">think&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">54&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="err">🛠️&lt;/span> &lt;span class="n">Manus&lt;/span> &lt;span class="n">selected&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="n">tools&lt;/span> &lt;span class="n">to&lt;/span> &lt;span class="n">use&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="mi">2025&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">03&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">10&lt;/span> &lt;span class="mi">12&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">31&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">26.654&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="n">INFO&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="n">app&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">agent&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">toolcall&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">think&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">58&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="err">🧰&lt;/span> &lt;span class="n">Tools&lt;/span> &lt;span class="n">being&lt;/span> &lt;span class="n">prepared&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;terminate&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="费用">费用
&lt;/h2>&lt;p>一次性花了我一块钱，恐怖如斯。&lt;/p>
&lt;p>&lt;img src="https://svtter.cn/p/play-with-openmanus.md/pics/price.png"
width="724"
height="63"
srcset="https://svtter.cn/p/play-with-openmanus.md/pics/price_hu_2fd15c616c4c7747.png 480w, https://svtter.cn/p/play-with-openmanus.md/pics/price_hu_d13840975a8d9f99.png 1024w"
loading="lazy"
alt="price"
class="gallery-image"
data-flex-grow="1149"
data-flex-basis="2758px"
>&lt;/p>
&lt;h2 id="结论和想法">结论和想法
&lt;/h2>&lt;ol>
&lt;li>用了 google search，browser，以及 python 作为 agent tools。很有想法，实现也很快。&lt;/li>
&lt;li>东契奇已经去了湖人，分析的数据还在独行侠，AGI 无法淘汰我们！&lt;/li>
&lt;li>机会永远留给有准备的人&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://svtter.cn/p/play-with-openmanus.md/pics/chat.png"
width="900"
height="298"
srcset="https://svtter.cn/p/play-with-openmanus.md/pics/chat_hu_b27caa3b0d69649a.png 480w, https://svtter.cn/p/play-with-openmanus.md/pics/chat_hu_3593c209d2e46352.png 1024w"
loading="lazy"
alt="chat"
class="gallery-image"
data-flex-grow="302"
data-flex-basis="724px"
>&lt;/p></description></item><item><title>Django Bridge and Telepath Make Decode Easier.md</title><link>https://svtter.cn/p/django-bridge-and-telepath-make-decode-easier.md/</link><pubDate>Mon, 10 Mar 2025 19:34:19 +0800</pubDate><guid>https://svtter.cn/p/django-bridge-and-telepath-make-decode-easier.md/</guid><description>&lt;p>&lt;a class="link" href="https://wagtail.github.io/telepath/" target="_blank" rel="noopener"
>telepath&lt;/a>是 wagtail 开发的一个库，可以用于对 python 对象进行转换。&lt;/p>
&lt;p>其最大的好处是，将原本复杂的 python class -&amp;gt; JSON -&amp;gt; Javascript class，转换成 python class -&amp;gt; Javascript class。&lt;/p>
&lt;p>更具体的内容可以参考&lt;a class="link" href="https://wagtail.github.io/telepath/tutorial/" target="_blank" rel="noopener"
>tutorial&lt;/a>。&lt;/p>
&lt;p>那么有没有可能在这个基础上，让 React 和 Django 直通呢？ &lt;a class="link" href="https://django-bridge.org/docs/introduction/" target="_blank" rel="noopener"
>Django Bridge&lt;/a> 就是做这个工作的。&lt;/p>
&lt;p>&lt;a class="link" href="https://django-bridge.org/docs/introduction/" target="_blank" rel="noopener"
>Django Bridge&lt;/a> 允许用户直接返回 JSON 结构，然后 React 根据 JSON 结构进行解析，对应渲染 React Component。&lt;/p>
&lt;h2 id="问题是什么">问题是什么
&lt;/h2>&lt;ol>
&lt;li>学习成本。如果 django bridge 是一个团队中大家都熟悉的东西，那么上手不慢。但是如果大家都不太熟悉，那么引入 django bridge，需要花时间学习。&lt;/li>
&lt;li>调试成本。相比于 http JSON，这种方式依赖于 Django Bridge 对 JSON 的解析。调试起来可能会有一定的困难。&lt;/li>
&lt;li>对于已有的项目，代码中可能存在基本通信框架，那么这个库可能会导致旧代码的改造。&lt;/li>
&lt;/ol>
&lt;p>其他的内容，在&lt;a class="link" href="https://django-bridge.org/docs/introduction/#should-i-use-it" target="_blank" rel="noopener"
>Should I use it?&lt;/a>中有所提及，可供参考。&lt;/p>
&lt;h2 id="有什么优势">有什么优势
&lt;/h2>&lt;ol>
&lt;li>虽然是前后端分离，但不需要考虑 session 和 cookie 的管理了。也不需要考虑 JWT 的问题。(是不是分离了也不需要管理呢？)&lt;/li>
&lt;li>官网原文：If you&amp;rsquo;re about to build a web app or SaaS product with Django and React, this library could save you a lot of time. It provides all the necessary tools to integrate a React frontend with Django and includes a project template with simple Vite-based frontend tooling to get you started.&lt;/li>
&lt;/ol>
&lt;p>更多的内容，请移步官网阅读。&lt;/p></description></item><item><title>ComfyUI Start.md</title><link>https://svtter.cn/p/comfyui-start.md/</link><pubDate>Mon, 10 Mar 2025 16:54:57 +0800</pubDate><guid>https://svtter.cn/p/comfyui-start.md/</guid><description>&lt;img src="https://svtter.cn/p/comfyui-start.md/pics/image.png" alt="Featured image of post ComfyUI Start.md" />&lt;p>ComfyUI 是一个使用生成模型进行图像处理的工作流工具，可以很好的处理图像和生成图像。
为了能够流畅运行，我将其部署到服务器上。直接根据&lt;a class="link" href="https://docs.comfy.org/zh-CN/installation/manual_install#nvidia" target="_blank" rel="noopener"
>官方链接&lt;/a>去跑，非常流畅。&lt;/p>
&lt;h2 id="问题和解答">问题和解答
&lt;/h2>&lt;ol>
&lt;li>ComfyUI 一般是桌面版本，服务器上也能使用吗？&lt;/li>
&lt;/ol>
&lt;p>是的。实际上 ComfyUI 是基于 WEB 开发的。如果自己部署，搞复杂一点，可以自己部署一个 nginx server，中间套一个 user auth，来提供服务。
如果追求简单化，直接 &lt;code>python main.py&lt;/code> 然后转发即可。&lt;/p></description></item><item><title>RAG With Llamaindex and Ollama.md</title><link>https://svtter.cn/p/rag-with-llamaindex-and-ollama.md/</link><pubDate>Sun, 09 Mar 2025 12:44:24 +0800</pubDate><guid>https://svtter.cn/p/rag-with-llamaindex-and-ollama.md/</guid><description>&lt;p>如果你想要在本地构建一个 RAG 系统，我们可以使用 ollama 来做基本的模型，使用 llamaindex 构建 agent。&lt;/p>
&lt;p>因为 llamaindex 默认使用 openai，我们需要首先调整默认的 embedding 模型和 llm 模型。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Settings&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">embed_model&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">OllamaEmbedding&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">model_name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">model_name&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">base_url&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">sdmicl&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Settings&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">llm&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Ollama&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">model&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">sdmicl&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">base_url&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">sdmicl&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">request_timeout&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mf">360.0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>base_url 需要替换成你自己的 ollama 实例，例如 &lt;code>http://localhost:11434&lt;/code>。&lt;/p>
&lt;p>如果目录下的都是 txt 或者 md 数据，可以直接使用 &lt;code>SimpleDirectoryReader&lt;/code> 来读取基本的数据。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># Create a RAG tool using LlamaIndex&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">documents&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">SimpleDirectoryReader&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">load_data&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">llama_index.core&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">VectorStoreIndex&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">SimpleDirectoryReader&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Settings&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">llama_index.embeddings.ollama&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">OllamaEmbedding&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">get_agent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">model_name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Settings&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">embed_model&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">OllamaEmbedding&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">model_name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">model_name&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">base_url&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">sdmicl&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Settings&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">llm&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Ollama&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">model&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">sdmicl&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">base_url&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">sdmicl&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">request_timeout&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mf">360.0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># Create a RAG tool using LlamaIndex&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">documents&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">SimpleDirectoryReader&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">load_data&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">index&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">VectorStoreIndex&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">from_documents&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">documents&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">query_engine&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">index&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">as_query_engine&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">async&lt;/span> &lt;span class="k">def&lt;/span> &lt;span class="nf">search_documents&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">query&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;Useful for answering natural language questions about an personal essay written by Paul Graham.&amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">response&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">await&lt;/span> &lt;span class="n">query_engine&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">query&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">query&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">agent&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">FunctionAgent&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;Agent&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">description&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;Useful for multiplying two numbers and searching documents&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">tools&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">multiply&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">search_documents&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">llm&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">ollama&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">system_prompt&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;You are a helpful assistant that can multiply two numbers and search documents to answer questions&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">agent&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">async&lt;/span> &lt;span class="k">def&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">models&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;bge-m3&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;nomic-embed-text&amp;#39;&lt;/span>&lt;span class="p">,)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">model_name&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">models&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s1">&amp;#39;model: &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">model_name&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">agent&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">get_agent&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">model_name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">model_name&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">response&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">await&lt;/span> &lt;span class="n">agent&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;What did the paul graham do in college? Also, what&amp;#39;s 7 * 8?&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Done.&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;-&amp;#39;&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">await&lt;/span> &lt;span class="n">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Llamaindex Tutorial.md</title><link>https://svtter.cn/p/llamaindex-tutorial.md/</link><pubDate>Sat, 08 Mar 2025 12:04:25 +0800</pubDate><guid>https://svtter.cn/p/llamaindex-tutorial.md/</guid><description>&lt;img src="https://svtter.cn/p/llamaindex-tutorial.md/background.png" alt="Featured image of post Llamaindex Tutorial.md" />&lt;p>上周为了开发一个新的应用，测试了 langchain，发现全是坑，官方示例很难用。&lt;/p>
&lt;p>主要问题在于 langchain 0.1, 0.2, 0.3 版本变化很大。&lt;/p>
&lt;p>这是一个对比表格：&lt;/p>
&lt;p>&lt;img src="https://svtter.cn/p/llamaindex-tutorial.md/llamaindex-vs-langchain-comparison-1.png"
width="1250"
height="672"
srcset="https://svtter.cn/p/llamaindex-tutorial.md/llamaindex-vs-langchain-comparison-1_hu_6df0f18aa0e49b11.png 480w, https://svtter.cn/p/llamaindex-tutorial.md/llamaindex-vs-langchain-comparison-1_hu_be2ed2a04765f4d.png 1024w"
loading="lazy"
alt="compare"
class="gallery-image"
data-flex-grow="186"
data-flex-basis="446px"
>&lt;/p>
&lt;p>这周尝试了一下 llamaindex，调试了一上午，搞定，发个链接出来。&lt;/p>
&lt;h2 id="源代码">源代码
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># %% [markdown]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># # Playing with llamaindex&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># This is llamaindex tutorial. I&amp;#39;m trying it.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># %%&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">dotenv&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">load_dotenv&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">find_dotenv&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">load_dotenv&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">find_dotenv&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># %%&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">%&lt;/span>&lt;span class="n">pip&lt;/span> &lt;span class="n">install&lt;/span> &lt;span class="n">llama&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">index&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">llms&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">ollama&lt;/span> &lt;span class="n">llama&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">index&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">llms&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">siliconflow&lt;/span> &lt;span class="n">llama&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">index&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">llms&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">paieas&lt;/span> &lt;span class="n">llama&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">index&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">llms&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">zhipuai&lt;/span> &lt;span class="n">llama&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">index&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">llms&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">openrouter&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># %%&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">os&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">asyncio&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">llama_index.core.agent.workflow&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">FunctionAgent&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># from llama_index.llms.siliconflow import SiliconFlow&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># from llama_index.llms.openrouter import OpenRouter&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># from llama_index.llms.paieas import PaiEas&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># from llama_index.llms.zhipuai import ZhipuAI&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">llama_index.llms.ollama&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">Ollama&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">multiply&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">float&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">float&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="nb">float&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">b&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># llm_1 = PaiEas(model=&amp;#34;qwen-turbo&amp;#34;, api_key=os.getenv(&amp;#34;QWEN_API_KEY&amp;#34;), api_base=&amp;#34;https://dashscope.aliyuncs.com/compatible-mode/v1&amp;#34;)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># llm_2 = SiliconFlow(api_key=os.getenv(&amp;#34;SILICONFLOW_API_KEY&amp;#34;))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># llm_3 = ZhipuAI(model=&amp;#34;glm-4&amp;#34;, api_key=os.getenv(&amp;#34;ZHIPU_API_KEY&amp;#34;))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">mac_local&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;llama3.2&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;http://192.168.2.100:11434&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">sdmicl&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;llama3.2&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;you own ip&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">ollama&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Ollama&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">model&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">sdmicl&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">base_url&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">sdmicl&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">request_timeout&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mf">60.0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">agent&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">FunctionAgent&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;Agent&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">description&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;Useful for multiplying two numbers&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">tools&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">multiply&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">llm&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">ollama&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">system_prompt&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;You are a helpful assistant that can multiply two numbers&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">async&lt;/span> &lt;span class="k">def&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Starting...&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">response&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">await&lt;/span> &lt;span class="n">agent&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;What is 1234 * 4567?&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">response&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Done&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">await&lt;/span> &lt;span class="n">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># %%&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="回答几个问题">回答几个问题
&lt;/h2>&lt;ol>
&lt;li>为什么不使用 openai？&lt;/li>
&lt;/ol>
&lt;p>一个月会员太贵。&lt;/p>
&lt;ol start="2">
&lt;li>为什么不使用 zhipuai，paise，以及 siliconflow?&lt;/li>
&lt;/ol>
&lt;p>用了，api 全都不通，大概率和 llamaindex 不是适配。&lt;/p>
&lt;p>全都会报错&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">WorkflowRuntimeError&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Error&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">step&lt;/span> &lt;span class="s1">&amp;#39;run_agent_step&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">object&lt;/span> &lt;span class="n">of&lt;/span> &lt;span class="nb">type&lt;/span> &lt;span class="s1">&amp;#39;NoneType&amp;#39;&lt;/span> &lt;span class="n">has&lt;/span> &lt;span class="n">no&lt;/span> &lt;span class="nb">len&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">.&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="3">
&lt;li>为什么不用 openrouter？&lt;/li>
&lt;/ol>
&lt;p>chat 模型不行。必须是&lt;code>functionuseLLM&lt;/code>（来自 llamaindex）&lt;/p>
&lt;h2 id="reference">Reference
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://datasciencedojo.com/blog/llamaindex-vs-langchain/#Comparing_LLamaIndex_and_LangChain" target="_blank" rel="noopener"
>https://datasciencedojo.com/blog/llamaindex-vs-langchain/#Comparing_LLamaIndex_and_LangChain&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Update the Hugo.md</title><link>https://svtter.cn/p/update-the-hugo.md/</link><pubDate>Fri, 07 Mar 2025 11:39:32 +0800</pubDate><guid>https://svtter.cn/p/update-the-hugo.md/</guid><description>&lt;p>由于之前使用的 hugo 版本太低，更新需要费很多功夫，于是我更新了 hugo，现在只需要关注文章即可。&lt;/p>
&lt;p>我现在使用的新的主题是 &lt;a class="link" href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener"
>hugo-theme-stack&lt;/a>.&lt;/p>
&lt;p>因为我的 &lt;code>hugo 源文件&lt;/code> 和 &lt;code>&amp;lt;username&amp;gt;.github.io&lt;/code> 不再同一个 repo 下，也就是说，我不能使用 branch 来直接配置 gh-pages。&lt;/p>
&lt;p>因此，我调整了 &lt;code>workflow&lt;/code>，来适应我的情况。这是我的 workflow 配置文件：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Deploy to Github Pages&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">push&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">branches&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="l">master]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">pull_request&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">branches&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="l">master]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">jobs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">build&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">runs-on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu-latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">permissions&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># Give the default GITHUB_TOKEN write permission to commit and push the&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># added or changed files to the repository.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">contents&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">write&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">steps&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/checkout@v4&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">fetch-depth&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Cache Hugo resources&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/cache@v4&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">env&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">cache-name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cache-hugo-resources&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">path&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">resources&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">key&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ env.cache-name }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/setup-go@v5&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">go-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;^1.17.0&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">go version&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Setup Hugo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">peaceiris/actions-hugo@v2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">hugo-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;latest&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">extended&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Build&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">hugo --minify --gc&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Deploy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">peaceiris/actions-gh-pages@v3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">personal_token&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ secrets.ACCESS_TOKEN }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">external_repository&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">svtter/svtter.github.io&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">publish_branch&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">master&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">publish_dir&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">./public&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Usable MCP Server for PDF.md</title><link>https://svtter.cn/p/usable-mcp-server-for-pdf.md/</link><pubDate>Thu, 06 Mar 2025 22:46:09 +0800</pubDate><guid>https://svtter.cn/p/usable-mcp-server-for-pdf.md/</guid><description>&lt;p>我在使用 cursor 的时候，发现 cursor 无法读取 pdf 文件。
大家可能也会遇到了类似的问题，就是 cursor 无法读取一些特殊格式的文件。
这个时候就需要 MCP 来搞事情。&lt;/p>
&lt;p>MCP 协议最近很火；MCP 是将大模型和工具链接在一起的协议。这样一来，大模型可以很好的使用工具来获得它想要的信息。&lt;/p>
&lt;p>明确支持 MCP 协议的典型公司有几个（来自 poe）:&lt;/p>
&lt;ol>
&lt;li>Claude: 由Anthropic开发的Claude系列模型是MCP协议的主要支持者之一。Claude通过MCP协议可以直接连接到各种数据源，实现更高效的数据交互和处理。&lt;/li>
&lt;li>Zed: 这是一个开发工具，正在与Anthropic合作，准备接入MCP协议。&lt;/li>
&lt;li>Replit: 作为一个在线编程环境，Replit也在与Anthropic合作，计划支持MCP协议。&lt;/li>
&lt;li>Codium: 这个开发工具同样在与Anthropic合作，准备接入MCP协议。&lt;/li>
&lt;li>Sourcegraph: 作为代码搜索和导航工具，Sourcegraph也在考虑支持MCP协议。&lt;/li>
&lt;/ol>
&lt;p>除此之外，根据 MCP 协议，也有工程师实现了 Bridge： &lt;a class="link" href="https://github.com/bartolli/mcp-llm-bridge" target="_blank" rel="noopener"
>https://github.com/bartolli/mcp-llm-bridge&lt;/a>&lt;/p>
&lt;p>废话少说，我们看看如何使用 MCP，让大模型读取 PDF&lt;/p>
&lt;h2 id="example">Example
&lt;/h2>&lt;p>首先，下载一个支持 MCP 协议的工具&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git clone git@github.com:vivekVells/mcp-pandoc.git
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>配置一下本地的 cursor，如 &lt;code>.cursor/mcp.json&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;mcpServers&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;mcp-pandoc&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;command&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;uvx&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;args&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;mcp-pandoc&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>然后就可以在 agent 模式直接调用读取 pdf 了。agent 就可以愉快的自己做事情了。&lt;/p>
&lt;!-- 是不是比之前 embeding 方便很多。 -->
&lt;p>今天 manus 很火爆。manus 基于的技术应该差不多。&lt;/p>
&lt;h2 id="相关资料">相关资料
&lt;/h2>&lt;ol>
&lt;li>&lt;a class="link" href="https://www.anthropic.com/news/model-context-protocol" target="_blank" rel="noopener"
>anthropic blog&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://mcpcn.com/docs/tutorials/building-a-client/#%e7%b3%bb%e7%bb%9f%e8%a6%81%e6%b1%82" target="_blank" rel="noopener"
>mcpcn&lt;/a>&lt;/li>
&lt;/ol></description></item><item><title>Torchvision Cuda Problem.md</title><link>https://svtter.cn/p/torchvision-cuda-problem.md/</link><pubDate>Tue, 04 Mar 2025 18:07:13 +0800</pubDate><guid>https://svtter.cn/p/torchvision-cuda-problem.md/</guid><description>&lt;p>记录一下 torchvision 遇到的问题&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">torch.cuda.DeferredCudaCallError: CUDA call failed lazily at initialization with error: device &amp;gt;= 0 &amp;amp;&amp;amp; device &amp;lt; num_gpus INTERNAL ASSERT FAILED at &amp;#34;/opt/conda/conda-bld/pytorch_1712608839953/work/aten/src/ATen/cuda/CUDAContext.cpp&amp;#34;:50, please report a bug to PyTorch. device=, num_gpus=
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>我调整了代码，遇到了这个问题，结果是因为引入了 &lt;code>from torchvision import transforms&lt;/code>。&lt;/p>
&lt;p>这个问题可能是 nvidia 驱动问题导致的。解决这个问题，最好的方法是改一下 torch 的版本，找到一个和驱动接近的。&lt;/p>
&lt;p>重新安装 nvidia 驱动付出的代价比较大。&lt;/p></description></item><item><title>Openrouter Usage.md</title><link>https://svtter.cn/p/openrouter-usage.md/</link><pubDate>Mon, 03 Mar 2025 11:45:12 +0800</pubDate><guid>https://svtter.cn/p/openrouter-usage.md/</guid><description>&lt;p>周天开发了一个基于大模型的应用，使用了 openrouter，遇到了一些问题，记录一点收获。&lt;/p>
&lt;h2 id="不支持-embedding">不支持 embedding
&lt;/h2>&lt;p>最大的问题就是不支持 embedding API。虽然 openrouter 已经支持了 openai 等不同的模型的 API endopint，
但是 embedding 是开发 RAG 应用的关键。不支持 embedding 使得 openrouter 在实际应用开发上无所作为。&lt;/p>
&lt;p>&lt;img src="https://svtter.cn/p/openrouter-usage.md/pics/image.png"
width="799"
height="211"
srcset="https://svtter.cn/p/openrouter-usage.md/pics/image_hu_57d5ac83c17b591e.png 480w, https://svtter.cn/p/openrouter-usage.md/pics/image_hu_ea2692bffb369dc7.png 1024w"
loading="lazy"
alt="prof"
class="gallery-image"
data-flex-grow="378"
data-flex-basis="908px"
>&lt;/p></description></item><item><title>Python Timezone.md</title><link>https://svtter.cn/p/python-timezone.md/</link><pubDate>Fri, 28 Feb 2025 17:46:29 +0800</pubDate><guid>https://svtter.cn/p/python-timezone.md/</guid><description>&lt;p>无论当前服务器设置如何，输出&lt;code>Asia/Shanghai&lt;/code>的时间。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">datetime&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">pytz&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">utc_now&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">datetime&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">datetime&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">utcnow&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1"># Get current time in UTC&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">utc_timezone&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pytz&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">utc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">utc_now&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">utc_timezone&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">localize&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">utc_now&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># Localize the time as UTC&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Convert to another timezone, e.g., &amp;#39;America/New_York&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">new_timezone&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pytz&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">timezone&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Asia/Shanghai&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">new_timezone_time&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">utc_now&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">astimezone&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">new_timezone&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">new_timezone_time&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">strftime&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;%Y-%m-&lt;/span>&lt;span class="si">%d&lt;/span>&lt;span class="s1"> %H:%M:%S %Z%z&amp;#39;&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="c1"># Display time in the new timezone&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>FP Problem.md</title><link>https://svtter.cn/p/fp-problem.md/</link><pubDate>Wed, 26 Feb 2025 11:02:33 +0800</pubDate><guid>https://svtter.cn/p/fp-problem.md/</guid><description>&lt;p>Functional programming (FP) 使用了接近一年的时间，又有了很多新的想法。这里主要说说问题。&lt;/p>
&lt;p>最大的问题就是效率问题。&lt;/p>
&lt;p>如果使用基于类的方法，通过继承，我们可以很快的修改一些功能，产品可以快速上线。&lt;/p>
&lt;p>但是使用函数式编程则很难解决这个问题。&lt;/p>
&lt;p>例如：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Cat&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">object&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">sleep&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># ...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">close_eye&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># ...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">close_eye&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;slow eye closed&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>如果想要调整 &lt;code>close_eye&lt;/code> 的逻辑，那么直接修改 &lt;code>close_eye&lt;/code> 即可。&lt;/p>
&lt;p>例如&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">SmartCat&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">object&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">sleep&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># ...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">close_eye&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># ...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">close_eye&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;fast close&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>相比之下，函数式编程可能是这样&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">sleep&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">close_eye&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">close_eye&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;eye closed&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>如果要修改&lt;code>close_eye&lt;/code>，则需要首先修改&lt;code>sleep&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">sleep&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">close_eye&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">close_eye&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># ...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">close_eye&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># ...&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这样 sleep 接受 &lt;code>close_eye&lt;/code> 作为参数，原本的函数作为默认值。&lt;/p>
&lt;p>调用改为&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">fast_close_eye&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;fast close&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">sleep&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">close_eye&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">fast_close_eye&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这里比较麻烦的是，违反了开闭原则。我们不得不修改之前的代码，还要考虑之前代码的可维护性。&lt;/p>
&lt;p>因此，我认为在这个场景，FP 不太合适。&lt;/p></description></item><item><title>Why I Still Write Blog Post About Coding.md</title><link>https://svtter.cn/p/why-i-still-write-blog-post-about-coding.md/</link><pubDate>Mon, 24 Feb 2025 22:12:12 +0800</pubDate><guid>https://svtter.cn/p/why-i-still-write-blog-post-about-coding.md/</guid><description>&lt;img src="https://svtter.cn/p/why-i-still-write-blog-post-about-coding.md/background.webp" alt="Featured image of post Why I Still Write Blog Post About Coding.md" />&lt;p>这几天几个我关注的高质量公众号都停更了他们原来的内容，转向了 AI。&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://mp.weixin.qq.com/s/9VtjDwbxu1BxLTbgHVQeXA" target="_blank" rel="noopener"
>Farewell Go，Hello AI：是时候说再见了&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>或者干脆停更了：&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://mp.weixin.qq.com/s/XHOWSVhTHWSY9VjM9ioLcA" target="_blank" rel="noopener"
>我不再更新 Python 了。。。。&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>我的博客仍然会更新编程相关的文章。&lt;/p>
&lt;p>目前 AI 还没有达到让我完完全全不用动脑的程度。大多数情况下，我还是使用它的自动补全，而不是 compose with agent。
因为生成的质量一般般。
AI 还不能很好的理解大段的文字，以及背后的含义。我认为现在的 LLMs 就是一个相对性能较强的多任务 NLP 解析器。&lt;/p>
&lt;p>当然，尽管只是一个多任务 NLP 解析器，其能力已经可以做成大量的事情了。如果把他的性能升级考虑进去，那么确实会有更多的想象力。&lt;/p>
&lt;p>不过目前为止（2025年02月24日），做事情效率更好的方式，还是把知识 cache 到我的脑子。&lt;/p>
&lt;p>LLMs 是一个新的索引器，他可以将之前存储在互联网和磁盘上的知识快速检索出来供我使用。&lt;/p>
&lt;p>但是我自己大脑中的知识图谱，是初步告诉我应该检索什么，如何提问，以及整理需求的第一线。&lt;/p>
&lt;p>因此，如果我是一个数字人，那么 coding post 是我更新大脑中 cache 以及知识图谱的过程。&lt;/p>
&lt;p>最后，我认为几个老技术关注 AI 多一点也没什么问题。AI 正在创造更大的价值，Coding Skill 尽管仍有效果，但是贬值已经是不可否认的事实了。&lt;/p>
&lt;!-- 关于 AI，我认为还有几个问题值得思考：
1. 知识库的数据结构是什么? -->
&lt;!-- 2. 跟着 Dify 走，我们可以做很多新的事情。 --></description></item><item><title>Dataset 和 DataLoader 的区别是什么</title><link>https://svtter.cn/p/dataset-%E5%92%8C-dataloader-%E7%9A%84%E5%8C%BA%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88/</link><pubDate>Mon, 24 Feb 2025 22:01:57 +0800</pubDate><guid>https://svtter.cn/p/dataset-%E5%92%8C-dataloader-%E7%9A%84%E5%8C%BA%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88/</guid><description>&lt;p>在 &lt;code>torch.utils.data&lt;/code> 中，有两个类，一个是&lt;code>Dataset&lt;/code>，另一个是&lt;code>DataLoader&lt;/code>。&lt;/p>
&lt;p>这两个类的主要区别是什么？&lt;/p>
&lt;p>Dataset 一般用于读取数据集的基础数据。例如，在 torch 给出的&lt;a class="link" href="https://pytorch.org/tutorials/beginner/data_loading_tutorial.html" target="_blank" rel="noopener"
>官网说明&lt;/a>中，用于展示数据集的数量，以及用于神经网络训练的单个样本。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">FaceLandmarkDataset&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Dataset&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="fm">__init__&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="fm">__len__&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;表示数据集的数量&amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="fm">__getitem__&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">idx&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;返回某个下标的数据组合。例如，如果是图像和标签，应该是 {&amp;#39;img&amp;#39;: img, &amp;#39;label&amp;#39;: label} &amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>与之相对的，DataLoader 则是一个可以并行读取数据的类。一般情况下，不需要进行继承然后改写。&lt;/p>
&lt;p>所以我们主要说说怎么用。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">dataloader&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">DataLoader&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">transformed_dataset&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">batch_size&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">shuffle&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">num_workers&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>我们可以看到，因为 DataLoader 的存在，因此实际上我们在实现 Dataset 的时候:&lt;/p>
&lt;ol>
&lt;li>不需要关注 shuffle: 为了神经网络训练的 batch不聚集在一个地方&lt;/li>
&lt;li>不需要考虑并行读取，因为有 &lt;code>num_worker&lt;/code>&lt;/li>
&lt;li>不需要考虑 &lt;code>batch_size&lt;/code>&lt;/li>
&lt;/ol>
&lt;p>因此，DataLoader 可以比较容易的完成一些数据集处理前的必要工作。&lt;/p>
&lt;p>如果使用 lightning，那么还需要进一步了解 DataModule。我会在另外一篇博客中说明。&lt;/p></description></item><item><title>Where to Put Your Data Folder.md</title><link>https://svtter.cn/p/where-to-put-your-data-folder.md/</link><pubDate>Mon, 24 Feb 2025 14:34:56 +0800</pubDate><guid>https://svtter.cn/p/where-to-put-your-data-folder.md/</guid><description>&lt;p>在训练模型时，我们应该尽可能的把数据和代码放在同一个位置。&lt;/p>
&lt;p>放在同一个位置可以避免路径的问题，例如给出数据的绝对路径等。&lt;/p>
&lt;p>比如，如果我将路径设置为，&lt;code>./data/&lt;/code>，那么我只需要把数据放在&lt;code>./data&lt;/code>目录下即可。&lt;/p>
&lt;p>我可以通过&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ln -s &lt;span class="k">$(&lt;/span>source-path-of-dataset&lt;span class="k">)&lt;/span> ./data
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>来将数据从其他位置链接过来。&lt;/p>
&lt;p>如果在相同的主机上，git 是可以自动同步这些 link 的。&lt;/p>
&lt;p>但如果在不同的主机上，就需要自己做好管理了。&lt;/p></description></item><item><title>Dynamic Version in PDM.md</title><link>https://svtter.cn/p/dynamic-version-in-pdm.md/</link><pubDate>Wed, 19 Feb 2025 16:46:24 +0800</pubDate><guid>https://svtter.cn/p/dynamic-version-in-pdm.md/</guid><description>&lt;p>How to set dynamic version in PDM.&lt;/p>
&lt;p>Change the &lt;code>pyproject.toml&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-toml" data-lang="toml">&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="nx">project&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">-&lt;/span> &lt;span class="nx">version&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;0.1.0&amp;#34;&lt;/span> &lt;span class="nx">remove&lt;/span> &lt;span class="nx">this&lt;/span> &lt;span class="nx">line&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">+&lt;/span> &lt;span class="nx">dynamic&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;version&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Add new configuration:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-toml" data-lang="toml">&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="nx">tool&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pdm&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">version&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">source&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;file&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">path&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;mypackage/__init__.py&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Certbot Self Signed.md</title><link>https://svtter.cn/p/certbot-self-signed.md/</link><pubDate>Wed, 19 Feb 2025 15:58:51 +0800</pubDate><guid>https://svtter.cn/p/certbot-self-signed.md/</guid><description>&lt;p>我们有时候会有 SSL 需求，但是国内的证书都需要买，价格也有问题，因此这里写一篇博客，教会大家如何使用 &lt;code>certbot&lt;/code> 和 &lt;code>let's encrypt&lt;/code>。&lt;/p>
&lt;p>&lt;code>Let's Encrypt&lt;/code> 是一个免费的 SSL 服务。
&lt;code>certbot&lt;/code>用来自动化 ssl 签名，来提供 https。&lt;/p>
&lt;h2 id="debianubuntu-安装依赖">Debian/Ubuntu 安装依赖
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo apt update
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo apt install certbot python3-certbot-nginx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="添加配置文件">添加配置文件
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo nano /etc/nginx/sites-available/subdomain.example.com.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>文件中添加 nginx 的配置信息&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="n">server&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">listen&lt;/span> &lt;span class="mi">80&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">server_name&lt;/span> &lt;span class="n">subdomain&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">example&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">com&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">root&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="k">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">www&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">subdomain&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">example&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">com&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">index&lt;/span> &lt;span class="n">index&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">html&lt;/span> &lt;span class="n">index&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">htm&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">location&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">try_files&lt;/span> &lt;span class="o">$&lt;/span>&lt;span class="n">uri&lt;/span> &lt;span class="o">$&lt;/span>&lt;span class="n">uri&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="o">=&lt;/span>&lt;span class="mi">404&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="启用和部署-https">启用和部署 HTTPS
&lt;/h2>&lt;p>启用配置文件： &lt;code>sudo ln -s /etc/nginx/sites-available/subdomain.example.com.conf /etc/nginx/sites-enabled/&lt;/code>.&lt;/p>
&lt;p>添加域名即可&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo certbot --nginx -d subdomain.example.com.
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Compile Latex Local.md</title><link>https://svtter.cn/p/compile-latex-local.md/</link><pubDate>Mon, 17 Feb 2025 16:39:50 +0800</pubDate><guid>https://svtter.cn/p/compile-latex-local.md/</guid><description>&lt;p>我们有时候希望在本地而不是 overleaf 上编译 latex 文件。这篇文章提供了一个方法。&lt;/p>
&lt;p>我们可以用 Docker 来构建一个编译环境。Dockerfile 如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-Dockerfile" data-lang="Dockerfile">&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># 使用 TeXLive 官方镜像作为基础镜像&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="s"> texlive/texlive:latest&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># 安装必要的包&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> apt-get update &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> apt-get install -y &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> make &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> git &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> rm -rf /var/lib/apt/lists/*&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># 设置工作目录&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">WORKDIR&lt;/span>&lt;span class="s"> /paper&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># 复制论文源文件到容器中&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> . .&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># 设置默认命令&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">CMD&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;latexmk&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;-pdf&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;0_main.tex&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>构建镜像：&lt;code>docker build -t paper .&lt;/code>&lt;/li>
&lt;li>构建PDF: &lt;code>docker run --rm -v $(pwd):/paper paper&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>构建命令可以自己修改。比如你的主文件是&lt;code>main.tex&lt;/code>，就可以修改成&lt;code>CMD [&amp;quot;latexmk&amp;quot;, &amp;quot;-pdf&amp;quot;, &amp;quot;0_main.tex&amp;quot;]&lt;/code>。&lt;/p></description></item><item><title>Easy Zshrc Config.md</title><link>https://svtter.cn/p/easy-zshrc-config.md/</link><pubDate>Sat, 15 Feb 2025 21:11:14 +0800</pubDate><guid>https://svtter.cn/p/easy-zshrc-config.md/</guid><description>&lt;p>之前在服务器上经常安装 oh-my-zsh；但是网络有时候不好，安装起来很费力。这个时候，就需要一个很简单的 zsh config，能干活就行。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 设置编辑器&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">EDITOR&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;vim&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 设置提示符&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">PROMPT&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;%F{blue}%n%f@%F{green}%m%f %F{cyan}%~%f %# &amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 别名定义&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">alias&lt;/span> &lt;span class="nv">ls&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;ls --color=auto&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">alias&lt;/span> &lt;span class="nv">ll&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;ls -la -G&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">alias&lt;/span> &lt;span class="nv">c&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;clear&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">alias&lt;/span> &lt;span class="nv">dc&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;docker compose&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">HISTFILE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$HOME&lt;/span>&lt;span class="s2">/.zsh_history&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">HISTSIZE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">10000000&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">SAVEHIST&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">10000000&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">setopt BANG_HIST &lt;span class="c1"># Treat the &amp;#39;!&amp;#39; character specially during expansion.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">setopt EXTENDED_HISTORY &lt;span class="c1"># Write the history file in the &amp;#34;:start:elapsed;command&amp;#34; format.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">setopt INC_APPEND_HISTORY &lt;span class="c1"># Write to the history file immediately, not when the shell exits.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">setopt SHARE_HISTORY &lt;span class="c1"># Share history between all sessions.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">setopt HIST_EXPIRE_DUPS_FIRST &lt;span class="c1"># Expire duplicate entries first when trimming history.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">setopt HIST_IGNORE_DUPS &lt;span class="c1"># Don&amp;#39;t record an entry that was just recorded again.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">setopt HIST_IGNORE_ALL_DUPS &lt;span class="c1"># Delete old recorded entry if new entry is a duplicate.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">setopt HIST_FIND_NO_DUPS &lt;span class="c1"># Do not display a line previously found.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">setopt HIST_IGNORE_SPACE &lt;span class="c1"># Don&amp;#39;t record an entry starting with a space.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">setopt HIST_SAVE_NO_DUPS &lt;span class="c1"># Don&amp;#39;t write duplicate entries in the history file.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">setopt HIST_REDUCE_BLANKS &lt;span class="c1"># Remove superfluous blanks before recording entry.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">setopt HIST_VERIFY &lt;span class="c1"># Don&amp;#39;t execute immediately upon history expansion.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">setopt HIST_BEEP &lt;span class="c1"># Beep when accessing nonexistent history.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 启用 fzf 相关功能&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span> -f /usr/share/doc/fzf/examples/key-bindings.zsh &lt;span class="o">]&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">source&lt;/span> /usr/share/doc/fzf/examples/key-bindings.zsh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span> -f /usr/share/doc/fzf/examples/completion.zsh &lt;span class="o">]&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">source&lt;/span> /usr/share/doc/fzf/examples/completion.zsh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">setopt no_nomatch
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>除了高亮&lt;code>ls&lt;/code>之外，配置了&lt;code>docker compose&lt;/code>。&lt;/p>
&lt;p>如果安装了 fzf，还可以配置 zshenv 来启用 fzf&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-zsh" data-lang="zsh">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 启用 fzf 相关功能&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span> -f /usr/share/doc/fzf/examples/key-bindings.zsh &lt;span class="o">]&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">source&lt;/span> /usr/share/doc/fzf/examples/key-bindings.zsh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span> -f /usr/share/doc/fzf/examples/completion.zsh &lt;span class="o">]&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">source&lt;/span> /usr/share/doc/fzf/examples/completion.zsh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Extend LVM Disk.md</title><link>https://svtter.cn/p/extend-lvm-disk.md/</link><pubDate>Sat, 15 Feb 2025 14:12:37 +0800</pubDate><guid>https://svtter.cn/p/extend-lvm-disk.md/</guid><description>&lt;p>使用 PVE + Debian 组合后，开发变得愉快了很多。今天遇到了一个新的问题，磁盘空间不足，拓展之后磁盘大小仍然不变。&lt;/p>
&lt;!-- 如果之前安装 Debian 没使用 LVM（逻辑卷），基本上就没救了，自己需要重新做一下系统。 -->
&lt;p>我们讨论的是使用 LVM（逻辑卷管理器）的情况。&lt;/p>
&lt;p>在这种情况下，我们需要首先看看系统。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">root@debian:/home/svtter# lsblk
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINTS
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sda 8:0 &lt;span class="m">0&lt;/span> 132G &lt;span class="m">0&lt;/span> disk
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">├─sda1 8:1 &lt;span class="m">0&lt;/span> 487M &lt;span class="m">0&lt;/span> part /boot
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">├─sda2 8:2 &lt;span class="m">0&lt;/span> 1K &lt;span class="m">0&lt;/span> part
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">└─sda5 8:5 &lt;span class="m">0&lt;/span> 31.5G &lt;span class="m">0&lt;/span> part
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ├─debian--vg-root 254:0 &lt;span class="m">0&lt;/span> 30.5G &lt;span class="m">0&lt;/span> lvm /
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> └─debian--vg-swap_1 254:1 &lt;span class="m">0&lt;/span> 976M &lt;span class="m">0&lt;/span> lvm &lt;span class="o">[&lt;/span>SWAP&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sr0 11:0 &lt;span class="m">1&lt;/span> 1.4G &lt;span class="m">0&lt;/span> rom
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>此时我们总共有 132G 的可用空间，使用了 31.5 G。&lt;/p>
&lt;p>我们需要调整 &lt;code>/dev/sda5&lt;/code> 的大小。&lt;/p>
&lt;p>我们首先需要使用一个 bootable usb。如果你使用的 PVE，你可以直接加载一个 iso 来启动。&lt;/p>
&lt;blockquote>
&lt;p>注意：以下的操作不一定具有可复现性。请务必备份你的数据，以防不测。&lt;/p>&lt;/blockquote>
&lt;p>在 live system 中，运行&lt;code>parted /dev/sda&lt;/code>。&lt;/p>
&lt;blockquote>
&lt;p>debian live system 中，用户名密码为：&lt;code>user/live&lt;/code>，切换 root 用户，只需要&lt;code>sudo su&lt;/code>。&lt;/p>&lt;/blockquote>
&lt;p>在 parted 中，使用 print 查看磁盘情况。&lt;/p>
&lt;p>下面是一个操作样例：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 启动 parted 并选择磁盘&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">parted /dev/sda
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 查看当前分区表&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">print
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 调整分区大小（假设要将 /dev/sda5 扩展到最大可用空间）&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">resizepart &lt;span class="m">5&lt;/span> &lt;span class="c1"># 5 是 /dev/sda5 的分区编号&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 按照提示输入新的分区大小，按 Enter 选择默认的最大可用空间&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 退出 parted&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">quit
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>此时，需要首先&lt;code>resizepart /dev/sda2&lt;/code>，也就是逻辑卷组。然后在扩展&lt;code>resizepart /dev/sda5&lt;/code>。&lt;/p>
&lt;p>完成拓展后，运行&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">pvresize /dev/sda5
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vgextend debian-vg /dev/sda5
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">lvextend -l +100%FREE /dev/debian-vg/root
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>此时磁盘空间已经拓展了。但是 ext4 文件系统还未适应。&lt;/p>
&lt;p>运行命令来重新调整 ext4 文件系统。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">e2fsck -f /dev/debian-vg/root
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">resize2fs /dev/debian-vg/root
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>再次查看&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">root@debian:/home/user# sudo lvdisplay /dev/debian-vg/root
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> --- Logical volume ---
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> LV Path /dev/debian-vg/root
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> LV Name root
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> VG Name debian-vg
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> LV UUID 82SmmD-qnAc-KOIO-1B2Y-ynP3-Mo0E-D12Rq0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> LV Write Access read/write
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> LV Creation host, &lt;span class="nb">time&lt;/span> debian, 2025-02-15 05:49:23 +0000
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> LV Status available
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># open 0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> LV Size &amp;lt;91.70 GiB
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Current LE &lt;span class="m">23475&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Segments &lt;span class="m">2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Allocation inherit
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Read ahead sectors auto
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - currently &lt;span class="nb">set&lt;/span> to &lt;span class="m">256&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Block device 254:0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这样一来，磁盘空间就拓展了。&lt;/p></description></item><item><title>实际推理模型和实验中推理模型</title><link>https://svtter.cn/p/%E5%AE%9E%E9%99%85%E6%8E%A8%E7%90%86%E6%A8%A1%E5%9E%8B%E5%92%8C%E5%AE%9E%E9%AA%8C%E4%B8%AD%E6%8E%A8%E7%90%86%E6%A8%A1%E5%9E%8B/</link><pubDate>Sat, 15 Feb 2025 09:50:49 +0800</pubDate><guid>https://svtter.cn/p/%E5%AE%9E%E9%99%85%E6%8E%A8%E7%90%86%E6%A8%A1%E5%9E%8B%E5%92%8C%E5%AE%9E%E9%AA%8C%E4%B8%AD%E6%8E%A8%E7%90%86%E6%A8%A1%E5%9E%8B/</guid><description>&lt;p>最近使用 paddlepaddle 比较多，发现了 paddleocr 对模型做了一个区分。有时候会给用户带来一些困惑。这里详细说说。&lt;/p>
&lt;p>实验中用于推理的模型，也就是可训练的模型。一般paddle的模型文件是这样的：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root 420M Feb &lt;span class="m">12&lt;/span> 15:59 model.pdopt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-rw-r--r-- &lt;span class="m">1&lt;/span> root root 275M Feb &lt;span class="m">12&lt;/span> 15:59 model.pdparams
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>一个是 pdopt 一个是 pdparams。&lt;/p>
&lt;p>这个就是用来在实验过程中进行推理的模型。一般用&lt;code>tools/infer_rec.py&lt;/code>。&lt;/p>
&lt;p>如果要实际部署到开发环境，需要将现在的实验中的模型做一个转换。&lt;/p>
&lt;p>需要执行&lt;code>tools/export_model.py&lt;/code>来把模型转换成&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">inference/en_PP-OCRv3_rec/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ├── inference.pdiparams # 识别inference模型的参数文件
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> └── inference.json # 识别inference模型的program文件
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>如此一来，就可以使用 paddlex 或者其他的推理服务来推理了。&lt;/p>
&lt;h2 id="总结">总结
&lt;/h2>&lt;ul>
&lt;li>实际上国内的深度学习框架技术上并不差，只不过做的太大，也没有很好的入门教程，所以开发者本身不用。&lt;/li>
&lt;li>百度对于自己的名声维护的太差。从之前的公关老大翻车就能看出来。&lt;/li>
&lt;li>做个 python web 的类比。如果 torch 是 flask，那么 paddlepaddle 更像是 django。&lt;/li>
&lt;/ul></description></item><item><title>Cuda and Paddle.md</title><link>https://svtter.cn/p/cuda-and-paddle.md/</link><pubDate>Tue, 11 Feb 2025 15:41:18 +0800</pubDate><guid>https://svtter.cn/p/cuda-and-paddle.md/</guid><description>&lt;p>深度学习环境配置是很多朋友迈不过去的坎。不过有了大模型，遇到问题定位的速度能快很多。&lt;/p>
&lt;p>我花了一些时间去适配老版本的 paddle，搞定了，这里发一篇文章记录一下。&lt;/p>
&lt;p>docker image 里面，很多 cuda11 镜像，在 cuda12 的环境下是跑不起来的。原因我也不太清楚。这个时候，可以选择大版本一致的 cuda。&lt;/p>
&lt;p>为了保证不影响 server 其他人的环境，不要更新 nvidia 驱动，安装自己的 cuda 版本，然后修改环境变量，就能改变系统的 cuda。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bashrc" data-lang="bashrc">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># CUDA_VERSION=11.7&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">CUDA_HOME&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;/usr/local/cuda-&lt;/span>&lt;span class="nv">$CUDA_VERSION&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">LD_LIBRARY_PATH&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$CUDA_HOME&lt;/span>&lt;span class="s2">/lib64:&lt;/span>&lt;span class="nv">$LD_LIBRARY_PATH&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">PATH&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$CUDA_HOME&lt;/span>/bin:&lt;span class="nv">$PATH&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>应用这个环境变量，然后查看&lt;code>nvidia-smi&lt;/code>，就能看到版本的变化。&lt;/p></description></item><item><title>Change Network of Debian.md</title><link>https://svtter.cn/p/change-network-of-debian.md/</link><pubDate>Mon, 10 Feb 2025 20:49:27 +0800</pubDate><guid>https://svtter.cn/p/change-network-of-debian.md/</guid><description>&lt;p>有时候我们希望修改默认的 ip 地址以及 DNS 服务器，来获得更好的网络。&lt;/p>
&lt;p>对 Debian 来说，修改两个文件，一个是&lt;code>/etc/network/interfaces&lt;/code>，另一个是&lt;code>/etc/resolv.conf&lt;/code>&lt;/p>
&lt;p>对于&lt;code>interfaces&lt;/code>来说&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># This file describes the network interfaces available on your system
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># and how to activate them. For more information, see interfaces(5).
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">source /etc/network/interfaces.d/*
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># The loopback network interface
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">auto lo
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iface lo inet loopback
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># The primary network interface
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">allow-hotplug ens18
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iface ens18 inet static
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">address 192.168.2.35
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">netmask 255.255.255.0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">gateway 192.168.2.60
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>在网关是&lt;code>192.168.2.60&lt;/code>的时候；&lt;/p>
&lt;p>如果还需要配置 DNS，修改 &lt;code>/etc/resolv.conf&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">nameserver 192.168.2.60
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>禁止ipv6&lt;/p>
&lt;p>&lt;code>/etc/sysctl.conf&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">net.ipv6.conf.all.disable_ipv6 = 1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>别忘了重启网络：&lt;code>systemctl restart networking&lt;/code>.&lt;/p></description></item><item><title>PDM 使用过程中的问题</title><link>https://svtter.cn/p/pdm-%E4%BD%BF%E7%94%A8%E8%BF%87%E7%A8%8B%E4%B8%AD%E7%9A%84%E9%97%AE%E9%A2%98/</link><pubDate>Sun, 09 Feb 2025 12:15:25 +0800</pubDate><guid>https://svtter.cn/p/pdm-%E4%BD%BF%E7%94%A8%E8%BF%87%E7%A8%8B%E4%B8%AD%E7%9A%84%E9%97%AE%E9%A2%98/</guid><description>&lt;p>在使用 pdm 的时候，如果更新包很快，有时候会无法更新 lockfile，也就是&lt;code>pdm lock&lt;/code>无法根据最新的包生成内容。&lt;/p>
&lt;p>这个时候，可以使用&lt;code>pdm cache info&lt;/code>来查看 cache 情况。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">➜ high-energy git:&lt;span class="o">(&lt;/span>main&lt;span class="o">)&lt;/span> ✗ pdm cache info
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Cache Root: /home/svtter/.cache/pdm, Total size: 17.9 MB
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> File Hash Cache: /home/svtter/.cache/pdm/hashes
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Files: 793, Size: &lt;span class="m">56&lt;/span> kB
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> HTTP Cache: /home/svtter/.cache/pdm/http
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Files: 317, Size: 12.1 MB
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Wheels Cache: /home/svtter/.cache/pdm/wheels
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Files: 6, Size: 5.6 MB
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Metadata Cache: /home/svtter/.cache/pdm/metadata
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Files: 6, Size: &lt;span class="m">147&lt;/span> kB
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Package Cache: /home/svtter/.cache/pdm/packages
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Packages: 0, Size: &lt;span class="m">0&lt;/span> bytes
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>一般删除 &lt;code>HTTP Cache&lt;/code> 可以解决问题。默认路径是&lt;code>$HOME/.cache/pdm/http&lt;/code>。&lt;/p></description></item><item><title>使用 git 管理 logseq 文件</title><link>https://svtter.cn/p/%E4%BD%BF%E7%94%A8-git-%E7%AE%A1%E7%90%86-logseq-%E6%96%87%E4%BB%B6/</link><pubDate>Sat, 08 Feb 2025 18:18:29 +0800</pubDate><guid>https://svtter.cn/p/%E4%BD%BF%E7%94%A8-git-%E7%AE%A1%E7%90%86-logseq-%E6%96%87%E4%BB%B6/</guid><description>&lt;p>因为经常同时使用多台设备，我经常会遇到在一处写好文章，在另外一台设备继续使用 logseq 的问题。直接复制粘贴显得很笨。&lt;/p>
&lt;p>我大概分了两个阶段处理这个问题。第一个阶段是用移动硬盘，在不同系统之间直接拷贝。这个时候用到 git bare repository.&lt;/p>
&lt;h2 id="stage-1">Stage 1
&lt;/h2>&lt;p>&lt;code>git init --bare logseq-database.git&lt;/code>&lt;/p>
&lt;p>然后再其他的 working git repository 上，添加 remote。例如我的磁盘路径是&lt;code>E:\&lt;/code>。&lt;/p>
&lt;p>&lt;code>git remote add origin E:\logseq-database.git&lt;/code>&lt;/p>
&lt;p>如此一来可以直接在不同设备之间同步 logseq 数据。&lt;/p>
&lt;h2 id="stage-2">Stage 2
&lt;/h2>&lt;p>我发现使用移动硬盘还是不太方便。我将一台10年前的 thinkpad 刷机，安装了 gitea。我一开始使用的是 gogs，但是 gogs 对于 submodule 处理不太友好，有莫名其妙的 bug。因此最终还是
使用了 gitea。使用 gitea 之后，我将原本的 git 库迁移到自己的本地机器上。例如：&lt;code>http://gitea.local/svtter/logseq-database.git&lt;/code>。&lt;/p>
&lt;h2 id="stage-3">Stage 3
&lt;/h2>&lt;p>我发现大型文件存储和共享容易出问题。我增加了 &lt;code>git-lfs&lt;/code> 的支持，通过&lt;/p>
&lt;p>&lt;code>git lfs install&lt;/code>&lt;/p>
&lt;p>以及&lt;/p>
&lt;p>&lt;code>git lfs track *.pdf&lt;/code>&lt;/p>
&lt;p>来避免大文件在&lt;code>.git&lt;/code>目录中留下太多的数据。&lt;/p>
&lt;h2 id="stage-4">Stage 4
&lt;/h2>&lt;p>定期备份一部分数据到&lt;code>GitHub&lt;/code>。但是我现在一般不这么做了。&lt;/p>
&lt;p>使用 git 在合并的时候要注意一个问题。如果文件名称有变化，自动化的合并会直接忽略。
大概是这样：我在两个设备上同时修改了一个文件，其中一个文件不仅仅是修改了内容，还更改了文件名。然后，两个设备分别进行了 git commit。
如此一来，git在进行合并的时候，不会提示冲突。git 自动化合并之后，其中一个设备上所作的修改会消失。&lt;/p>
&lt;p>针对这个问题，处理方法是在合并的时候尽可能采用 rebase 的方法。==&amp;gt; 但是 rebase 合并文件的时候速度很慢，要自己手动处理的内容很多。&lt;/p>
&lt;p>因此，在两个设备上同时修改一个文件的时候，首先要拉一下远端的修改。其次，应尽可能避免修改文件名。否则，可能会导致变更消失。&lt;/p>
&lt;p>好在 git commit 历史记录一直都在。实在不行，就从 commit 记录里找到丢失的部分，然后补充一个新的提交。&lt;/p></description></item><item><title>Coolify 和 Traefic 结合使用</title><link>https://svtter.cn/p/coolify-%E5%92%8C-traefic-%E7%BB%93%E5%90%88%E4%BD%BF%E7%94%A8/</link><pubDate>Fri, 07 Feb 2025 17:14:55 +0800</pubDate><guid>https://svtter.cn/p/coolify-%E5%92%8C-traefic-%E7%BB%93%E5%90%88%E4%BD%BF%E7%94%A8/</guid><description>&lt;p>我使用 coolify 来管理多台服务器；但是 coolify 域名管理有点让人迷惑，我一直没能搞定。今天测试了一下，终于搞明白了。&lt;/p>
&lt;p>例如，如果我要部署一个&lt;code>myapp&lt;/code>，我的&lt;code>docker-compose.yml&lt;/code>应该这样写。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">myapp&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">myapp&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s1">&amp;#39;8050:80&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s1">&amp;#39;./data:/app/data&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">environment&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">NODE_ENV=production&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s1">&amp;#39;APP_PORT=${APP_PORT_IN_UI}&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s1">&amp;#39;PORT=${PORT_IN_UI:-80} volumes:&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s1">&amp;#39;${COOLIFY_VOLUME_MYAPP}:/app/data&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">labels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">coolify.managed=true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">traefik.enable=true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">traefik.http.routers.myapp.rule=Host(`example.myapp.com`)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s1">&amp;#39;traefik.http.routers.myapp.entrypoints=http,https&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;code>80&lt;/code>是&lt;code>myapp&lt;/code>内部的&lt;code>port&lt;/code>，域名用&lt;code>example.myapp.com&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>如此配置，就可以使用域名了。&lt;/p></description></item><item><title>2024 年终总结</title><link>https://svtter.cn/p/2024-%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/</link><pubDate>Tue, 04 Feb 2025 10:52:24 +0800</pubDate><guid>https://svtter.cn/p/2024-%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/</guid><description>&lt;p>这是迟来的 2024 年全年总结。基于 2024-Q1到Q4。&lt;/p>
&lt;h2 id="去年的总结">去年的总结
&lt;/h2>&lt;ul>
&lt;li>2023年终总结定了几个目标，&lt;/li>
&lt;li>1）2个独立的研究；2）新的商业计划的landing page, ICP, 以及 OL service；3）确定发展的方向和城市。&lt;/li>
&lt;li>拓展的目标：(未完成) 烟知的新节目，(未完成) 技术书籍&lt;/li>
&lt;/ul>
&lt;h3 id="life">Life
&lt;/h3>&lt;ul>
&lt;li>Q1 大部分时间都是在学校度过的。之后就回到福建，陪着老婆做产康等项目。等到10月份，孩子出生。10-11-12 三个月，大部分时间都在照顾小孩。&lt;/li>
&lt;li>2024 年生活变化很大，大部分时间都在福建度过的。第一次为人父母，最大的感想就是，孕育一个小孩的过程非常熬人。因此，应该更加关注快乐的事情。&lt;/li>
&lt;li>黑神话悟空通关；艾尔登法环通关。&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>总的来说：应始终记得，如果一个人总是纠结在不快乐的事情中，是无法前进的。不要把自己放在一个不开心的环境下。&lt;/strong>&lt;/p>
&lt;h3 id="work">Work
&lt;/h3>&lt;ul>
&lt;li>Q1 交付了两个项目；除此之外，开发了&lt;a class="link" href="https://github.com/Svtter/django-login-email" target="_blank" rel="noopener"
>django-login-email&lt;/a>。在 Q1 编写了 django-login-email，在 Q4 完善使其基本上生产可用。Q2，为 meterhub 和 仪表研究 构建了通用的代码库。Q3，开发了一个前后端通用的代码库。在提升效率上有很大的帮助。&lt;/li>
&lt;li>上一个方向已经翻篇一年了，虽然在年末又有一些小小的烦恼，不过大部分事情都翻篇了。可喜可贺。工作上，meterhub 没能按期上线；我估计农历新年之前能否上线已经很不错了。我现在把 meterhub视为是博士阶段的一个交代。年龄不小了，激情多少还是有点，体力似乎有点跟不上。也可能是咖啡喝少了。继续在meterhub上投入时间和精力，也有战略上不想思考的惰性在身上。仔细看看代码库，meterhub 在三年前就已经启动了。陆陆续续更新底层框架，更新内容，变更设计，总体来说是在进步的。可惜的是，迭代到现在还达不到上线的基本要求：稳定和预测可靠。&lt;/li>
&lt;li>真正掌握了开发一个软件框架的能力。虽然不知道在 AI 时代这个能力是否还有很大的价值——但足以让我快乐一个季度了。&lt;/li>
&lt;/ul>
&lt;h3 id="academic">Academic
&lt;/h3>&lt;ul>
&lt;li>Q1 整理 response，整理老代码，老数据。Q2，投稿了 SWR，HIOL 发表了。老代码整理完成，重新构建了数据集处理代码库。Q3，开展了很多的工作，但是没有将工作切实的落地；花了不少的时间去补 transformer 的知识缺失。Q4，实际上可用的时间不够多，将有限的时间投入到了 LLMs 上的 llama 和 llava 的部署和验证上。&lt;/li>
&lt;li>研究点一：pointer cnn 多模态模型，在实验验证的过程中，遇到困难之后没有继续开展，没坚持下去。私以为是缺乏深度的思考导致。在 2025-Q1 的时候发现，方法实际上有一定的优越性，但是因为部分场景性能不佳，自我否定的心态比较重，从而使得没能继续做下去。2025 需要做个调整。&lt;/li>
&lt;li>关于中期报告：原本想在 Q1 完成中期报告，没搞定。仔细想想还是大的研究脉络没有规划好。文献阅读量似乎不是太够。整个知识体系建立的不太好。我觉得可以接受。&lt;/li>
&lt;li>论文数量：从发表论文数量的角度看，去年定下的目标没有达成。发论文的速度比较慢（只有一篇），新的研究点速度也比较慢，得加速。&lt;/li>
&lt;li>论文能力：论文能力不够纯熟。在 Q2 花了很多时间在写新论文，rebuttal 上面。应该结合 AI 工具和自己的表达来加快内容生产。&lt;/li>
&lt;li>好的一面：好的一面是，在2024年，能够更好的掌握实验数据的精确性以及管理相关代码和数据。这对于后续的实验复现，代码复用，增强知识沉淀都有积极的作用。&lt;/li>
&lt;li>2025，应该沿着某个研究体系深入拓展，将我正在解决的应用问题反诉到理论问题上。研究方法从原来的深入，到直接接手某一个研究方向，仔细阅读论文，然后出成果。改进别人的研究成果。&lt;/li>
&lt;/ul>
&lt;h3 id="tech-skills">Tech skills
&lt;/h3>&lt;ul>
&lt;li>Q2, Explore Ollama, kubernetes；Q3 functional programming；Q4，涉及到的技术很多。大多数是工程上遇到的很多问题。&lt;/li>
&lt;li>编程技巧整体是在提升的，重点在于学习新的编程范式 FP 上。与 FP 密切相关的是 react 生态中的基本开发技巧；AI 工具的使用；网络层工具的使用；虚拟化工具 PVE 上手；总的来说，大部分技术都是应用层和 devops 相关的。2025年或许深入到一个有价值的 IT 技术上，例如和互联网相关的大规模数据/存储/计算上。目前我比较看好分布式计算，结合 GPU、FPGA、CPU 的相关技术，例如 ray，lightning 等。网络层工具的使用是受到受到 Liang 的启发。对于技术采集和应用的帮助非常的大。&lt;/li>
&lt;/ul>
&lt;h2 id="问题在哪里">问题在哪里
&lt;/h2>&lt;blockquote>
&lt;p>如何变得更好？&lt;/p>&lt;/blockquote>
&lt;p>2024 年第一个大问题，是心态上比较容易出问题。有时候会被各种烦心事，搞坏了心态，搞得做不了事情。这不利于未来的发展。这个和环境有一定关系。因此，粗略的得到了一个结论：&lt;strong>无论出于什么原因，都不要把自己放在一个相对不利的位置，否则善良都没有发挥的余地&lt;/strong>。不能只局限于温饱，也不能只做宏观规划。要有远见，要考虑最糟糕的情况，做好最差情况的预案。查理芒格的投资思想可以作为参考。&lt;/p>
&lt;p>第二个大问题，在科研方面和新公司业务上，未能达成量化好的指标。
从表现上看，研究的内容有深入的东西，但是没能快速转化成成果。深入的内容和点不够多，在挑战相对大一点的部分没能竭尽全力，亦或未能充分调动脑筋去攻克。&lt;/p>
&lt;h2 id="明年怎么做">明年怎么做
&lt;/h2>&lt;p>主题：&lt;strong>聚焦和达成&lt;/strong>&lt;/p>
&lt;h3 id="对于2024年目标的讨论">对于2024年目标的讨论
&lt;/h3>&lt;ul>
&lt;li>两个独立研究的目标未能完成。研究方面进展的不顺利，其中一个大原因是时间投入不足。但按理来说，即便是时间不够充分，做一个研究点的时间应该是充足的。&lt;/li>
&lt;li>从策略的角度来说，研究方向需要适度调整一下，不能一味的只关注视觉的问题了。我不是什么天才，如果一味的去做视觉，其一可能毕业比较麻烦，其二影响未来发展。但是拓展新的研究内容，会影响自己当下研究内容的工作时间。需要做好平衡。&lt;/li>
&lt;li>新商业计划的 landing page，ICP license 都已经搞定了。 online service 没有。比我想象的内容要多一些。&lt;/li>
&lt;li>发展方向方面，虽然没能做出最终的决策，但是收集了更多的信息。部分信息，例如高校录取条件，可能已经过期了。不得不卷。&lt;/li>
&lt;/ul>
&lt;h3 id="2025-新目标">2025 新目标
&lt;/h3>&lt;p>2025年应该做一些更有深度的事情，聚焦。&lt;/p>
&lt;ul>
&lt;li>生活方面， 应尽可能的完成一些心态上的蜕变。尽管读了很多儒家的书籍，去思考自己面对不同情况下应该如何处理，更进一步提升自己面对困境的能力。善良，并且接收挑战。&lt;/li>
&lt;li>学术方面，尽可能在 2025 年毕业。在 Q1 应该投出一篇新的论文，会议或者期刊。Q2 应该完成大论文的基本内容。Q3 毕业。&lt;/li>
&lt;li>事业方面，在做的 AI 事业继续做下去，但需要花时间去思考应该达成什么样的目标。&lt;/li>
&lt;li>其他的，烟知节目补一下；技术书籍暂且不管。&lt;/li>
&lt;/ul></description></item><item><title>图片数据集的浏览和存储</title><link>https://svtter.cn/p/%E5%9B%BE%E7%89%87%E6%95%B0%E6%8D%AE%E9%9B%86%E7%9A%84%E6%B5%8F%E8%A7%88%E5%92%8C%E5%AD%98%E5%82%A8/</link><pubDate>Sun, 12 Jan 2025 18:31:12 +0800</pubDate><guid>https://svtter.cn/p/%E5%9B%BE%E7%89%87%E6%95%B0%E6%8D%AE%E9%9B%86%E7%9A%84%E6%B5%8F%E8%A7%88%E5%92%8C%E5%AD%98%E5%82%A8/</guid><description>&lt;p>数据集浏览是个比较麻烦的事情。尤其是数据集比较大的时候。&lt;/p>
&lt;p>npy (numpy array) ，h5 文件是两种常见的数据存储方式。
h5 文件的缺点是很容易产生数据损坏。笔者使用的时候多次遇见 h5 文件打不开的问题。
npy 文件在读取速度，文件传输方面具有很明显的优势。缺点是一次性加载到内存中，如果服务器不行，很容易爆掉。&lt;/p>
&lt;p>常见的图像数据集一般是将 label 和 image 分开放。例如 COCO 等。这样一来，也可以用文件浏览器去查看图片，可以快速的观察图片的特点。但一般情况下，我们不会在本地的电脑上查看图片，而是更多的在服务上操作数据集。&lt;/p>
&lt;p>2024，结合 torch，我感觉还是 matplotlib 直接绘图会方便一些。matplotlib 直接绘图一般是展示单张图片。但是如果利用 subplot，可以同时展示更多图片。如果用了 opencv，可以将部分标签值打印上去。不过也有缺点：如果使用的是远程服务器，生成图片的传输过程需要占用较多的带宽。
具体采用什么方式，还得自己做判断呐！&lt;/p></description></item><item><title>2024-Q4 Summary</title><link>https://svtter.cn/p/2024-q4-summary/</link><pubDate>Wed, 01 Jan 2025 16:42:42 +0800</pubDate><guid>https://svtter.cn/p/2024-q4-summary/</guid><description>&lt;blockquote>
&lt;p>2024年第四季度已经过去。这是一个充满挑战的季度：研究方面的进展不尽如人意，之前投入大量时间的研究方向在验证后发现暂时无法突破（虽然在2025年找到了新的思路）；工作上则将更多精力投入到项目开发和家庭生活中。尽管遇到了不少挫折，但人生总要向前看，继续努力！&lt;/p>&lt;/blockquote>
&lt;h2 id="生活点滴">生活点滴
&lt;/h2>&lt;p>生活总体平稳：&lt;/p>
&lt;ul>
&lt;li>孩子健康成长，见证每一个精彩时刻&lt;/li>
&lt;li>告别了短暂存续的电玩店&lt;/li>
&lt;li>成功戒掉碳酸饮料，但需要警惕果汁摄入过量的问题&lt;/li>
&lt;/ul>
&lt;h2 id="工作项目">工作项目
&lt;/h2>&lt;h3 id="项目反思">项目反思
&lt;/h3>&lt;ul>
&lt;li>Cathodic系统项目从Q1持续到Q4仍未交付，深度复盘后发现：
&lt;ul>
&lt;li>核心问题在于需求理解与方案匹配度不足&lt;/li>
&lt;li>过度追求技术完美，导致方案过于复杂&lt;/li>
&lt;li>客户实际需要的是简单可靠的解决方案&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>经验教训：在追求技术创新的同时，更要注重方案的实用性和交付效率&lt;/li>
&lt;/ul>
&lt;h2 id="学术研究">学术研究
&lt;/h2>&lt;h3 id="已完成工作">已完成工作
&lt;/h3>&lt;ul>
&lt;li>CRNN性能分析；优化方面，编写了少量的代码。&lt;/li>
&lt;li>LLaVA相关模型的性能评估与部署实践&lt;/li>
&lt;/ul>
&lt;h3 id="待推进工作">待推进工作
&lt;/h3>&lt;ul>
&lt;li>CTC loss改进方案的实现&lt;/li>
&lt;li>迁移学习新方法的探索&lt;/li>
&lt;li>Feature remap创新思路的落地&lt;/li>
&lt;/ul>
&lt;h3 id="其他进展">其他进展
&lt;/h3>&lt;ul>
&lt;li>SWR论文完成重投&lt;/li>
&lt;li>深入思考研究团队建设&lt;/li>
&lt;li>为自然基金申请做准备&lt;/li>
&lt;li>调研人工智能研究机构发展动态&lt;/li>
&lt;li>重新审视Few-shot Learning、Swin Transformer和Active Learning&lt;/li>
&lt;li>探索LLMs在具体任务中的应用价值&lt;/li>
&lt;li>推进表计检测模型的优化&lt;/li>
&lt;/ul>
&lt;h2 id="技术积累">技术积累
&lt;/h2>&lt;h3 id="开发工具与效率提升">开发工具与效率提升
&lt;/h3>&lt;ul>
&lt;li>全面迁移到Cursor进行开发，在适当场景引入函数式编程&lt;/li>
&lt;li>深入研究PP-OCR源码&lt;/li>
&lt;li>搭建并优化Homelab环境&lt;/li>
&lt;li>解决多个技术难题：
&lt;ul>
&lt;li>Debian图形界面启动问题&lt;/li>
&lt;li>Vite + Electron URL路径问题&lt;/li>
&lt;li>Docker加密方案&lt;/li>
&lt;li>自动化文档构建&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="技术栈拓展">技术栈拓展
&lt;/h3>&lt;ul>
&lt;li>React生态系统深度学习&lt;/li>
&lt;li>TypeScript高级特性掌握&lt;/li>
&lt;li>容器化部署最佳实践&lt;/li>
&lt;li>网络代理优化方案&lt;/li>
&lt;li>探索新框架：Reflex、Traefik、WriteFreely等&lt;/li>
&lt;li>包管理工具对比：pip-tools vs PDM&lt;/li>
&lt;li>数据库优化：索引设计与Countless Page&lt;/li>
&lt;li>办公自动化：多Word文件合并&lt;/li>
&lt;li>AI应用：ChatGPT Canvas集成&lt;/li>
&lt;/ul>
&lt;h2 id="工程实践">工程实践
&lt;/h2>&lt;h3 id="新方向探索">新方向探索
&lt;/h3>&lt;ul>
&lt;li>行业管理系统需求分析&lt;/li>
&lt;li>数据中心建设经验总结&lt;/li>
&lt;/ul>
&lt;h3 id="项目进展">项目进展
&lt;/h3>&lt;ul>
&lt;li>企业网站WordPress迁移&lt;/li>
&lt;li>开源Python包CI/CD实践&lt;/li>
&lt;li>Redmine功能扩展&lt;/li>
&lt;li>新项目启动：
&lt;ul>
&lt;li>DocWriter&lt;/li>
&lt;li>LeanCanvas&lt;/li>
&lt;li>基于LLMs的笔记应用&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>MeterHub数据集支持&lt;/li>
&lt;li>自动化运维实践&lt;/li>
&lt;/ul>
&lt;h2 id="展望未来">展望未来
&lt;/h2>&lt;ul>
&lt;li>季度回顾后发现，工程能力有显著提升&lt;/li>
&lt;li>计划引入卡片式学习方法，强化重要知识点&lt;/li>
&lt;li>对AI领域发展保持清醒认知，避免跟风，专注有价值的创新方向&lt;/li>
&lt;li>详细规划将在年终总结中展开&lt;/li>
&lt;/ul></description></item><item><title>使用函数式编程遇到的问题</title><link>https://svtter.cn/p/%E4%BD%BF%E7%94%A8%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/</link><pubDate>Thu, 19 Dec 2024 11:16:08 +0800</pubDate><guid>https://svtter.cn/p/%E4%BD%BF%E7%94%A8%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/</guid><description>&lt;p>我在使用函数式编程时，遇到了一个问题，背景是这样的：一个项目中存在了大量的函数，这些函数之间的相互调用，使得导致代码逻辑比较复杂。当我想要修改一个逻辑的时候，需要反复的查看代码，以及定义新的函数。&lt;/p>
&lt;p>函数相对独立，本身是一个很好的特点。然而，正是因为相互独立，使得函数和函数的依赖关系缺失，反而造成了程序设计与改动的不方便。&lt;/p>
&lt;p>当我们使用函数的时候，为了能够较好的修改原本的逻辑，可以通过默认参数来构成依赖关系。参数的可替代性，可以使得代码更容易被修改。
但是相比于 OOP 机制而言，FP 的依赖关系不那么显然易见——基于类的成员函数代码，让工程师更容易理解依赖关系。并且，在函数跳转的时候，借助ide或者编辑器，跳转也更加方便。&lt;/p>
&lt;p>然而我这个想法真的正确吗？是否是因为函数编程本身有一些特性我没有使用到呢？&lt;/p>
&lt;h2 id="代码">代码
&lt;/h2>&lt;p>我遇到问题，代码如下：&lt;/p>
&lt;p>函数式代码&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt"> 10
&lt;/span>&lt;span class="lnt"> 11
&lt;/span>&lt;span class="lnt"> 12
&lt;/span>&lt;span class="lnt"> 13
&lt;/span>&lt;span class="lnt"> 14
&lt;/span>&lt;span class="lnt"> 15
&lt;/span>&lt;span class="lnt"> 16
&lt;/span>&lt;span class="lnt"> 17
&lt;/span>&lt;span class="lnt"> 18
&lt;/span>&lt;span class="lnt"> 19
&lt;/span>&lt;span class="lnt"> 20
&lt;/span>&lt;span class="lnt"> 21
&lt;/span>&lt;span class="lnt"> 22
&lt;/span>&lt;span class="lnt"> 23
&lt;/span>&lt;span class="lnt"> 24
&lt;/span>&lt;span class="lnt"> 25
&lt;/span>&lt;span class="lnt"> 26
&lt;/span>&lt;span class="lnt"> 27
&lt;/span>&lt;span class="lnt"> 28
&lt;/span>&lt;span class="lnt"> 29
&lt;/span>&lt;span class="lnt"> 30
&lt;/span>&lt;span class="lnt"> 31
&lt;/span>&lt;span class="lnt"> 32
&lt;/span>&lt;span class="lnt"> 33
&lt;/span>&lt;span class="lnt"> 34
&lt;/span>&lt;span class="lnt"> 35
&lt;/span>&lt;span class="lnt"> 36
&lt;/span>&lt;span class="lnt"> 37
&lt;/span>&lt;span class="lnt"> 38
&lt;/span>&lt;span class="lnt"> 39
&lt;/span>&lt;span class="lnt"> 40
&lt;/span>&lt;span class="lnt"> 41
&lt;/span>&lt;span class="lnt"> 42
&lt;/span>&lt;span class="lnt"> 43
&lt;/span>&lt;span class="lnt"> 44
&lt;/span>&lt;span class="lnt"> 45
&lt;/span>&lt;span class="lnt"> 46
&lt;/span>&lt;span class="lnt"> 47
&lt;/span>&lt;span class="lnt"> 48
&lt;/span>&lt;span class="lnt"> 49
&lt;/span>&lt;span class="lnt"> 50
&lt;/span>&lt;span class="lnt"> 51
&lt;/span>&lt;span class="lnt"> 52
&lt;/span>&lt;span class="lnt"> 53
&lt;/span>&lt;span class="lnt"> 54
&lt;/span>&lt;span class="lnt"> 55
&lt;/span>&lt;span class="lnt"> 56
&lt;/span>&lt;span class="lnt"> 57
&lt;/span>&lt;span class="lnt"> 58
&lt;/span>&lt;span class="lnt"> 59
&lt;/span>&lt;span class="lnt"> 60
&lt;/span>&lt;span class="lnt"> 61
&lt;/span>&lt;span class="lnt"> 62
&lt;/span>&lt;span class="lnt"> 63
&lt;/span>&lt;span class="lnt"> 64
&lt;/span>&lt;span class="lnt"> 65
&lt;/span>&lt;span class="lnt"> 66
&lt;/span>&lt;span class="lnt"> 67
&lt;/span>&lt;span class="lnt"> 68
&lt;/span>&lt;span class="lnt"> 69
&lt;/span>&lt;span class="lnt"> 70
&lt;/span>&lt;span class="lnt"> 71
&lt;/span>&lt;span class="lnt"> 72
&lt;/span>&lt;span class="lnt"> 73
&lt;/span>&lt;span class="lnt"> 74
&lt;/span>&lt;span class="lnt"> 75
&lt;/span>&lt;span class="lnt"> 76
&lt;/span>&lt;span class="lnt"> 77
&lt;/span>&lt;span class="lnt"> 78
&lt;/span>&lt;span class="lnt"> 79
&lt;/span>&lt;span class="lnt"> 80
&lt;/span>&lt;span class="lnt"> 81
&lt;/span>&lt;span class="lnt"> 82
&lt;/span>&lt;span class="lnt"> 83
&lt;/span>&lt;span class="lnt"> 84
&lt;/span>&lt;span class="lnt"> 85
&lt;/span>&lt;span class="lnt"> 86
&lt;/span>&lt;span class="lnt"> 87
&lt;/span>&lt;span class="lnt"> 88
&lt;/span>&lt;span class="lnt"> 89
&lt;/span>&lt;span class="lnt"> 90
&lt;/span>&lt;span class="lnt"> 91
&lt;/span>&lt;span class="lnt"> 92
&lt;/span>&lt;span class="lnt"> 93
&lt;/span>&lt;span class="lnt"> 94
&lt;/span>&lt;span class="lnt"> 95
&lt;/span>&lt;span class="lnt"> 96
&lt;/span>&lt;span class="lnt"> 97
&lt;/span>&lt;span class="lnt"> 98
&lt;/span>&lt;span class="lnt"> 99
&lt;/span>&lt;span class="lnt">100
&lt;/span>&lt;span class="lnt">101
&lt;/span>&lt;span class="lnt">102
&lt;/span>&lt;span class="lnt">103
&lt;/span>&lt;span class="lnt">104
&lt;/span>&lt;span class="lnt">105
&lt;/span>&lt;span class="lnt">106
&lt;/span>&lt;span class="lnt">107
&lt;/span>&lt;span class="lnt">108
&lt;/span>&lt;span class="lnt">109
&lt;/span>&lt;span class="lnt">110
&lt;/span>&lt;span class="lnt">111
&lt;/span>&lt;span class="lnt">112
&lt;/span>&lt;span class="lnt">113
&lt;/span>&lt;span class="lnt">114
&lt;/span>&lt;span class="lnt">115
&lt;/span>&lt;span class="lnt">116
&lt;/span>&lt;span class="lnt">117
&lt;/span>&lt;span class="lnt">118
&lt;/span>&lt;span class="lnt">119
&lt;/span>&lt;span class="lnt">120
&lt;/span>&lt;span class="lnt">121
&lt;/span>&lt;span class="lnt">122
&lt;/span>&lt;span class="lnt">123
&lt;/span>&lt;span class="lnt">124
&lt;/span>&lt;span class="lnt">125
&lt;/span>&lt;span class="lnt">126
&lt;/span>&lt;span class="lnt">127
&lt;/span>&lt;span class="lnt">128
&lt;/span>&lt;span class="lnt">129
&lt;/span>&lt;span class="lnt">130
&lt;/span>&lt;span class="lnt">131
&lt;/span>&lt;span class="lnt">132
&lt;/span>&lt;span class="lnt">133
&lt;/span>&lt;span class="lnt">134
&lt;/span>&lt;span class="lnt">135
&lt;/span>&lt;span class="lnt">136
&lt;/span>&lt;span class="lnt">137
&lt;/span>&lt;span class="lnt">138
&lt;/span>&lt;span class="lnt">139
&lt;/span>&lt;span class="lnt">140
&lt;/span>&lt;span class="lnt">141
&lt;/span>&lt;span class="lnt">142
&lt;/span>&lt;span class="lnt">143
&lt;/span>&lt;span class="lnt">144
&lt;/span>&lt;span class="lnt">145
&lt;/span>&lt;span class="lnt">146
&lt;/span>&lt;span class="lnt">147
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@validate&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">compute_single&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">get_id_and_params&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Callable&lt;/span>&lt;span class="p">[[],&lt;/span> &lt;span class="nb">tuple&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nb">int&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">T&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">general&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Params&lt;/span>&lt;span class="p">]],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">get_full_path&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Callable&lt;/span>&lt;span class="p">[[&lt;/span>&lt;span class="nb">str&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">*&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">func_set&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">BasicFuncSet&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">FuncSet&lt;/span>&lt;span class="p">(),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">is_write&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">bool&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">True&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="nb">tuple&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ComputeResult&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">DataFrame&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;compute single values.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> is_write: write to file
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> &amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">id&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">params&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">get_id_and_params&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">input_data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">InputData&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">from_dict&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">params&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">filelist&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ResultFile&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 生成写入数据的函数&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">write_data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">use_write_data&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">id&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">params&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;udl2_file&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">filelist&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">current_type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="n">is_zhiliu&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">params&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1"># ac 0, dc 1. zhiliu is dc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># filter period&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">df&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">func_set&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">filter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">input_data&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">input_data&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">is_write&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">write_data&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">df&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">params&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;udl2_file&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">get_full_path&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">params&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;out_file_path_1&amp;#34;&lt;/span>&lt;span class="p">]))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># stat period, support multiple files, but not use this is api call&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">df&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">func_set&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">stat&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">df&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">params&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">interval_jihua&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">params&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;interval_jihua&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">True&lt;/span>&lt;span class="p">)),)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">df&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nb">dict&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">iter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">row&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">row&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">df&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">df&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">DataFrame&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">df&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">is_write&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">write_data&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">df&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">params&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;out_file_path_1&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">get_full_path&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">params&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;out_file_path_2&amp;#34;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># model period&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">df&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">func_set&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">model&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">df&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">params&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">is_write&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">write_data&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">df&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">params&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;out_file_path_2&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">get_full_path&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">params&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;out_file_path_3&amp;#34;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 包含了三级文件&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">file_result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">result&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ComputeResult&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">status&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Status&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">success&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">msg&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;success!&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">data&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">filelist&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 返回文件以及最终的DataFrame&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">file_result&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">df&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">write_final_files&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ac_df&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">DataFrame&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">dc_df&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">DataFrame&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">output_path_fn&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Callable&lt;/span>&lt;span class="p">[[&lt;/span>&lt;span class="nb">str&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="n">result&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">FinalFiles&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;写入 ac dc 文件&amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ac_file&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">output_path_fn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;ac&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">dc_file&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">output_path_fn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;dc&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">fileutils&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">to_csv&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ac_df&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ac_file&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">fileutils&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">to_csv&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">dc_df&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">dc_file&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">result&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">FinalFiles&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ac&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ResultFile&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">current_type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">original_filename&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;all udl2_files&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">original_filepath&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;null&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">in_filename&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;all results of udl2_files&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">filename&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">fileutils&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get_file_name&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ac_file&lt;/span>&lt;span class="p">)),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">filepath&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ac_file&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">dc&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ResultFile&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">current_type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">original_filename&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;all udl2_files&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">original_filepath&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;null&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">in_filename&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;all results of udl2_files&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">filename&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">fileutils&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get_file_name&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">dc_file&lt;/span>&lt;span class="p">)),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">filepath&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">dc_file&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">collect_files&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">param_group&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">T&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">general&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ParamGroup&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">is_write&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">bool&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">True&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">compute_single&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">T&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ComputeFunc&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">compute_single&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="nb">tuple&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nb">list&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ComputeResult&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="nb">list&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">DataFrame&lt;/span>&lt;span class="p">]]:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> 对参数列表里面的数据进行计算，并返回结果列表
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> compute_single: 计算单一文件的函数
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> &amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">res&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ComputeResult&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">df_list&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">DataFrame&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">enumerate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">param_group&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;param_list&amp;#34;&lt;/span>&lt;span class="p">]):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">get_id_and_params&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">r&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">df&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">compute_single&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">get_id_and_params&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">param_group&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;get_full_path&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">is_write&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">is_write&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># r contains stage-1, stage-2, stage-3 files&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">res&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">r&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">df_list&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">df&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">res&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">df_list&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">compute&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">param_group&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">T&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">general&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ParamGroup&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">is_write&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">bool&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">True&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">collect_files&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">T&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">CollectFilesFunc&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">collect_files&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="n">result&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">FinalResult&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> 计算并返回最终结果
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> collect_files 是收集文件的函数，也包含了计算单个文件的过程
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> &amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">res&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">df_list&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">collect_files&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">param_group&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">is_write&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 整理最终的文件&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ac_df&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">dc_df&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">fileutils&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">merge_files&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">res&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">df_list&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">output_fn&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">param_group&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;output_path&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">output_fn&lt;/span> &lt;span class="ow">is&lt;/span> &lt;span class="kc">None&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">raise&lt;/span> &lt;span class="ne">ValueError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;output_path is None&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">final_files&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">write_final_files&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ac_df&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">dc_df&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">output_fn&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">result&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">FinalResult&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">status&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Status&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">success&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">msg&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;success!&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">compute_result&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">res&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">final_files&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">final_files&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>当我需要调整 funcset 的实现时，如果我想对当前的代码进行复用，会写成这样&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">get_compute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">funcset&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">BasicFuncSet&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;隐藏了其他函数的复杂性，直接调用本函数即可完成 compute 函数的生成&amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">functools&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">partial&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">controller&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">compute&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">collect_files&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">functools&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">partial&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">controller&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">collect_files&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">compute_single&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">functools&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">partial&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">controller&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">compute_single&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">func_set&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">funcset&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>为了能够修改&lt;code>funset&lt;/code>中的内容，我需要不停的重新查看代码，需要不停的查文档，然后来编写代码。尽管这里使用了柯里化来简化代码的参数，但在我看来，实际上帮助不是很大。我仍然需要不停的查询函数的参数，从而降低了编程的速度。&lt;/p>
&lt;p>基于 OOP（面向对象编程）的代码&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt"> 10
&lt;/span>&lt;span class="lnt"> 11
&lt;/span>&lt;span class="lnt"> 12
&lt;/span>&lt;span class="lnt"> 13
&lt;/span>&lt;span class="lnt"> 14
&lt;/span>&lt;span class="lnt"> 15
&lt;/span>&lt;span class="lnt"> 16
&lt;/span>&lt;span class="lnt"> 17
&lt;/span>&lt;span class="lnt"> 18
&lt;/span>&lt;span class="lnt"> 19
&lt;/span>&lt;span class="lnt"> 20
&lt;/span>&lt;span class="lnt"> 21
&lt;/span>&lt;span class="lnt"> 22
&lt;/span>&lt;span class="lnt"> 23
&lt;/span>&lt;span class="lnt"> 24
&lt;/span>&lt;span class="lnt"> 25
&lt;/span>&lt;span class="lnt"> 26
&lt;/span>&lt;span class="lnt"> 27
&lt;/span>&lt;span class="lnt"> 28
&lt;/span>&lt;span class="lnt"> 29
&lt;/span>&lt;span class="lnt"> 30
&lt;/span>&lt;span class="lnt"> 31
&lt;/span>&lt;span class="lnt"> 32
&lt;/span>&lt;span class="lnt"> 33
&lt;/span>&lt;span class="lnt"> 34
&lt;/span>&lt;span class="lnt"> 35
&lt;/span>&lt;span class="lnt"> 36
&lt;/span>&lt;span class="lnt"> 37
&lt;/span>&lt;span class="lnt"> 38
&lt;/span>&lt;span class="lnt"> 39
&lt;/span>&lt;span class="lnt"> 40
&lt;/span>&lt;span class="lnt"> 41
&lt;/span>&lt;span class="lnt"> 42
&lt;/span>&lt;span class="lnt"> 43
&lt;/span>&lt;span class="lnt"> 44
&lt;/span>&lt;span class="lnt"> 45
&lt;/span>&lt;span class="lnt"> 46
&lt;/span>&lt;span class="lnt"> 47
&lt;/span>&lt;span class="lnt"> 48
&lt;/span>&lt;span class="lnt"> 49
&lt;/span>&lt;span class="lnt"> 50
&lt;/span>&lt;span class="lnt"> 51
&lt;/span>&lt;span class="lnt"> 52
&lt;/span>&lt;span class="lnt"> 53
&lt;/span>&lt;span class="lnt"> 54
&lt;/span>&lt;span class="lnt"> 55
&lt;/span>&lt;span class="lnt"> 56
&lt;/span>&lt;span class="lnt"> 57
&lt;/span>&lt;span class="lnt"> 58
&lt;/span>&lt;span class="lnt"> 59
&lt;/span>&lt;span class="lnt"> 60
&lt;/span>&lt;span class="lnt"> 61
&lt;/span>&lt;span class="lnt"> 62
&lt;/span>&lt;span class="lnt"> 63
&lt;/span>&lt;span class="lnt"> 64
&lt;/span>&lt;span class="lnt"> 65
&lt;/span>&lt;span class="lnt"> 66
&lt;/span>&lt;span class="lnt"> 67
&lt;/span>&lt;span class="lnt"> 68
&lt;/span>&lt;span class="lnt"> 69
&lt;/span>&lt;span class="lnt"> 70
&lt;/span>&lt;span class="lnt"> 71
&lt;/span>&lt;span class="lnt"> 72
&lt;/span>&lt;span class="lnt"> 73
&lt;/span>&lt;span class="lnt"> 74
&lt;/span>&lt;span class="lnt"> 75
&lt;/span>&lt;span class="lnt"> 76
&lt;/span>&lt;span class="lnt"> 77
&lt;/span>&lt;span class="lnt"> 78
&lt;/span>&lt;span class="lnt"> 79
&lt;/span>&lt;span class="lnt"> 80
&lt;/span>&lt;span class="lnt"> 81
&lt;/span>&lt;span class="lnt"> 82
&lt;/span>&lt;span class="lnt"> 83
&lt;/span>&lt;span class="lnt"> 84
&lt;/span>&lt;span class="lnt"> 85
&lt;/span>&lt;span class="lnt"> 86
&lt;/span>&lt;span class="lnt"> 87
&lt;/span>&lt;span class="lnt"> 88
&lt;/span>&lt;span class="lnt"> 89
&lt;/span>&lt;span class="lnt"> 90
&lt;/span>&lt;span class="lnt"> 91
&lt;/span>&lt;span class="lnt"> 92
&lt;/span>&lt;span class="lnt"> 93
&lt;/span>&lt;span class="lnt"> 94
&lt;/span>&lt;span class="lnt"> 95
&lt;/span>&lt;span class="lnt"> 96
&lt;/span>&lt;span class="lnt"> 97
&lt;/span>&lt;span class="lnt"> 98
&lt;/span>&lt;span class="lnt"> 99
&lt;/span>&lt;span class="lnt">100
&lt;/span>&lt;span class="lnt">101
&lt;/span>&lt;span class="lnt">102
&lt;/span>&lt;span class="lnt">103
&lt;/span>&lt;span class="lnt">104
&lt;/span>&lt;span class="lnt">105
&lt;/span>&lt;span class="lnt">106
&lt;/span>&lt;span class="lnt">107
&lt;/span>&lt;span class="lnt">108
&lt;/span>&lt;span class="lnt">109
&lt;/span>&lt;span class="lnt">110
&lt;/span>&lt;span class="lnt">111
&lt;/span>&lt;span class="lnt">112
&lt;/span>&lt;span class="lnt">113
&lt;/span>&lt;span class="lnt">114
&lt;/span>&lt;span class="lnt">115
&lt;/span>&lt;span class="lnt">116
&lt;/span>&lt;span class="lnt">117
&lt;/span>&lt;span class="lnt">118
&lt;/span>&lt;span class="lnt">119
&lt;/span>&lt;span class="lnt">120
&lt;/span>&lt;span class="lnt">121
&lt;/span>&lt;span class="lnt">122
&lt;/span>&lt;span class="lnt">123
&lt;/span>&lt;span class="lnt">124
&lt;/span>&lt;span class="lnt">125
&lt;/span>&lt;span class="lnt">126
&lt;/span>&lt;span class="lnt">127
&lt;/span>&lt;span class="lnt">128
&lt;/span>&lt;span class="lnt">129
&lt;/span>&lt;span class="lnt">130
&lt;/span>&lt;span class="lnt">131
&lt;/span>&lt;span class="lnt">132
&lt;/span>&lt;span class="lnt">133
&lt;/span>&lt;span class="lnt">134
&lt;/span>&lt;span class="lnt">135
&lt;/span>&lt;span class="lnt">136
&lt;/span>&lt;span class="lnt">137
&lt;/span>&lt;span class="lnt">138
&lt;/span>&lt;span class="lnt">139
&lt;/span>&lt;span class="lnt">140
&lt;/span>&lt;span class="lnt">141
&lt;/span>&lt;span class="lnt">142
&lt;/span>&lt;span class="lnt">143
&lt;/span>&lt;span class="lnt">144
&lt;/span>&lt;span class="lnt">145
&lt;/span>&lt;span class="lnt">146
&lt;/span>&lt;span class="lnt">147
&lt;/span>&lt;span class="lnt">148
&lt;/span>&lt;span class="lnt">149
&lt;/span>&lt;span class="lnt">150
&lt;/span>&lt;span class="lnt">151
&lt;/span>&lt;span class="lnt">152
&lt;/span>&lt;span class="lnt">153
&lt;/span>&lt;span class="lnt">154
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl"> &lt;span class="k">class&lt;/span> &lt;span class="nc">Controller&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">object&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="fm">__init__&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">funcset&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">BasicFuncSet&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">FuncSet&lt;/span>&lt;span class="p">()):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">funcset&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">funcset&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nd">@validate&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">compute_single&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">get_id_and_params&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Callable&lt;/span>&lt;span class="p">[[],&lt;/span> &lt;span class="nb">tuple&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nb">int&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">T&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">general&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Params&lt;/span>&lt;span class="p">]],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">get_full_path&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Callable&lt;/span>&lt;span class="p">[[&lt;/span>&lt;span class="nb">str&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">*&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">is_write&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">bool&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">True&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="nb">tuple&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ComputeResult&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">DataFrame&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;compute single values.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> is_write: write to file
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> &amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">id&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">params&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">get_id_and_params&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">input_data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">InputData&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">from_dict&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">params&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">filelist&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ResultFile&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 生成写入数据的函数&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">write_data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">use_write_data&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">id&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">params&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;udl2_file&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">filelist&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">current_type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="n">is_zhiliu&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">params&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1"># ac 0, dc 1. zhiliu is dc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># filter period&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">df&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">funcset&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">filter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">input_data&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">input_data&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">is_write&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">write_data&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">df&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">params&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;udl2_file&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">get_full_path&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">params&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;out_file_path_1&amp;#34;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># stat period, support multiple files, but not use this is api call&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">df&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">funcset&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">stat&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">df&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">params&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">interval_jihua&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">params&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;interval_jihua&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">True&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">df&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nb">dict&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">iter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">row&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">row&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">df&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">df&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">DataFrame&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">df&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">is_write&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">write_data&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">df&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">params&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;out_file_path_1&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">get_full_path&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">params&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;out_file_path_2&amp;#34;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># model period&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">df&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">funcset&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">model&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">df&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">params&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">is_write&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">write_data&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">df&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">params&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;out_file_path_2&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">get_full_path&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">params&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;out_file_path_3&amp;#34;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 包含了三级文件&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">file_result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">result&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ComputeResult&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">status&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Status&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">success&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">msg&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;success!&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">data&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">filelist&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 返回文件以及最终的DataFrame&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">file_result&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">df&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">write_final_files&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ac_df&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">DataFrame&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">dc_df&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">DataFrame&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">output_path_fn&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Callable&lt;/span>&lt;span class="p">[[&lt;/span>&lt;span class="nb">str&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="n">result&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">FinalFiles&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;写入 ac dc 文件&amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ac_file&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">output_path_fn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;ac&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">dc_file&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">output_path_fn&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;dc&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">fileutils&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">to_csv&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ac_df&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ac_file&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">fileutils&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">to_csv&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">dc_df&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">dc_file&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">result&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">FinalFiles&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ac&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ResultFile&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">current_type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">original_filename&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;all udl2_files&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">original_filepath&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;null&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">in_filename&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;all results of udl2_files&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">filename&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">fileutils&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get_file_name&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ac_file&lt;/span>&lt;span class="p">)),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">filepath&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ac_file&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">dc&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ResultFile&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">current_type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">original_filename&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;all udl2_files&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">original_filepath&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;null&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">in_filename&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;all results of udl2_files&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">filename&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">fileutils&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get_file_name&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">dc_file&lt;/span>&lt;span class="p">)),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">filepath&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">dc_file&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">collect_files&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">param_group&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">T&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">general&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ParamGroup&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">is_write&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">bool&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">True&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="nb">tuple&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nb">list&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ComputeResult&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="nb">list&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">DataFrame&lt;/span>&lt;span class="p">]]:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> 对参数列表里面的数据进行计算，并返回结果列表
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> compute_single: 计算单一文件的函数
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> &amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">res&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ComputeResult&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">df_list&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">DataFrame&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">enumerate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">param_group&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;param_list&amp;#34;&lt;/span>&lt;span class="p">]):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">get_id_and_params&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">r&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">df&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">compute_single&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">get_id_and_params&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">param_group&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;get_full_path&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">is_write&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">is_write&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># r contains stage-1, stage-2, stage-3 files&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">res&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">r&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">df_list&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">df&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">res&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">df_list&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">compute&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">param_group&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">T&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">general&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ParamGroup&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">is_write&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">bool&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">True&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="n">result&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">FinalResult&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> 计算并返回最终结果
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> collect_files 是收集文件的函数，也包含了计算单个文件的过程
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> &amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">res&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">df_list&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">collect_files&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">param_group&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">is_write&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># 整理最终的文件&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ac_df&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">dc_df&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">fileutils&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">merge_files&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">res&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">df_list&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">output_fn&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">param_group&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;output_path&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">output_fn&lt;/span> &lt;span class="ow">is&lt;/span> &lt;span class="kc">None&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">raise&lt;/span> &lt;span class="ne">ValueError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;output_path is None&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">final_files&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">write_final_files&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ac_df&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">dc_df&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">output_fn&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">result&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">FinalResult&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">status&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Status&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">success&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">msg&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;success!&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">compute_result&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">res&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">final_files&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">final_files&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>相比之下，基于类的编程，我只需要这样做：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">get_compute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">funcset&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">BasicFuncSet&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;隐藏了其他函数的复杂性，直接调用本函数即可完成 compute 函数的生成&amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">controller&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Controller&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">funcset&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">compute&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="进一步分析">进一步分析
&lt;/h2>&lt;p>实际上，为了实现新需求，修改计算逻辑，对 &lt;code>funcset&lt;/code> 的修改是不可或缺的。然而，第一种函数式编程的设计，并非没有显示的表现出函数之间的依赖关系，而是使得依赖被隐藏起来了。也就是说，&lt;strong>关键的逻辑，被放在了调用栈深处&lt;/strong>。&lt;/p>
&lt;p>那么，能否将&lt;code>funcset&lt;/code>放在可以被简单修改的地方呢？&lt;/p>
&lt;h3 id="原来的代码是什么样子的">原来的代码是什么样子的？
&lt;/h3>&lt;ol>
&lt;li>&lt;code>get_compute&lt;/code> 这个方法不存在&lt;/li>
&lt;/ol>
&lt;p>可以采用 Controller 的方式。只不过修改代码的时候，需要查看每个方法的类型。&lt;/p>
&lt;p>区别是，我们愿不愿意根据原本的调用链条，来重新组织代码。使用编辑器 DEBUG 模式，就能看到完整的调用链条。&lt;/p>
&lt;p>在当前阶段明确问题，然后寻找解决办法。并非一股劲儿盲干。&lt;/p>
&lt;h3 id="依然函数式">依然函数式
&lt;/h3>&lt;p>实际上，以下这段代码就起到了这个作用。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">get_compute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">funcset&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">BasicFuncSet&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;隐藏了其他函数的复杂性，直接调用本函数即可完成 compute 函数的生成&amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">functools&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">partial&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">controller&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">compute&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">collect_files&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">functools&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">partial&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">controller&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">collect_files&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">compute_single&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">functools&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">partial&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">controller&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">compute_single&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">func_set&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">funcset&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>实际上，尽管看起来代码量很多，就做了一件事情。把 &lt;code>compute_single&lt;/code> 中的参数改成了 &lt;code>funcset&lt;/code>。&lt;/p>
&lt;p>还有一种方法，就是将默认参数拿出来。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">collect_files&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">param_group&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">T&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">general&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ParamGroup&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">is_write&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">bool&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">True&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">compute_single&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">T&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ComputeFunc&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">compute_single&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">funcset&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">BasicFuncSet&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">FuncSet&lt;/span>&lt;span class="p">(),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="nb">tuple&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nb">list&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ComputeResult&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="nb">list&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">DataFrame&lt;/span>&lt;span class="p">]]:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># ignore&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="使用-oop面向对象编程">使用 OOP（面向对象编程）
&lt;/h3>&lt;blockquote>
&lt;p>“相比之下，如果直接使用&lt;code>Controller&lt;/code>聚合为一个类，还是更加清晰一些。因此，此处使用面向类编程的设计，更好的适应项目不停修改的需求。” ——这是我之前的想法。&lt;/p>&lt;/blockquote>
&lt;p>使用 OOP 并没有更加清晰。只不过是将原本明确的，函数之间的依赖关系隐藏起来了。这反而是没有必要的。当工程师看到这段代码的时候，只能看到一个&lt;code>Controller&lt;/code>被初始化。实际上意义不大。&lt;/p>
&lt;p>这样可能使得代码失去了函数式编程的灵活性。&lt;/p>
&lt;h3 id="besides-">Besides &amp;hellip;
&lt;/h3>&lt;p>然而，如果我一开始就使用面向对象的设计，&lt;code>funcset&lt;/code> 也不见得一定暴露在外（能够被轻松的修改）。可能也会引入其他的复杂性。如果使用类，则应该更好的去定义子类，让代码变得更加可读。除此之外，还有其他的复杂性。例如，使用类的方式，会使得测试代码的编写变得相对困难，需要引入 mock 等方法。如果想要简化，可能还得利用结构化的数据进行简化，例如 &lt;code>from pydantic import BaseModel&lt;/code>，去生成&lt;code>yaml&lt;/code>文件。&lt;/p>
&lt;h3 id="第一次编写代码的时候">第一次编写代码的时候&amp;hellip;
&lt;/h3>&lt;p>我在最初编写这段代码的时候能没有想到这段代码需要被复用。是在后续的逻辑中，对代码的逻辑进行调整，从而使得其能够被复用。换句话说，不论采用何种编程模式，测试+重构是让代码质量提升，更快的修改代码的一个很好的途径。一个很明显的例子是，sqlite 虽然是开源的，但是其测试套件是专有的。&lt;/p>
&lt;h3 id="其他的问题">其他的问题
&lt;/h3>&lt;ol>
&lt;li>当&lt;code>get_compute&lt;/code>方法被写好之后，&lt;code>Controller&lt;/code>这个改动还是有必要的吗？&lt;/li>
&lt;/ol>
&lt;p>可能不是必要的。如果需要进一步了解相关的代码，一定会阅读 &lt;code>get_compute&lt;/code> 的代码。相比之下，&lt;code>Controller&lt;/code>反而更加复杂。因为 &lt;code>get_compute&lt;/code> 已经将代码的调用关系非常清晰的展示出来了。&lt;/p>
&lt;p>如果要修改，有两个思路：&lt;/p>
&lt;ol>
&lt;li>如果是OOP，使用工具，查看&lt;code>funcset&lt;/code>在&lt;code>Controller&lt;/code>中被引用的地方。&lt;/li>
&lt;li>如果是FP，直接查看 &lt;code>compute_single&lt;/code> 函数。&lt;/li>
&lt;/ol>
&lt;p>第一时间想看简单的东西，还是直接看逻辑。我认为 FP 的方式更加友好，可控性更强。&lt;/p>
&lt;h2 id="结论">结论
&lt;/h2>&lt;p>还是使用 FP 继续开展后续的工作。&lt;/p></description></item><item><title>关于软件外包公司的一些思考</title><link>https://svtter.cn/p/%E5%85%B3%E4%BA%8E%E8%BD%AF%E4%BB%B6%E5%A4%96%E5%8C%85%E5%85%AC%E5%8F%B8%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/</link><pubDate>Sat, 14 Dec 2024 11:30:38 +0800</pubDate><guid>https://svtter.cn/p/%E5%85%B3%E4%BA%8E%E8%BD%AF%E4%BB%B6%E5%A4%96%E5%8C%85%E5%85%AC%E5%8F%B8%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/</guid><description>&lt;p>软件外包项目，软件外包公司，在国内十分常见。但这种模式只能是软件公司在培养核心竞争力之前采用的模式。软件外包项目一个很大的特点就是利润低，且周期大多数比较长。如果没有核心功能，核心竞争力，那么整个项目的利润将会十分可怜，甚至没有利润。这篇文章想到哪里写到哪里，抛出的都是一个个的观点。这些观点不一定靠得住，但从反常识的角度上来看具有一定意义。&lt;/p>
&lt;p>欢迎给我发送邮件，通过讨论我们来沉淀出好的东西。&lt;/p>
&lt;h2 id="大型软件项目">大型软件项目
&lt;/h2>&lt;p>对于大型的软件项目或者长期产品研发，&lt;/p>
&lt;p>不同的模块应该不同的负责人。违反常识的一点是，责任人应只负责模块，不负责具体的业务。保证模块的准确性，提高模块的性能和易用性。模块采用率应该作为一个指标去考核。如果可以的话，模块的设计应该有一个经验老道的工程师负责。这个工程师就像是了解程序员的产品经理。&lt;/p>
&lt;p>尽可能让每个人都考虑自己范围内的事情。能够同时考虑多个事项的工程师相对能力较强，但不是大多数人。在小型团队和小型的公司，大多数工程师无法做到这一点。除非给个人较高的薪酬待遇，否则，依赖架构师做出的模块划分执行任务，是一个更好的选择。&lt;/p>
&lt;p>在软件开发方面，由新手来完成具体的业务需求，或者让同时具备产品经理和工程师能力的人负责业务需求。业务代码中应存在部分代码可以沉淀到技术框架或者新的代码组件中。这个过程也是考核老工程师的关键部分。&lt;/p>
&lt;h2 id="预算和费用">预算和费用
&lt;/h2>&lt;p>软件外包项目应该按照时间进行计费，且工程+验收时间不应该超过3个月。这样作为上层管理者，可以更加有效的控制成本以及验收工程。&lt;/p>
&lt;p>甲方应该提出相对明确的需求，要求乙方在某个时间段内完成某项需求&lt;/p>
&lt;ul>
&lt;li>如果需求没有被完成，双方协商解决问题&lt;/li>
&lt;li>甲方如果发现乙方的工作不令人满意，甲方应该在下一次合作中拒绝与乙方合作&lt;/li>
&lt;li>乙方应该在一定时间内，尽可能满足甲方的要求。&lt;/li>
&lt;/ul>
&lt;p>外包软件项目不应该按照金额+宽需求的模式进行付费。大量失败的项目都是因为需求不明确且频繁变化导致的。&lt;/p>
&lt;p>基于频繁变化这个前提去设计项目很难。先贤们提出采用敏捷开发方式来应对，采用最终交付功能来付费，这个模式对于初始团队非常危险。因此，软件项目创业在国内环境相对恶劣。国内大部分是强甲方弱乙方。&lt;/p>
&lt;h2 id="需求相关">需求相关
&lt;/h2>&lt;p>作为需求方，不要有不切实际的幻想。&lt;/p>
&lt;ul>
&lt;li>不应该考虑在软件已经完成后再次大量的调整软件，这样往往会导致&lt;/li>
&lt;li>如果内部的工程师本身具有较高的技术素养，能够明确提出很多种不同的技术指标，那么在财务充足的前提下，可以对外包团队提出更高的要求。&lt;/li>
&lt;/ul>
&lt;h2 id="技术相关">技术相关
&lt;/h2>&lt;p>话说回来，如果技术真的卓越，在市场上已经形成竞争优势，还会去做软件外包吗？&lt;/p>
&lt;ul>
&lt;li>这个技术如果是效率相关，领域无关的，那么这是一个软件公司的核心竞争力。&lt;/li>
&lt;li>这个技术如果是效率相关，领域相关的，那么这个公司应该是一个行业性质的软件公司。&lt;/li>
&lt;/ul>
&lt;h2 id="内部利益分配">内部利益分配
&lt;/h2>&lt;p>解决利益的问题应该采用哪种方案？&lt;/p>
&lt;ul>
&lt;li>项目制。保证基本薪资的前提下，提供充足的项目奖金。&lt;/li>
&lt;li>充分识别团队内成员的能力，确保项目能够按期完成，从而控制成本。如果一个项目在三个月内完成，团队内工程师应该具备使用软件框架的基本能力，对于需求具有基本的了解。通过有梯度的需求来验证成员是否具备能力。&lt;/li>
&lt;/ul>
&lt;p>内部软件框架和已有代码是有学习成本的。成本不应该被转嫁，而是更好的控制。让团队成员享受这个过程的同时掌握代码。&lt;/p></description></item><item><title>记录一次 Wordpress 迁移</title><link>https://svtter.cn/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1-wordpress-%E8%BF%81%E7%A7%BB/</link><pubDate>Fri, 15 Nov 2024 17:16:45 +0800</pubDate><guid>https://svtter.cn/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1-wordpress-%E8%BF%81%E7%A7%BB/</guid><description>&lt;p>之前 wordpress 运行在 CentOS 7 上；这台机器的性能经常跑不满，因此需要做一些迁移，来让性能提升起来。为了不丢失相关的数据，开展了 wordpress 的迁移工作。这篇文章，记录一下 wordpress 迁移过程。&lt;/p>
&lt;p>为了能够尽可能减少备份所花费的时间，首先我使用了 wordpress 插件，All-in-one WP migration。这个插件可以备份插件，文章，主题，以及其他的插件。&lt;/p>
&lt;p>在备份旧的网站的时候，我下载了生成的备份文件。&lt;/p>
&lt;p>在创建新的网站的时候（通过 coolify），上传文件怎么也上传不上去。不知道发生了什么事情。&lt;/p>
&lt;p>随后，我修改了几个限制上传的文件。&lt;/p>
&lt;p>一个是 .htaccess&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl"> &lt;span class="n">php_value&lt;/span> &lt;span class="n">upload_max_filesize&lt;/span> &lt;span class="mi">200&lt;/span>&lt;span class="n">M&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">php_value&lt;/span> &lt;span class="n">post_max_size&lt;/span> &lt;span class="mi">200&lt;/span>&lt;span class="n">M&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">php_value&lt;/span> &lt;span class="n">memory_limit&lt;/span> &lt;span class="mi">256&lt;/span>&lt;span class="n">M&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">php_value&lt;/span> &lt;span class="n">max_execution_time&lt;/span> &lt;span class="mi">300&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">php_value&lt;/span> &lt;span class="n">max_input_time&lt;/span> &lt;span class="mi">300&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>另一个是 wp-config.php&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-php" data-lang="php">&lt;span class="line">&lt;span class="cl"> &lt;span class="o">@&lt;/span>&lt;span class="nx">ini_set&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="s1">&amp;#39;upload_max_filesize&amp;#39;&lt;/span> &lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;200M&amp;#39;&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">@&lt;/span>&lt;span class="nx">ini_set&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="s1">&amp;#39;post_max_size&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;200M&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">@&lt;/span>&lt;span class="nx">ini_set&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="s1">&amp;#39;memory_limit&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;256M&amp;#39;&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">@&lt;/span>&lt;span class="nx">ini_set&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="s1">&amp;#39;max_execution_time&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;300&amp;#39;&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">@&lt;/span>&lt;span class="nx">ini_set&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="s1">&amp;#39;max_input_time&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;300&amp;#39;&lt;/span> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>我的备份文件大小为199MB。然而，尽管调整了上述两个文件，我发现仍然无法恢复备份。这让我感到疑惑。通过控制台调试，我发现在上传完成后，服务器会有 HTTP 413 反馈。后来找到了&lt;a class="link" href="https://www.namehero.com/blog/how-to-fix-a-stuck-all-in-one-wp-migration-import/" target="_blank" rel="noopener"
>这篇文章&lt;/a>，找到了问题。&lt;/p>
&lt;p>通过排查，我发现原来是 cloudflare 的锅。免费的 cloudflare 套餐不支持超过 100M 以上的文件上传。会提示 HTTP CODE 413。&lt;/p>
&lt;p>随后我设置了本机的 hosts 文件，让域名直连服务器的真实 ip 地址。&lt;/p>
&lt;p>终于成功了。&lt;/p></description></item><item><title>How to Write Useless Comments</title><link>https://svtter.cn/p/how-to-write-useless-comments/</link><pubDate>Fri, 08 Nov 2024 10:53:25 +0800</pubDate><guid>https://svtter.cn/p/how-to-write-useless-comments/</guid><description>&lt;p>I&amp;rsquo;ve noticed a peculiar trend among some reviewers: they seem to have a knack for crafting comments that could pass as a generic template for any manuscript. It&amp;rsquo;s as if they&amp;rsquo;ve mastered the art of writing feedback so vague it could be applied to any paper, leaving authors to decipher the cryptic messages and make revisions that might as well be written in the stars. Here&amp;rsquo;s a prime example of such an &amp;rsquo;evergreen&amp;rsquo; comment:&lt;/p>
&lt;p>Comments to the Author
The manuscript presents a XX method for XX. The topic is relevant and has potential applications. However, there are some issues to be addressed. Here are the comments:&lt;/p>
&lt;ol>
&lt;li>The authors shall improve the clarity and cohesion of the manuscript. There are quite a few grammatical errors and misleading phrasing that hinder the reader’s understanding. I recommend thorough proofreading and editing by a native English speaker or a professional editor to improve the overall readability.&lt;/li>
&lt;li>Several technical terms are misused or poorly explained. This makes it challenging for readers, especially those unfamiliar with the topic, to grasp the underlying concepts. A more precise use of terminology and better definitions would enhance comprehension.&lt;/li>
&lt;li>It is crucial to highlight what distinguishes this approach from previous works and to clearly articulate the specific contributions to the existing body of knowledge. In addition, it would be better to include a comparative analysis with other established techniques would strengthen the argument for its effectiveness.&lt;/li>
&lt;/ol>
&lt;p>The reviewer could just change the &amp;lsquo;method&amp;rsquo; to any term in any article, and the author is left to revise their paper as if it&amp;rsquo;s a never-ending game of academic whack-a-mole.&lt;/p>
&lt;p>If specific details were added to the above content, it would be completely different.&lt;/p>
&lt;p>For example:&lt;/p>
&lt;ol>
&lt;li>Directly point out where the grammatical errors are.&lt;/li>
&lt;li>Identify the misused technical terms.&lt;/li>
&lt;li>Provide more specific issues in the context of the field.&lt;/li>
&lt;/ol>
&lt;p>Let&amp;rsquo;s work together to improve the environment.&lt;/p></description></item><item><title>2024-Q3 Summary</title><link>https://svtter.cn/p/2024-q3-summary/</link><pubDate>Mon, 14 Oct 2024 11:08:56 +0800</pubDate><guid>https://svtter.cn/p/2024-q3-summary/</guid><description>&lt;p>这是 2024-07 ~ 2024-09 总结。&lt;/p>
&lt;p>这个季度过的挺快，距离上次写回顾的时候似乎不远。人与人之间的智力确实是有差距的，感觉自己就是一个还不是很努力的笨蛋。&lt;/p>
&lt;blockquote>
&lt;p>在进行 review 的时候，尽可能不要修改 journal 的内容。否则日后追溯比较麻烦。&lt;/p>&lt;/blockquote>
&lt;h2 id="生活-life">生活 #life
&lt;/h2>&lt;p>这段时间主要的精力都在照顾孕妇上了。小孩平安出生，孕妇顺利，开心😆。准备怀孕生子的朋友，推荐这本书：&lt;em>&lt;a class="link" href="https://u.jd.com/CaQxLPw" target="_blank" rel="noopener"
>跟老婆一起怀孕&lt;/a>&lt;/em>。怀孕这个事情对男女挑战都挺大的。受到激素影响，情绪往往比较容易波动，男方要很好的平衡工作与家庭。&lt;/p>
&lt;p>在财务上，要提前准备好充足的资金以及家庭的开销。如果工作不够稳定，不建议太着急要孩子。虽然老话说，成家才能立业。但是成家不代表就要马上要小孩。在孕期，女方的情绪需求会比较高，因此要有心理准备。最好是请教一下年龄稍微大一些的朋友或者亲戚。此外，一定要注意待产的位置。最好的情况是自己独立的家庭。否则，可能要处理一系列复杂的事情，会搞得自己很疲惫。此时再加上工作压力就更难搞了。总而言之，没条件就不要生，不要给自己不痛快。自己不痛快了，家庭大概率不痛快。&lt;/p>
&lt;p>读了 &lt;em>&lt;a class="link" href="https://u.jd.com/C1q68Mr" target="_blank" rel="noopener"
>小狗钱钱2&lt;/a>&lt;/em> ，没能读完。股票小赚，跑了，大盘跟不动了。投资理财这件事情上，太多人想着赚快钱，所以直接按照赚快钱去设计策略，就能赚钱。加杠杆是绝对不可取的，就是用来骗赌徒的。&lt;/p>
&lt;blockquote>
&lt;p>不知道前两天借钱买股票的朋友怎么样了。&lt;/p>&lt;/blockquote>
&lt;h2 id="研究-research">研究 #Research
&lt;/h2>&lt;p>新的网络虽然有构造出来，但是没能转换成可以发表的论文。&lt;/p>
&lt;h3 id="实验以及新研究">实验以及新研究
&lt;/h3>&lt;p>新实验验证了 CRNN 在部分场景下仍然是最好的方法；形成了一篇文章，专门讨论 CTC。但是还没有到发表的程度。&lt;/p>
&lt;p>尝试了很多多模态的东西，不同的编码方式，word embedding 以及 one-hot。花了很多时间学习 transformer。
完成了 querynet，一个新的结构，用于解决多模态的问题。但是仍然没有解决自己提出的问题。&lt;/p>
&lt;p>中期方面，内容不足。现在虽然做了不少实验，但是能够沉淀成理论的东西相对较少，整体也不够连贯。这个与当初的规划不是很一致。&lt;/p>
&lt;p>投稿方面，刚收到新论文SWR 的反馈，新论文已经被拒绝了，还在 rebuttal。但是总体来说还是好的。&lt;/p>
&lt;p>我感觉现在的研究进展还好，但是没有太大成果。&lt;/p>
&lt;h3 id="一些感想">一些感想
&lt;/h3>&lt;ul>
&lt;li>如果要研究一个领域，花时间探索，整理资料，增加对这个行业的认识。&lt;/li>
&lt;li>思绪整理 #thinking&lt;/li>
&lt;/ul>
&lt;h2 id="技术相关-tech">技术相关 #Tech
&lt;/h2>&lt;ul>
&lt;li>大量的采用了 functional programming&lt;/li>
&lt;li>深入探索了 react 框架，理解了 &lt;code>useState&lt;/code>, &lt;code>useEffect&lt;/code>，修复了不少框架中的 bug。&lt;/li>
&lt;li>深入探索了 react-router。&lt;/li>
&lt;/ul>
&lt;h2 id="项目相关-project">项目相关 #project
&lt;/h2>&lt;ul>
&lt;li>开发了一个相对通用的前后端底层框架。前端基于 react，后端基于 django ninja。
&lt;ul>
&lt;li>做开发这么多年了，终于沉淀出来一些东西。通过使用这个框架，可以避免很多 django 和 react 原生框架带来的问题。这算是对这么多年的一个交代。&lt;/li>
&lt;li>目前框架还有很多可以改进的地方，对于提效的帮助是最大的。有机会的话，会开源出来。&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="下个季度">下个季度
&lt;/h2>&lt;ul>
&lt;li>把 SWR 调整好，投出去，争取中一篇文章。&lt;/li>
&lt;li>querynet 以及提出的新研究问题，分别给它俩找一个出路。&lt;/li>
&lt;li>meterhub 上线&lt;/li>
&lt;/ul>
&lt;p>完成上述的基础上，把手头的项目搞定，然后整理一下毕业论文。&lt;/p></description></item><item><title>CNN Size Computing</title><link>https://svtter.cn/p/cnn-size-computing/</link><pubDate>Fri, 11 Oct 2024 16:51:14 +0800</pubDate><guid>https://svtter.cn/p/cnn-size-computing/</guid><description>&lt;p>CNNs (Convolutional Neural Networks) is a amazing component of neural network theory. However, to use it efficiently, we need to compute the output shape.&lt;/p>
&lt;h3 id="ask-for-chatgpt">ask for chatgpt
&lt;/h3>&lt;ul>
&lt;li>&lt;a class="link" href="https://chatgpt.com/share/19be811d-e750-45de-b5bd-ad391c9dba80" target="_blank" rel="noopener"
>https://chatgpt.com/share/19be811d-e750-45de-b5bd-ad391c9dba80&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="input-shape">input shape
&lt;/h3>&lt;p>Ensure that the input to your network is of the correct shape. The input tensor should have the dimensions &lt;code>[batch_size, channels, height, width]&lt;/code>. For example, if you&amp;rsquo;re using a batch size of 1, the input should be &lt;code>[1, 32, 32, 300]&lt;/code>.&lt;/p>
&lt;ul>
&lt;li>1 is batch size.&lt;/li>
&lt;li>&lt;code>input_data = torch.randn(1, 32, 32, 300) # Example input tensor with the correct shape&lt;/code>&lt;/li>
&lt;/ul>
&lt;h3 id="compute-of-cnn-output">Compute of CNN output
&lt;/h3>&lt;ul>
&lt;li>reference: &lt;a class="link" href="https://www.baeldung.com/cs/convolutional-layer-size" target="_blank" rel="noopener"
>baeldung link&lt;/a>
&lt;img src="https://svtter.cn/assets/image_1717928679511_0.png"
loading="lazy"
alt="image.png"
>&lt;/li>
&lt;/ul>
&lt;p>The channels number is the CNN&amp;rsquo;s filters number.&lt;/p></description></item><item><title>Python Inline Source Syntax Highlighting Plugin</title><link>https://svtter.cn/p/python-inline-source-syntax-highlighting-plugin/</link><pubDate>Wed, 11 Sep 2024 20:11:20 +0800</pubDate><guid>https://svtter.cn/p/python-inline-source-syntax-highlighting-plugin/</guid><description>&lt;p>在 python 代码的编写过程中，有时候我们会希望将部分文本高亮。这个时候，&lt;a class="link" href="https://marketplace.visualstudio.com/items?itemName=samwillis.python-inline-source" target="_blank" rel="noopener"
>Python Inline Source Syntax Highlighting&lt;/a> 就派上用场了。&lt;/p>
&lt;p>&lt;a class="link" href="https://marketplace.visualstudio.com/items?itemName=samwillis.python-inline-source" target="_blank" rel="noopener"
>Python Inline Source Syntax Highlighting&lt;/a> 安装比较简单，只需要打开 vscode 插件页面进行搜索安装即可，如图所示：
&lt;img src="https://svtter.cn/p/python-inline-source-syntax-highlighting-plugin/pics/plugin-install.png"
width="1997"
height="933"
srcset="https://svtter.cn/p/python-inline-source-syntax-highlighting-plugin/pics/plugin-install_hu_c38587bd4d23d6e.png 480w, https://svtter.cn/p/python-inline-source-syntax-highlighting-plugin/pics/plugin-install_hu_f0d2ef7446bd0ab9.png 1024w"
loading="lazy"
alt="plugin"
class="gallery-image"
data-flex-grow="214"
data-flex-basis="513px"
>.&lt;/p>
&lt;p>安装好之后，还需要在代码中做一些简单的配置，例如：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">html&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">str&lt;/span> &lt;span class="c1"># Create an alias of the str type named for the language you are using&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">my_html_string&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">html&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> &amp;lt;h1&amp;gt;Some HTML&amp;lt;/h1&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>或者使用 &lt;code>sourcetypes&lt;/code> 包。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">sourcetypes&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">my_html_string&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">sourcetypes&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">html&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2"> &amp;lt;h1&amp;gt;Some HTML&amp;lt;/h1&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这样就可以让 python 代码中的其他的代码高亮了。&lt;/p>
&lt;p>例如，在 django-components 中是这样操作的：&lt;/p>
&lt;p>&lt;img src="https://svtter.cn/p/python-inline-source-syntax-highlighting-plugin/pics/highlighted-code.png"
width="1539"
height="1785"
srcset="https://svtter.cn/p/python-inline-source-syntax-highlighting-plugin/pics/highlighted-code_hu_80cf59a18106091f.png 480w, https://svtter.cn/p/python-inline-source-syntax-highlighting-plugin/pics/highlighted-code_hu_967c3f1fb745033.png 1024w"
loading="lazy"
alt="highlighted-code"
class="gallery-image"
data-flex-grow="86"
data-flex-basis="206px"
>&lt;/p></description></item><item><title>如何应对 AI 编程助手带来的技术革新？</title><link>https://svtter.cn/p/%E5%A6%82%E4%BD%95%E5%BA%94%E5%AF%B9-ai-%E7%BC%96%E7%A8%8B%E5%8A%A9%E6%89%8B%E5%B8%A6%E6%9D%A5%E7%9A%84%E6%8A%80%E6%9C%AF%E9%9D%A9%E6%96%B0/</link><pubDate>Tue, 10 Sep 2024 20:33:05 +0800</pubDate><guid>https://svtter.cn/p/%E5%A6%82%E4%BD%95%E5%BA%94%E5%AF%B9-ai-%E7%BC%96%E7%A8%8B%E5%8A%A9%E6%89%8B%E5%B8%A6%E6%9D%A5%E7%9A%84%E6%8A%80%E6%9C%AF%E9%9D%A9%E6%96%B0/</guid><description>&lt;p>AI 编程助手已经越来越强大了。近期我也使用了 &lt;a class="link" href="https://www.cursor.com/" target="_blank" rel="noopener"
>cursor&lt;/a>，体验非常好。我也为了 cursor 充值了一波。&lt;/p>
&lt;p>&lt;img src="https://svtter.cn/p/%E5%A6%82%E4%BD%95%E5%BA%94%E5%AF%B9-ai-%E7%BC%96%E7%A8%8B%E5%8A%A9%E6%89%8B%E5%B8%A6%E6%9D%A5%E7%9A%84%E6%8A%80%E6%9C%AF%E9%9D%A9%E6%96%B0/pics/buy-cursor.png"
width="2774"
height="754"
srcset="https://svtter.cn/p/%E5%A6%82%E4%BD%95%E5%BA%94%E5%AF%B9-ai-%E7%BC%96%E7%A8%8B%E5%8A%A9%E6%89%8B%E5%B8%A6%E6%9D%A5%E7%9A%84%E6%8A%80%E6%9C%AF%E9%9D%A9%E6%96%B0/pics/buy-cursor_hu_3559878c871635e9.png 480w, https://svtter.cn/p/%E5%A6%82%E4%BD%95%E5%BA%94%E5%AF%B9-ai-%E7%BC%96%E7%A8%8B%E5%8A%A9%E6%89%8B%E5%B8%A6%E6%9D%A5%E7%9A%84%E6%8A%80%E6%9C%AF%E9%9D%A9%E6%96%B0/pics/buy-cursor_hu_439b54427a675652.png 1024w"
loading="lazy"
alt="bug-cursor"
class="gallery-image"
data-flex-grow="367"
data-flex-basis="882px"
>&lt;/p>
&lt;p>我想与 AI 协同工作，这是未来的趋势。同时也意味着，ai 会替代很多工程师的工作。这个不可避免的未来，实际上这要求我们工程师要具备更强的表达能力，能够让ai模型理解我们要做什么。&lt;/p>
&lt;h2 id="作为可能被替代的工程师我们应该怎么办">作为可能被替代的工程师，我们应该怎么办？
&lt;/h2>&lt;ol>
&lt;li>使用 AI 技术，而不是抗拒它。你不可能让你的竞争对手不使用 ai 技术。&lt;/li>
&lt;li>将 AI 技术找到最适合自己的 AI 技术。就像是我们在某天下午找到一个自己最适应的 IDE 一样。然后，就像是挑选供应商一样，选择自己的 AI 技术供应商。性能最高的不一定是最好的。OpenAI 不是唯一的选择，claude 也不是。&lt;/li>
&lt;li>AI 是一种基础资源。就像水电，以及现在的互联网。这个观点来自&lt;a class="link" href="https://www.gsb.stanford.edu/insights/andrew-ng-why-ai-new-electricity" target="_blank" rel="noopener"
>Andrew Ng: Why AI Is the New Electricity&lt;/a>。生活支出中，需要为此支付一部分费用。&lt;/li>
&lt;/ol>
&lt;p>当我们能够较好的使用多种 AI 技术的时候，AI 对我们的威胁就不存在了。目前 AI 技术的发展来看，本质上还是人与人之间的竞争。
我们已经掌控了 AI Editor，让他们为我们所用。那么我们就可以更高效的编程，或者节省下来宝贵的时间，可以留给我们的家人。&lt;/p>
&lt;h2 id="未来呢">未来呢？
&lt;/h2>&lt;p>我们应该多关注那些 AI 无法完成的工作，例如数学和更加复杂的逻辑。现在 AI 对于复杂逻辑的思考能力是不及人类的，对于多方面的复杂信息处理能力较弱。&lt;/p>
&lt;p>如果更好的 AI 出现了怎么办？
我想共产主义是一个好的途径（🤣）。实际上，共产主义追求的不是平均财富，而是人们能够在生产力极其庞大的情况下，做自己想做的事情，也能满足自己的物质和精神需要。&lt;/p></description></item><item><title>使用一个基础镜像来避免反复安装依赖项</title><link>https://svtter.cn/p/%E4%BD%BF%E7%94%A8%E4%B8%80%E4%B8%AA%E5%9F%BA%E7%A1%80%E9%95%9C%E5%83%8F%E6%9D%A5%E9%81%BF%E5%85%8D%E5%8F%8D%E5%A4%8D%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96%E9%A1%B9/</link><pubDate>Tue, 27 Aug 2024 18:04:54 +0800</pubDate><guid>https://svtter.cn/p/%E4%BD%BF%E7%94%A8%E4%B8%80%E4%B8%AA%E5%9F%BA%E7%A1%80%E9%95%9C%E5%83%8F%E6%9D%A5%E9%81%BF%E5%85%8D%E5%8F%8D%E5%A4%8D%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96%E9%A1%B9/</guid><description>&lt;p>很多时候，构建 docker 镜像的速度很慢，尤其是当我们的基础依赖发生改变之后。为了解决这个问题，我们应该在实际运行的镜像之前，增加一个 venv 的基础镜像。&lt;/p>
&lt;p>如果我们想要构建一个前端的镜像，那么不可避免的要下载和安装使用 npm 包。我们可以构建一个基础镜像，名称为 &lt;code>frontend-base&lt;/code>。
镜像的内容&lt;code>dockerfile.base&lt;/code>如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-dockerfile" data-lang="dockerfile">&lt;span class="line">&lt;span class="cl"> FROM node:20 as build-stage&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> WORKDIR /app&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> ENV &lt;span class="nv">ELECTRON_MIRROR&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;https://npmmirror.com/mirrors/electron/&amp;#34;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> COPY pnpm-lock.yaml package.json /app/&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> RUN npm install -g pnpm &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> pnpm install&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> COPY . .&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> RUN pnpm run build:vite&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>运行命令构建镜像：&lt;code>docker build -f Dockerfile.base -t svtter/frontend-base:latest .&lt;/code>
如此一来，我们可以构建好一个&lt;code>frontend-base:latest&lt;/code>镜像。
然后，我们再构建&lt;code>frontend:latest&lt;/code>镜像，作为我们实际部署应用的镜像。 &lt;code>dockerfile&lt;/code>是这样的。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-dockerfile" data-lang="dockerfile">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># FROM node:20 as build-stage&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="s"> svtter/cathodic-frontend-base:latest as build-stage&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">WORKDIR&lt;/span>&lt;span class="s"> /app&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">ENV&lt;/span> &lt;span class="nv">ELECTRON_MIRROR&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;https://npmmirror.com/mirrors/electron/&amp;#34;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> pnpm-lock.yaml package.json /app/&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> pnpm install&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> . .&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> pnpm run build:vite&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="s"> nginx:1.25.1 as prod&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> --from&lt;span class="o">=&lt;/span>build-stage /app/src/out /usr/share/nginx/html&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>注意：因为我的代码里使用了 electron，所以为了速度更快，我使用了&lt;code>ELECTRON_MIRROR&lt;/code>。&lt;/p>&lt;/blockquote>
&lt;p>这里的构建命令是：&lt;code>docker build -t svtter/frontend:latest .&lt;/code>
这样一来，我们可以避免几个问题:&lt;/p>
&lt;ol>
&lt;li>如果基础的依赖有改变，在 venv 的基础上，pnpm 可以减少 npm 包的反复下载。&lt;/li>
&lt;li>一段时间后，我们可以重新构建 &lt;code>frontend-base&lt;/code>，来减少在 &lt;code>frontend&lt;/code> 中包的下载。&lt;/li>
&lt;/ol></description></item><item><title>Easy LSTM Training Tricks</title><link>https://svtter.cn/p/easy-lstm-training-tricks/</link><pubDate>Mon, 12 Aug 2024 15:35:03 +0800</pubDate><guid>https://svtter.cn/p/easy-lstm-training-tricks/</guid><description>&lt;p>This post introduces how to train the LSTM networks to get correct outputs.&lt;/p>
&lt;p>If you use this way, not work.&lt;/p>
&lt;ul>
&lt;li>Just use the last width, like &lt;code>x[-1, :, :]&lt;/code>, select the last piece of width.&lt;/li>
&lt;li>It&amp;rsquo;s normal way. However, sometimes it will &lt;strong>NOT WORK&lt;/strong>.&lt;/li>
&lt;li>&lt;img src="https://svtter.cn/p/easy-lstm-training-tricks/pics/lstm-1.png"
width="744"
height="1140"
srcset="https://svtter.cn/p/easy-lstm-training-tricks/pics/lstm-1_hu_ac7f1b95cef41c2a.png 480w, https://svtter.cn/p/easy-lstm-training-tricks/pics/lstm-1_hu_90a5c97aafe0bd87.png 1024w"
loading="lazy"
alt="image.png"
class="gallery-image"
data-flex-grow="65"
data-flex-basis="156px"
>&lt;/li>
&lt;/ul>
&lt;p>This way will work.&lt;/p>
&lt;ul>
&lt;li>Flatten all the output&lt;/li>
&lt;li>&lt;img src="https://svtter.cn/p/easy-lstm-training-tricks/pics/lstm-2.png"
width="702"
height="1140"
srcset="https://svtter.cn/p/easy-lstm-training-tricks/pics/lstm-2_hu_15f30d5916691925.png 480w, https://svtter.cn/p/easy-lstm-training-tricks/pics/lstm-2_hu_30536e8b9ab4dc3b.png 1024w"
loading="lazy"
alt="image.png"
class="gallery-image"
data-flex-grow="61"
data-flex-basis="147px"
>&lt;/li>
&lt;li>It always works.&lt;/li>
&lt;/ul>
&lt;p>Have fun.&lt;/p>
&lt;p>Besides, I found &lt;a class="link" href="https://marimo.io/use-cases#examples" target="_blank" rel="noopener"
>marimo&lt;/a>, which is a replacement for jupyter notebooks.&lt;/p></description></item><item><title>New Usage of typing module in python</title><link>https://svtter.cn/p/new-usage-of-typing-module-in-python/</link><pubDate>Fri, 12 Jul 2024 16:20:32 +0800</pubDate><guid>https://svtter.cn/p/new-usage-of-typing-module-in-python/</guid><description>&lt;p>我原本想要分析一下 django webpack；但是写了一半，为了资料论述严谨，又不得不学习了 django component；在 django component 中，又发现了自己之前不知道的一些机制。无奈，先聊聊遇到的 typing 问题吧！&lt;/p>
&lt;p>最近在阅读 django components 代码的时候，我在 &lt;a class="link" href="https://github.com/EmilStenstrom/django-components/blob/master/src/django_components/component_registry.py" target="_blank" rel="noopener"
>component_registry.py&lt;/a> 看到了这样一段代码：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">from&lt;/span> &lt;span class="nn">typing&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">TYPE_CHECKING&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Callable&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Dict&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Type&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">TypeVar&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">TYPE_CHECKING&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">from&lt;/span> &lt;span class="nn">django_components&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">component&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">_TC&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">TypeVar&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;_TC&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">bound&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">Type&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;component.Component&amp;#34;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>从中能学到几个知识点：&lt;/p>
&lt;ol>
&lt;li>TYPE_CHECKING 变量是用于程序员处理类型相关代码的 TAG，在实际运行的时候，内部代码不被执行；我们可以从 typing 的&lt;a class="link" href="https://docs.python.org/3/library/typing.html#typing.TYPE_CHECKING" target="_blank" rel="noopener"
>官方文档&lt;/a>中找到。&lt;/li>
&lt;li>TypeVar 可以这样来用：&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">S&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">TypeVar&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;S&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">bound&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nb">str&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># Can be any subtype of str&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>在这段代码处，意味着 &lt;code>_TC&lt;/code> 可以是任何一个 &lt;code>component.Component&lt;/code> 的 &lt;code>subtype&lt;/code>。&lt;/p>
&lt;h2 id="conclusion">Conclusion
&lt;/h2>&lt;p>python 也在慢慢丰富自己的类型系统，许多新的用法也会慢慢地开发出来。不过相比之下，typescript 的类型系统要更先进一些。大家好好学！&lt;/p>
&lt;blockquote>
&lt;p>附加一点吐槽：Component 居然是一个 django view，感觉很奇怪啊。&lt;/p>&lt;/blockquote></description></item><item><title>Django and Webpack</title><link>https://svtter.cn/p/django-and-webpack/</link><pubDate>Sat, 06 Jul 2024 15:21:55 +0800</pubDate><guid>https://svtter.cn/p/django-and-webpack/</guid><description>&lt;p>Webpack is a modern development method for frontend projects. Django is a common backend development framework for Python developers.&lt;/p>
&lt;p>I believe that developing with Webpack can make Django development faster.&lt;/p>
&lt;h2 id="why">Why
&lt;/h2>&lt;p>&lt;code>webpack&lt;/code> can enable Django developers to use the React ecosystem, and it makes auto-complete and linting available in Django frontend development, especially with VSCode.&lt;/p>
&lt;p>Django developers should integrate Webpack, similar to what &lt;a class="link" href="https://github.com/rails/webpacker?tab=readme-ov-file#webpacker-has-been-retired-" target="_blank" rel="noopener"
>Rails developers did&lt;/a>. At 2024-07-05, Webpack has retired in Rails. They are using &lt;a class="link" href="https://hotwired.dev/" target="_blank" rel="noopener"
>Hotwire&lt;/a> now. For more details, you should read the &lt;a class="link" href="https://rubyonrails.org/2021/12/15/Rails-7-fulfilling-a-vision" target="_blank" rel="noopener"
>Rails 7 blog&lt;/a>.&lt;/p>
&lt;h2 id="what-to-choose">What to Choose?
&lt;/h2>&lt;p>I tested two popular projects on GitHub.&lt;/p>
&lt;p>The first one is &lt;a class="link" href="https://github.com/vintasoftware/django-react-boilerplate" target="_blank" rel="noopener"
>django-react-boilerplate&lt;/a>. It has high stars and ranks second.&lt;/p>
&lt;p>However, as of 2024-07-05, it&amp;rsquo;s not ready. I will continue to track its progress. It is hard and complex to configure the &lt;code>{{ project_name }}&lt;/code>.&lt;/p>
&lt;p>The second one is &lt;a class="link" href="https://python-webpack-boilerplate.readthedocs.io/en/stable/setup_with_django/" target="_blank" rel="noopener"
>python-webpack-boilerplate&lt;/a>.&lt;/p>
&lt;p>It has a gradual process and a good learning curve. I spent just 5 minutes adding Webpack to my &lt;a class="link" href="https://github.com/Svtter/django-webpack-example" target="_blank" rel="noopener"
>example project&lt;/a>.&lt;/p>
&lt;p>In Django 5.2, &lt;code>simple_block_tag&lt;/code> is &lt;a class="link" href="https://softwarecrafts.co.uk/100-words/day-270" target="_blank" rel="noopener"
>supported&lt;/a>!&lt;/p>
&lt;h2 id="discussion">Discussion
&lt;/h2>&lt;p>There is still a long way to go.&lt;/p>
&lt;ol>
&lt;li>React has not been added to the &lt;a class="link" href="https://github.com/Svtter/django-webpack-example" target="_blank" rel="noopener"
>example project&lt;/a>.&lt;/li>
&lt;li>A production environment is needed to validate its availability.&lt;/li>
&lt;/ol>
&lt;hr></description></item><item><title>Using Kind to Play with K8s</title><link>https://svtter.cn/p/using-kind-to-play-with-k8s/</link><pubDate>Wed, 12 Jun 2024 11:09:49 +0800</pubDate><guid>https://svtter.cn/p/using-kind-to-play-with-k8s/</guid><description>&lt;p>如果直接使用 kubernetes 的线上版本进行调试，需要资源太多了。使用 minikube 有时候又无法启动集群。
因此，开发者可以考虑使用 &lt;a class="link" href="https://kind.sigs.k8s.io/docs/user/quick-start/" target="_blank" rel="noopener"
>Kind&lt;/a> 来部署测试 Kubernetes。&lt;/p>
&lt;p>This article is about using Kind to create a Kubernetes (K8s) cluster and debug it.&lt;/p>
&lt;p>By default, Kind does not support load balancers. If you want to test your apps, use &lt;code>NodePort&lt;/code> or &lt;code>ClusterIP&lt;/code> instead.&lt;/p>
&lt;p>Source code: &lt;a class="link" href="https://github.com/Svtter/example-code-for-kind" target="_blank" rel="noopener"
>svtter/example-code-for-kind&lt;/a>.&lt;/p>
&lt;h2 id="using-nodeport-to-view-service">Using NodePort to View Service
&lt;/h2>&lt;p>Get the node&amp;rsquo;s IP to visit:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">(&lt;/span>base&lt;span class="o">)&lt;/span> ➜ cathodic kubectl get nodes -o wide
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">NAME STATUS ROLES AGE VERSION INTERNAL-IP EXTERNAL-IP OS-IMAGE KERNEL-VERSION CONTAINER-RUNTIME
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kind-control-plane Ready control-plane 22h v1.30.0 172.18.0.2 &amp;lt;none&amp;gt; Debian GNU/Linux &lt;span class="m">12&lt;/span> &lt;span class="o">(&lt;/span>bookworm&lt;span class="o">)&lt;/span> 6.1.0-18-amd64 containerd://1.7.15
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>View the service IP:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">(&lt;/span>base&lt;span class="o">)&lt;/span> ➜ cathodic kubectl get service nginx-service
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">NAME TYPE CLUSTER-IP EXTERNAL-IP PORT&lt;span class="o">(&lt;/span>S&lt;span class="o">)&lt;/span> AGE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nginx-service NodePort 10.96.65.77 &amp;lt;none&amp;gt; 80:30160/TCP 26m
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Now, use &lt;code>curl -L http://172.18.0.2:30160&lt;/code> to visit the Nginx service.&lt;/p>
&lt;h2 id="using-loadbalancer">Using LoadBalancer
&lt;/h2>&lt;ul>
&lt;li>Install cloud-provider-kind via this &lt;a class="link" href="https://kind.sigs.k8s.io/docs/user/loadbalancer/" target="_blank" rel="noopener"
>loadbalancer&lt;/a>.&lt;/li>
&lt;li>Start Kind, unlabel the node, and start &lt;code>cloud-provider-kind&lt;/code> according to this &lt;a class="link" href="https://github.com/kubernetes-sigs/cloud-provider-kind?tab=readme-ov-file#install" target="_blank" rel="noopener"
>link&lt;/a>.&lt;/li>
&lt;/ul></description></item><item><title>2024-Q2 Summary</title><link>https://svtter.cn/p/2024-q2-summary/</link><pubDate>Sun, 09 Jun 2024 15:48:40 +0800</pubDate><guid>https://svtter.cn/p/2024-q2-summary/</guid><description>&lt;!-- tags:: #[[Blog Post]], 季度回顾 -->
&lt;p>第二季度过去了，2024-04～2024-06。
目前是在第三个季度的中期写第二季度的回顾，拖的时间有点长了。&lt;/p>
&lt;p>上一个季度 &lt;a class="link" href="./2024-04-12-2024-q1-summary.md" >2024 第一季度回顾&lt;/a>&lt;/p>
&lt;h2 id="研究方面-research">研究方面 #Research
&lt;/h2>&lt;p>第二季度，科研上主要的进展如下：&lt;/p>
&lt;ul>
&lt;li>SWR论文投出去了，目前还在 TII 审。从5月份到8月份了。&lt;/li>
&lt;li>构建了一个很大的、用于仪表识别的代码库，meter-viewer 以及 metercrnn。目前还没有开源，还在考虑。&lt;/li>
&lt;li>通过 torch 对之前的代码进行了重写；验证了许多新的结构。重新理解了 ctc loss。
&lt;ul>
&lt;li>CTC loss 感觉上有点老旧了，但用起来还是挺好的，性能挺不错。&lt;/li>
&lt;li>花了挺长时间去调试 CRNN，最后才找到 bug&lt;/li>
&lt;li>生成数据 CTC limitation/数据集生成&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>修订 HIOL 论文。还有不少的收尾工作。&lt;/li>
&lt;/ul>
&lt;h2 id="工程方面-project">工程方面 #project
&lt;/h2>&lt;p>工程方面主要考虑了一下分布式后台任务系统。&lt;/p>
&lt;ul>
&lt;li>花了不少时间设计了一个可拓展的后台任务系统；based on celery。&lt;/li>
&lt;li>streamlit 的应用&lt;/li>
&lt;/ul>
&lt;h2 id="技术方面tech">技术方面#Tech
&lt;/h2>&lt;p>花了一些时间去搞定 kubernetes 在本地的分布式运行。&lt;/p>
&lt;ul>
&lt;li>kubernetes 之前遇到的网络问题也都解决了&lt;/li>
&lt;/ul>
&lt;h2 id="总结">总结
&lt;/h2>&lt;ul>
&lt;li>研究上的进展比较顺利，新的论文已经投出去了。&lt;/li>
&lt;li>工程上 meterhub 不是很顺利。&lt;/li>
&lt;/ul>
&lt;h2 id="下一个季度">下一个季度
&lt;/h2>&lt;ul>
&lt;li>#Research 新的网络结构设计，Focus on tensor shape；解决想到的网络问题&lt;/li>
&lt;li>搞定中期报告；把大部分研究内容落到纸上。&lt;/li>
&lt;/ul></description></item><item><title>Use Logseq as Documentation</title><link>https://svtter.cn/p/use-logseq-as-documentation/</link><pubDate>Sun, 12 May 2024 08:55:42 +0800</pubDate><guid>https://svtter.cn/p/use-logseq-as-documentation/</guid><description>&lt;p>logseq 是一个非常好用的笔记工具。我们之前已经介绍过关于 logseq 的内容。如果想要了解 logseq，可以看我之前的&lt;a class="link" href="https://svtter.github.io/post/2023-12-18-how-to-use-logseq/" target="_blank" rel="noopener"
>文章&lt;/a>。&lt;/p>
&lt;p>在本文中，我们介绍如何将 logseq 作为软件的、项目的文档，以及为什么。&lt;/p>
&lt;h2 id="why">WHY
&lt;/h2>&lt;p>对于 python 开发者，传统的文档系统有几个，&lt;a class="link" href="https://mkdocs.org" target="_blank" rel="noopener"
>mkdocs&lt;/a>，&lt;a class="link" href="https://https://docs.readthedocs.io/en/stable/" target="_blank" rel="noopener"
>readthedocs&lt;/a>。这些文档系统很好用，可以采用纯文本，通过 git 来管理，并且支持富文本，包括markdown 以及 rst。&lt;/p>
&lt;p>笔者对于开源项目的文档，有几个假设：&lt;/p>
&lt;ol>
&lt;li>开源项目的文档，要放在代码仓库里。&lt;/li>
&lt;li>文档的变更需要能够追溯。我们可以借助 git 实现。&lt;/li>
&lt;li>较好的浏览体验&lt;/li>
&lt;li>开源，以此来保证工具的未来持续可用&lt;/li>
&lt;/ol>
&lt;p>因此，我们选用 logseq 直接作为开源项目的文档，以及文档系统。logseq 能够很好的支持不同的文件同步，以及借助 git 实现历史追溯。添加图片也不是难事。&lt;/p>
&lt;p>使用 logseq 最大的优势在于其双向连接，以及较好的全文搜索。相比之下，mkdocs 以及 readthedocs，虽然功能强大，但是编辑能力相对弱一些。&lt;/p>
&lt;h2 id="howto">HOWTO
&lt;/h2>&lt;p>想要使用 logseq 作为文档系统，只需要在 logseq 中点击添加图谱，然后在 git repository 中，添加到 &lt;code>docs/&lt;/code>目录下即可。&lt;/p>
&lt;ul>
&lt;li>&lt;img src="https://svtter.cn/images/logseq-doc.png"
loading="lazy"
alt="logseq-doc.png"
>&lt;/li>
&lt;/ul>
&lt;p>添加完成后，可以单独创建一个&lt;code>[[HOME]]&lt;/code>页面，并且收藏，来让用户能够快速找到 HOME 页。对于其他的开发者，也可以通过双向连接来快速找到想要找到的概念。&lt;/p>
&lt;p>之后，如果开发者需要修改文档，只需要在 logseq 中进行修改，然后提交到 git 中即可。&lt;/p>
&lt;h2 id="结">结
&lt;/h2>&lt;p>本文中我们讨论了如何使用 logseq 作为软件项目的文档，简单描述了使用其作为文档的优越性。&lt;/p>
&lt;p>当然，使用 logseq 也会引入新的问题。最大的问题是，用户如果不使用 logseq，就完全看不到文档了。除此之外，logseq 的页面公开也不是特别方便。
这些问题应该有对应的解决方案。在这里就不赘述了。&lt;/p></description></item><item><title>2024-Q1 Summary</title><link>https://svtter.cn/p/2024-q1-summary/</link><pubDate>Fri, 12 Apr 2024 11:00:07 +0800</pubDate><guid>https://svtter.cn/p/2024-q1-summary/</guid><description>&lt;p>第一季度过的如此之快！效率感觉不高，但实际上做的东西还可以。开心！&lt;/p>
&lt;h2 id="academic">Academic
&lt;/h2>&lt;ul>
&lt;li>Paper-2 R-3 完成&lt;/li>
&lt;li>active learning, human in the loop, domain adaptation, meter 论文的阅读&lt;/li>
&lt;li>论文审稿&lt;/li>
&lt;li>meter related 老代码整理，数据整理&lt;/li>
&lt;/ul>
&lt;h2 id="work">work
&lt;/h2>&lt;ul>
&lt;li>交付了两个项目&lt;/li>
&lt;li>可以公开的进展：meterhub&lt;/li>
&lt;li>一个 django 插件 &lt;a class="link" href="https://github.com/Svtter/django-login-email" target="_blank" rel="noopener"
>django-email-login&lt;/a>
&lt;ul>
&lt;li>一个用于 email 验证登录的工具&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>企业微信设立&lt;/li>
&lt;/ul>
&lt;h2 id="在下一个季度要完成的事情">在下一个季度，要完成的事情
&lt;/h2>&lt;ul>
&lt;li>中期报告&lt;/li>
&lt;li>第二篇小论文中，第三篇小论文投出&lt;/li>
&lt;li>会议论文实验和论文写完投出&lt;/li>
&lt;li>meterhub&lt;/li>
&lt;li>MAYBE 找一个实习工作&lt;/li>
&lt;/ul></description></item><item><title>给老 Django 工程师的初学者 react 教程</title><link>https://svtter.cn/p/%E7%BB%99%E8%80%81-django-%E5%B7%A5%E7%A8%8B%E5%B8%88%E7%9A%84%E5%88%9D%E5%AD%A6%E8%80%85-react-%E6%95%99%E7%A8%8B/</link><pubDate>Tue, 12 Mar 2024 09:38:36 +0800</pubDate><guid>https://svtter.cn/p/%E7%BB%99%E8%80%81-django-%E5%B7%A5%E7%A8%8B%E5%B8%88%E7%9A%84%E5%88%9D%E5%AD%A6%E8%80%85-react-%E6%95%99%E7%A8%8B/</guid><description>&lt;blockquote>
&lt;p>这篇文章的文字水平一般。之所以要写这篇文章，一方面是为了记录自己的开发历程，另一方面是为了少部分同频的伙伴给予引导。也是为了完成每个月博客文章的 KPI。&lt;/p>&lt;/blockquote>
&lt;p>前提：&lt;/p>
&lt;ul>
&lt;li>走完 &lt;a class="link" href="https://react.dev/learn/tutorial-tic-tac-toe" target="_blank" rel="noopener"
>react toturial&lt;/a>，最好能够掌握 useState。&lt;/li>
&lt;li>了解 Javascript 语法，懂得 CSS / HTML&lt;/li>
&lt;/ul>
&lt;p>近期我用了 nextjs 开发了一个项目。nextjs 是一个可以全栈开发，也可以只开发前端的框架。我的开发内容只包括前端。nextjs 非常好用，简化了大量的复杂配置，可以上手即用。可以直接打开&lt;a class="link" href="https://nextjs.org/docs/getting-started/installation" target="_blank" rel="noopener"
>nextjs官网&lt;/a>来安装使用。
&lt;code>npx create-next-app@latest&lt;/code>&lt;/p>
&lt;p>安装的时候不建议使用 typescript。这是因为 typescript 相对复杂，容易提高学习成本。tailwind 非常好用。要选上。&lt;code>src/&lt;/code> folder 可以不用。&lt;code>eslint&lt;/code> 选上，能解决不少问题。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> What is your project named? my-app
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Would you like to use TypeScript? No / Yes
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Would you like to use ESLint? No / Yes
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Would you like to use Tailwind CSS? No / Yes
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Would you like to use `src/` directory? No / Yes
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Would you like to use App Router? (recommended) No / Yes
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Would you like to customize the default import alias (@/*)? No / Yes
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> What import alias would you like configured? @/*
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="开干">开干
&lt;/h2>&lt;p>&lt;img src="https://svtter.cn/images/image_1712885644494_0.png"
loading="lazy"
alt="image.png"
>&lt;/p>
&lt;p>我们能看到 app 下面有一个 layout.js，可以理解成 django 全栈开发中的 &lt;code>base.html&lt;/code>。这个在 django 中比较常见。
在 nextjs 中，为了开发样式，一般使用 tailwind css。&lt;a class="link" href="https://tailwindcss.com/docs/installation" target="_blank" rel="noopener"
>tailwind css&lt;/a> 是一个通过 class 编写 style 的框架。学习 tailwind，直接从&lt;a class="link" href="https://tailwindcss.com/docs/utility-first" target="_blank" rel="noopener"
>core concept&lt;/a>开始看就行了。
那么 react 怎么用呢？
在搭建 UI 框架阶段，实际上用到 react 的功能不多。这个时候，想要充分借助 react 的便利性，最重要的是掌握 component 这个概念。简单来说，就是能够自己创建 html tag，并且将 function 和 tag 映射起来。
创建一个 html tag&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">function&lt;/span> &lt;span class="nx">Hello&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">hello&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">world&lt;/span>&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这样就创建好了一个 &lt;code>&amp;lt;Hello&amp;gt;&lt;/code> tag。在后续中可以使用这个 tag 了。
例如，我们在 &lt;code>page.js&lt;/code> 下面使用&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">function&lt;/span> &lt;span class="nx">Home&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">div&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">Hello&lt;/span>&lt;span class="o">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">/div&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这样 Hello 就被渲染出来了。
除此之外，还有一个难点就是，组件之间怎么传递参数。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-jsx" data-lang="jsx">&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">function&lt;/span> &lt;span class="nx">Hello&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">props&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">props&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>&lt;span class="nx">hello&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">name&lt;/span>&lt;span class="p">}&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>通过 props 就可以传递参数了。&lt;/p>
&lt;h2 id="延申阅读">延申阅读
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/Hsins-Learn/Learn-Full-Stack-Development-with-Django-and-React" target="_blank" rel="noopener"
>https://github.com/Hsins-Learn/Learn-Full-Stack-Development-with-Django-and-React&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="结语">结语
&lt;/h2>&lt;p>基本上，掌握以上两个技能就可以开始基于 react 开发前端应用了。
其他的内容直接从 react、nextjs、tailwind 文档中学习即可，遇到不清楚的内容直接查询。&lt;/p>
&lt;p>欢迎将不清楚的问题留言，我会根据留言的内容改进本文。&lt;/p></description></item><item><title>Print Trick for Python</title><link>https://svtter.cn/p/print-trick-for-python/</link><pubDate>Fri, 12 Jan 2024 10:09:40 +0800</pubDate><guid>https://svtter.cn/p/print-trick-for-python/</guid><description>&lt;p>这是一个可以同时将print内容输出到屏幕以及保存到日志文件的简单代码。&lt;/p>
&lt;p>主要利用了 builtins 对 print 方法进行 hook，从而让方法全局有效。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;global print function&amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">builtins&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">_print&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">print&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">set_print&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">print_to_file&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">**&lt;/span>&lt;span class="n">kwargs&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">_print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">**&lt;/span>&lt;span class="n">kwargs&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">with&lt;/span> &lt;span class="nb">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;print_ouptut.txt&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;w&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">f&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">write&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">**&lt;/span>&lt;span class="n">kwargs&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">builtins&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">print&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">print_to_file&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">reset_print&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">builtins&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">print&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">_print&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">test_print&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;hello world&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="vm">__name__&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s1">&amp;#39;__main__&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">test_print&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>实际上，借助这个思路，还能禁用全局的 print。例如在 print 中直接添加 exception。&lt;/p></description></item><item><title>2023年终总结</title><link>https://svtter.cn/p/2023%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/</link><pubDate>Mon, 01 Jan 2024 13:44:47 +0800</pubDate><guid>https://svtter.cn/p/2023%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/</guid><description>&lt;p>今年是变化比较大的一年，充满坎坷。&lt;/p>
&lt;p>前情提要：&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://svtter.cn/post/2023-01-08-2022%e5%b9%b4%e7%bb%88%e6%80%bb%e7%bb%93" >2022年终总结&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="今年做的事情">今年做的事情
&lt;/h2>&lt;p>不知道是不是年龄的原因，有点记不住今年做了什么事情了，也可能是今年没有完成什么大事情。
2022年终总结订立的目标：&lt;/p>
&lt;ul>
&lt;li>完成脚踏实地的研究：虽然没有完全做完，但是思路有了。&lt;/li>
&lt;li>收入质变：思路更清晰了，但是尚未能完成。&lt;/li>
&lt;/ul>
&lt;h3 id="工作">工作
&lt;/h3>&lt;p>2023年工作有较大的变化。从原本的企业走了出来。离开的原因比较复杂，不过思来想去，主要因素还是理念不同。对于一个问题的看法，例如亏损与否，
目标清晰与否等，合伙人可以接受，我则是不可接受的。因此无所谓对错，观念不同。但不管怎么说，上个阶段已经基本结束了。现在以顾问的
形式存在于公司也是蛮好的。&lt;/p>
&lt;p>去年一年里，工作主要是推进需求的形式和奖金的落实。奖金制度基本落实了，但更多是细节，大的原则没有很好的
贯彻下去。记忆中获得奖金的同事也不多。团队搞定了金蝶插件的开发（不过这个能力，后来似乎被老大干掉了。
具体情况不清楚了）。&lt;/p>
&lt;p>今年前几个月给公司规划了很多东西，方法论提升了，理论方面夯实了，
但是落地的时候寥寥无几。总结来讲，就是什么都看，什么都关注，但最终有效落地的不多。这是战略的问题。得出了低代码
平台以当前技术能力和平台来看，做不了的结论。&lt;/p>
&lt;p>通过对制造业流程的理解，加强了对供应商和代理商的理解。代理，采购，库存，这些概念很多都是通用的。多次出差之后，对销售和不同部门以及公司的运行方法也积累了不少经验。打交道更容易了。&lt;/p>
&lt;p>颂道今年的发展还是按部就班。每年都有基本的项目量，简单做做。随着这些年的积累，实际交付的项目量更可观了。&lt;/p>
&lt;p>总结一些经验.&lt;/p>
&lt;ol>
&lt;li>公司的财务情况得说到做到才行。年初的预算和实际的预算差的太多了。导致最终越走越尴尬。&lt;/li>
&lt;li>不要想着不劳而获。有这个想法的时候就已经遭人反感了，从我的角度看，朋友不少没有成的项目，都是想要的太多，想从客户那里赚太多。贪便宜不仅仅没出息，而且很容易被判定为没格局。实事求是，该赚多少赚多少。我也拒绝了不少一看就不行的人——对，人不行，而不是项目不行。&lt;/li>
&lt;li>别去听那些没有实际经验的第三方建议。尤其是不要听『没有实际经历过』，没有『生活阅历』的意见。只做参考，并且保持礼貌就行了。&lt;/li>
&lt;li>要选择有能力的人合作，无论是工作还是公益。不然心态不好还好，事情办不成就很麻烦。心态不行也不行。&lt;/li>
&lt;li>对于技术而言，在不坑蒙拐骗的前提下，高利润比高营业额更有用。&lt;/li>
&lt;li>投入大量资源进入一个行业之前，要建立对行业的基本认识。对商业方案要基本设计完成。对成本投入要客观把握。&lt;/li>
&lt;li>对于一个初期的创业公司，人的格局决定了公司的格局。&lt;/li>
&lt;li>其他的东西在书里都有写，就不再赘述了。要提升自己的判断力，去判断当前的情况。&lt;/li>
&lt;/ol>
&lt;blockquote>
&lt;p>数据来源：logseq, gitee，微博，github，钉钉。&lt;/p>&lt;/blockquote>
&lt;h3 id="科研">科研
&lt;/h3>&lt;p>今年科研没有什么突出成果，一篇论文也没有发表。作为一个博士生不太应该。不过，通过阅读大量的文献，包括不同方向的博士论文，最新的研究进展，科研思路，怎么做科研更加清晰了。这算是一大进步。
话也说回来，有些文章不发也罢！单纯的求毕业，对自己的研究不讲究，不追求细致，就跟着大流走了，不见得是好事。以后发展也会受阻。
自然，等着不毕业也不是好事。在文献管理方面使用 endnote 方便了很多。博士开题虽然做了，但是感觉一般般。&lt;/p>
&lt;p>除此之外，把 EI、SCI 检索、危险期刊这些东西看了一遍。😂&lt;/p>
&lt;blockquote>
&lt;p>reference: logseq&lt;/p>&lt;/blockquote>
&lt;h3 id="技术">技术
&lt;/h3>&lt;p>技术方面上升了一个新的台阶。应该是由于学习不少产品的知识得到了提升。写软件的时候维护性和进度都做的明显比之前更好了。
也能比较快的判断出一个系统和架构比较重要的部分是什么。举个例子，Vue的可扩展性。对于vue2来说是mixin，对于vue3是composable API。这两个技术我之前是不知道的，是带着问题去找的这两个技术。有了意义和问题，一个技术的就能完成从无到有。&lt;/p>
&lt;p>硬件方面的理解也增强了。了解了承载某些系统长期稳定运行的硬件设计原则，以及备份容灾的原则。&lt;/p>
&lt;p>今年完成的具体技术方向有以下这些:&lt;/p>
&lt;ul>
&lt;li>BI&lt;/li>
&lt;li>低代码&lt;/li>
&lt;li>钉钉应用开发&lt;/li>
&lt;li>serverless&lt;/li>
&lt;li>LLMs: midjourney和chatgpt&lt;/li>
&lt;li>金蝶插件开发&lt;/li>
&lt;li>云服务器内网架构&lt;/li>
&lt;/ul>
&lt;p>知识体系彻底使用 logseq 构建。&lt;/p>
&lt;blockquote>
&lt;p>reference: logseq&lt;/p>&lt;/blockquote>
&lt;h2 id="生活">生活
&lt;/h2>&lt;p>制订了家庭规范。今年结婚了！正式成立了自己的家庭，家庭成员扩展了！与家人的相处不能像是之前那般幼稚了。
组建新的家庭是成人之后又一个新的人生成就。&lt;/p>
&lt;p>今年去了日本玩，感受了一下国外是什么样子。最大的体会就是网络的畅通无阻。但实际上，因为是去玩而不是工作，很多日常习惯用的东西在日本访问起来反而有些困难。墙是要控制约束自己的权力的，要尽可能的减少对科研和教育的影响。&lt;/p>
&lt;p>体育方面，由于游泳馆装修，今年应该不会再游泳了。篮球🏀有了些新的想法。之前篮球没打明白。一定要做一件事情并且做好，正向回馈挺大的。&lt;/p>
&lt;p>&lt;strong>New me&lt;/strong>ntal problem 的梗图挺搞笑的，不过2023很多时间都处于mental problem的状态。庆幸自己走出了那个状态。温柔不代表没有牙齿，适当的凶狠一下是很有必要的，不然外部只会不听的侵犯自己的私人领域。谁伤害了你，你就反击回去。谁让你活不下去，在你放弃自己之前，先把伤害你的人干掉，让其付出代价。这个世界一点都不温柔，不要委屈自己。与君共勉。&lt;/p>
&lt;h2 id="明年做些什么">明年做些什么
&lt;/h2>&lt;p>明年是这个人生阶段比较重要的一年，要好好安排。&lt;/p>
&lt;h3 id="科研工作和技术">科研、工作和技术
&lt;/h3>&lt;ol>
&lt;li>完成至少2个独立的研究，促进博士毕业。&lt;/li>
&lt;li>完成新商业计划的 landing page，online service，ICP license。&lt;/li>
&lt;li>确定发展的方向和城市&lt;/li>
&lt;/ol>
&lt;h3 id="生活方面">生活方面
&lt;/h3>&lt;p>今年&lt;a class="link" href="https://www.xiaoyuzhoufm.com/episodes/63913aa5e0b249999a59094c" target="_blank" rel="noopener"
>烟知&lt;/a>争取再做一个节目，好朋友们面面基。让当初这个组织的愿景再进一步。&lt;/p>
&lt;ul>
&lt;li>也想去上海找朋友们玩&lt;/li>
&lt;/ul>
&lt;h3 id="nth-nice-to-have">NTH (Nice To Have)
&lt;/h3>&lt;ol>
&lt;li>出一本技术方面的书籍&lt;/li>
&lt;/ol></description></item><item><title>How to Use Logseq</title><link>https://svtter.cn/p/how-to-use-logseq/</link><pubDate>Mon, 18 Dec 2023 11:49:12 +0800</pubDate><guid>https://svtter.cn/p/how-to-use-logseq/</guid><description>&lt;p>logseq 是一种新型的知识工具。开源，免费（暂时），可以自己管理数据。&lt;/p>
&lt;h3 id="概念">概念
&lt;/h3>&lt;p>logseq 底层数据结构使用了 markdown。因此，每次创建新的 tag 或者&lt;code>[[]]&lt;/code>的时候，都可以认为创建了一个新的 page。在这里基础上，来进一步理解 logseq。&lt;/p>
&lt;h3 id="definition">Definition
&lt;/h3>&lt;ul>
&lt;li>&lt;a class="link" href="https://logseq.com/blog/about" target="_blank" rel="noopener"
>关于&lt;/a>&lt;/li>
&lt;li>#tags: 标签，啥时候都能用；使用后要追加解释。&lt;/li>
&lt;/ul>
&lt;h3 id="problems">Problems
&lt;/h3>&lt;p>问题清单。&lt;/p>
&lt;h4 id="目录是什么">目录是什么？
&lt;/h4>&lt;p>&lt;code>#Contents&lt;/code>目录是全局的，用于查看所有文档的工具&lt;/p>
&lt;h4 id="如何使用插件">如何使用插件？
&lt;/h4>&lt;p>设置好 logseq 的代理服务器，即可使用。&lt;/p>
&lt;p>我推荐的插件有:&lt;/p>
&lt;p>&lt;img src="https://svtter.cn/images/logseq-plugins-list.png"
loading="lazy"
alt="logseq"
>&lt;/p>
&lt;ul>
&lt;li>git 用来管理同步的笔记&lt;/li>
&lt;li>goto today 用于快速定位到今天&lt;/li>
&lt;li>todo 用于管理待办事项&lt;/li>
&lt;li>calendar 把 logseq 转换成日历工具&lt;/li>
&lt;li>toc 用于生成目录&lt;/li>
&lt;/ul>
&lt;h3 id="usage">Usage
&lt;/h3>&lt;ul>
&lt;li>使用 logseq 整理论文&lt;/li>
&lt;li>右上角三个点，可以增强 logseq
&lt;ul>
&lt;li>Use plugins：插件可以增强 logseq 的功能&lt;/li>
&lt;li>Use theme：主题可以让 logseq 的可读性变得更好&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="references">References
&lt;/h3>&lt;ul>
&lt;li>&lt;a class="link" href="https://zhuanlan.zhihu.com/p/450069864" target="_blank" rel="noopener"
>https://zhuanlan.zhihu.com/p/450069864&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Techincal Report - 202311-4th</title><link>https://svtter.cn/p/techincal-report-202311-4th/</link><pubDate>Mon, 27 Nov 2023 09:11:42 +0800</pubDate><guid>https://svtter.cn/p/techincal-report-202311-4th/</guid><description>&lt;p>Technical report this week! 这周东西不多，大部分时间在读论文。&lt;/p>
&lt;h2 id="gpu-programming">GPU programming
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://china.xilinx.com/products/silicon-devices/resources/programming-an-fpga-an-introduction-to-how-it-works.html" target="_blank" rel="noopener"
>FPGA tutorial&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="python-web">Python WEB
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://docs.masoniteproject.com/prologue/create-a-blog" target="_blank" rel="noopener"
>Masonite&lt;/a>: 一个全新的开发框架&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/mahmoud/glom" target="_blank" rel="noopener"
>glom&lt;/a>: quick visit nested data.&lt;/li>
&lt;/ul></description></item><item><title>Technical Report - 202311-2th</title><link>https://svtter.cn/p/technical-report-202311-2th/</link><pubDate>Mon, 13 Nov 2023 08:50:50 +0800</pubDate><guid>https://svtter.cn/p/technical-report-202311-2th/</guid><description>&lt;blockquote>
&lt;p>这是一个新的专题：技术报告。包含了我这一周看到的感兴趣的技术。&lt;/p>&lt;/blockquote>
&lt;h2 id="效率">效率
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://api.ihint.me/shuang" target="_blank" rel="noopener"
>双拼练习网站&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://doc.fastadmin.net/doc/1589.html#toc-3" target="_blank" rel="noopener"
>fastadmin&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/cnoe-io/idpbuilder" target="_blank" rel="noopener"
>idpbuilder&lt;/a> 📦 内部开发平台搭建，只需要 docker。&lt;/li>
&lt;/ul>
&lt;h2 id="python--django">Python &amp;amp;&amp;amp; Django
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/jazzband/django-axes" target="_blank" rel="noopener"
>Django axes&lt;/a> 是一个追踪失败登陆尝试的库。可以用于Django site的安全检测。&lt;/li>
&lt;/ul>
&lt;h2 id="玩乐">玩乐
&lt;/h2>&lt;ul>
&lt;li>看&lt;a class="link" href="https://www.cokemv.fun/detail/78266.html" target="_blank" rel="noopener"
>电视剧&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/SawyerHood/draw-a-ui" target="_blank" rel="noopener"
>ChatGPT 生成 HTML&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="云计算">云计算
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://nyan.im/p/clickhouse-cloud" target="_blank" rel="noopener"
>教科书级别的云服务构建指南——「在一年内从零开始构建ClickHouse Cloud」一文的翻译与笔记&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="paper">Paper
&lt;/h2>&lt;p>About process recommendations. You could search the paper by &lt;a class="link" href="https://scholar.google.com/" target="_blank" rel="noopener"
>google scholar&lt;/a>.&lt;/p>
&lt;ul>
&lt;li>An Efficient Recommendation Method for Improving Business Process Modeling&lt;/li>
&lt;li>Zhang, Ji, Qing Liu, and Kai Xu. &amp;ldquo;FlowRecommender: a workflow recommendation technique for process provenance.&amp;rdquo; Proceedings of the 8th Australasian Data Mining Conference (AusDM 2009). 2009.&lt;/li>
&lt;/ul></description></item><item><title>Coding With Cloud Server</title><link>https://svtter.cn/p/coding-with-cloud-server/</link><pubDate>Tue, 07 Nov 2023 17:19:00 +0800</pubDate><guid>https://svtter.cn/p/coding-with-cloud-server/</guid><description>&lt;p>程序开发经常会让本地机器卡顿，尤其是编译某些较大文件的时候。除此之外，如果涉及到数据集处理，会带来更多麻烦，例如下载数据动辄10G，部署环境不一致导致包冲突问题。&lt;/p>
&lt;p>因此，如果只进行 web 开发，那么云服务器是一个相当不错的选择。
云服务器现在价格很优惠。经过本人测试，腾讯云轻量服务器相当靠谱。可以直接搞定基本问题：公网ip，带宽，存储，服务器本体。&lt;/p>
&lt;p>这个是我的&lt;a class="link" href="https://curl.qcloud.com/2w2Hjd24" target="_blank" rel="noopener"
>推广链接&lt;/a>，可以直接跳转购买。&lt;/p>
&lt;p>进入正题：使用vscode进行开发。设置好 remote ssh，也就是这个插件：&lt;/p>
&lt;p>&lt;img src="https://svtter.cn/images/image_1699347932775_0.png"
loading="lazy"
>&lt;/p>
&lt;p>这个插件可以让我们通过 ssh 连接到服务器，并且自动开放端口，从本地的链接，例如 127.0.0.1:1080 进行访问。可以在 port 中看到。&lt;/p>
&lt;p>&lt;img src="https://svtter.cn/images/image_1699348134681_0.png"
loading="lazy"
alt="image.png"
>&lt;/p>
&lt;p>通过这样的方式，调试也变得容易了。&lt;/p>
&lt;p>总结一下，有几个好处：&lt;/p>
&lt;ul>
&lt;li>性能占用都在服务器上，本地机器运行通畅。&lt;/li>
&lt;li>依赖简单，linux 系统；环境独立，不容易破坏。&lt;/li>
&lt;li>重装容易，一键重装。&lt;/li>
&lt;li>不需要担心垃圾文件问题，可以备份后直接重制系统。&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>版权所有©️ svtter&lt;/p>&lt;/blockquote></description></item><item><title>2023-09 Last Week</title><link>https://svtter.cn/p/2023-09-last-week/</link><pubDate>Mon, 25 Sep 2023 09:48:42 +0800</pubDate><guid>https://svtter.cn/p/2023-09-last-week/</guid><description>&lt;p>本周花费了不少时间学习多模态。&lt;/p>
&lt;h2 id="科研">科研
&lt;/h2>&lt;pre>&lt;code>multimodal deep learning
&lt;/code>&lt;/pre>
&lt;h2 id="技术">技术
&lt;/h2>&lt;pre>&lt;code>learning lein
chatgpt application development
&lt;/code>&lt;/pre>
&lt;h2 id="技术力">技术力
&lt;/h2>&lt;pre>&lt;code>Clojure
ChatGPT
&lt;/code>&lt;/pre>
&lt;h2 id="生活">生活
&lt;/h2>&lt;pre>&lt;code>运动 * 2
&lt;/code>&lt;/pre>
&lt;h2 id="读书">读书
&lt;/h2>&lt;pre>&lt;code>* nothing
&lt;/code>&lt;/pre></description></item><item><title>2023-09 First Week</title><link>https://svtter.cn/p/2023-09-first-week/</link><pubDate>Wed, 13 Sep 2023 09:17:19 +0800</pubDate><guid>https://svtter.cn/p/2023-09-first-week/</guid><description>&lt;p>这周过的昼夜颠倒，效率不是很高——但收获也是不小。&lt;/p>
&lt;h2 id="科研">科研
&lt;/h2>&lt;ol>
&lt;li>使用 macos 上的 metal 跑了 dl 模型&lt;/li>
&lt;li>学习了一点点 NLP&lt;/li>
&lt;li>BERT 学习，一点点。&lt;/li>
&lt;/ol>
&lt;h2 id="技术">技术
&lt;/h2>&lt;ol>
&lt;li>了解了新的 require 使用。script[module]&lt;/li>
&lt;li>构思了计算平台的安排；k8s计算架构设计。&lt;/li>
&lt;/ol>
&lt;h2 id="生活">生活
&lt;/h2>&lt;ol>
&lt;li>运动1次&lt;/li>
&lt;li>亲友拜访1次；老徐婚礼；&lt;/li>
&lt;li>制订了新的计划[workandrest]&lt;/li>
&lt;/ol>
&lt;h2 id="技术力">技术力
&lt;/h2>&lt;ol>
&lt;li>logseq 使用插件；&lt;a class="link" href="./2023-09-05-logseq-plugin.md" >logseq&lt;/a>&lt;/li>
&lt;li>macos 程序开发&lt;/li>
&lt;li>ipykernel 简单阅读&lt;/li>
&lt;li>learning google analytics&lt;/li>
&lt;/ol>
&lt;h2 id="读书">读书
&lt;/h2>&lt;p>忘了。&lt;/p>
&lt;h2 id="总结">总结
&lt;/h2>&lt;ul>
&lt;li>处理了公司后续的事情&lt;/li>
&lt;/ul></description></item><item><title>Logseq Plugin</title><link>https://svtter.cn/p/logseq-plugin/</link><pubDate>Tue, 05 Sep 2023 18:31:22 +0800</pubDate><guid>https://svtter.cn/p/logseq-plugin/</guid><description>&lt;p>为了能够更好的使用 &lt;a class="link" href="https://logseq.com/" target="_blank" rel="noopener"
>logseq&lt;/a>，可以安装一些插件。&lt;/p>
&lt;p>我目前使用的几个插件是：&lt;/p>
&lt;p>&lt;img src="https://svtter.cn/images/logseq-plugin.png"
loading="lazy"
alt="Alt text"
>&lt;/p>
&lt;p>建议安装如下几个插件：&lt;/p>
&lt;h2 id="tabs">tabs
&lt;/h2>&lt;p>tabs 可以打开不同的标签页，来增强logseq打开不同页面的功能。&lt;/p>
&lt;h2 id="bonofix-theme">Bonofix #theme
&lt;/h2>&lt;p>推荐 Bonofix 这个主题。能够很清楚的展示 tag。&lt;/p>
&lt;p>&lt;img src="https://svtter.cn/images/logseq-plugin-2.png"
loading="lazy"
alt="Alt text"
>&lt;/p>
&lt;p>例如：&lt;/p>
&lt;p>&lt;img src="https://svtter.cn/images/logseq-plugin-3.png"
loading="lazy"
alt="实际预览图"
>&lt;/p>
&lt;h2 id="calendar">Calendar
&lt;/h2>&lt;p>能够打开右上角的按键，查看自己的日记。&lt;/p>
&lt;p>&lt;img src="https://svtter.cn/images/logseq-plugin-4.png"
loading="lazy"
alt="实际预览图"
>&lt;/p>
&lt;h2 id="bullet-threading">Bullet threading
&lt;/h2>&lt;p>高亮选择的条目。&lt;/p></description></item><item><title>生成模型和判别模型</title><link>https://svtter.cn/p/%E7%94%9F%E6%88%90%E6%A8%A1%E5%9E%8B%E5%92%8C%E5%88%A4%E5%88%AB%E6%A8%A1%E5%9E%8B/</link><pubDate>Mon, 04 Sep 2023 14:07:19 +0800</pubDate><guid>https://svtter.cn/p/%E7%94%9F%E6%88%90%E6%A8%A1%E5%9E%8B%E5%92%8C%E5%88%A4%E5%88%AB%E6%A8%A1%E5%9E%8B/</guid><description>&lt;p>在李航的书中讲到，监督学习方法可以分为生成方法（generative approach）和判别方法 (discriminative approach) 。所学习到的模型分别称为生成模型和判别模型。&lt;/p>
&lt;p>之前一直搞不清楚这俩模型区别到底是什么，课程中也只是学习了一下条件概率和联合概率分布，理解总是有些偏差。
对于生成方法，模型通过对数据进行学习，得到联合概率分布$P(X,Y)$，然后求出条件概率分布$P(Y|X)$作为预测的模型。
也就是说:&lt;/p>
$$P(Y|X)=\frac{P(X,Y)}{P(X)}$$&lt;p>这个方法之所以称之为生成方法，是因为模型表示了&lt;strong>给定输入$X$产生输出$Y$的生成关系&lt;/strong>。
典型的生成模型有朴素贝叶斯法和隐马尔可夫模型。&lt;/p>
&lt;p>判别方法由数据直接学习决策函数$f(X)$或者条件概率分布$P(Y|X)$作为预测模型，即判别模型。
判别方法关心的是给定输入$X$，应该预测什么样的输出$Y$。&lt;/p>
&lt;p>典型的判别模型包括：k近邻法、感知机、决策树、逻辑斯谛回归模型、最大熵模型、支持向量机、提升方法和条件随机场等。&lt;/p>
&lt;p>隐变量是不可观测的随机变量。&lt;/p>
&lt;h2 id="区别">区别
&lt;/h2>&lt;ol>
&lt;li>对生成方法而言，学习收敛的速度更快，即当样本容量增加的时候，学到的模型可以更快地收敛于真实模型。如果存在隐变量，判别方法就不能用。&lt;/li>
&lt;li>对于判别方法而言，直接学习条件概率$P(Y|X)$或决策函数$f(X)$，直接面对预测，往往学习的准确率更高。&lt;/li>
&lt;/ol>
&lt;p>我的理解：区别是一个是学习$P(X,Y)$，因此如果输入的样本发生变化，即$P(X)$发生变化，那么$P(Y|X)$只需要进行简单计算。相比之下，
直接使用$P(Y|X)$的模型则可能需要重新训练。&lt;/p>
&lt;h2 id="附录">附录
&lt;/h2>&lt;p>决策函数指的是应用监督学习的方法：$Y=f(X)$，或者条件概率分布$P(Y|X)$。&lt;/p></description></item><item><title>2023 08 Last Week</title><link>https://svtter.cn/p/2023-08-last-week/</link><pubDate>Mon, 04 Sep 2023 13:57:40 +0800</pubDate><guid>https://svtter.cn/p/2023-08-last-week/</guid><description>&lt;p>8月份最后一周周总结&lt;/p>
&lt;h2 id="科研">科研
&lt;/h2>&lt;ol>
&lt;li>与师弟沟通了研究题目。&lt;/li>
&lt;li>花书、统计学习方法阅读&lt;/li>
&lt;/ol>
&lt;h2 id="技术">技术
&lt;/h2>&lt;ol>
&lt;li>学习了layui的设计。&lt;/li>
&lt;/ol>
&lt;h2 id="生活">生活
&lt;/h2>&lt;ol>
&lt;li>买了新的晾衣架，非常方便。&lt;/li>
&lt;li>从日本回来&lt;/li>
&lt;/ol>
&lt;h2 id="技术力">技术力
&lt;/h2>&lt;ul>
&lt;li>hugo api学习&lt;/li>
&lt;li>button-record 新坑。&lt;/li>
&lt;li>微信小程序新api学习。&lt;/li>
&lt;li>vuejs props重看&lt;/li>
&lt;li>react和webpack重看&lt;/li>
&lt;li>django logging和 gunicorn logging，找个时间写个博客。&lt;/li>
&lt;li>测试的弹性计算&lt;/li>
&lt;/ul>
&lt;h2 id="读书">读书
&lt;/h2>&lt;ul>
&lt;li>深度学习花书重读 第一部分（30%）&lt;/li>
&lt;li>领域驱动设计理解&lt;/li>
&lt;li>品类管理方法论 前言&lt;/li>
&lt;li>敏捷软件开发 用户故事实践 2页&lt;/li>
&lt;li>其他&lt;/li>
&lt;/ul>
&lt;h2 id="总结">总结
&lt;/h2>&lt;p>本周读书进展较好。&lt;/p>
&lt;h2 id="运动">运动
&lt;/h2>&lt;p>运动了一次。
财务健康。&lt;/p>
&lt;p>下周计划找个时间想想。
如果我提出的正确建议经常不被接受，那么就要想想，到底是采取意见的人不够聪明，还是我的提出意见的方式有问题。&lt;/p></description></item><item><title>Use Vue with Django, Meet CSRF</title><link>https://svtter.cn/p/use-vue-with-django-meet-csrf/</link><pubDate>Sun, 03 Sep 2023 14:12:47 +0800</pubDate><guid>https://svtter.cn/p/use-vue-with-django-meet-csrf/</guid><description>&lt;p>在使用 Vue 的时候，如何向 Django 提交 form？&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">$&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ajax&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">url&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;YOUR_URL_HERE&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">headers&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="s1">&amp;#39;X-CSRFToken&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">$&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">cookie&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;csrftoken&amp;#39;&lt;/span>&lt;span class="p">)},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">type&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;POST&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">dataType&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;json&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">data&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">success&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">error&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">xhr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">errMsg&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>django docs: &lt;a class="link" href="https://docs.djangoproject.com/en/1.11/ref/csrf/#ajax" target="_blank" rel="noopener"
>https://docs.djangoproject.com/en/1.11/ref/csrf/#ajax&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="reference">Reference
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://stackoverflow.com/questions/43567052/csrf-token-of-django-into-vuejs-when-seperate-them" target="_blank" rel="noopener"
>stackoverflow answer&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>为啥要写周报</title><link>https://svtter.cn/p/%E4%B8%BA%E5%95%A5%E8%A6%81%E5%86%99%E5%91%A8%E6%8A%A5/</link><pubDate>Tue, 29 Aug 2023 22:00:29 +0800</pubDate><guid>https://svtter.cn/p/%E4%B8%BA%E5%95%A5%E8%A6%81%E5%86%99%E5%91%A8%E6%8A%A5/</guid><description>&lt;p>准备学习一下技术博主&lt;a class="link" href="https://www.manjusaka.blog/weekly/2023/2023-week46.html" target="_blank" rel="noopener"
>manjusaka&lt;/a>，写一下周报，提升自己的认同感，把自己学习的内容搞扎实。&lt;/p>
&lt;p>周报主要有几个内容&lt;/p>
&lt;ol>
&lt;li>研究方面&lt;/li>
&lt;li>技术方面&lt;/li>
&lt;li>生活方面&lt;/li>
&lt;li>在读的书籍&lt;/li>
&lt;li>在看的漫画&lt;/li>
&lt;/ol>
&lt;p>通过这三个方面做一下总结。&lt;/p></description></item><item><title>Thanks My Friend</title><link>https://svtter.cn/p/thanks-my-friend/</link><pubDate>Mon, 31 Jul 2023 15:19:46 +0800</pubDate><guid>https://svtter.cn/p/thanks-my-friend/</guid><description>&lt;p>感谢我的朋友们，是你们让我更加强大。&lt;/p>
&lt;p>最近在读一本书，叫做&lt;a class="link" href="https://u.jd.com/nuhmjLG" target="_blank" rel="noopener"
>你可以生气，但不要越想越气&lt;/a>。&lt;/p>
&lt;p>读这本书的起因是在工作沟通中我产生了不良情绪。不良情绪最近充斥了我的生活，相比之前，这些不良情绪更加具有破坏力。我能感受到这些不良情绪在摧毁我的生活。因此，为了控制这些不良情绪，阅读了这本书。&lt;/p>
&lt;p>这本书讲了几个关键的知识点，&lt;/p>
&lt;ol>
&lt;li>要&lt;code>察觉&lt;/code>自己的不良情绪，接受他。&lt;/li>
&lt;li>愤怒是可以接受的一种情绪，但是&lt;code>情绪化&lt;/code>的思考则是要避免的。否则容易被评价为&lt;code>情绪化&lt;/code>的人。&lt;/li>
&lt;li>情绪化有点像是&lt;code>PTSD&lt;/code>。&lt;/li>
&lt;/ol>
&lt;p>这本书目前还没读完，但在从已经阅读过的内容中，已有了不少收获。
回头仔细想来，在成长过程中我接受了很多&lt;code>忍耐&lt;/code>的情绪。&lt;code>忍耐&lt;/code>其实没有解决问题，&lt;code>忍耐&lt;/code>是将问题延后，
把情绪交给时间或者某些不确定的东西消化掉。&lt;/p>
&lt;p>&lt;code>忍耐&lt;/code>导致我确实比较容易&lt;code>情绪化&lt;/code>。&lt;code>忍耐&lt;/code>无法快速消化的时候，就会转变成压力。我觉得，压力与外在的不良影响，
对我的心理健康造成了一些损害。&lt;/p>
&lt;p>我想要克服这些东西，让我自己变的更好，更强。从而能够收获长期的幸福体验。&lt;/p>
&lt;p>在分析这些情感的过程中，我想起了很多美好的东西和记忆，也回想起了很多尴尬的瞬间。
感谢我的朋友，我大学中的朋友。是你们的宽容让我度过了非常美好的大学时光。&lt;/p></description></item><item><title>2022年终总结</title><link>https://svtter.cn/p/2022%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/</link><pubDate>Sun, 08 Jan 2023 11:59:23 +0800</pubDate><guid>https://svtter.cn/p/2022%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/</guid><description>&lt;p>可怕的事情发生了 &amp;ndash; 2021年的年终总结没有，2022年的年终总结消失了。&lt;/p>
&lt;blockquote>
&lt;p>2022年最大的收货是「乐观」。&lt;/p>&lt;/blockquote>
&lt;p>不管结果如何，保持乐观的心态。
设计合理的预期值，正常评价自己。&lt;/p>
&lt;p>2022年基本上不再做日常记录了，在 logseq 的写的东西比较多。
不做日常记录，主要是做了日常记录容易心态很差，反而做不好事情。写到后面感觉是在写流水账，自己折磨自己。&lt;/p>
&lt;h2 id="2022-年工作">2022 年工作
&lt;/h2>&lt;p>2022年工作上，主要是不停的打磨公司的规章制度，学习了不少法律、管理、财务方面的知识。
法律方面主要是公司法和劳动法。也了解了一些有趣的法律设计。&lt;/p>
&lt;p>今年最主要的工作是进一步稳固了团队。&lt;/p>
&lt;ul>
&lt;li>进一步落实了 CI/CD 流程&lt;/li>
&lt;li>团队的质量能力和产品的质量提升了&lt;/li>
&lt;/ul>
&lt;h2 id="2022-年生活">2022 年生活
&lt;/h2>&lt;p>12月的尾声，认识到生活的快乐。认识到金钱不是衡量一个人的唯一标准。正直，美好的事情永远值得追求。
对人对己都不应该设计过高的期望值，否则会给别人，给自己带来灾难性的后果，以及非常糟糕的人际关际。&lt;/p>
&lt;p>今年搞了一个小的公众号：「烟知」；设立的目标是帮助烟台大学的学弟学妹更加了解 IT 行业，以及帮助
大家找到更好的工作。刚刚起步，但充满信心与希望。&lt;/p>
&lt;p>2022年又是一个疫情年。但2023年疫情已经要基本结束，大家都用身体扛了一次奥密克戎。&lt;/p>
&lt;p>2022年没有旅游。但是和家人呆了比较长的时间。&lt;/p>
&lt;h2 id="2023-年展望">2023 年展望
&lt;/h2>&lt;blockquote>
&lt;p>&amp;ndash;unfinished&lt;/p>&lt;/blockquote>
&lt;p>关键词：沟通。&lt;/p>
&lt;p>2023年希望自己在沟通方面能做的更好，在聆听方面能做的更好。&lt;/p>
&lt;ol>
&lt;li>完成几个脚踏实地的研究；&lt;/li>
&lt;li>完成收入的质变；&lt;/li>
&lt;/ol></description></item><item><title>使用IM做及时通信</title><link>https://svtter.cn/p/%E4%BD%BF%E7%94%A8im%E5%81%9A%E5%8F%8A%E6%97%B6%E9%80%9A%E4%BF%A1/</link><pubDate>Sun, 08 Jan 2023 11:09:02 +0800</pubDate><guid>https://svtter.cn/p/%E4%BD%BF%E7%94%A8im%E5%81%9A%E5%8F%8A%E6%97%B6%E9%80%9A%E4%BF%A1/</guid><description>&lt;p>有时候我们进行长时间的计算，可能不希望一直盯着黑色的屏幕输出一行行的日志，这个时候就可以使用一些小程序，在实验完成后通知自己。&lt;/p>
&lt;p>先给源代码:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">package&lt;/span> &lt;span class="nx">main&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;flag&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;fmt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;github.com/blinkbean/dingtalk&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">var&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">cliBehavior&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">flag&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">String&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;behavoir&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;program&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;Input the behavior&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">flag&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Parse&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">dingToken&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s">&amp;#34;填你自己的&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">key&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s">&amp;#34;填你自己的&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">cli&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">dingtalk&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">InitDingTalkWithSecret&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">dingToken&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">key&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">sendMsg&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Sprintf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;%s success.&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">cliBehavior&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">cli&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">SendTextMessage&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">sendMsg&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">panic&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;message sent.&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这里，我们使用了 go 语言和 dingtalk；&lt;/p>
&lt;p>我们将这个程序构建一下：&lt;code>go build main.go -o notify&lt;/code>&lt;/p>
&lt;p>在执行实验时，我们可以直接调用&lt;code>notify -behavior &amp;quot;ai实验&amp;quot;&lt;/code>；例如&lt;code>python main.py &amp;amp;&amp;amp; ./notify &amp;quot;ai实验&amp;quot;&lt;/code>&lt;/p>
&lt;p>这样，在实验执行完成后，手机端和电脑端都可以快速得到通知了。&lt;/p></description></item><item><title>Use Mirror</title><link>https://svtter.cn/p/use-mirror/</link><pubDate>Thu, 17 Nov 2022 21:15:09 +0800</pubDate><guid>https://svtter.cn/p/use-mirror/</guid><description>&lt;p>使用代理。在国内编程，使用代理非常重要。&lt;/p>
&lt;p>如果不使用代理，代码包的下载，环境的构建会浪费你很多时间。有些环境因为高度依赖网络环境，使得我们如果不定制底层网络，无法获取某些资源。&lt;/p>
&lt;p>下面罗列几个推荐的代理。&lt;/p>
&lt;p>go: &lt;code>goproxy.io&lt;/code>
java:&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://developer.aliyun.com/article/754038" target="_blank" rel="noopener"
>maven mirror&lt;/a>, edit &lt;code>~/.m2/settings.xml&lt;/code>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;mirror&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;id&amp;gt;&lt;/span>nexus-aliyun&lt;span class="nt">&amp;lt;/id&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;mirrorOf&amp;gt;&lt;/span>*&lt;span class="nt">&amp;lt;/mirrorOf&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;name&amp;gt;&lt;/span>Nexus aliyun&lt;span class="nt">&amp;lt;/name&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;url&amp;gt;&lt;/span>http://maven.aliyun.com/nexus/content/groups/public&lt;span class="nt">&amp;lt;/url&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/mirror&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ruby: &lt;a class="link" href="https://gems.ruby-china.com/" target="_blank" rel="noopener"
>gem mirror&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ gem sources --add https://gems.ruby-china.com/ --remove https://rubygems.org/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ gem sources -l
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">https://gems.ruby-china.com
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 确保只有 gems.ruby-china.com&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>php:&lt;/p>
&lt;ul>
&lt;li>composer: &lt;code>composer config -g repos.packagist composer https://mirrors.aliyun.com/composer/&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>python:&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://mirrors.tuna.tsinghua.edu.cn/help/pypi/" target="_blank" rel="noopener"
>tsinghua - pypi&lt;/a>&lt;/li>
&lt;li>&lt;code>pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>nodejs (javascript):&lt;/p>
&lt;ul>
&lt;li>cnpm: &lt;code>npm install -g cnpm --registry=http://registry.npm.taobao.org&lt;/code>&lt;/li>
&lt;li>tyarn: &lt;code>npm install -g tyarn&lt;/code>&lt;/li>
&lt;/ul></description></item><item><title>一种新的文件管理方法</title><link>https://svtter.cn/p/%E4%B8%80%E7%A7%8D%E6%96%B0%E7%9A%84%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%E6%96%B9%E6%B3%95/</link><pubDate>Fri, 07 Oct 2022 22:23:37 +0800</pubDate><guid>https://svtter.cn/p/%E4%B8%80%E7%A7%8D%E6%96%B0%E7%9A%84%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%E6%96%B9%E6%B3%95/</guid><description>&lt;p>最近才用了一种新的文件管理方法，来整理大量的文件。&lt;/p>
&lt;p>文件整理要应对三个关键问题：&lt;/p>
&lt;ol>
&lt;li>新增文件的处理&lt;/li>
&lt;li>文件的快速检索&lt;/li>
&lt;li>文件的归档&lt;/li>
&lt;/ol>
&lt;p>本文通过聊这三个问题，来应对文件管理问题。&lt;/p>
&lt;h2 id="文件组织形式">文件组织形式
&lt;/h2>&lt;p>首先聊聊文件的组织形式。我一般采用如下的方式整理文件。
将文件分成几个大类：&lt;/p>
&lt;ul>
&lt;li>&lt;code>micl-lab&lt;/code> (实验室)&lt;/li>
&lt;li>&lt;code>research&lt;/code> (我的研究)&lt;/li>
&lt;li>&lt;code>thinghoo&lt;/code> (企业)&lt;/li>
&lt;/ul>
&lt;h2 id="新增文件的处理">新增文件的处理
&lt;/h2>&lt;p>产生的文件都会直接到对应文件夹中。新增文件是必不可免的。
然后，在文件夹中，会使用&lt;code>&amp;lt;name&amp;gt;-2022-10&lt;/code>这种形式。通过不同的月份来区分文件。
一般情况下。这种模式最大的好处是，在产生新的文件的时候，知道应该丢到哪里去。
之后，如果新的一个月开始，就可以创建一个新的文件夹。&lt;/p>
&lt;p>之后再回顾文件的时候，只需要记住大概的时间，就能在文件夹中找到对应的文件。&lt;/p>
&lt;h2 id="检索">检索
&lt;/h2>&lt;p>我的文件检索主要基于脑力+Spotlight。更好的工具不太会用（逃）。
通过大类+月份来区分，最大的好处是，很多事情都是按月来做的。比如定期的发票报销，
资金整理，财务整理等等。&lt;/p>
&lt;p>因此，如果定位到相关的文件夹，直接使用 Finder 自带的搜索功能也未尝不可。&lt;/p>
&lt;h2 id="文件的归档">文件的归档
&lt;/h2>&lt;p>在上述文件组织的模式下，文档归类就变得容易了。
你可以首先把2021年的文件夹整理到一个目录下面，例如&lt;code>mge-2021&lt;/code>；
然后，如果想要节省空间，可以直接打一个zip包，然后删掉zip外的其他文件。
我是使用 icloud 进行备份的，因此节省空间也是挺重要的。&lt;/p>
&lt;p>好的，如果本文对你有帮助，就给我留个言吧！&lt;/p></description></item><item><title>Good Gevent</title><link>https://svtter.cn/p/good-gevent/</link><pubDate>Wed, 28 Sep 2022 08:55:43 +0800</pubDate><guid>https://svtter.cn/p/good-gevent/</guid><description>&lt;p>Gevent 是一个非常好用的异步工具，能够自动将阻塞的代码转换成非阻塞的代码。&lt;/p>
&lt;p>这个功能是通过&lt;code>MonkeyPatch&lt;/code>来实现的。&lt;/p>
&lt;p>&lt;code>MonkeyPatch&lt;/code>通过 Hook 底层的代码库，来实现上层代码无变更，透明的底层实现更改。&lt;/p>
&lt;p>在底层，Gevent 使用的库是&lt;code>libev&lt;/code>或者&lt;code>libuv&lt;/code>。这是实现了与&lt;code>nodejs&lt;/code>同级别的高性能。&lt;/p>
&lt;h2 id="io模型">IO模型
&lt;/h2>&lt;p>如果读者尚未理解非阻塞，那么建议看一下IO的四种模型。分别是：&lt;/p>
&lt;ol>
&lt;li>同步阻塞&lt;/li>
&lt;li>同步非阻塞&lt;/li>
&lt;li>IO多路复用&lt;/li>
&lt;li>异步IO&lt;/li>
&lt;/ol>
&lt;p>在不同场景下选择不同的IO模型，可以有效的利用系统资源，更快的响应用户的请求。&lt;/p>
&lt;h2 id="io-slow-problem">IO slow problem
&lt;/h2>&lt;p>之所以会有IO问题存在，原因有两个:&lt;/p>
&lt;ol>
&lt;li>IO 设备的速度慢；&lt;/li>
&lt;li>用户态和内核态的转变；&lt;/li>
&lt;/ol>
&lt;p>IO 设备速度慢，就要等待 IO 读取。&lt;/p>
&lt;p>用户态进程必须通过系统调用，向内核发出指令，才能调用系统资源。
此外，用户态进程进行读写操作的时候，必然涉及到缓冲区。
读写操作不会直接对设备进行。因此，在进行读操作的时候，
系统从设备将数据读取，拷贝到内核缓冲区。用户进程如果想要使用
读取的数据，须从内核缓冲区复制到进程缓冲区。&lt;/p>
&lt;p>因此，速度慢了，等待就耗时。反应到用户层面，就会出现，用户新开浏览器，但是系统仍然没有反应的情况。&lt;/p></description></item><item><title>Two packages in one folder</title><link>https://svtter.cn/p/two-packages-in-one-folder/</link><pubDate>Sat, 16 Jul 2022 13:06:53 +0800</pubDate><guid>https://svtter.cn/p/two-packages-in-one-folder/</guid><description>&lt;blockquote>
&lt;p>GitHub link: &lt;a class="link" href="https://github.com/Svtter/2InOne" target="_blank" rel="noopener"
>https://github.com/Svtter/2InOne&lt;/a>&lt;/p>&lt;/blockquote>
&lt;p>Could two packages share same folder?
The answer is yes.&lt;/p>
&lt;ol>
&lt;li>packagea is in &lt;code>apps&lt;/code>&lt;/li>
&lt;li>packageb is in &lt;code>apps&lt;/code>&lt;/li>
&lt;/ol>
&lt;p>And the mainc installed them all,
run &lt;a class="link" href="mainc/src/main.py" >src/main.py&lt;/a> successfully.&lt;/p>
&lt;p>The folder tree is:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">├── mainc
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ ├── poetry.lock
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ ├── pyproject.toml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ └── src
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ └── main.py
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">├── packagea
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ ├── apps
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ │ └── packagea
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ └── pyproject.toml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">├── packageb
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ ├── apps
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ │ └── packageb
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ └── pyproject.toml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">└── readme.md
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>The &lt;code>main.py&lt;/code> is:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">apps.packagea.a&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">printa&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">apps.packageb.b&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">printb&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="vm">__name__&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s2">&amp;#34;__main__&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">printa&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">printb&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Crazy Import</title><link>https://svtter.cn/p/crazy-import/</link><pubDate>Mon, 09 May 2022 14:02:27 +0800</pubDate><guid>https://svtter.cn/p/crazy-import/</guid><description>&lt;p>最近发现 Django settings 在使用的时候，容易出现不经过检查的问题。
因此，想要在 settings 的基础上严格约束一下，减少问题。&lt;/p>
&lt;p>在进行相关技术调研的时候，发现了&lt;a class="link" href="https://github.com/orlnub123/django-class-settings" target="_blank" rel="noopener"
>django-class-settings&lt;/a>这个库。
实现方式很有意思，于是就调研了一下，学习到了很多新的东西。&lt;/p>
&lt;p>这个库的核心思想，是在代码中，把一个类转换成一个 module；
这非常酷，让我们看看这是如何实现的。&lt;/p>
&lt;p>按照代码的阅读思路，我们首先看看这个包的用法&amp;hellip;&lt;/p>
&lt;p>以下是&lt;a class="link" href="https://github.com/orlnub123/django-class-settings/blob/master/README.md" target="_blank" rel="noopener"
>README.md&lt;/a>中的内容；&lt;/p>
&lt;p>django-class-settings aims to simplify complicated settings layouts by using
classes instead of modules. Some of the benefits of using classes include:&lt;/p>
&lt;ul>
&lt;li>Real inheritance&lt;/li>
&lt;li>[Foolproof settings layouts][local_settings]&lt;/li>
&lt;li>Properties&lt;/li>
&lt;li>Implicit environment variable names&lt;/li>
&lt;/ul>
&lt;h2 id="example">Example
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># .env&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">DJANGO_SECRET_KEY&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;*2#fz@c0w5fe8f-&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">DJANGO_DEBUG&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nb">true&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># manage.py&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">os&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">sys&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">class_settings&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">class_settings&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">env&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">django.core.management&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">execute_from_command_line&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="vm">__name__&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s1">&amp;#39;__main__&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">env&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">read_env&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">environ&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">setdefault&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;DJANGO_SETTINGS_MODULE&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;myproject.settings&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">environ&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">setdefault&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;DJANGO_SETTINGS_CLASS&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;MySettings&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">class_settings&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">setup&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">execute_from_command_line&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sys&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">argv&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># myproject/settings.py&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">class_settings&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">Settings&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">env&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">MySettings&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Settings&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">SECRET_KEY&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">env&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">DEBUG&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">env&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">bool&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">default&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">False&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">INSTALLED_APPS&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;django.contrib.admin&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;django.contrib.auth&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;django.contrib.contenttypes&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;django.contrib.sessions&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;django.contrib.messages&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;django.contrib.staticfiles&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ROOT_URLCONF&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;myproject.urls&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">WSGI_APPLICATION&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;myproject.wsgi.application&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="installation">Installation
&lt;/h2>&lt;p>Install it from [PyPI][pypi-url] with [pip][pip-url]:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">pip install django-class-settings
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;hr>
&lt;p>我们可以看到，这个类关键入口可能在&lt;code>env.read_env()&lt;/code>以及&lt;code>class_settings.setup()&lt;/code>。&lt;/p>
&lt;p>我们首先看一下 &lt;code>src.class_settings.env&lt;/code> 的代码。可以发现，这个代码用于加载 django 中的 env；
因此不是我们关注的重点。&lt;/p>
&lt;p>让我们再看看关键函数 setup。&lt;/p>
&lt;p>&lt;code>src/class_settings/__init__.py&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">__all__&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;Env&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Settings&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;env&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;setup&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">__version__&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;0.3.0-dev&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">.env&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">Env&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">env&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">.settings&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">Settings&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">setup&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">import&lt;/span> &lt;span class="nn">sys&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">from&lt;/span> &lt;span class="nn">django.conf&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">settings&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">from&lt;/span> &lt;span class="nn">django.utils.functional&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">SimpleLazyObject&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">from&lt;/span> &lt;span class="nn">.importers&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">SettingsImporter&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">LazySettingsModule&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">global&lt;/span> &lt;span class="n">_setup&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">_setup&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">sys&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">meta_path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SettingsImporter&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">default_settings&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">LazySettingsModule&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">settings_module&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">SimpleLazyObject&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">lambda&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">default_settings&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">SETTINGS_MODULE&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">settings&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">configure&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">default_settings&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">SETTINGS_MODULE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">settings_module&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">_setup&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">True&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">_setup&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">False&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>在&lt;code>.settings.py&lt;/code>中没有直接加载的代码，因此，我们可以直接阅读本文件。&lt;/p>
&lt;p>未完待续&amp;hellip;&lt;/p></description></item><item><title>在 MacOS 上使用 Ruby</title><link>https://svtter.cn/p/%E5%9C%A8-macos-%E4%B8%8A%E4%BD%BF%E7%94%A8-ruby/</link><pubDate>Sat, 20 Nov 2021 10:12:45 +0800</pubDate><guid>https://svtter.cn/p/%E5%9C%A8-macos-%E4%B8%8A%E4%BD%BF%E7%94%A8-ruby/</guid><description>&lt;blockquote>
&lt;p>Ruby 是一个伟大的编程语言，但是很多国内的工程师尚未体会到它的精髓。&lt;/p>&lt;/blockquote>
&lt;p>MacOS 上本身自带一个 Ruby runtime，在笔者的系统上，这个版本是 &lt;code>2.6.0&lt;/code>。&lt;/p>
&lt;p>建议读者通过安装&lt;code>rbenv&lt;/code>来控制ruby的版本，而不是直接使用&lt;code>brew install ruby&lt;/code>安装的 ruby。&lt;/p>
&lt;p>brew 直接安装的 ruby，会导致&lt;code>gem env home&lt;/code>仍然是 &lt;code>/Library/...&lt;/code>的目录，从而无法安装&lt;code>rails&lt;/code>等工具。&lt;/p>
&lt;h2 id="安装-rbenv">安装 rbenv
&lt;/h2>&lt;ol>
&lt;li>执行&lt;code>brew install rbenv&lt;/code>命令；&lt;/li>
&lt;li>配置&lt;code>zshrc/bashrc&lt;/code>文件。&lt;/li>
&lt;/ol>
&lt;p>因为笔者使用的 SHELL 为 zsh，所以添加命令到&lt;code>.zshrc&lt;/code>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">PATH&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$HOME&lt;/span>&lt;span class="s2">/.rbenv/bin:&lt;/span>&lt;span class="nv">$PATH&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">eval&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>rbenv init - zsh&lt;span class="k">)&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="安装-ruby">安装 Ruby
&lt;/h2>&lt;p>在本文发表时，ruby 的最新版本为&lt;code>3.0.2&lt;/code>。&lt;/p>
&lt;p>&lt;code>rbenv install 3.0.2&lt;/code>&lt;/p>
&lt;p>安装完成后，使用&lt;/p>
&lt;p>&lt;code>rbenv local 3.0.2&lt;/code>&lt;/p>
&lt;p>指定当前使用的 ruby 版本。&lt;/p>
&lt;h2 id="执行-ruby">执行 ruby
&lt;/h2>&lt;p>通过&lt;code>ruby --version&lt;/code>命令，我们可以查看当前 ruby 的版本。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ ruby --version
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ruby 3.0.2p107 &lt;span class="o">(&lt;/span>2021-07-07 revision 0db68f0233&lt;span class="o">)&lt;/span> &lt;span class="o">[&lt;/span>arm64-darwin21&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="配置-gem">配置 gem
&lt;/h2>&lt;p>gem 是 Ruby 的包管理工具，类似于Python 的 pip，Nodejs 的 npm。&lt;/p>
&lt;p>在国内的环境下，因为安全原因，gem 下载软件包的速度十分缓慢。&lt;/p>
&lt;p>因此，我们需要配置一下国内的 mirror （镜像），来加快包的下载速度。&lt;/p>
&lt;p>在此推荐一下&lt;a class="link" href="https://gems.ruby-china.com/" target="_blank" rel="noopener"
>Ruby China&lt;/a>。（——但是国内的镜像源真的可信吗？）&lt;/p>
&lt;p>采用如下方式进行更新:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ gem sources --add https://gems.ruby-china.com/ --remove https://rubygems.org/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ gem sources -l
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">https://gems.ruby-china.com
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># 确保只有 gems.ruby-china.com
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>更新完成后，gem 的下载速度就会飞快。&lt;/p>
&lt;p>此时就可以畅游 Ruby 啦~赶紧把&lt;code>rails&lt;/code>安装起来吧！&lt;/p></description></item><item><title>ORM 中的 Pattern</title><link>https://svtter.cn/p/orm-%E4%B8%AD%E7%9A%84-pattern/</link><pubDate>Sat, 20 Nov 2021 10:00:32 +0800</pubDate><guid>https://svtter.cn/p/orm-%E4%B8%AD%E7%9A%84-pattern/</guid><description>&lt;blockquote>
&lt;p>最近在做技术选型，想要引入一些新的开发语言，开发技术到技术团队。大众编程语言在 WEB 方面的稳定性，已经被人所熟知了。但是数据库版本控制方面，每个程序设计语言做的深度和稳定性都有所区别。数据库版本控制和 ORM 密切相关。而&amp;hellip;&lt;/p>&lt;/blockquote>
&lt;p>提到 ORM，就不得不聊聊 &lt;code>ActiveRecord&lt;/code>和&lt;code>DataMapper&lt;/code>。&lt;/p>
&lt;h2 id="datamapper">DataMapper
&lt;/h2>&lt;p>DataMapper 是一种 ORM&amp;rsquo;s pattern。&lt;/p>
&lt;p>一般，使用 DataMapper，你会将所有的查询方法写到 &lt;code>repositories&lt;/code>里面。所有的数据操作都会在&lt;code>repositories&lt;/code>中进行。例如增加，加载，删除，查询。使用&lt;code>DataMapper&lt;/code>的时候，entity 会显得有些“呆滞”。一般情况下，定义好属性和一点简单的方法，不会频繁的 entity 进行操作了。&lt;/p>
&lt;p>所以，大多数情况下，程序员使用 repositories 与数据库进行交互。&lt;/p>
&lt;p>这种模式常见于&lt;code>Spring JPA&lt;/code>。&lt;/p>
&lt;h2 id="activerecord">ActiveRecord
&lt;/h2>&lt;p>在 &lt;code>ActiveRecord&lt;/code> 模式中，model 的属性和方法，全都在一起定义。&lt;/p>
&lt;p>所以，在大多数情况下，程序员直接使用 &lt;code>model&lt;/code>与数据库进行交互。&lt;/p>
&lt;p>这种模式常见于 &lt;code>Django&lt;/code> 和 &lt;code>Ruby on rails&lt;/code>。&lt;/p>
&lt;h2 id="我应该选择哪一种">我应该选择哪一种？
&lt;/h2>&lt;p>选择哪一种 ORM pattern 取决当前的应用环境。&lt;/p>
&lt;ul>
&lt;li>&lt;code>Data Mapper&lt;/code> 因为其分离性，在大型应用的开发中往往会更有效率&lt;/li>
&lt;li>&lt;code>Active Record&lt;/code> 使得编写 ORM 变得很容易，因此在小型应用中很受欢迎。&lt;code>Simplicity&lt;/code> 往往是可维护性的一个关键指标。&lt;/li>
&lt;/ul></description></item><item><title>克服困难</title><link>https://svtter.cn/p/%E5%85%8B%E6%9C%8D%E5%9B%B0%E9%9A%BE/</link><pubDate>Mon, 06 Sep 2021 13:18:15 +0800</pubDate><guid>https://svtter.cn/p/%E5%85%8B%E6%9C%8D%E5%9B%B0%E9%9A%BE/</guid><description>&lt;p>本文开始之前，有几个原则和道理，需要读者要认同：&lt;/p>
&lt;ol>
&lt;li>明确一个问题：从规则上讲，作为一名学生/老师/工程师，带来问题的工作一定要做。&lt;/li>
&lt;li>认同一个道理：从个人的角度讲，只有做事情，才能让自己更优秀。
&lt;ol>
&lt;li>通过实践验证的真理是最有价值的，只停留在书本上的知识是无法创造价值，也不容易被人认同的。&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol>
&lt;p>基于“一定要做”这个大的预设，可以进一步做一些思考。&lt;/p>
&lt;h2 id="一定要做但是不想做怎么办">一定要做，但是不想做，怎么办？
&lt;/h2>&lt;p>如果一个事情是一定要做的。
为什么不想做？可能有几个原因：&lt;/p>
&lt;ol>
&lt;li>做事情没有成就感。&lt;/li>
&lt;li>事情很难，属于困难区。人往往喜欢做舒适区的事情，能够做挑战区的事情，无法做困难区的事情，因此不想做。&lt;/li>
&lt;li>其他的原因：这个原因是什么呢？&lt;/li>
&lt;/ol>
&lt;p>可以考虑一下，是怎样的客观原因导致自己不想做。
但是无论如何，不能放弃。一旦放弃了，就是被打败了。人可以失败，但不能被打败。逃避了一次，就会有下一次。&lt;/p>
&lt;p>针对以上几个原因，可以有几种解决方法：&lt;/p>
&lt;h3 id="针对成就感">针对成就感
&lt;/h3>&lt;ol>
&lt;li>寻求他人的认同。别人说：你这件事情做的真棒。真强。别人的认同是有益的。&lt;/li>
&lt;li>完成自我认同。我相比于之前的自己，掌握了更多的知识。&lt;/li>
&lt;li>自己找到做事情的乐趣。多给自己选择。同样一个事情，我有很多种方式去做。从而激发自己的内在动力。&lt;/li>
&lt;li>从所谓无价值的事情上寻找价值。人类不是一开始就有建筑学的，是不停的建造，升级，研究才形成建筑学的。&lt;/li>
&lt;/ol>
&lt;h3 id="针对困难区">针对困难区
&lt;/h3>&lt;ol>
&lt;li>与管理者沟通，降低任务本身的难度。&lt;/li>
&lt;li>自身通过调整，将大的困难区任务分解成小的挑战区任务。通过解决挑战区的任务，完成自我认同，进而完成困难区的任务。&lt;/li>
&lt;/ol>
&lt;p>每个人都想让自己的生活过的更好。如果每个人都做同样的事情，是没有办法过的更好的。要努力才能收获更多东西。&lt;/p>
&lt;h3 id="针对其他原因">针对其他原因
&lt;/h3>&lt;p>问题不清楚的时候，不好给出答案。
但是可以把握几个原则：&lt;/p>
&lt;ol>
&lt;li>坚持，不放弃&lt;/li>
&lt;li>持续思考问题的解决方案。&lt;/li>
&lt;/ol></description></item><item><title>使用 Docker 构建前端应用</title><link>https://svtter.cn/p/%E4%BD%BF%E7%94%A8-docker-%E6%9E%84%E5%BB%BA%E5%89%8D%E7%AB%AF%E5%BA%94%E7%94%A8/</link><pubDate>Sat, 04 Sep 2021 18:04:01 +0800</pubDate><guid>https://svtter.cn/p/%E4%BD%BF%E7%94%A8-docker-%E6%9E%84%E5%BB%BA%E5%89%8D%E7%AB%AF%E5%BA%94%E7%94%A8/</guid><description>&lt;p>docker compose 构建前端 app 是否容易，强烈建议中小企业采用这种方法。&lt;/p>
&lt;p>对于前后端分离的 WEB 应用，一般采用&lt;code>npm run build&lt;/code>的形式构建静态文件。
生成静态文件后，将静态文件放置到 nginx 的静态目录下。&lt;/p>
&lt;p>因此，我们可以根据这个特点，完成 nginx 镜像的构建。&lt;/p>
&lt;p>这个构建过程往往分成两步：&lt;/p>
&lt;ol>
&lt;li>构建前端的环境，并且生成静态文件&lt;/li>
&lt;li>构建&lt;code>nginx&lt;/code>镜像，将静态文件拷贝&lt;/li>
&lt;/ol>
&lt;h2 id="dockerfile">Dockerfile
&lt;/h2>&lt;p>一个样例&lt;code>Dockerfile&lt;/code>如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-dockerfile" data-lang="dockerfile">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># Stage 0, &amp;#34;build-stage&amp;#34;, based on Node.js, to build and compile the frontend&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="s"> node:14 as build-stage&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">WORKDIR&lt;/span>&lt;span class="s"> /app&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># 配置淘宝镜像&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> yarn config &lt;span class="nb">set&lt;/span> registry https://registry.npm.taobao.org/&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># 复制前端依赖文件&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> package.json /app/&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> yarn install&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> . /app&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> yarn run build&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># 复制 nginx 配置文件&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> default.conf default.conf&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># Stage 1, based on Nginx, to have only the compiled app, ready for production with Nginx&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="s"> nginx:1.18&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> --from&lt;span class="o">=&lt;/span>build-stage /app/dist/ /usr/share/nginx/html&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># Copy the default default.conf provided by tiangolo/node-frontend&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> --from&lt;span class="o">=&lt;/span>build-stage /app/default.conf /etc/nginx/conf.d/default.conf&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">CMD&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;nginx&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;-g&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;daemon off;&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>nginx 配置文件如下：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-nginx" data-lang="nginx">&lt;span class="line">&lt;span class="cl">&lt;span class="k">server&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">listen&lt;/span> &lt;span class="mi">80&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">access_log&lt;/span> &lt;span class="s">/dev/log&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">root&lt;/span> &lt;span class="s">/usr/share/nginx/html&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="启动应用">启动应用
&lt;/h2>&lt;ul>
&lt;li>构建前端镜像：&lt;code>docker build -t frontend .&lt;/code>&lt;/li>
&lt;li>启动前端应用：&lt;code>docker run -it -p 3000:80 -d frontend .&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>这样，我们在主机的&lt;code>3000&lt;/code>端口启动了&lt;code>nginx&lt;/code>，并且将前端的应用拷贝了进去。&lt;/p>
&lt;p>下一步，我们可以在此基础上构建整个应用。&lt;/p>
&lt;p>（未完待续）&lt;/p></description></item><item><title>测试驱动开发应该怎么做？</title><link>https://svtter.cn/p/%E6%B5%8B%E8%AF%95%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91%E5%BA%94%E8%AF%A5%E6%80%8E%E4%B9%88%E5%81%9A/</link><pubDate>Fri, 06 Aug 2021 10:41:16 +0800</pubDate><guid>https://svtter.cn/p/%E6%B5%8B%E8%AF%95%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91%E5%BA%94%E8%AF%A5%E6%80%8E%E4%B9%88%E5%81%9A/</guid><description>&lt;p>测试驱动开发，是一种保证软件质量，提高研发效率的开发方法。&lt;/p>
&lt;p>测试驱动开发的定义如下：&lt;/p>
&lt;blockquote>
&lt;p>测试驱动开发，英文全称Test-Driven Development，简称TDD，是一种不同于传统&lt;a class="link" href="https://baike.baidu.com/item/%e8%bd%af%e4%bb%b6%e5%bc%80%e5%8f%91%e6%b5%81%e7%a8%8b/3430246" target="_blank" rel="noopener"
>软件开发流程&lt;/a>的新型的开发方法。它要求在&lt;a class="link" href="https://baike.baidu.com/item/%e7%bc%96%e5%86%99/1517598" target="_blank" rel="noopener"
>编写&lt;/a>某个&lt;a class="link" href="https://baike.baidu.com/item/%e5%8a%9f%e8%83%bd/10346898" target="_blank" rel="noopener"
>功能&lt;/a>的&lt;a class="link" href="https://baike.baidu.com/item/%e4%bb%a3%e7%a0%81/86048" target="_blank" rel="noopener"
>代码&lt;/a>之前先编写测试代码，然后只编写使测试通过的功能代码，通过测试来推动整个开发的进行。这有助于编写简洁可用和高质量的代码，并加速开发过程。&lt;/p>&lt;/blockquote>
&lt;p>以上内容来自&lt;a class="link" href="https://baike.baidu.com/item/%E6%B5%8B%E8%AF%95%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91/3328831?fr=aladdin" target="_blank" rel="noopener"
>百度百科&lt;/a>。&lt;/p>
&lt;p>百度百科很好的说明了这个问题，我们本文不再赘述，只讲关键问题。&lt;/p>
&lt;h2 id="基本流程">基本流程
&lt;/h2>&lt;ol>
&lt;li>快速新增一个&lt;strong>不能通过&lt;/strong>的测试&lt;/li>
&lt;li>运行测试（运行一个测试，或者所有的测试）&lt;/li>
&lt;li>做&lt;strong>尽可能少&lt;/strong>的改动，使测试通过&lt;/li>
&lt;li>运行所有测试，并使其通过&lt;/li>
&lt;li>重构代码，消除重复设计，优化结构&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">A: write a test
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">B: make test pass
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">C: refactor
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">A -&amp;gt; B -&amp;gt; C -&amp;gt; A
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="faq">FAQ
&lt;/h2>&lt;h3 id="功能测试应该怎么写">功能测试应该怎么写？
&lt;/h3>&lt;p>功能测试，应该尽可能只使用本层的函数和接口。
例如，功能测试应尽可能调用 django app 的 URL 接口，而不是直接调用 app 中的业务逻辑。
当然，如果准备数据较为复杂，可以利用一些工具函数，将基础数据加载到系统中。
这些工具函数，我们同样建议在功能测试层实现，而不是直接调用最底层的函数。&lt;/p>
&lt;h3 id="不要忽视重构">不要忽视重构
&lt;/h3>&lt;p>重构是 TDD 的重要环节。可以通过 OOP 等方式尽可能的降低心智负担，从而使得代码简洁明了。
对于许多初学者，在执行一段时间的 TDD 后便无法推进了。很多程度上是因为无法简化程序逻辑。
TDD 能让你变得更好，发现问题。但是 TDD 无法解决原本就存在的设计问题。&lt;/p>
&lt;h3 id="web-前端如何采用tdd">WEB 前端如何采用TDD？
&lt;/h3>&lt;ol>
&lt;li>不测试样式。一般情况下，样式不是核心需求。&lt;/li>
&lt;li>充分利用 HTML tag。例如：利用 class 定位元素&lt;/li>
&lt;li>测试业务逻辑。针对历史 BUG 进行测试。&lt;/li>
&lt;li>充分利用 Javascript 模块。写模块，而非脚本&lt;/li>
&lt;/ol></description></item><item><title>给程序设计初学者的一点建议</title><link>https://svtter.cn/p/%E7%BB%99%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%88%9D%E5%AD%A6%E8%80%85%E7%9A%84%E4%B8%80%E7%82%B9%E5%BB%BA%E8%AE%AE/</link><pubDate>Mon, 22 Mar 2021 23:46:08 +0800</pubDate><guid>https://svtter.cn/p/%E7%BB%99%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E5%88%9D%E5%AD%A6%E8%80%85%E7%9A%84%E4%B8%80%E7%82%B9%E5%BB%BA%E8%AE%AE/</guid><description>&lt;p>这篇文章写给在迷茫的师弟师妹，或者正在阅读本文的你。&lt;/p>
&lt;p>最近又快到毕业季了，看到师弟师妹们忙碌的样子，有些话总觉得当讲。
先说观点：不要被互联网企业所迷惑，高薪不是让自己获得幸福的途径。&lt;/p>
&lt;h2 id="到底如何选择">到底如何选择
&lt;/h2>&lt;p>在做选择的时候，要想想自己想要什么，什么能让自己幸福。&lt;/p>
&lt;p>&lt;img src="https://svtter.cn/zh-cn/images/happy.jfif"
loading="lazy"
alt="happy"
>&lt;/p>
&lt;p>对于互联网企业，毕业生能够拿到SSP，有机会得到年薪50万元 offer。
这对一般家庭而言不是一笔小数目，但是，这种高收入往往伴随着996这样的高强度工作。
按照我个人的经验，盲目的加班是无法创造价值的。
这个价值，既包括了组织的价值，也包括个人的价值。
中国人的进步，不应该积累在盲目的努力之上。
从集体的角度看，在全球处于农业社会的时期，我们国家勤劳的人们创造了巨大的财富。
但是，盲目的勤劳而不思考，导致我们国家依然被率先完成工业化革命的国家所反超。
在熬夜加班时所写的代码，经常要花费大量的时间去弥补，修复技术债务。&lt;/p>
&lt;p>选择适合自己的方向，在平凡的岗位上能创造价值，在卓越的岗位上也能创造价值。
创造价值是让自己维持长久生活质量，获得心理认同的重要方式。&lt;/p>
&lt;h2 id="选择错了也没关系">选择错了也没关系
&lt;/h2>&lt;p>作为一个大企业，方向一旦错了就容易分崩离析。但是对于一个人而言，并非如此。
人不要害怕犯错。错了只要能改，就比昨天的自己更加优秀。&lt;/p>
&lt;p>&lt;img src="https://svtter.cn/zh-cn/images/mistake.jfif"
loading="lazy"
alt="mistake"
>&lt;/p>
&lt;p>最可怕的不是犯错，而是停滞不前。
当然，在进行决策的时候，要首先问自己几个问题：
在当前情况下，我是否已经得到了所有用于决策的信息？我是否能够得到更多？
当前的信息是否可以让我下决定？&lt;/p>
&lt;p>刚毕业，正是需要领取自己第一份工资的时候，喜欢钱也无可厚非。
赚点钱买一些之前想买的外设，喜欢的衣服鞋子等等，也是很快乐。
高薪工资也确实挺香——自己想清楚了，做出选择，会更快乐。&lt;/p>
&lt;h2 id="相信自己">相信自己
&lt;/h2>&lt;p>是金子总会发光。不是金子就不用发光。不是所有人都需要搞一个大新闻，整非常炫酷的技术。
在一个团队中有不同的分工，每个人都很重要。
高薪不是获得幸福的唯一途径。与朋友一起吃饭聊天，与家人一起出门游玩，与长辈一起坐着聊天。
这些都可以获得幸福。&lt;/p>
&lt;p>未完。&lt;/p></description></item><item><title>厉害的 dotnet</title><link>https://svtter.cn/p/%E5%8E%89%E5%AE%B3%E7%9A%84-dotnet/</link><pubDate>Sat, 30 Jan 2021 10:45:48 +0800</pubDate><guid>https://svtter.cn/p/%E5%8E%89%E5%AE%B3%E7%9A%84-dotnet/</guid><description>&lt;p>为了能够做到更加快速的开发，这两天研究了一下 dotnet。&lt;/p>
&lt;h2 id="读者">读者
&lt;/h2>&lt;p>希望做独立，快速开发的个人&lt;/p>
&lt;h2 id="razor-的优势">Razor 的优势
&lt;/h2>&lt;p>微软爸爸还是强。Vuejs 的编程模式可以很好的套用到 Blazor 上面。
让我们看看 Blazor 的&lt;a class="link" href="https://docs.microsoft.com/zh-cn/aspnet/core/blazor/project-structure?view=aspnetcore-5.0" target="_blank" rel="noopener"
>写法&lt;/a>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">@&lt;/span>&lt;span class="n">page&lt;/span> &lt;span class="s2">&amp;#34;/todo&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">h3&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="n">Todo&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">h3&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">ul&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">@&lt;/span>&lt;span class="n">foreach&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">var&lt;/span> &lt;span class="n">todo&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">todos&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">li&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="err">@&lt;/span>&lt;span class="n">todo&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Title&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">li&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">ul&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">@&lt;/span>&lt;span class="n">code&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">private&lt;/span> &lt;span class="n">IList&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">TodoItem&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">todos&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">new&lt;/span> &lt;span class="n">List&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">TodoItem&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这是 Razor 的写法，将代码与 HTML 进行简单的分离；这种写法表面看起来朴实无华，甚至有朋友说 php 能够做的更好。
我想也是，php 确实能够做的更好。但是 razor 可以编译成 wasm，也就是前端的 &lt;code>汇编语言&lt;/code>——这就完全不一样了。&lt;/p>
&lt;p>这种写法可以将用户侧性能利用起来，从而减少服务器的压力，并且只需要一个人进行开发。&lt;/p>
&lt;p>因此，对于小型项目，可能是一个非常好的选择。&lt;/p>
&lt;h2 id="razor-的劣势">Razor 的劣势
&lt;/h2>&lt;p>Razor 对于初学者较大的恶劣是，无法很快的适配前端的生态。
现在前端的技术如此丰富，如果不能很快利用，生产力相较于其他团队会差很多。&lt;/p>
&lt;p>Razor 可能十分适合构建一个对于 Frontend 要求不高的系统，或者原型系统。&lt;/p>
&lt;h2 id="后续">后续
&lt;/h2>&lt;p>这篇文章仅仅是将 razor 的好处进行了简单说明，没有在生产环境中采用。因此，是否采用此技术，需要进一步思考，切勿因小失大。&lt;/p></description></item><item><title>技术订阅</title><link>https://svtter.cn/p/%E6%8A%80%E6%9C%AF%E8%AE%A2%E9%98%85/</link><pubDate>Sat, 23 Jan 2021 10:33:36 +0800</pubDate><guid>https://svtter.cn/p/%E6%8A%80%E6%9C%AF%E8%AE%A2%E9%98%85/</guid><description>&lt;p>这篇文章聊聊技术订阅。&lt;/p>
&lt;h2 id="目的">目的
&lt;/h2>&lt;p>技术订阅是提高初级程序员效率，视野的绝佳方法，这里推荐几个公众号，博客，APP。&lt;/p>
&lt;h2 id="订阅列表">订阅列表
&lt;/h2>&lt;p>垃圾信息会影响我们学习的效率。
在一些垃圾订阅中，存在着大量重复的无用信息，这些无用信息会让我们的大脑变的迟钝。
因此，在这里，我筛选了一些技术的订阅，供读者参考。&lt;/p>
&lt;ol>
&lt;li>&lt;code>InfoQ&lt;/code>：https://www.infoq.cn/&lt;/li>
&lt;/ol>
&lt;p>我认为这个站点是国内做技术最好的站点之一，可以提供较好的技术资讯。
这个站点同时提供微信公众号，可以减少访问的频次。&lt;/p>
&lt;ul>
&lt;li>公众号：✔&lt;/li>
&lt;/ul>
&lt;ol start="2">
&lt;li>阮一峰：http://www.ruanyifeng.com/home.html&lt;/li>
&lt;/ol>
&lt;p>阮一峰写的博客浅显易懂。虽然没有深入的技术，但是能够较快的掌握开发中所遇到的基础知识。
此外，每周的科技周刊也是一个拓宽技术视野的好渠道。&lt;/p>
&lt;ul>
&lt;li>公众号：✔&lt;/li>
&lt;/ul>
&lt;ol start="3">
&lt;li>极客时间 APP&lt;/li>
&lt;/ol>
&lt;p>没记错的话极客时间 APP 和 InfoQ 是同一个创始人。
极客时间是需要花钱的（笑），也有质量一般的课程。建议仔细考察课程主讲的出身，决定是否选择该课程。&lt;/p>
&lt;ol>
&lt;li>Github weekly&lt;/li>
&lt;/ol>
&lt;p>这是 Github 周订阅。
Github 周订阅可以提供一些有价值的资讯，但是也会被茅台所充斥。&lt;/p>
&lt;ol start="5">
&lt;li>Google / Facebook / Amazon / Netflix Blog&lt;/li>
&lt;/ol>
&lt;p>大型科技公司的博客。
这些博客基本是英文，对于英文不好的同学不太友好。
而且对于技术有一定要求——如果基础知识不牢固，或者背景知识，经验不够充分，很容易看不懂。&lt;/p>
&lt;ul>
&lt;li>公众号：✔&lt;/li>
&lt;/ul>
&lt;h2 id="总结">总结
&lt;/h2>&lt;p>其他的技术订阅内容、博客，可以根据上述渠道获得。
技术的学习是永无止境的，兴趣是最好的老师。&lt;/p>
&lt;p>我个人的技术阅读一般安排在零碎时间，遇到好的文章，一般会放在浮窗，或者印象笔记。&lt;/p>
&lt;p>不过坦白讲，放在印象笔记就基本不看了，仅用于检索。&lt;/p></description></item><item><title>指导新人-part1</title><link>https://svtter.cn/p/%E6%8C%87%E5%AF%BC%E6%96%B0%E4%BA%BA-part1/</link><pubDate>Fri, 22 Jan 2021 21:13:00 +0800</pubDate><guid>https://svtter.cn/p/%E6%8C%87%E5%AF%BC%E6%96%B0%E4%BA%BA-part1/</guid><description>&lt;p>这篇文章聊聊指导新人。&lt;/p>
&lt;p>本来约了*老师改论文，不过想了想，灵感翻涌，鸽了吧！&lt;/p>
&lt;h2 id="鼓励和惰性">鼓励和惰性
&lt;/h2>&lt;p>新人在效率低的时候，往往有两种原因：一是惰性，另一个则是需要鼓励。
惰性往往与时间有关。做事情，做到一定时间，都会出现惰性。需要规则来约束人。&lt;/p>
&lt;p>规则是底线。规则不能定的过高，过高的规则会让人应付起来十分疲惫。
破解惰性有多种方法：树立新的目标是最好的方法；其次是羞耻感——知耻而后勇。&lt;/p>
&lt;p>效率低的另一个原因则是需要激励。
长时间的打击往往会使人情绪低落。此时新人需要的支持和鼓励，而不是批评。需要与新人一起克服难题。
更准确的说，指导者需要为新人“自己”解决问题提供帮助。&lt;/p>
&lt;p>指导者需要能够判断新人处于哪种状态，针对性处理。这种判断需要依据新人的状态、事实进行判定。
这两种状态，归根结底，都是新人需要帮助。
新人可能遇到其他的阻碍，比如遇到了无法解决的技术问题。这个时候可以视情况而定。&lt;/p>
&lt;h2 id="反抗与盲从">反抗与盲从
&lt;/h2>&lt;p>反抗与盲从往往是相伴的。
反抗常见于优秀的新人，他们有着卓越的能力，在同辈之中属于佼佼者。甚至在某些方面超过老手。
对于这种新人，要张弛有度。对于他们优秀的地方，要放手发挥他们的长处。对于他们不成熟的地方，
要展现出气场，强制其提升。这个过程中难免新人会有怨言，或者不服气。此时有两种做法：就让他们不服气；
让他们吃亏。无论采用哪种方式，最终目的都是让新人知道，他之前的做法是“不专业”或者“不成熟”的。
进而获得成长，成为团队中可靠的一员。&lt;/p>
&lt;p>盲从常见于进取心不是特别强的新人。这种新人往往能力不是很强，喜欢依照命令行动。新人中的
强者也会出现这个问题。对新人强者而言，出现这个问题的原因有很多。其一，遭遇了过多的否定，打击
了信心，从而胆怯。其二，思维局限。对于原因一，指导者应该给予新人基于事实的认可。对于原因二，
开拓新人视野，给新人看新的东西，激发创造力。&lt;/p>
&lt;h2 id="诡辩和欺骗">诡辩和欺骗
&lt;/h2>&lt;p>建议放弃。&lt;/p>
&lt;h2 id="新知识与战友">新知识与战友
&lt;/h2>&lt;p>新人在成为专业的人才之后，新人便是可靠的战友。
当新人具备足够的知识储备，规则便生于新人的内心，指导者可逐步减少对于规则的关注。
新人此时可以良好的控制自己的时间，进度和效率。
此时新人与团队成员具备相同的认知，可进行进一步拓展：“技术讨论”和“指导新人”。
完成转变的新人此时是团队中的一员，可以较好的与团队协作，提出自己的意见见解。
此时，“新人”也可以去指导其他新人，巩固自己的知识，从而进一步提升。&lt;/p></description></item><item><title>为什么写博客？</title><link>https://svtter.cn/p/%E4%B8%BA%E4%BB%80%E4%B9%88%E5%86%99%E5%8D%9A%E5%AE%A2/</link><pubDate>Mon, 04 Jan 2021 12:17:13 +0800</pubDate><guid>https://svtter.cn/p/%E4%B8%BA%E4%BB%80%E4%B9%88%E5%86%99%E5%8D%9A%E5%AE%A2/</guid><description>&lt;p>这篇文章聊聊我为什么要写博客。&lt;/p>
&lt;h2 id="写在最前面">写在最前面
&lt;/h2>&lt;!-- 首先，我已经有相当长的时间没有写博客了，主要原因是:
1. “觉得自己没时间”。
2. 已经学习到的复杂知识，不想轻易的分享给别人。
3. 不想让别人知道自己的弱点，或者知识上的不足。其实是害怕犯错。
但是总之，知识是需要总结的。
以上是我个人的一些心理障碍。现在对这些心理障碍进行一下反思： -->
&lt;ol>
&lt;li>时间其实是有的，只不过对于“写博客”这件事情的意义没有考虑清楚。因此迟迟不做。&lt;/li>
&lt;li>学习复杂知识是没有那么容易的，一旦知识有了深度，就需要人花时间和成本去理解、学习。
因此，如果因为害怕别人学到，而不分享是没有意义的。大部分手把手教都学不好——很快学会的可以做个朋友。😂&lt;/li>
&lt;li>犯错和暴露弱点是有必要的。羞耻心可以促使自己变的更加优秀。&lt;/li>
&lt;/ol>
&lt;!-- 在成功路上，心境的修炼尤其重要。处理逆境的能力。处理压力的能力。 -->
&lt;h2 id="写博客的目的是什么">写博客的目的是什么？
&lt;/h2>&lt;ol start="2">
&lt;li>记录自己的生活&lt;/li>
&lt;/ol>
&lt;p>我想和朋友们分享我的生活，我的近况。朋友们可能没有时间在微信上沟通，阅读一篇博文不需要双方同时在线。&lt;/p>
&lt;ol start="3">
&lt;li>督促自己&lt;/li>
&lt;/ol>
&lt;p>通过这篇文章，博客的意义和好处清晰了，可以督促自己花费精力。花费精力才能把博客写好。&lt;/p>
&lt;ol start="4">
&lt;li>整理技术文章，进行技术总结&lt;/li>
&lt;/ol>
&lt;p>这些技术文章应该是分类的，有标签的，可追溯的。&lt;/p>
&lt;ol start="5">
&lt;li>交个朋友&lt;/li>
&lt;/ol>
&lt;p>很多朋友都在写文章。找到志同道合的人，可以一起做些有趣的事情。&lt;/p>
&lt;ol start="6">
&lt;li>拓展技术影响力，建立自己的个人品牌。&lt;/li>
&lt;/ol>
&lt;p>技术影响力何其难也。要钻到一个技术里面，得到大家认可，才能建立影响力。目前除了 Python 较为熟悉之外，对于其他的技术，研究深度是不足的。&lt;/p>
&lt;h2 id="博客有哪些设定">博客有哪些设定？
&lt;/h2>&lt;ol>
&lt;li>专栏。&lt;/li>
&lt;/ol>
&lt;p>专栏中针对某一个方向和技术着重的写一些东西。&lt;/p>
&lt;ol start="2">
&lt;li>随笔&lt;/li>
&lt;/ol>
&lt;p>随笔不限制题材（属于过去经常写的东西）。&lt;/p>
&lt;ol start="3">
&lt;li>想法&lt;/li>
&lt;/ol>
&lt;p>想法这个栏目还在整理，是否公开待定。&lt;/p></description></item><item><title>2020年总结</title><link>https://svtter.cn/p/2020%E5%B9%B4%E6%80%BB%E7%BB%93/</link><pubDate>Wed, 30 Dec 2020 09:21:13 +0800</pubDate><guid>https://svtter.cn/p/2020%E5%B9%B4%E6%80%BB%E7%BB%93/</guid><description>&lt;p>2020 年是过去几年里，过的最快的一年。&lt;/p>
&lt;p>书写一篇文章首先需要一个大纲。让我看看如何给读者描述一下今年我的工作。&lt;/p>
&lt;h2 id="2020年我所做的事情">2020年我所做的事情
&lt;/h2>&lt;blockquote>
&lt;p>年度总结应该写一些重要的东西。&lt;/p>&lt;/blockquote>
&lt;p>2020年随着疫情开始。
在1月份开始，主要完成的是基金方面的工作。写基金不是一件容易的事情，如果不多加思考，很容易写的相对局限。
项目方面，cathotic，碧水剑、MGE-AI。
项目方面，开始走向更加正规，以及拥抱云计算。大数据方面也勉强接受了一些。
Python coding 倾向于更加细致和专业的东西。
这也促使我反思，对技术的学习方式。
在最后一个月，博士论文的检索能力有所突破。&lt;/p>
&lt;p>回首今年的日常记录，发现从9月份开始记录就死掉了。
生活总要抓重点，学习也是。想做好事情，无论是科研还是工程，区别都不是很大&lt;/p>
&lt;h2 id="2020年遇到的阻碍">2020年遇到的阻碍
&lt;/h2>&lt;p>最大的阻碍大概是总想把事情做的过好。&lt;/p>
&lt;h2 id="2021年展望">2021年：展望
&lt;/h2>&lt;ol>
&lt;li>把&lt;/li>
&lt;/ol>
&lt;p>&amp;lt;未完待续&amp;gt;&lt;/p>
&lt;blockquote>
&lt;p>以下内容书写自 2023年01月08日&lt;/p>&lt;/blockquote>
&lt;h2 id="2023-年回归再书写">2023 年回归再书写
&lt;/h2>&lt;p>看到 2021年展望有点幸灾乐祸。&lt;/p>
&lt;blockquote>
&lt;p>最大的阻碍大概是总想把事情做的过好。&lt;/p>&lt;/blockquote>
&lt;p>这个事情其实是没有设计合理的预期值。
此外，实际上2021年是没有很好计划的。&amp;ndash; 就算是计划了，俺也找不到了。&lt;/p></description></item><item><title>与拖延做斗争</title><link>https://svtter.cn/p/%E4%B8%8E%E6%8B%96%E5%BB%B6%E5%81%9A%E6%96%97%E4%BA%89/</link><pubDate>Sat, 26 Dec 2020 12:46:02 +0800</pubDate><guid>https://svtter.cn/p/%E4%B8%8E%E6%8B%96%E5%BB%B6%E5%81%9A%E6%96%97%E4%BA%89/</guid><description>&lt;blockquote>
&lt;p>是有一段时间没有更新博客了，仔细想想事情也不是很多，我的效率应该还可以提升。这里简单写一下想法。&lt;/p>&lt;/blockquote>
&lt;p>看了一期比较喜欢的视频，这里推荐一下：&lt;/p>
&lt;p>视频地址：https://www.bilibili.com/video/BV18h411Z7Gy&lt;/p>
&lt;p>里面谈了几个问题：&lt;/p>
&lt;ol>
&lt;li>战胜自己&lt;/li>
&lt;li>不能有过高预期&lt;/li>
&lt;li>能否对未来的自己说一句话？&lt;/li>
&lt;li>最坏的打算、最好的打算。做好打算。&lt;/li>
&lt;li>努力让自己产生正面情绪，而非负面情绪。&lt;/li>
&lt;/ol>
&lt;p>成功人士在努力工作之后，依然能够做到跑步，健身，运动。这是因为这些活动能够带来较好的多巴胺反馈。&lt;/p>
&lt;p>我们需要战胜的是自己的心理，而不是某个具体的技术难题。根本问题在于我们自己的面对困难的心理状态不佳，而不是纠结于问题本身。&lt;/p>
&lt;p>只有这样才能让自己变得更好。&lt;/p></description></item><item><title>⚙ 记录一次 gitlab runner 的配置</title><link>https://svtter.cn/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1-gitlab-runner-%E7%9A%84%E9%85%8D%E7%BD%AE/</link><pubDate>Mon, 17 Aug 2020 08:44:46 +0800</pubDate><guid>https://svtter.cn/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1-gitlab-runner-%E7%9A%84%E9%85%8D%E7%BD%AE/</guid><description>&lt;p>首先介绍一下整体的情况，和我们的需求。&lt;/p>
&lt;ol>
&lt;li>
&lt;p>在我们组里，不同的项目和服务，被分到不同的 repo 中，托管在 gitlab 上面。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>最近一段时间，由于构建的时间变长，用掉了 gitlab 免费的 2000 minutes。&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>因此，打算采用自己的 runner，来进行服务的构建和使用。&lt;/p>
&lt;p>Gitlab runner 配置有些神奇。&lt;/p>
&lt;h2 id="-技术背景">🔙 技术背景
&lt;/h2>&lt;p>在这之前，我们已经单给 &lt;code>data_service&lt;/code> 部署了一个 &lt;code>gitlab-runner&lt;/code>。这是由于&lt;code>data-service&lt;/code> 跑 CI 的时间格外长，因此单独进行了配置。&lt;/p>
&lt;p>但是没有想到的是，backend-service 耗尽了所有的 gitlab 分钟数。&lt;/p>
&lt;p>​ 本文花费了作者 &lt;code>$8&lt;/code> 。如果可以的话，请支持一下作者。&lt;/p>
&lt;h2 id="-gitlab-runner-概念">🏃‍♂️ Gitlab Runner 概念
&lt;/h2>&lt;p>CI 是由 jobs 组成的；&lt;/p>
&lt;p>pipeline 是由多个 jobs 组成。&lt;/p>
&lt;p>官方文档声称，在 gitlab 中，没有&lt;code>shared runner&lt;/code>，就不能启动 jobs 了。&lt;/p>
&lt;p>但其实，只要有 &lt;code>group runner&lt;/code> 或者 &lt;code>specific runner&lt;/code> （也就是我们自己配置的 runner），job 也可以正常运行。&lt;/p>
&lt;p>要注意一下 &lt;code>tag&lt;/code> 选项。&lt;code>tag&lt;/code> 选项，并非单纯的对 &lt;code>runner&lt;/code> 进行区分。项目也会依据&lt;code>tag&lt;/code>，被分配给不同的&lt;code>runner&lt;/code>。&lt;/p>
&lt;p>不过，我们在最初配置&lt;code>runner&lt;/code>时不清楚这一点。我们还以为，就是官方所声称的：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">Shared Runners on GitLab.com run in autoscale mode and are powered by Google Cloud Platform. Autoscaling means reduced wait times to spin up builds, and isolated VMs for each project, thus maximizing security.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">They&amp;#39;re free to use for public open source projects and limited to 2000 CI minutes per month per group for private projects. Read about all GitLab.com plans.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>因此给&lt;code>gitlab&lt;/code>进行了一下信仰充值。后来发觉似乎充值之后，我们配置的&lt;code>group runner&lt;/code>也没有开始运行。&lt;/p>
&lt;p>最后我们定位到&lt;code>runner&lt;/code>的&lt;code>tag&lt;/code>问题，最终暂时移除了&lt;code>tag&lt;/code>，解决了问题。&lt;/p>
&lt;p>希望 &lt;code>gitlab&lt;/code> 能够发展的越来越好。希望&lt;code>Mozilla&lt;/code>支撑下去。&lt;/p></description></item><item><title>Learning spring ROO</title><link>https://svtter.cn/p/learning-spring-roo/</link><pubDate>Fri, 14 Aug 2020 08:44:46 +0800</pubDate><guid>https://svtter.cn/p/learning-spring-roo/</guid><description>&lt;p>Recently I&amp;rsquo;ve try to use Spring Boot to make enterprise development more professional.&lt;/p>
&lt;h2 id="-problems">❓ Problems
&lt;/h2>&lt;p>I&amp;rsquo;ve meet one problems.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;repository&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;id&amp;gt;&lt;/span>spring-roo-repository&lt;span class="nt">&amp;lt;/id&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;name&amp;gt;&lt;/span>Spring Roo Repository&lt;span class="nt">&amp;lt;/name&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;url&amp;gt;&lt;/span>https://repo.spring.io/spring-roo&lt;span class="nt">&amp;lt;/url&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/repository&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Original Spring ROO generate project with &lt;code>http&lt;/code> protocol, which is wrong for the package request.&lt;/p>
&lt;p>Move &lt;code>http&lt;/code> to &lt;code>https&lt;/code>.&lt;/p>
&lt;h2 id="-tips">🥴 Tips
&lt;/h2>&lt;p>This script will create Spring ROO with &lt;strong>Swagger&lt;/strong>.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-zed" data-lang="zed">&lt;span class="line">&lt;span class="cl">&lt;span class="n">project&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="n">topLevelPackage&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cz&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">spring&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">swagger&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">persistence&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">setup&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="n">database&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">H2_IN_MEMORY&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="n">provider&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">HIBERNATE&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">entity&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">jpa&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="n">class&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cz&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">spring&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">swagger&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">domain&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">Word&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">field&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">string&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="n">fieldName&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="n">notNull&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">true&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="n">unique&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">field&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">string&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="n">fieldName&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">definition&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="n">notNull&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">json&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">all&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">controller&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">all&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="n">package&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cz&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">spring&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">swagger&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">controller&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">web&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">mvc&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">json&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">all&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">exit&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">mvn&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">tomcat&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="n">run&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">curl&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">H&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="n">Accept&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">application/&lt;/span>&lt;span class="n">json&lt;/span>&lt;span class="err">&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">http&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="c1">//localhost:8080/swagger/words
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Visual Studio Code Tips - 1</title><link>https://svtter.cn/p/visual-studio-code-tips-1/</link><pubDate>Tue, 09 Jun 2020 11:25:25 +0800</pubDate><guid>https://svtter.cn/p/visual-studio-code-tips-1/</guid><description>&lt;p>又有一段时间没有更新博客啦！这篇文章是&lt;code>vscode&lt;/code>使用技巧。&lt;/p>
&lt;p>最近因为学生&lt;code>pycharm&lt;/code>到期，因此采用&lt;code>visual studio code&lt;/code>代替。使用过程中遇到不少问题，在此记录一下，为以后提供备忘。&lt;/p>
&lt;h2 id="关于测试">关于测试
&lt;/h2>&lt;ol>
&lt;li>只有使用 &lt;code>pytest&lt;/code>， 才能将错误显示到 &lt;code>problems&lt;/code> 中&lt;/li>
&lt;li>test 的上级目录必须是 &lt;code>package&lt;/code>，这意味着每层目录都要有 &lt;code>__init__.py&lt;/code>&lt;/li>
&lt;/ol>
&lt;p>并行测试：&lt;/p>
&lt;p>&lt;code>pip install pytest-xdist&lt;/code>&lt;/p>
&lt;p>并且在&lt;code>pytest.ini&lt;/code>下增加：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">[pytest]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">addopts = -n4
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="文件管理器">文件管理器
&lt;/h2>&lt;ol>
&lt;li>打开&lt;code>User Settings&lt;/code>，搜素&lt;code>files.exclude&lt;/code> 选项：去掉不想在文件管理器中看到的东西&lt;/li>
&lt;/ol>
&lt;h2 id="lint">lint
&lt;/h2>&lt;p>在错误检查方面，vscode 有许多细节可以设置。&lt;/p>
&lt;p>&lt;a class="link" href="https://code.visualstudio.com/docs/python/linting" target="_blank" rel="noopener"
>https://code.visualstudio.com/docs/python/linting&lt;/a>&lt;/p>
&lt;p>增加&lt;code>django&lt;/code>的检查：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;python.linting.pylintArgs&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;--load-plugins&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;pylint_django&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这样就可以避免一些错误。比如：&lt;code>objects&lt;/code>检查的错误。&lt;/p></description></item><item><title>Mellow Config</title><link>https://svtter.cn/p/mellow-config/</link><pubDate>Thu, 09 Apr 2020 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/mellow-config/</guid><description>&lt;p>Mellow is an transparent proxy tools could run on Windows and Ubuntu.&lt;/p>
&lt;h2 id="install">Install
&lt;/h2>&lt;p>Mellow install on Windows is simple. Here&amp;rsquo;s the introduction of install on Ubuntu.&lt;/p>
&lt;p>Download Mellow from &lt;a class="link" href="https://github.com/mellow-io/mellow/releases" target="_blank" rel="noopener"
>github release page&lt;/a>&lt;/p>
&lt;h2 id="config">Config
&lt;/h2>&lt;p>Mellow&amp;rsquo;s config is shown on its README. When the mellow not work, follow the &lt;code>Possible way&lt;/code> section.&lt;/p>
&lt;h2 id="possible-way">Possible way
&lt;/h2>&lt;p>Here&amp;rsquo;re the Ubuntu config.&lt;/p>
&lt;p>You need to disable the &lt;code>systemd-solved&lt;/code> and disable auto-update &lt;code>/etc/resolve.conf&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo systemctl disable systemd-sovled
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo systemctl stop systemd-sovled
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>edit the &lt;code>/etc/NetworkManager/NetworkManager.conf&lt;/code>, add &lt;code>dns=none&lt;/code> to &lt;code>[main]&lt;/code> section.&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">[main]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">dns=none
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">[ifupdown]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Then reboot and start mellow again, it&amp;rsquo;ll work.&lt;/p></description></item><item><title>每日机器学习</title><link>https://svtter.cn/p/%E6%AF%8F%E6%97%A5%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/</link><pubDate>Wed, 08 Apr 2020 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E6%AF%8F%E6%97%A5%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/</guid><description>&lt;p>挖了一个新坑，每天讲一点机器学习。&lt;/p>
&lt;p>讲出来是最好的学习方式。点击&lt;a class="link" href="https://svtter.github.io/daily-ml" target="_blank" rel="noopener"
>这里&lt;/a>跳转。&lt;/p></description></item><item><title>2019年总结</title><link>https://svtter.cn/p/2019%E5%B9%B4%E6%80%BB%E7%BB%93/</link><pubDate>Sun, 12 Jan 2020 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/2019%E5%B9%B4%E6%80%BB%E7%BB%93/</guid><description>&lt;p>2019年过去了，简单做了一下总结。&lt;/p>
&lt;h2 id="今年做了哪些事情">今年做了哪些事情？
&lt;/h2>&lt;ul>
&lt;li>投出去了小论文，完成了大论文。硕士毕业。&lt;/li>
&lt;li>完成了一个领域软件的开发&lt;/li>
&lt;li>完成了一个石场的项目，身份是&lt;code>项目经理+产品经理&lt;/code>。&lt;/li>
&lt;/ul>
&lt;h2 id="学习">学习
&lt;/h2>&lt;ol>
&lt;li>学会了TDD，tdd超级香。&lt;/li>
&lt;li>学习了敏捷开发思维&lt;/li>
&lt;li>完成了自己第一篇论文&lt;/li>
&lt;li>拿到了硕士学位&lt;/li>
&lt;/ol>
&lt;h2 id="工作">工作
&lt;/h2>&lt;ol>
&lt;li>使用敏捷开发，完成了鑫鑫的项目&lt;/li>
&lt;li>使用TDD，完成了Protect 的项目&lt;/li>
&lt;li>小应用：剪贴板，车票，地摊，one_image&lt;/li>
&lt;li>进一步了解了MGE&lt;/li>
&lt;li>仪表项目正式上线&lt;/li>
&lt;/ol>
&lt;h2 id="收获">收获
&lt;/h2>&lt;ol>
&lt;li>群智能够产生巨大的价值，遏制群智会打压组织的发展。&lt;/li>
&lt;li>学会了分解难题，按照步骤推进&lt;/li>
&lt;li>解决问题，而不是推进进度。因为问题解决了，进度自然就推进了。&lt;/li>
&lt;li>协同编辑有很大的作用&lt;/li>
&lt;li>做事情，不能单纯的追求块，要一步一个脚印。&lt;/li>
&lt;li>很多时候，软件开发进度迟缓，不是技术的问题，而是需求没有定义清楚，因此无法推进。&lt;/li>
&lt;li>春种一粒粟，秋收万颗子。&lt;/li>
&lt;/ol>
&lt;h2 id="存在的问题">存在的问题：
&lt;/h2>&lt;ol>
&lt;li>在琐事上浪费了不少时间。&lt;/li>
&lt;li>没有及时调整自己的心态，在事情多的时候，没有合理的分配时间。&lt;/li>
&lt;/ol>
&lt;!-- 3. 仪表问题：1. xception提取的特征图太小，可能不利于RNN进行建模 -->
&lt;ol start="3">
&lt;li>前几个月一直在纠结工程的结果，过于着急，写的代码水平不高，结果有问题。&lt;/li>
&lt;/ol>
&lt;p>由于这篇文章一直都没有写好，所以直到&lt;code>2020年4月7日&lt;/code>才放出来。有些内容我也是不想分享的，知识是有价值的。
所以我开设了一个用于分享敏捷知识的知识星球。&lt;/p>
&lt;p>&lt;img src="https://svtter.cn/images/image_15285484828522_2.jpg"
loading="lazy"
alt="知识星球"
>&lt;/p>
&lt;p>在里面我会分享一些敏捷的相关知识。&lt;/p></description></item><item><title>好香的Kotlin</title><link>https://svtter.cn/p/%E5%A5%BD%E9%A6%99%E7%9A%84kotlin/</link><pubDate>Thu, 26 Sep 2019 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%A5%BD%E9%A6%99%E7%9A%84kotlin/</guid><description>&lt;p>Kotlin 真是一个很可爱的语言。&lt;/p>
&lt;p>Kotlin 可以无缝和 Java 进行调用，这一个很大的优势。
再者，kotlin 是 intelij 和 Google 背书，都是大厂（噗嗤）。&lt;/p>
&lt;p>我感觉 kotlin 对于 java 就像是 python 对于 c++ 一样。
python 我认为，某种程度上是 C++ 脚本，比 lua 高级（当然也带来了许多性能损耗）。&lt;/p>
&lt;p>Kotlin 相比较于 python，要清晰。
因为 Kotlin 带着相对明显的类型系统，而 Python 则相对模糊。&lt;/p>
&lt;p>Kotlin 相对于 Java 要简洁。
Kotlin 长得很像 Golang，都是把类型放在后面。或者说，定义函数方法很像。只不过，少了一个“c”;)&lt;/p>
&lt;p>比如：&lt;/p>
&lt;ol>
&lt;li>Kotlin 相对于 Golang，有异常处理：&lt;/li>
&lt;li>类似于 Python 的 for..in&lt;/li>
&lt;li>灵活的“map”方法：&lt;/li>
&lt;li>甚至超过 Python 简洁的类定义&lt;/li>
&lt;li>什么？Python 里面的 dataclasses？&lt;/li>
&lt;/ol>
&lt;hr>
&lt;p>此外，还有大量的有趣的特性。当我逼不得已非要使用在 JVM 的环境下进行开发的时候，我想我的首选肯定是 kotlin。&lt;/p>
&lt;p>2020-03-23: 新浪图床都挂掉了，本文中的图片也跟着离去了。。&lt;/p></description></item><item><title>软件是为什么服务的</title><link>https://svtter.cn/p/%E8%BD%AF%E4%BB%B6%E6%98%AF%E4%B8%BA%E4%BB%80%E4%B9%88%E6%9C%8D%E5%8A%A1%E7%9A%84/</link><pubDate>Tue, 17 Sep 2019 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E8%BD%AF%E4%BB%B6%E6%98%AF%E4%B8%BA%E4%BB%80%E4%B9%88%E6%9C%8D%E5%8A%A1%E7%9A%84/</guid><description>&lt;p>前一段时间都在忙论文的事情，没有时间更新博客。&lt;/p>
&lt;p>近期又做了不少的工程，对于软件开发又有了许多新的理解。我认为许多刚入行的程序员存在一个对技术的误解，就是: 软件到底是为什么服务的。&lt;/p>
&lt;blockquote>
&lt;p>软件是为使用者服务的。&lt;/p>&lt;/blockquote>
&lt;p>面向开发者的软件才是为开发者服务的。在制作软件的时候，不能觉得“你认为”，而是应该聆听使用者的声音。否则，这个软件开发者就是不专业的。软件开发是一件很有乐趣的事情，但是，当软件存在使用者，使用者付费的时候，软件就不仅仅是一个乐趣了，软件是一个商品。出售商品的开发者要对商品负责任。&lt;/p>
&lt;blockquote>
&lt;p>对于无法明确的点进行争论是没有意义的。&lt;/p>&lt;/blockquote>
&lt;p>在软件开发过程中，总会出现没有办法明确的功能点。有人会说，这是需求调研的问题。也有人会说，这是用户的问题，用户自己都不明确。那我们应该怎么做？做。找一个点先做，这才是专业的。我们开发者在10分钟内无法讨论出一个结果，那么可以先按照一个人的意见来行事。当这个意见出现问题的时候，我们再来纠正这个意见，而不是吵得热火朝天。这样没有意义。&lt;/p>
&lt;p>未完。&lt;/p></description></item><item><title>我的 Linux 开发环境</title><link>https://svtter.cn/p/%E6%88%91%E7%9A%84-linux-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/</link><pubDate>Sun, 02 Jun 2019 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E6%88%91%E7%9A%84-linux-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/</guid><description>&lt;p>GNU/Linux 操作系统数量繁多，对于新手直接使用进行开发十分不友好。但是，随着
许多工具的发展，Linux 入门已经没有那么困难，这里简单介绍笔者的几个开发环境，
供读者参考。&lt;/p>
&lt;h2 id="操作系统以及桌面环境">操作系统以及桌面环境
&lt;/h2>&lt;p>推荐使用 &lt;code>Linux Mint&lt;/code> 辅以 &lt;code>Cinnamon Edition&lt;/code> 桌面环境，
根据笔者五年的使用经验，这个桌面环境非常稳定，不容易出问题，
且基本的配置都可以提供。&lt;/p>
&lt;p>这里建议：&lt;/p>
&lt;ol>
&lt;li>既然是开发环境，就不要折腾。&lt;/li>
&lt;li>使用效率最高的开发环境&lt;/li>
&lt;/ol>
&lt;p>有些人会推荐使用 i3 等非常粗暴的开发环境，可以说，笔者的个人感觉是，i3 等
基于 openbox 就只是个图形界面，而不是一个桌面环境。&lt;/p>
&lt;p>除此之外，也可以考虑 gnome 桌面环境。KDE 是不建议使用的，笔者没能配置好，也比较
吃配置。基于 QT 的桌面环境也不够自由。&lt;/p>
&lt;h2 id="终端环境">终端环境
&lt;/h2>&lt;p>&lt;code>fish&lt;/code> 是一个新的 shell，不过&lt;code>zsh&lt;/code>更加好用一些。可以考虑安装&lt;code>oh-my-zsh&lt;/code>来加强
自己的&lt;code>shell&lt;/code>，不过这个事情已经被网上的文章讲烂了。我这里更建议使用&lt;code>antigen&lt;/code>
来配置自己的&lt;code>zsh&lt;/code>，并且通过&lt;code>github&lt;/code>或者&lt;code>gitee&lt;/code>进行网络同步，从而在多个环境下
可以使用同一套配置。&lt;/p>
&lt;h2 id="编辑器">编辑器
&lt;/h2>&lt;p>&lt;code>vscode&lt;/code>，&lt;code>pycharm&lt;/code>这些东西都是可以用的。&lt;/p>
&lt;h2 id="办公软件">办公软件
&lt;/h2>&lt;p>可以考虑使用 &lt;a class="link" href="https://shimo.im" target="_blank" rel="noopener"
>石墨&lt;/a>，或者&lt;a class="link" href="https//docs.qq.com" target="_blank" rel="noopener"
>腾讯文档&lt;/a>。&lt;/p>
&lt;p>可以做 ppt 啥的。自带的&lt;code>libreoffice&lt;/code>体验不是很好，不是很建议使用。不过按照发展
速度，这些东西迟早会赶上来的。&lt;/p>
&lt;h2 id="im">IM
&lt;/h2>&lt;p>electron 版本的微信虽然可以勉强用一下，但是笔者还是建议多使用邮箱
网易和腾讯均可。&lt;/p>
&lt;hr>
&lt;p>在使用 Linux 的过程中，可以不断的优化自己的使用环境。Linux 给予了用户最大的自由，
这也意味着用户需要对自己的行为负责。&lt;/p>
&lt;h3 id="20201230">2020/12/30
&lt;/h3>&lt;p>现在我已经不使用 Linux 桌面环境了，基本上都是采用 虚拟机 的方式来使用 Linux。因此 Vim、Zsh 这些工具才是主要的软件环境。
2020年，Linux 桌面环境对于使用 &lt;code>word&lt;/code>, &lt;code>excel&lt;/code>, &lt;code>ppt&lt;/code> 以及 微信，钉钉，QQ 的人仍然不是很友好。&lt;/p>
&lt;!-- 尽管 2020年中美贸易战使得 Linux 进入了人们的视野，但是对于一个非开发者而言，Linux 不够用。 --></description></item><item><title>《睡眠革命》阅读笔记</title><link>https://svtter.cn/p/%E7%9D%A1%E7%9C%A0%E9%9D%A9%E5%91%BD%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/</link><pubDate>Tue, 23 Apr 2019 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E7%9D%A1%E7%9C%A0%E9%9D%A9%E5%91%BD%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/</guid><description>&lt;p>睡眠革命是一本关于睡觉的书。&lt;/p>
&lt;p>我在其中学到的比较关键的几点：&lt;/p>
&lt;ol>
&lt;li>早点睡觉，90分钟前不要工作，不要刺激。&lt;/li>
&lt;li>起床之后90分钟，也是睡眠时间，给身体一个适应的时间。&lt;/li>
&lt;li>任何时候小睡30分钟，可能对你的身体都有莫大的好处。别怕，但别睡的太长。&lt;/li>
&lt;li>人睡眠是90分钟为周期的。&lt;/li>
&lt;li>每天早上起床时间基本上一致。请尊重你的生物钟。&lt;/li>
&lt;/ol>
&lt;hr>
&lt;p>最近没有很好的按照套路来，精神状态不太好。并且还服用了过量的褪黑素，导致白天
状态不好，情绪很差，做事动力也不太足。所以褪黑素感觉需要放一放。日光灯可以考虑
一下。&lt;/p>
&lt;hr>
&lt;p>乳胶枕头其实没有想象中的那么好，所谓高价的床垫也无法给你带来更好的睡眠。你需要
让你的身体相对放松，并且维持一条直线（你的脖子，你的身体，以及你的腿部），最好
像婴儿一样的姿势。&lt;/p>
&lt;p>整本书强调了很多返璞归真的东西呢=)&lt;/p>
&lt;hr>
&lt;blockquote>
&lt;p>updated for 2019-05-07&lt;/p>&lt;/blockquote>
&lt;ol>
&lt;li>整洁干净的睡眠环境十分重要。&lt;/li>
&lt;li>将手机以及其他电子产品搬离你的卧室。&lt;/li>
&lt;li>睡眠最佳温度是18摄氏度（令人震惊，这个温度可能和户外一样）。&lt;/li>
&lt;/ol></description></item><item><title>穷爸爸富爸爸 – 阅读笔记</title><link>https://svtter.cn/p/%E7%A9%B7%E7%88%B8%E7%88%B8%E5%AF%8C%E7%88%B8%E7%88%B8-%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/</link><pubDate>Sun, 14 Apr 2019 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E7%A9%B7%E7%88%B8%E7%88%B8%E5%AF%8C%E7%88%B8%E7%88%B8-%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/</guid><description>&lt;p>这本书解决了不少让我迷茫的问题，感觉还不错。主要讲了一些财务的问题，以及打工的价值，当老板的价值。有些人可能一辈子就打工了，有些人则不同。有些人一辈子都不懂，有些人很小就懂了。&lt;/p>
&lt;p>书中有不少夸张的地方，辩证思考^_^&lt;/p>
&lt;?xml version="1.0" encoding="UTF-8" ?>
&lt;div class="bodyContainer">
&lt;div class="notebookFor">
笔记本
&lt;/div>
&lt;div class="bookTitle">
富爸爸穷爸爸 (全球最佳财商教育系列)
&lt;/div>
&lt;div class="authors">
(美)罗伯特·清崎
&lt;/div>
&lt;div class="citation">
Citation (APA): (美)罗伯特·清崎. (2014). &lt;i>富爸爸穷爸爸 (全球最佳财商教育系列)&lt;/i> [Kindle Android version]. Retrieved from Amazon.com
&lt;/div>
&lt;hr />
&lt;div class="sectionHeading">
序言　这就是你所需要的
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 位置 61
&lt;/div>
&lt;div class="noteText">
因为孩子们在学校缺少有关财商的教育。今天许多年轻人在高中毕业前就有了信用卡，却从未上过关于钱和投资的课程，
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 位置 90
&lt;/div>
&lt;div class="noteText">
只有精通会计和投资才能跳出“老鼠赛跑”的陷阱，可以说这是两个最难掌握的专业。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 位置 114
&lt;/div>
&lt;div class="noteText">
她又说道：“现在我知道我可以去选择一个我想从事的职业，而不是因为某个职业安稳或福利好、薪水高我才去选择它。如果我学会了这个游戏所教的东西，我将自由地去做我想做的事，去学我想学的东西，而不是那些特定的工作所需要的技巧。如果我学会这些，我就不必像我的大部分同学一样，担心工作稳不稳定和社会保险了。”
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 位置 160
&lt;/div>
&lt;div class="noteText">
他受过良好教育的父亲建议他为企业工作，而他富有的父亲则建议他拥有自己的企业。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 位置 165
&lt;/div>
&lt;div class="noteText">
他急于开始积累自己的资产，但最终发现大学教育对他也是有益的。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 位置 167
&lt;/div>
&lt;div class="noteText">
鼓励孩子们成为雇员就是建议他们缴纳超过他们应付的份额的税，并只得到数量很少，而且还没什么保障的退休金。毫无疑问，税是一个人最大的支出，
&lt;/div>
&lt;div class="sectionHeading">
第一部分　课程
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第1章　富爸爸，穷爸爸 > 位置 215
&lt;/div>
&lt;div class="noteText">
例如，我的一个爸爸总是习惯说“我可付不起”，而另一个爸爸则禁止我们说这样的话，他坚持让我这样说：“我怎样才能付得起？”
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第1章　富爸爸，穷爸爸 > 位置 229
&lt;/div>
&lt;div class="noteText">
一个爸爸说：“当涉及钱的时候要小心，别去冒险。”而另一个爸爸则说：“要学会管理风险。”
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第1章　富爸爸，穷爸爸 > 位置 236
&lt;/div>
&lt;div class="noteText">
另一个爸爸则信奉完全的经济自立，他反对这种“理所应当”的心理，认为正是这种心理造成了人们的软弱、贫穷。他特别重视理财的能力。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第1章　富爸爸，穷爸爸 > 位置 242
&lt;/div>
&lt;div class="noteText">
他会这样说：“我是一个富人，富人不会这么做。”
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第1章　富爸爸，穷爸爸 > 位置 243
&lt;/div>
&lt;div class="noteText">
贫穷和破产的区别是：破产是暂时的，而贫穷是永久的。”
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第2章　第一课　富人不为钱工作 > 位置 338
&lt;/div>
&lt;div class="noteText">
如果你们放弃了，你们就只能是穷人了。最重要的是你们已经尝试了。大多数人只是夸夸其谈，梦想着发财致富，而你们已经付出了行动。我真为你们骄傲，我要再说一遍，继续努力，不要放弃。”
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第2章　第一课　富人不为钱工作 > 位置 381
&lt;/div>
&lt;div class="noteText">
“好吧，我说说我的建议：我会教你们，但不像在学校那样。你们为我工作，否则我就不教。因为通过工作我可以更快地教会你们。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第2章　第一课　富人不为钱工作 > 位置 439
&lt;/div>
&lt;div class="noteText">
假如你学会了生活这门课程，做任何事情你都会游刃有余。如果你学不会，生活照样会推着你转。人们通常会做两件事，一些人在生活推着他转的同时，抓住生活赐予的每个机会；而另一些人则非常生气，去与生活抗争。他们与老板抗争，与工作抗争，甚至与自己的配偶抗争，他们不知道生活同时也给了他们机会。”
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第2章　第一课　富人不为钱工作 > 位置 456
&lt;/div>
&lt;div class="noteText">
“你们俩是最先请求我教你们赚钱的人，我有 150多个雇员，
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第2章　第一课　富人不为钱工作 > 位置 463
&lt;/div>
&lt;div class="noteText">
如果你认为是我的问题，你就会想改变我；如果你认为问题在你那儿，你就会改变自己，学习一些东西让自己变得更聪明。大多数人认为世界上除了自己外，其他人都应该改变。让我告诉你吧，改变自己比改变他人更容易。”
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第2章　第一课　富人不为钱工作 > 位置 473
&lt;/div>
&lt;div class="noteText">
有些人会这么做，只因为他们和他们的家庭需要钱而接受这份工资。但他们所做的也只是等待，等待加薪，因为他们认为更多的钱能解决问题。大部分人接受这样的工资，还有一些人会再找一份工作，仍旧干得很努力，但仍只能得到很少的报酬。”
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第2章　第一课　富人不为钱工作 > 位置 484
&lt;/div>
&lt;div class="noteText">
儿子，我希望你努力学习，取得好成绩，这样你就能在大公司里找到一份稳定的工作，而且会收入不菲。”富爸爸却希望我去研究钱的运动规律，好让钱为我所用。在他的指导下，我会在生活中而不是在教室里学习这些课程。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第2章　第一课　富人不为钱工作 > 位置 543
&lt;/div>
&lt;div class="noteText">
接下来的 3个星期里，我和迈克每个星期六白干 3小时。这工作不再让我心烦，过程也容易些了。只是无法参加棒球赛以及不能再买连环画让我耿耿于怀。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第2章　第一课　富人不为钱工作 > 位置 603
&lt;/div>
&lt;div class="noteText">
事实上，许多人致富并非出于欲望而是由于恐惧，他们认为钱能消除贫困带来的恐惧，所以他们积攒了很多的钱，却发现恐惧感更加强烈了。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第2章　第一课　富人不为钱工作 > 位置 619
&lt;/div>
&lt;div class="noteText">
好好观察你的感情，别急于行动。大多数人并不知道是他们的感情代替了他们进行思考，感情只是感情，你还必须学会抛开感情来思考。”
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第2章　第一课　富人不为钱工作 > 位置 625
&lt;/div>
&lt;div class="noteText">
依我看，答案是‘不是’，从人的一生来看更是如此。工作只是试图用暂时的办法来解决长期的问题。”
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第2章　第一课　富人不为钱工作 > 位置 632
&lt;/div>
&lt;div class="noteText">
“我想教你们支配钱，而不是害怕它，这是在学校里学不到的。如果不学，你就会变成金钱的奴隶。”
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第2章　第一课　富人不为钱工作 > 位置 636
&lt;/div>
&lt;div class="noteText">
“你看，我们在根本上都是雇员，只是层次不同而已。”富爸爸说，“我只希望你们有机会避开由恐惧和欲望组成的陷阱，按照你们喜欢的方式利用恐惧和欲望，而不要让它们控制你们。这就是我想教你们的。我对教你们挣大钱不感兴趣，那解决不了问题。如果你们不先控制恐惧和欲望，即使你们获得高薪，也只不过是金钱的奴隶而已。”
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第2章　第一课　富人不为钱工作 > 位置 646
&lt;/div>
&lt;div class="noteText">
对你们来说最重要的是，运用感情作长远打算，别让感情控制了思想。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第2章　第一课　富人不为钱工作 > 位置 663
&lt;/div>
&lt;div class="noteText">
永远不要忘记，你有两种感情——恐惧和欲望，如果你让它们来控制你的思想，你就会落入一生中最大的陷阱。一直生活在恐惧中，从不追求自己的梦想，这是残酷的。为钱拼命工作，以为钱能买来快乐，这也是残酷的。半夜醒来想着还有许多账单要付是一种可怕的生活方式，以工资的多少来决定过什么样的生活不是真正的生活。认为工作会给你带来安全感其实是在欺骗自己。这些都很残酷，但我希望你们能尽可能地避开这些陷阱。我看过钱如何控制人们的生活，别让这些问题发生在你们身上，别让钱支配你们的生活。”
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第2章　第一课　富人不为钱工作 > 位置 693
&lt;/div>
&lt;div class="noteText">
你要花时间去思考这个问题：更努力地工作是解决问题的最好方法吗？
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第2章　第一课　富人不为钱工作 > 位置 697
&lt;/div>
&lt;div class="noteText">
工作只是面对长期问题的一种暂时的解决办法。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第2章　第一课　富人不为钱工作 > 位置 717
&lt;/div>
&lt;div class="noteText">
继续用你们的头脑思考，不求回报地工作，很快就会发现比拿工资更挣钱的方法。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_orange">橙色&lt;/span>) &amp;#8211; 第3章　第二课　为什么要教授财务知识 > 位置 769
&lt;/div>
&lt;div class="noteText">
我想有太多人过多地关注钱，而不是关注他们最大的财富——所受的教育。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第3章　第二课　为什么要教授财务知识 > 位置 771
&lt;/div>
&lt;div class="noteText">
只有知识才能解决问题并创造财富，那些不是靠财务知识挣来的钱也不会长久。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第3章　第二课　为什么要教授财务知识 > 位置 780
&lt;/div>
&lt;div class="noteText">
从长远来看，重要的不是你挣了多少钱，而是你能留下多少钱，以及能够留住多久。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_orange">橙色&lt;/span>) &amp;#8211; 第3章　第二课　为什么要教授财务知识 > 位置 784
&lt;/div>
&lt;div class="noteText">
如果你要去建造帝国大厦，你要做的第一件事就是挖个深坑，打牢地基。如果你只是想在郊区盖个小屋，你只须用混凝土打 15厘米厚的地基就够了。大多数人在努力致富时，总是试图在 15厘米厚的混凝土上建造帝国大厦。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第3章　第二课　为什么要教授财务知识 > 位置 904
&lt;/div>
&lt;div class="noteText">
当我还是孩子时，我的爸爸告诉我日本人注重 3种力量：剑、宝石和镜子。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第3章　第二课　为什么要教授财务知识 > 位置 954
&lt;/div>
&lt;div class="noteText">
最大的损失是致富机会的损失。如果你所有的钱都投在了房子上，你就不得不努力工作，因为你的现金正不断地从支出项流出，而不是流入资产项，这是典型的中产阶级现金流模式。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_orange">橙色&lt;/span>) &amp;#8211; 第3章　第二课　为什么要教授财务知识 > 位置 960
&lt;/div>
&lt;div class="noteText">
失去受教育的机会。人们经常把他们的房子、储蓄和退休金计划作为他们资产项的全部内容。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第3章　第二课　为什么要教授财务知识 > 位置 987
&lt;/div>
&lt;div class="noteText">
正是由于早年缺乏必要的财务知识教育，才造成了中产阶级财务上的风险。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_orange">橙色&lt;/span>) &amp;#8211; 第3章　第二课　为什么要教授财务知识 > 位置 1009
&lt;/div>
&lt;div class="noteText">
他是这样定义的：财富就是支撑一个人生存多长时间的能力，或者说，如果我今天停止工作，我还能活多久？
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_orange">橙色&lt;/span>) &amp;#8211; 第4章　第三课　关注自己的事业 > 位置 1040
&lt;/div>
&lt;div class="noteText">
女士们、先生们，其实我并不是做汉堡包的，我真正的生意是房地产。”
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_orange">橙色&lt;/span>) &amp;#8211; 第4章　第三课　关注自己的事业 > 位置 1064
&lt;/div>
&lt;div class="noteText">
富人关心的焦点是资产而其他人关心的是收入。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第4章　第三课　关注自己的事业 > 位置 1068
&lt;/div>
&lt;div class="noteText">
只有你把额外的收入用来购买可产生收入的资产，你才能获得真正的财务安全。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_orange">橙色&lt;/span>) &amp;#8211; 第4章　第三课　关注自己的事业 > 位置 1079
&lt;/div>
&lt;div class="noteText">
当你不符合“标准”的规范时，生活将是严峻的。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_orange">橙色&lt;/span>) &amp;#8211; 第4章　第三课　关注自己的事业 > 位置 1081
&lt;/div>
&lt;div class="noteText">
净资产并不是一个确定的东西，这主要是因为在你开始出售资产时，你还要为获得的收入缴税。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_orange">橙色&lt;/span>) &amp;#8211; 第4章　第三课　关注自己的事业 > 位置 1094
&lt;/div>
&lt;div class="noteText">
不需我到场就可以正常运作的业务。我拥有它们，但由别人经营和管理。如果我必须在那儿工作，那它就不是我的事业而是我的职业了；
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_orange">橙色&lt;/span>) &amp;#8211; 第4章　第三课　关注自己的事业 > 位置 1097
&lt;/div>
&lt;div class="noteText">
7．版税，如音乐、手稿、专利；
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_orange">橙色&lt;/span>) &amp;#8211; 第4章　第三课　关注自己的事业 > 位置 1099
&lt;/div>
&lt;div class="noteText">
富爸爸则鼓励我去获得我所喜爱的资产。“
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_orange">橙色&lt;/span>) &amp;#8211; 第4章　第三课　关注自己的事业 > 位置 1106
&lt;/div>
&lt;div class="noteText">
对于小公司，我的投资策略是：一年内脱手。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_orange">橙色&lt;/span>) &amp;#8211; 第4章　第三课　关注自己的事业 > 位置 1116
&lt;/div>
&lt;div class="noteText">
你应该这么想，这 1美元进了你的资产项，它就成了你的雇员。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_orange">橙色&lt;/span>) &amp;#8211; 第4章　第三课　关注自己的事业 > 位置 1120
&lt;/div>
&lt;div class="noteText">
那些能给子孙留下遗产的人和那些能长期富有的人，就是先构筑资产项，然后才用资产所产生的收入购买奢侈品的，而穷人和中产阶级则用他们的血汗钱和本应该留给子孙的遗产来购买奢侈品。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_orange">橙色&lt;/span>) &amp;#8211; 第5章　第四课　税收的历史和公司的力量 > 位置 1164
&lt;/div>
&lt;div class="noteText">
无论“劫富”的呼声多高，富人总有办法从中脱身，这就是税收最终总会落到中产阶级头上的原因。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_orange">橙色&lt;/span>) &amp;#8211; 第5章　第四课　税收的历史和公司的力量 > 位置 1172
&lt;/div>
&lt;div class="noteText">
真正的资本家则利用他们的财务知识逃脱了。他们借助于公司的保护来避税。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_orange">橙色&lt;/span>) &amp;#8211; 第5章　第四课　税收的历史和公司的力量 > 位置 1185
&lt;/div>
&lt;div class="noteText">
他们雇用聪明的律师和会计师，说服政客们改变法律，钻法律的漏洞，他们有能力扭转乾坤。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_orange">橙色&lt;/span>) &amp;#8211; 第5章　第四课　税收的历史和公司的力量 > 位置 1188
&lt;/div>
&lt;div class="noteText">
是指《国内收入法》第 1031款，它允许销售者对“为购买更贵的房地产而卖出现有房地产时”获得的资本利得延迟纳税。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第5章　第四课　税收的历史和公司的力量 > 位置 1191
&lt;/div>
&lt;div class="noteText">
穷人和中产阶级没有这种智慧，所以他们只能坐等政府的针头刺进他们的手臂，贡献自己的鲜血。现实情况令我震惊：竟有如此多的人在支付高额税款，却很少想到要使用合理合法的避税手段，他们这么做只是因为他们害怕政府。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第5章　第四课　税收的历史和公司的力量 > 位置 1204
&lt;/div>
&lt;div class="noteText">
这也是富爸爸高薪雇用聪明的会计师和律师的原因——付给他们的钱要比付给政府的少得多。“
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第5章　第四课　税收的历史和公司的力量 > 位置 1225
&lt;/div>
&lt;div class="noteText">
到 1978年的时候，我的销售业绩总是列在公司前 5名，并且通常都是第一名，但我仍想跳出这场“老鼠赛跑”。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第5章　第四课　税收的历史和公司的力量 > 位置 1235
&lt;/div>
&lt;div class="noteText">
第一是会计，也就是我说的财务知识。如果你想建立一个自己的商业帝国，财务知识是非常重要的。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第5章　第四课　税收的历史和公司的力量 > 位置 1238
&lt;/div>
&lt;div class="noteText">
第二是投资，我把它称为钱生钱的科学。投资涉及策略和方案，这要右脑来做，是属于创造的部分。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第5章　第四课　税收的历史和公司的力量 > 位置 1239
&lt;/div>
&lt;div class="noteText">
第三是了解市场，它是供给与需求的科学。这要
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第5章　第四课　税收的历史和公司的力量 > 位置 1249
&lt;/div>
&lt;div class="noteText">
了解减税优惠政策和公司法的人会比雇员和小业主更快致富。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第5章　第四课　税收的历史和公司的力量 > 位置 1252
&lt;/div>
&lt;div class="noteText">
雇员挣钱、纳税，并靠剩下的钱为生；企业挣钱、花钱，并只为剩下来的钱缴税。这是富人钻的最大的法律的空子。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第6章　第五课　富人的投资 > 位置 1285
&lt;/div>
&lt;div class="noteText">
我们都拥有巨大的潜能——这是上天赏赐的礼物。然而，我们都或多或少地存在着某种自我怀疑的心理，从而阻碍前进的步伐。这种障碍很少是缺乏某种技术性的东西，更多的是缺乏自信。有些人更容易受到外界的影响。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第6章　第五课　富人的投资 > 位置 1297
&lt;/div>
&lt;div class="noteText">
为什么要去冒险？为什么必须永不停止地提高自己的财商？为什么必须懂得财务知识？
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第6章　第五课　富人的投资 > 位置 1299
&lt;/div>
&lt;div class="noteText">
就是为了获得更多的选择机会。”
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第6章　第五课　富人的投资 > 位置 1375
&lt;/div>
&lt;div class="noteText">
富人则创造金钱。你把金钱看得越重，你就会为金钱工作得越辛苦。如果你能知道‘金钱不是真实的资产’这一道理，你就会更快地富起来。”
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第6章　第五课　富人的投资 > 位置 1398
&lt;/div>
&lt;div class="noteText">
原来价值 10万美元的房子现在只值 7. 5万美元。但我没有去本地的房地产公司买进这些房地产，而是去破产事务律师办公室，或是去法院洽谈业务。在这些进行房屋买卖的地方，一幢 7. 5万美元的房子有时可以按 2万美元或更低的价格买下。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第6章　第五课　富人的投资 > 位置 1451
&lt;/div>
&lt;div class="noteText">
法律规章。要熟悉有关会计、公司方面的法律以及各州和国家的法规。我们必须按规则来进行“游戏”。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第6章　第五课　富人的投资 > 位置 1499
&lt;/div>
&lt;div class="noteText">
这主要是靠对财务报表、投资策略以及市场和法律的了解。如果一个人在这些方面不甚精通，那么很明显，他必然会遵循标准的教条，
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第6章　第五课　富人的投资 > 位置 1518
&lt;/div>
&lt;div class="noteText">
如果你把钱投进一笔交易然后只是祈祷，才是在赌博。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_orange">橙色&lt;/span>) &amp;#8211; 第6章　第五课　富人的投资 > 位置 1529
&lt;/div>
&lt;div class="noteText">
我的资产基础是房地产。我喜欢房地产是因为它很稳定，变化比较慢。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_orange">橙色&lt;/span>) &amp;#8211; 第6章　第五课　富人的投资 > 位置 1538
&lt;/div>
&lt;div class="noteText">
好机会是用你的脑子而不是用你的眼睛看到的。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_orange">橙色&lt;/span>) &amp;#8211; 第6章　第五课　富人的投资 > 位置 1551
&lt;/div>
&lt;div class="noteText">
简单明了的投资方式，就好像一位顾客到商店去购买一台组装好的电脑。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_orange">橙色&lt;/span>) &amp;#8211; 第6章　第五课　富人的投资 > 位置 1556
&lt;/div>
&lt;div class="noteText">
学会如何将众多“零部件”组合在一起是非常重要的，有时候你会因此获得巨大的成功，但有时候也可能因为形势的逆转而损失惨重。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_orange">橙色&lt;/span>) &amp;#8211; 第6章　第五课　富人的投资 > 位置 1559
&lt;/div>
&lt;div class="noteText">
1．如何寻找其他人都忽视的机会。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_orange">橙色&lt;/span>) &amp;#8211; 第6章　第五课　富人的投资 > 位置 1561
&lt;/div>
&lt;div class="noteText">
于是在买下房子后，他就把空房拆掉，
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_orange">橙色&lt;/span>) &amp;#8211; 第6章　第五课　富人的投资 > 位置 1565
&lt;/div>
&lt;div class="noteText">
房子本身并不重要，从中学到的获得资金的技巧却是无价之宝。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_orange">橙色&lt;/span>) &amp;#8211; 第6章　第五课　富人的投资 > 位置 1574
&lt;/div>
&lt;div class="noteText">
聪明的人往往会雇用比自己更聪明的人或与他们一起工作。当你需要建议的时候，你一定要确定你选择的是明智的顾问。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_orange">橙色&lt;/span>) &amp;#8211; 第7章　第六课　学会不为钱工作 > 位置 1603
&lt;/div>
&lt;div class="noteText">
全世界到处都有聪明、才华横溢、受过良好教育以及极具天赋的人。我们每天都会碰到这样的人，他们就在我们的身边。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_orange">橙色&lt;/span>) &amp;#8211; 第7章　第六课　学会不为钱工作 > 位置 1609
&lt;/div>
&lt;div class="noteText">
这句话的意思是说，大部分人需要学习和掌握不止一项技能，只有这样他们的收入才能获得显著增长。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第7章　第六课　学会不为钱工作 > 位置 1726
&lt;/div>
&lt;div class="noteText">
他们只将注意力集中在提高做汉堡包的技能上，却不注意提高销售和配送汉堡包的技能。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第7章　第六课　学会不为钱工作 > 位置 1752
&lt;/div>
&lt;div class="noteText">
所以，你在处理人际关系、商务谈判和被拒绝时的恐惧心理等方面做得越好，生活就会越轻松。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第7章　第六课　学会不为钱工作 > 位置 1755
&lt;/div>
&lt;div class="noteText">
我建议他们用一年时间来学销售，即使挣不到什么钱，可他们处理人际关系的能力会大大提高，这种能力是无价的。
&lt;/div>
&lt;div class="sectionHeading">
第二部分　开端
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第8章　克服困难 > 位置 1801
&lt;/div>
&lt;div class="noteText">
斜齿鳊在被光照到时会非常害怕，而这种人在杂货店店员少找两毛五分钱时，便会抱怨不停。”
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第8章　克服困难 > 位置 1865
&lt;/div>
&lt;div class="noteText">
有时我们的朋友或是亲近的人会不由自主地提醒我们有某些缺点，他们常常会说，“你怎么就认为你可以这么做”，或者说“如果这是一个好点子，那其他人怎么不做呢”，或者是“这起不了什么作用，你根本不知道自己在说什么”。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第8章　克服困难 > 位置 1877
&lt;/div>
&lt;div class="noteText">
了”。“小鸡”们的说法很有影响力，因为我们每个人的心中也都有一只“小鸡”。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第8章　克服困难 > 位置 1901
&lt;/div>
&lt;div class="noteText">
愤世者抱怨现实，而成功者分析现实。”
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_yellow">黄色&lt;/span>) &amp;#8211; 第8章　克服困难 > 位置 1914
&lt;/div>
&lt;div class="noteText">
这就是富爸爸所说的“‘我不想要’是成功的关键”这句话的真义所在。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_orange">橙色&lt;/span>) &amp;#8211; 第8章　克服困难 > 位置 1918
&lt;/div>
&lt;div class="noteText">
他们挣不到钱是因为他们选择不亏钱，他们不去分析实际情况，而只是对另一种强有力的投资工具——股票——不予理睬。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_orange">橙色&lt;/span>) &amp;#8211; 第8章　克服困难 > 位置 1959
&lt;/div>
&lt;div class="noteText">
我可付不起”这句话禁锢了你的思想，使你无法进一步思考。“我怎样才能付得起”这句话则开启了你的头脑，迫使你去思考并寻求答案。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第8章　克服困难 > 位置 2016
&lt;/div>
&lt;div class="noteText">
原因之五：傲慢。傲慢是自大和无知的结合体。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第8章　克服困难 > 位置 2022
&lt;/div>
&lt;div class="noteText">
如果你知道自己在某一问题上有所欠缺，你就应该找一位本领域的专家或是一本相关的书，马上开始教育自己。
&lt;/div>
&lt;div class="sectionHeading">
第三部分　开始行动
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第9章　开始行动 > 位置 2058
&lt;/div>
&lt;div class="noteText">
这些就是我发自内心深处的精神动力。你的动力是什么呢？
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第9章　开始行动 > 位置 2065
&lt;/div>
&lt;div class="noteText">
穷人之所以贫穷是因为他们有着不良的消费习惯。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第9章　开始行动 > 位置 2068
&lt;/div>
&lt;div class="noteText">
而且知道自己要做的就是不断获取资产——真正的资产。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第9章　开始行动 > 位置 2068
&lt;/div>
&lt;div class="noteText">
资产。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第9章　开始行动 > 位置 2083
&lt;/div>
&lt;div class="noteText">
这个研讨班只花了我 385美元，却帮助我挣回至少 200万美元。更重要的是，它为我创造了新的生活，正是这一课程使我在以后的岁月里不必再辛苦工作。我每年至少要参加两次这样的课程。
&lt;/div>
&lt;div class="noteHeading">
笔记 &amp;#8211; 第9章　开始行动 > 位置 2085
&lt;/div>
&lt;div class="noteText">
知识付费，哈哈哈哈
&lt;/div>
&lt;div class="noteHeading">
笔记 &amp;#8211; 第9章　开始行动 > 位置 2085
&lt;/div>
&lt;div class="noteText">
知识付费，哈哈哈哈
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第9章　开始行动 > 位置 2090
&lt;/div>
&lt;div class="noteText">
今天我常常会问自己，“这件事彼得·林奇会怎么做？或者唐纳德·川普、巴菲特、索罗斯又会怎么做？”
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第9章　开始行动 > 位置 2094
&lt;/div>
&lt;div class="noteText">
当某种新思想与旧有的思维方式发生冲突时，许多所谓的聪明人会本能地为自己辩护。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第9章　开始行动 > 位置 2102
&lt;/div>
&lt;div class="noteText">
3．慎重地选择朋友——关系的力量。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第9章　开始行动 > 位置 2120
&lt;/div>
&lt;div class="noteText">
我想说，在积累财富的过程中，最困难的事情莫过于坚持自己的选择而不盲目从众。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第9章　开始行动 > 位置 2133
&lt;/div>
&lt;div class="noteText">
4．掌握一种模式，然后再学习一种新的模式——快速学习的力量。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第9章　开始行动 > 位置 2143
&lt;/div>
&lt;div class="noteText">
参加了一个周末研讨班，内容是“如何购买破产的房地产”。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第9章　开始行动 > 位置 2164
&lt;/div>
&lt;div class="noteText">
现金流管理。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第9章　开始行动 > 位置 2164
&lt;/div>
&lt;div class="noteText">
人事管理。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第9章　开始行动 > 位置 2165
&lt;/div>
&lt;div class="noteText">
个人时间管理。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第9章　开始行动 > 位置 2217
&lt;/div>
&lt;div class="noteText">
一位好的经纪人不仅应该给你提供信息，还应该愿意花时间来教导你。我有几位经纪人就是这样的，其中有些人在我没钱或钱很少的时候仍在教我，所以今天我也一直任用他们。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第9章　开始行动 > 位置 2225
&lt;/div>
&lt;div class="noteText">
却不愿给经纪人支付 3％～ 7％的佣金。
&lt;/div>
&lt;div class="noteHeading">
笔记 &amp;#8211; 第9章　开始行动 > 位置 2225
&lt;/div>
&lt;div class="noteText">
寻找专业的咨询公司成立自己的公司
&lt;/div>
&lt;div class="noteHeading">
笔记 &amp;#8211; 第9章　开始行动 > 位置 2225
&lt;/div>
&lt;div class="noteText">
寻找专业的咨询公司成立自己的公司
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第9章　开始行动 > 位置 2234
&lt;/div>
&lt;div class="noteText">
要找一位很关心你的利益的经纪人。许多经纪人会花时间来教导你，那么他们可能是你得到的最好的资产。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第9章　开始行动 > 位置 2264
&lt;/div>
&lt;div class="noteText">
专注的力量。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第9章　开始行动 > 位置 2293
&lt;/div>
&lt;div class="noteText">
我和其他人一样喜欢奢侈品，差别在于有些人贷款购买奢侈品，这是一个相互攀比的陷阱。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第9章　开始行动 > 位置 2298
&lt;/div>
&lt;div class="noteText">
轻松的道路往往会越走越艰难，而艰难的道路往往会越走越轻松。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第9章　开始行动 > 位置 2307
&lt;/div>
&lt;div class="noteText">
之一。但当我们长大成人后，却失去这种模仿能力，我们失去了心中的英雄，失去了过往的单纯。
&lt;/div>
&lt;div class="noteHeading">
笔记 &amp;#8211; 第9章　开始行动 > 位置 2308
&lt;/div>
&lt;div class="noteText">
模仿英雄
&lt;/div>
&lt;div class="noteHeading">
笔记 &amp;#8211; 第9章　开始行动 > 位置 2308
&lt;/div>
&lt;div class="noteText">
模仿英雄
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第9章　开始行动 > 位置 2325
&lt;/div>
&lt;div class="noteText">
即使他缺钱，他还是会向教堂或他支持的慈善机构捐钱。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第9章　开始行动 > 位置 2326
&lt;/div>
&lt;div class="noteText">
当你感到手头“有点紧”或是想得到什么时，首先要想到给予，只有先“予”，你才能在将来取得丰厚的回报，无论金钱、微笑、爱情还是友谊都是如此。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第10章　还想要更多吗？这里有一些要做的事情 > 位置 2354
&lt;/div>
&lt;div class="noteText">
停下你手头的活儿。换句话说，就是先停下来，评估一下你的做法中哪些有效，哪些无效。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第10章　还想要更多吗？这里有一些要做的事情 > 位置 2356
&lt;/div>
&lt;div class="noteText">
寻找新的思想。为了寻找投资的灵感，我经常到书店搜寻提供独特的、与众不同的主张的书，我把它们称为模式。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第10章　还想要更多吗？这里有一些要做的事情 > 位置 2366
&lt;/div>
&lt;div class="noteText">
参加辅导班并购买相关磁带。我在报纸上寻找让我感兴趣的辅导班的广告，有许多是免费的，也有一些只收取一小笔费用。
&lt;/div>
&lt;div class="noteHeading">
标注 (&lt;span class="highlight_blue">蓝色&lt;/span>) &amp;#8211; 第10章　还想要更多吗？这里有一些要做的事情 > 位置 2388
&lt;/div>
&lt;div class="noteText">
每月在某一地区慢跑、散步或驾车 10分钟左右。
&lt;/div>
&lt;/div></description></item><item><title>Ubuntu 装机总结</title><link>https://svtter.cn/p/ubuntu-%E8%A3%85%E6%9C%BA%E6%80%BB%E7%BB%93/</link><pubDate>Tue, 19 Mar 2019 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/ubuntu-%E8%A3%85%E6%9C%BA%E6%80%BB%E7%BB%93/</guid><description>&lt;p>本以为常年 Ubuntu 装机小达人的我不会再出现重装的失败的情况，不想，竟然成功将自己的重装次数刷新到30次（仔细想想，不应该是30次，应该是50次都有了吧）。&lt;/p>
&lt;p>绝望之余，打算记录一下自己装机的心路历程。&lt;/p>
&lt;ul>
&lt;li>首先很恶心的一件事，Ubuntu 安装的时候如果网络环境不好，那么安装程序会闪退。基于 Ubuntu 的 mint 就没有这个问题。可见 Ubuntu的安装程序写的有多么不鲁棒。。（WTF）。&lt;/li>
&lt;li>再一个事情，cuda 最近（2019-03-19）安装不上了。我不知道是内核的原因，还是 header 的问题，反正就是安装不上了。我想尝试一下 runfile，看看能不能安装上，如果不能安装，那么我打算在网上找一个教程。我连 cuda 都没能装上，真不知道是哪里出了问题。&lt;/li>
&lt;li>装不上的表现是，mint 无法进入图形界面，并且键盘和鼠标都没有反应。-.- 我的天啊。&lt;/li>
&lt;li>&lt;/li>
&lt;/ul>
&lt;hr class="wp-block-separator" />
&lt;p>放弃了，真是老狗，只要安装 nvidia 驱动电脑就启动不了，闹呢，浪费这么多时间。
我也想只安装 cuda 然后直接上 docker 然后上 deepo 啊。&lt;/p>
&lt;hr class="wp-block-separator" />
&lt;p>19日晚：明天再试试自带的驱动。&lt;/p>
&lt;p>为啥重装呢？&lt;/p>
&lt;blockquote class="wp-block-quote">
&lt;p>
之前的根目录分的还是太小。分给根目录32G，然后给&lt;code>/usr/local&lt;/code>分了大概128G，但是东西都安装到 &lt;code>/usr/bin/lib&lt;/code> 下面了，索性就重装了。当然&lt;code>/home&lt;/code>是肯定分出去了的。
&lt;/p>
&lt;p>&lt;cite>&lt;br />&lt;br />&lt;/cite>&lt;/p>
&lt;/blockquote>
&lt;p>With third-party driver ( nvidia – 390 ) I finally success. ALL HAIL MINT !&lt;/p>
&lt;p>最后通过 Mint 安装了一下第三方的 nvidia 驱动，390版本，终于成功了。看来以后还是要搜索相关的博客才行了。&lt;/p>
&lt;p>Cuda 装好了，但是没有办法跑深度。这是最尴尬的。&lt;/p>
&lt;hr class="wp-block-separator" />
&lt;p>可能是 nomodeset 的问题，我尝试一下。&lt;/p>
&lt;hr class="wp-block-separator" />
&lt;p>原来是 gdm3 与 nvidia-driver-410 冲突的bug，现在已经解决了。这个问题最终是看了一篇 CSDN 博客得到的，博主查了 launchpad 里面的 bug report，做的十分不错。这也提供了一个思路，就是在排查类似问题的时候，可以首先查一下 launchpad，随后，可以根据排查错误的过程，学习更多的东西。受教了。&lt;/p></description></item><item><title>编程语言与知识基础</title><link>https://svtter.cn/p/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E4%B8%8E%E7%9F%A5%E8%AF%86%E5%9F%BA%E7%A1%80/</link><pubDate>Thu, 31 Jan 2019 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E4%B8%8E%E7%9F%A5%E8%AF%86%E5%9F%BA%E7%A1%80/</guid><description>&lt;p>随着一部分编程经验的增长，我越来越觉得，程序设计语言是在知识基础上实现应用的工具。&lt;/p>
&lt;p>最初，在我进行应用编码的时候，往往让我 stuck 的东西就是基础知识。这种基础知识，比如 WSGI，session，cookie 这些东西；以及过于焦急的学习心态。总想做出点什么，但是却没有意识到做出一个东西需要积累和时间。&lt;/p>
&lt;p>语言的重要性在于，大量的使用语言会让你更了解你所使用的，与计算机交流的方式。这个很重要。语言使我们本身就站在巨人的肩膀上处理事情。因此，专注于一门语言在最初是十分重要的，因为我想很多人像我一样急于求成，并且很难按下心来慢慢学习知识基础。&lt;/p>
&lt;p>意识到的时间似乎有点晚，但是不算太迟。我也能够花一些时间在知识基础上，使得事情解决的更加清晰。&lt;/p>
&lt;p>还有就是硬件。想象中总是很美好的，但是实际上编程过程中，若是不考虑硬件，不考虑拓扑是不可取的。这是&lt;strong>视角割裂&lt;/strong>。最近一直都在读一些软件工程方面的书，但是读的越多，越不敢说。&lt;/p>
&lt;p>潜意识里，读的越多越发现自己懂得少，害怕自己说错。&lt;/p>
&lt;p>就这些，算是给 2018 年读者的一个交代。&lt;/p></description></item><item><title>将已经运行的进程切换到后台</title><link>https://svtter.cn/p/%E5%B0%86%E5%B7%B2%E7%BB%8F%E8%BF%90%E8%A1%8C%E7%9A%84%E8%BF%9B%E7%A8%8B%E5%88%87%E6%8D%A2%E5%88%B0%E5%90%8E%E5%8F%B0/</link><pubDate>Thu, 17 Jan 2019 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%B0%86%E5%B7%B2%E7%BB%8F%E8%BF%90%E8%A1%8C%E7%9A%84%E8%BF%9B%E7%A8%8B%E5%88%87%E6%8D%A2%E5%88%B0%E5%90%8E%E5%8F%B0/</guid><description>&lt;p>之前一直都是用 screen 来后台运行 Linux 进程，但是 screen 对于已经在运行的进程就不方便处理了，这个时候怎么办呢？&lt;/p>
&lt;ul>
&lt;li>
&lt;ol start="0">
&lt;li>Run some &lt;strong>SOMECOMMAND&lt;/strong>&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>1.** ctrl+z **to stop (pause) the program and get back to the shell&lt;/li>
&lt;li>2. &lt;strong>bg&lt;/strong> to run it in the background&lt;/li>
&lt;li>3. &lt;strong>disown -h&lt;/strong> so that the process isn’t killed when the terminal closes&lt;/li>
&lt;li>
&lt;ol start="4">
&lt;li>Type **exit **to get out of the shell because now your good to go as the operation will run in the background in it own process so its not tied to a shell&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>套路摘选自下面的连接。&lt;figure class="wp-block-embed">&lt;/li>
&lt;/ul>
&lt;div class="wp-block-embed__wrapper">
https://sites.google.com/a/kossboss.com/main/linux&amp;#8212;move-running-to-process-nohup
&lt;/div>&lt;/figure>
&lt;p>这次训练直接用 bg 结果把自己的任务直接干掉了。。。「sad」。记得用 disown -h 来让任务逃离 「terminal」的控制。&lt;/p></description></item><item><title>Django tricks</title><link>https://svtter.cn/p/django-tricks/</link><pubDate>Tue, 08 Jan 2019 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/django-tricks/</guid><description>&lt;h2 id="关于-session">关于 session
&lt;/h2>&lt;p>&lt;a class="link" href="https://docs.djangoproject.com/en/2.1/_modules/django/contrib/sessions/middleware/#SessionMiddleware" target="_blank" rel="noopener"
>django.contrib.sessions.middleware | Django documentation | Django&lt;/a>&lt;/p>
&lt;p>session 是使用 cookie 来进行判断的，通过 session_cookie_name 来提取，然后通过 SessionStore() 来保存。&lt;/p>
&lt;p>因此，Django 也是通过 sessionid 来区分用户；（或者其他什么名称）。&lt;/p>
&lt;h2 id="使用-cache-作为全局变量">使用 cache 作为全局变量
&lt;/h2>&lt;p>cache.set(‘foo’, ‘bar’) # another function cache.get(‘foo’) # get ‘bar’&lt;/p>
&lt;p>使用 cache , &lt;code>django-redis&lt;/code> 是一个好方法。可以在使用 &lt;code>cache.lock&lt;/code>变量，在应用层面加锁，来完成异步操作，还可以支持分布式应用，十分方便。&lt;/p></description></item><item><title>My Keras tricks</title><link>https://svtter.cn/p/my-keras-tricks/</link><pubDate>Mon, 07 Jan 2019 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/my-keras-tricks/</guid><description>&lt;p>记录了一些使用 keras 的技巧。&lt;/p>
&lt;h2 id="categorical_crossentropy-vs-sparse_categorical_crossentropy">categorical_crossentropy vs sparse_categorical_crossentropy.
&lt;/h2>&lt;h4 id="3-the-answerin-a-nutshell">3. The Answer, In a Nutshell
&lt;/h4>&lt;ul>
&lt;li>
&lt;p>If your targets are one-hot encoded, use categorical_crossentropy.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Examples of &lt;a href="https://jovianlin.io/keras-one-hot-encode-decode-sequence-data/" target="_blank" rel="noreferrer noopener">one-hot encodings&lt;/a>:&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[1,0,0]&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[0,1,0]&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[0,0,1]&lt;/p>
&lt;/li>
&lt;li>
&lt;p>But if your targets are integers, use sparse_categorical_crossentropy.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Examples of integer encodings (&lt;em>for the sake of completion&lt;/em>):&lt;/p>
&lt;ul>
&lt;li>1, 2, 3&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="clip-norm">&lt;strong>clip norm&lt;/strong>
&lt;/h2>&lt;p style="text-align:center">
&lt;br />&lt;a rel="noreferrer noopener" href="https://wulc.me/2018/05/01/%E6%A2%AF%E5%BA%A6%E8%A3%81%E5%89%AA%E5%8F%8A%E5%85%B6%E4%BD%9C%E7%94%A8/" target="_blank">https://wulc.me/2018/05/01/%E6%A2%AF%E5%BA%A6%E8%A3%81%E5%89%AA%E5%8F%8A%E5%85%B6%E4%BD%9C%E7%94%A8/&lt;/a>&lt;br />可以加速 RNN 训练
&lt;/p>
&lt;h2 id="multiple-gpu">&lt;strong>Multiple GPU&lt;/strong>
&lt;/h2>&lt;p># &lt;a class="link" href="https://keras.io/utils/#multi" target="_blank" rel="noopener"
>https://keras.io/utils/#multi&lt;/a>_gpu_model#&lt;/p>
&lt;p>使用多GPU，注意使用 save 的时候，传参传 model (multi_gpu_model的model参数)&lt;/p>
&lt;h2 id="encode-labels">&lt;strong>Encode Labels&lt;/strong>
&lt;/h2>&lt;p>可以把不同的字符[‘aa’, ‘bb’, ‘cc’, ‘aa’] 编码成 [0, 1, 2, 0]&lt;/p>
&lt;table class="wp-block-table">
&lt;tr>
&lt;td>
1&lt;br />2&lt;br />3&lt;br />4&lt;br />5&lt;br />6
&lt;/td>
&lt;pre>&lt;code>&amp;lt;td&amp;gt;
# encode class values as integers&amp;lt;br /&amp;gt;encoder&amp;amp;nbsp;=&amp;amp;nbsp;LabelEncoder()&amp;lt;br /&amp;gt;encoder.fit(Y)&amp;lt;br /&amp;gt;encoded_Y&amp;amp;nbsp;=&amp;amp;nbsp;encoder.transform(Y)&amp;lt;br /&amp;gt;# convert integers to dummy variables (i.e. one hot encoded)&amp;lt;br /&amp;gt;dummy_y&amp;amp;nbsp;=&amp;amp;nbsp;np_utils.to_categorical(encoded_Y)
&amp;lt;/td&amp;gt;
&lt;/code>&lt;/pre>
&lt;/tr>
&lt;/table>
&lt;h2 id="训练中存在的问题">训练中存在的问题
&lt;/h2>&lt;p>训练性能低了别急着调参，首先看看数据预处理有没有问题，评价指标是不是写错了。再一个，batch norm 要勤快点加上。&lt;/p>
&lt;p>相似的文章还有：&lt;a class="link" href="https://svtter.github.io/2018/02/01/keras%e5%9d%91/" target="_blank" rel="noopener"
>https://svtter.github.io/2018/02/01/keras%e5%9d%91/&lt;/a>&lt;/p></description></item><item><title>Ubuntu 多显示器方案</title><link>https://svtter.cn/p/ubuntu-%E5%A4%9A%E6%98%BE%E7%A4%BA%E5%99%A8%E6%96%B9%E6%A1%88/</link><pubDate>Mon, 07 Jan 2019 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/ubuntu-%E5%A4%9A%E6%98%BE%E7%A4%BA%E5%99%A8%E6%96%B9%E6%A1%88/</guid><description>&lt;div>
&lt;a href="https://wiki.archlinux.org/index.php/HiDPI#Multiple_displays" target="_blank" rel="noopener" shape="rect">https://wiki.archlinux.org/index.php/HiDPI#Multiple_displays&lt;/a>
&lt;/div>
&lt;div>
&lt;/div>
&lt;div>
多显示器方案。
&lt;/div>
&lt;div>
&lt;/div>
&lt;div>
使用 `xrandr` ，输出当前存在的screen
&lt;/div>
&lt;div>
&lt;/div>
&lt;pre>Screen 0: minimum 8 x 8, current 7680 x 2160, maximum 16384 x 16384&lt;br clear="none" />DP-0 disconnected (normal left inverted right x axis y axis)&lt;br clear="none" />DP-1 disconnected (normal left inverted right x axis y axis)&lt;br clear="none" />DP-2 disconnected (normal left inverted right x axis y axis)&lt;br clear="none" />DP-3 connected 3840x2160+3840+0 (normal left inverted right x axis y axis) 510mm x 287mm&lt;br clear="none" />1920x1080 59.93*+ 59.94 &lt;br clear="none" />1680x1050 59.95 &lt;br clear="none" />1600x900 75.00 60.00 &lt;br clear="none" />1440x900 59.89 &lt;br clear="none" />1280x1024 75.02 70.00 60.02 &lt;br clear="none" />1280x720 59.94 &lt;br clear="none" />1152x864 75.00 &lt;br clear="none" />1024x768 75.03 70.07 60.00 &lt;br clear="none" />800x600 75.00 72.19 60.32 56.25 &lt;br clear="none" />720x480 59.94 59.94 &lt;br clear="none" />640x480 75.00 72.81 59.94 &lt;br clear="none" />DP-4 disconnected (normal left inverted right x axis y axis)&lt;br clear="none" />DP-5 disconnected (normal left inverted right x axis y axis)&lt;br clear="none" />eDP-1-1 connected primary 3840x2160+0+0 (normal left inverted right x axis y axis) 380mm x 210mm&lt;br clear="none" />3840x2160 60.00*+ 59.97&lt;/pre>
&lt;div>
找到命运的显示器，然后输入
&lt;/div>
&lt;div>
&lt;/div>
&lt;pre>xrandr --output eDP-1-1 --auto --output DP-3 --auto --scale 2x2 --right-of eDP-1-1&lt;/pre>
&lt;div>
问题解决。
&lt;/div>
&lt;div>
&lt;/div>
&lt;div>
&amp;#8212;-
&lt;/div>
&lt;div>
&lt;/div>
&lt;div>
2019-01-19 补充
&lt;/div>
&lt;div>
&lt;/div>
&lt;div>
不怎么 work，总是闪屏。。
&lt;/div></description></item><item><title>为你的 Docker 项目集成 ELK</title><link>https://svtter.cn/p/%E4%B8%BA%E4%BD%A0%E7%9A%84-docker-%E9%A1%B9%E7%9B%AE%E9%9B%86%E6%88%90-elk/</link><pubDate>Fri, 04 Jan 2019 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E4%B8%BA%E4%BD%A0%E7%9A%84-docker-%E9%A1%B9%E7%9B%AE%E9%9B%86%E6%88%90-elk/</guid><description>&lt;p>&lt;a class="link" href="https://github.com/twtrubiks/docker-elk-tutorial" target="_blank" rel="noopener"
>https://github.com/twtrubiks/docker-elk-tutorial&lt;/a>&lt;/p>
&lt;p>基本上按照这个配置就可以了，创建 @timestamp 这一步，可以用如下脚本替代 Postman&lt;/p>
&lt;pre>$ &lt;span class="pl-s1">curl -XPOST -D- &lt;span class="pl-s">&lt;span class="pl-pds">'&lt;/span>http://localhost:5601/api/saved_objects/index-pattern&lt;span class="pl-pds">'&lt;/span>&lt;/span> \&lt;/span>
&lt;span class="pl-c1"> -H 'Content-Type: application/json' \&lt;/span>
&lt;span class="pl-c1"> -H 'kbn-version: 6.5.4' \&lt;/span>
&lt;span class="pl-c1"> -d '{"attributes":{"title":"logstash-*","timeFieldName":"@timestamp"}}'&lt;/span>&lt;/pre>
&lt;p>这也是 tutorials 中，使用的 ELK images 给出的。&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/deviantony/docker-elk" target="_blank" rel="noopener"
>https://github.com/deviantony/docker-elk&lt;/a>&lt;/p>
&lt;h2 id="elk-是什么">ELK 是什么？
&lt;/h2>&lt;p>以下内容摘自 &lt;a href="https://www.cnblogs.com/soar1688/p/6849183.html" target="_blank" rel="noopener">soar1688的博客&lt;/a>&lt;/p>
&lt;p>ELK 由 Elasticsearch、Logstash 和 Kibana 三部分组件组成；&lt;/p>
&lt;p>Elasticsearch 是个开源分布式搜索引擎，它的特点有：分布式，零配置，自动发现，索引自动分片，索引副本机制，restful 风格接口，多数据源，自动搜索负载等。&lt;/p>
&lt;p>Logstash 是一个完全开源的工具，它可以对你的日志进行收集、分析，并将其存储供以后使用&lt;/p>
&lt;p>kibana 是一个开源和免费的工具，它可以为 Logstash 和 ElasticSearch 提供的日志分析友好的 Web 界面，可以帮助您汇总、分析和搜索重要数据日志。&lt;/p>
&lt;p>2、四大组件&lt;/p>
&lt;p>Logstash: logstash server 端用来搜集日志；&lt;/p>
&lt;p>Elasticsearch: 存储各类日志；&lt;/p>
&lt;p>Kibana: web 化接口用作查寻和可视化日志；&lt;/p>
&lt;p>Logstash Forwarder: logstash client 端用来通过 lumberjack 网络协议发送日志到 logstash server；&lt;/p>
&lt;h2 id="还可参考">还可参考
&lt;/h2>&lt;p>– https://www.codementor.io/samueljames/using-django-with-elasticsearch-logstash-and-kibana-elk-stack-9l4fwx138&lt;/p></description></item><item><title>我应该学哪个深度学习框架？</title><link>https://svtter.cn/p/%E6%88%91%E5%BA%94%E8%AF%A5%E5%AD%A6%E5%93%AA%E4%B8%AA%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E6%A1%86%E6%9E%B6/</link><pubDate>Wed, 02 Jan 2019 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E6%88%91%E5%BA%94%E8%AF%A5%E5%AD%A6%E5%93%AA%E4%B8%AA%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E6%A1%86%E6%9E%B6/</guid><description>&lt;img src="https://i0.wp.com/ws1.sinaimg.cn/large/c53b1907ly1fysk81yoinj21wa0zgael.jpg?w=625&amp;#038;ssl=1" data-recalc-dims="1" />
&lt;p>答案似乎显然意见 😉&lt;/p></description></item><item><title>使用 beego 一键生成 API</title><link>https://svtter.cn/p/%E4%BD%BF%E7%94%A8-beego-%E4%B8%80%E9%94%AE%E7%94%9F%E6%88%90-api/</link><pubDate>Fri, 28 Dec 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E4%BD%BF%E7%94%A8-beego-%E4%B8%80%E9%94%AE%E7%94%9F%E6%88%90-api/</guid><description>&lt;p>首先要吐槽一点：beego 的文档对于新手实在是太不友好了。&lt;/p>
&lt;p>beego 的官方文档会出现一些问题，比如 tutorials 里面，应该是 &lt;code>beego run&lt;/code> 而不是 &lt;code>beego run hello&lt;/code>。&lt;/p>
&lt;h2 id="beego-是啥">beego 是啥
&lt;/h2>&lt;p>beego 是 golang 的一个 web 开发框架，集成了不少远 golang 没有的有价值的函数，对于快速开发高性能的 go 应用有不少帮助。&lt;/p>
&lt;p>如果想开发简单的 go 应用，其实可以不使用 golang 框架，因为 go 本身就定义为云计算时代 C 语言，很多功能其实以及包含了，没有必要学习一个框架给自己增加不必要的麻烦。&lt;/p>
&lt;h2 id="生成-api-以及相关代码">生成 API 以及相关代码
&lt;/h2>&lt;p>beego 生成数据库相关的 API 十分简单，对于一些很简单的站可以很简单粗暴。首先，设计好数据库表：通过 adminer，或者 phpmy* 这些类似的东西都可以设计。如果想做的专业一点，可以用更酷的东西，比如 Powerdesigner 等。但是一般情况下，我想没人搞得这么麻烦。&lt;/p>
&lt;p>&lt;code>bee api orm_test -driver=mysql -conn=&amp;quot;root:example@/orm_ets?charset=utf8&amp;quot;&lt;/code>&lt;/p>
&lt;p>运行这个命令，将会生成一个项目，里面包含&lt;code>orm_test&lt;/code>的所有 Model。&lt;/p>
&lt;h2 id="生成文档">生成文档
&lt;/h2>&lt;p>调用 &lt;code>bee run -gendoc=true -downdoc=true&lt;/code>&lt;/p>
&lt;h2 id="参考">参考&lt;figure class="wp-block-embed is-type-rich is-provider-嵌入处理程序">
&lt;/h2>&lt;div class="wp-block-embed__wrapper">
https://blog.csdn.net/freewebsys/article/details/69486943
&lt;/div>&lt;/figure></description></item><item><title>手把手教你搭建 vue-cli﻿</title><link>https://svtter.cn/p/%E6%89%8B%E6%8A%8A%E6%89%8B%E6%95%99%E4%BD%A0%E6%90%AD%E5%BB%BA-vue-cli/</link><pubDate>Fri, 28 Dec 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E6%89%8B%E6%8A%8A%E6%89%8B%E6%95%99%E4%BD%A0%E6%90%AD%E5%BB%BA-vue-cli/</guid><description>&lt;p>&lt;code>vuejs&lt;/code> 这东西，实不相瞒，学习了很长时间，从看文档到使用，大概有一年的时间。当然，其实上手没有那么难，&lt;code>&amp;lt;script src=&amp;quot;vue.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;&lt;/code>这样就搞定了。只是想要用的比较优雅，存在一定的难度。&lt;/p>
&lt;p>但是硬核玩家肯定不能止步于此。于是就开始了&lt;code>vue-cli&lt;/code>的探究。没想到这个探究如此之长，以至于我在很长一段时间内，都没有正儿八经的写过前端。&lt;/p>
&lt;h2 id="安装-nodejs">安装 nodejs
&lt;/h2>&lt;p>首先第一步，在&lt;code>ubuntu&lt;/code>下安装nodejs。Ubuntu自带的vuejs版本说不过去，版本有些老旧，而且安装相关的包很不方便，需要sudo什么的。因此，建议直接从官网下载。&lt;/p>
&lt;p>从官网下载，直接解压的到&lt;code>~/Application/nodejs&lt;/code>下面即可。（笔者习惯将已经安装好的软件放在&lt;code>$HOME/Application&lt;/code>这个文件夹下面。）然后，将&lt;code>nodejs&lt;/code>的执行路径加入到 shell 的运行路径中。&lt;/p>
&lt;p>&lt;code>export PATH=$HOME/Application/nodejs:$PATH&lt;/code>&lt;/p>
&lt;p>如此一来，就把nodejs安装上了。&lt;/p>
&lt;h2 id="安装-vue-cli">安装 vue-cli
&lt;/h2>&lt;p>国内的话最好是先走一下 taobao 的 npm 镜像（同理，其他的技术软件都可以走镜像，土豪公司vpn请无视）。&lt;/p>
&lt;pre>yarn global add vue-cli&lt;/pre>
&lt;p>安装好 vue-cli 以后，就可以开始你的编程之路了。&lt;/p>
&lt;p>首先，创建一个 vue 项目&lt;/p>
&lt;p>（挖坑待续）&lt;/p></description></item><item><title>迁移 Django Model id 为 uuid</title><link>https://svtter.cn/p/%E8%BF%81%E7%A7%BB-django-model-id-%E4%B8%BA-uuid/</link><pubDate>Thu, 06 Dec 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E8%BF%81%E7%A7%BB-django-model-id-%E4%B8%BA-uuid/</guid><description>&lt;blockquote>
&lt;p>&lt;a class="link" href="https://www.klette.us/migrate-django-models-to-uuid-primary-key/" target="_blank" rel="noopener"
>https://www.klette.us/migrate-django-models-to-uuid-primary-key/&lt;/a>&lt;/p>
&lt;p>又是一篇渣翻&lt;/p>&lt;/blockquote>
&lt;p>老设计决策有时候会让你很难受，下面就是一个例子。&lt;/p>
&lt;p>我手上的一个 Django Model 是这样的：&lt;/p>
&lt;pre>&lt;code class=" language-python">&amp;lt;span class="token keyword">class&amp;lt;/span> &amp;lt;span class="token class-name">Municipality&amp;lt;/span>&amp;lt;span class="token punctuation">(&amp;lt;/span>models&amp;lt;span class="token punctuation">.&amp;lt;/span>Model&amp;lt;span class="token punctuation">)&amp;lt;/span>&amp;lt;span class="token punctuation">:&amp;lt;/span>
code &amp;lt;span class="token operator">=&amp;lt;/span> models&amp;lt;span class="token punctuation">.&amp;lt;/span>CharField&amp;lt;span class="token punctuation">(&amp;lt;/span>max_length&amp;lt;span class="token operator">=&amp;lt;/span>&amp;lt;span class="token number">2&amp;lt;/span>&amp;lt;span class="token punctuation">,&amp;lt;/span> primary_key&amp;lt;span class="token operator">=&amp;lt;/span>&amp;lt;span class="token boolean">True&amp;lt;/span>&amp;lt;span class="token punctuation">)&amp;lt;/span>
name &amp;lt;span class="token operator">=&amp;lt;/span> models&amp;lt;span class="token punctuation">.&amp;lt;/span>CharField&amp;lt;span class="token punctuation">(&amp;lt;/span>max_length&amp;lt;span class="token operator">=&amp;lt;/span>&amp;lt;span class="token number">100&amp;lt;/span>&amp;lt;span class="token punctuation">)&amp;lt;/span>&lt;/code>&lt;/pre>
&lt;p>此外，还有一个外键指向它&lt;/p>
&lt;pre class=" language-python">&lt;code class=" language-python">&amp;lt;span class="token keyword">class&amp;lt;/span> &amp;lt;span class="token class-name">ZipCode&amp;lt;/span>&amp;lt;span class="token punctuation">(&amp;lt;/span>models&amp;lt;span class="token punctuation">.&amp;lt;/span>Model&amp;lt;span class="token punctuation">)&amp;lt;/span>&amp;lt;span class="token punctuation">:&amp;lt;/span>
code &amp;lt;span class="token operator">=&amp;lt;/span> models&amp;lt;span class="token punctuation">.&amp;lt;/span>CharField&amp;lt;span class="token punctuation">(&amp;lt;/span>max_length&amp;lt;span class="token operator">=&amp;lt;/span>&amp;lt;span class="token number">2&amp;lt;/span>&amp;lt;span class="token punctuation">,&amp;lt;/span> primary_key&amp;lt;span class="token operator">=&amp;lt;/span>&amp;lt;span class="token boolean">True&amp;lt;/span>&amp;lt;span class="token punctuation">)&amp;lt;/span>
municipality &amp;lt;span class="token operator">=&amp;lt;/span> models&amp;lt;span class="token punctuation">.&amp;lt;/span>ForeignKey&amp;lt;span class="token punctuation">(&amp;lt;/span>Municipality&amp;lt;span class="token punctuation">)&amp;lt;/span>&lt;/code>&lt;/pre>
&lt;p>现在，我们需要让 municipality 支持多个国家，显然一个唯一 field 将会引起冲突，不够用。（译者：这个理由有点牵强）&lt;/p>
&lt;p>对于所有代码的现代部分，我们使用&lt;code>UUID&lt;/code>作为主键。所以我们想要 migrate &lt;code>municaipality&lt;/code>的主键到&lt;code>UUID&lt;/code>，并且维持了原有的关系。（译者：外键和自增主键都是数据库性能的杀手。）&lt;/p>
&lt;p>2017年9月份，Django 依然不支持优雅的迁移主键，所以我们自己做了（译者：我也不知道现在行不行。）&lt;/p>
&lt;p>我们尝试了许多 magic 解决方案，但是我们在 migrations 系统这个被难住了，并且不能检测以及很好的处理改变。&lt;/p>
&lt;p>在经过一小段研究和错误，我们找到了以下的解决方案。尽管这还有一些小问题，但是的确有效。&lt;/p>
&lt;p>再一次提醒，从数据库的角度，当你定义了一个&lt;code>ForeignKey&lt;/code> field 在 Django 中，Django将会创建一个数据库列，是同样的类型，作为 referenced model 的主键，并且增加外键约束。所以在上面的例子中，我们有两个表：&lt;/p>
&lt;pre class=" language-sql">&lt;code class=" language-sql">&amp;lt;span class="token keyword">CREATE&amp;lt;/span> &amp;lt;span class="token keyword">TABLE&amp;lt;/span> municipality &amp;lt;span class="token punctuation">(&amp;lt;/span>
code &amp;lt;span class="token keyword">varchar&amp;lt;/span>&amp;lt;span class="token punctuation">(&amp;lt;/span>&amp;lt;span class="token number">2&amp;lt;/span>&amp;lt;span class="token punctuation">)&amp;lt;/span> &amp;lt;span class="token keyword">PRIMARY&amp;lt;/span> &amp;lt;span class="token keyword">KEY&amp;lt;/span> &amp;lt;span class="token operator">NOT&amp;lt;/span> &amp;lt;span class="token boolean">NULL&amp;lt;/span>&amp;lt;span class="token punctuation">,&amp;lt;/span>
name &amp;lt;span class="token keyword">varchar&amp;lt;/span>&amp;lt;span class="token punctuation">(&amp;lt;/span>&amp;lt;span class="token number">100&amp;lt;/span>&amp;lt;span class="token punctuation">)&amp;lt;/span>
&amp;lt;span class="token punctuation">)&amp;lt;/span>&amp;lt;span class="token punctuation">;&amp;lt;/span>
&amp;lt;span class="token keyword">CREATE&amp;lt;/span> &amp;lt;span class="token keyword">TABLE&amp;lt;/span> zipcode &amp;lt;span class="token punctuation">(&amp;lt;/span>
code &amp;lt;span class="token keyword">varchar&amp;lt;/span>&amp;lt;span class="token punctuation">(&amp;lt;/span>&amp;lt;span class="token number">2&amp;lt;/span>&amp;lt;span class="token punctuation">)&amp;lt;/span> &amp;lt;span class="token keyword">PRIMARY&amp;lt;/span> &amp;lt;span class="token keyword">KEY&amp;lt;/span> &amp;lt;span class="token operator">NOT&amp;lt;/span> &amp;lt;span class="token boolean">NULL&amp;lt;/span>&amp;lt;span class="token punctuation">,&amp;lt;/span>
municipality_id &amp;lt;span class="token keyword">VARCHAR&amp;lt;/span>&amp;lt;span class="token punctuation">(&amp;lt;/span>&amp;lt;span class="token number">2&amp;lt;/span>&amp;lt;span class="token punctuation">)&amp;lt;/span> &amp;lt;span class="token keyword">REFERENCES&amp;lt;/span>&amp;lt;span class="token punctuation">(&amp;lt;/span>municipality&amp;lt;span class="token punctuation">.&amp;lt;/span>id&amp;lt;span class="token punctuation">)&amp;lt;/span> &amp;lt;span class="token operator">NOT&amp;lt;/span> &amp;lt;span class="token boolean">NULL&amp;lt;/span>
&amp;lt;span class="token punctuation">)&amp;lt;/span>&amp;lt;span class="token punctuation">;&amp;lt;/span>&lt;/code>&lt;/pre>
&lt;p>所以我们需要解除外键约束，更换 root model，然后映射新的主键到旧的上，并且重新应用外键到上面去。&lt;/p>
&lt;p>我们首先打破外键&lt;/p>
&lt;pre class=" language-python">&lt;code class=" language-python">&amp;lt;span class="token keyword">class&amp;lt;/span> &amp;lt;span class="token class-name">ZipCode&amp;lt;/span>&amp;lt;span class="token punctuation">(&amp;lt;/span>models&amp;lt;span class="token punctuation">.&amp;lt;/span>Model&amp;lt;span class="token punctuation">)&amp;lt;/span>&amp;lt;span class="token punctuation">:&amp;lt;/span>
code &amp;lt;span class="token operator">=&amp;lt;/span> &amp;lt;span class="token punctuation">.&amp;lt;/span>&amp;lt;span class="token punctuation">.&amp;lt;/span>&amp;lt;span class="token punctuation">.&amp;lt;/span> &amp;lt;span class="token comment" spellcheck="true"># Same as before&amp;lt;/span>
municipality &amp;lt;span class="token operator">=&amp;lt;/span> models&amp;lt;span class="token punctuation">.&amp;lt;/span>CharField&amp;lt;span class="token punctuation">(&amp;lt;/span>max_length&amp;lt;span class="token operator">=&amp;lt;/span>&amp;lt;span class="token number">2&amp;lt;/span>&amp;lt;span class="token punctuation">)&amp;lt;/span>
&lt;/code>&lt;/pre>
&lt;pre class=" language-sh">&lt;code>python manage.py makemigrations -n break_zipcode_muni_foreignkey&lt;/code>&lt;/pre>
&lt;p>现在，·Municipality·modle 没有被任何外键所 refer，我们可以在上面进行工作了。&lt;/p>
&lt;p>增加一个新的 id field：&lt;/p>
&lt;pre class=" language-python">&lt;code class=" language-python">&amp;lt;span class="token keyword">class&amp;lt;/span> &amp;lt;span class="token class-name">Municipality&amp;lt;/span>&amp;lt;span class="token punctuation">(&amp;lt;/span>models&amp;lt;span class="token punctuation">.&amp;lt;/span>Model&amp;lt;span class="token punctuation">)&amp;lt;/span>&amp;lt;span class="token punctuation">:&amp;lt;/span>
id &amp;lt;span class="token operator">=&amp;lt;/span> models&amp;lt;span class="token punctuation">.&amp;lt;/span>UUIDField&amp;lt;span class="token punctuation">(&amp;lt;/span>default&amp;lt;span class="token operator">=&amp;lt;/span>uuid&amp;lt;span class="token punctuation">.&amp;lt;/span>uuid4&amp;lt;span class="token punctuation">)&amp;lt;/span>
&lt;/code>&lt;/pre>
&lt;pre class=" language-sh">&lt;code>python manage.py makemigrations -n add_id_field_to_muni&lt;/code>&lt;/pre>
&lt;p>处于某些原因，默认值在我的案例中不 work，所以我增加了一个过程到创建的 migration，来创建新的唯一 id。&lt;/p>
&lt;pre class=" language-python">&lt;code class=" language-python">&amp;lt;span class="token keyword">def&amp;lt;/span> &amp;lt;span class="token function">create_ids&amp;lt;/span>&amp;lt;span class="token punctuation">(&amp;lt;/span>apps&amp;lt;span class="token punctuation">,&amp;lt;/span> schema_editor&amp;lt;span class="token punctuation">)&amp;lt;/span>&amp;lt;span class="token punctuation">:&amp;lt;/span>
Municipality &amp;lt;span class="token operator">=&amp;lt;/span> apps&amp;lt;span class="token punctuation">.&amp;lt;/span>get_model&amp;lt;span class="token punctuation">(&amp;lt;/span>&amp;lt;span class="token string">'loc'&amp;lt;/span>&amp;lt;span class="token punctuation">,&amp;lt;/span> &amp;lt;span class="token string">'Municipality'&amp;lt;/span>&amp;lt;span class="token punctuation">)&amp;lt;/span>
&amp;lt;span class="token keyword">for&amp;lt;/span> m &amp;lt;span class="token keyword">in&amp;lt;/span> municipality&amp;lt;span class="token punctuation">:&amp;lt;/span>
m&amp;lt;span class="token punctuation">.&amp;lt;/span>id &amp;lt;span class="token operator">=&amp;lt;/span> uuid&amp;lt;span class="token punctuation">.&amp;lt;/span>uuid4&amp;lt;span class="token punctuation">(&amp;lt;/span>&amp;lt;span class="token punctuation">)&amp;lt;/span>
m&amp;lt;span class="token punctuation">.&amp;lt;/span>save&amp;lt;span class="token punctuation">(&amp;lt;/span>&amp;lt;span class="token punctuation">)&amp;lt;/span>
&amp;lt;span class="token comment" spellcheck="true"># ...&amp;lt;/span>
operations &amp;lt;span class="token operator">=&amp;lt;/span> &amp;lt;span class="token punctuation">[&amp;lt;/span>
migrations&amp;lt;span class="token punctuation">.&amp;lt;/span>AddField&amp;lt;span class="token punctuation">(&amp;lt;/span>&amp;lt;span class="token punctuation">.&amp;lt;/span>&amp;lt;span class="token punctuation">.&amp;lt;/span>&amp;lt;span class="token punctuation">.&amp;lt;/span>&amp;lt;span class="token punctuation">)&amp;lt;/span>&amp;lt;span class="token punctuation">,&amp;lt;/span>
migrations&amp;lt;span class="token punctuation">.&amp;lt;/span>RunPython&amp;lt;span class="token punctuation">(&amp;lt;/span>code&amp;lt;span class="token operator">=&amp;lt;/span>create_ids&amp;lt;span class="token punctuation">)&amp;lt;/span>&amp;lt;span class="token punctuation">,&amp;lt;/span>
&amp;lt;span class="token punctuation">]&amp;lt;/span>&lt;/code>&lt;/pre>
&lt;p>现在我们有一个&lt;code>UUID&lt;/code> ·id·field 在·Municipality 中，然后我们应该可以更换主键了。&lt;/p>
&lt;pre class=" language-python">&lt;code class=" language-python">&amp;lt;span class="token keyword">class&amp;lt;/span> &amp;lt;span class="token class-name">Municipality&amp;lt;/span>&amp;lt;span class="token punctuation">(&amp;lt;/span>models&amp;lt;span class="token punctuation">.&amp;lt;/span>Model&amp;lt;span class="token punctuation">)&amp;lt;/span>&amp;lt;span class="token punctuation">:&amp;lt;/span>
id &amp;lt;span class="token operator">=&amp;lt;/span> models&amp;lt;span class="token punctuation">.&amp;lt;/span>UUIDField&amp;lt;span class="token punctuation">(&amp;lt;/span>default&amp;lt;span class="token operator">=&amp;lt;/span>uuid&amp;lt;span class="token punctuation">.&amp;lt;/span>uuid4&amp;lt;span class="token punctuation">,&amp;lt;/span> primary_key&amp;lt;span class="token operator">=&amp;lt;/span>&amp;lt;span class="token boolean">True&amp;lt;/span>&amp;lt;span class="token punctuation">)&amp;lt;/span>
code &amp;lt;span class="token operator">=&amp;lt;/span> models&amp;lt;span class="token punctuation">.&amp;lt;/span>CharField&amp;lt;span class="token punctuation">(&amp;lt;/span>max_length&amp;lt;span class="token operator">=&amp;lt;/span>&amp;lt;span class="token number">2&amp;lt;/span>&amp;lt;span class="token punctuation">,&amp;lt;/span> unique&amp;lt;span class="token operator">=&amp;lt;/span>&amp;lt;span class="token boolean">True&amp;lt;/span>&amp;lt;span class="token punctuation">)&amp;lt;/span>&lt;/code>&lt;/pre>
&lt;p>创建 migration，并且确保在&lt;code>code&lt;/code>上的&lt;code>AlterField&lt;/code>操作在&lt;code>id&lt;/code>之前。我们已经在&lt;code>id&lt;/code>上增加了&lt;code>primary_key&lt;/code>并且增加了 unique=True 到&lt;code>code&lt;/code> field。constraint 没了，在我们删除 primary_key 的时候就没了。&lt;/p>
&lt;p>让我们开始一个空的迁移&lt;/p>
&lt;pre class=" language-sh">&lt;code>python manage.py makemigrations --empty -n fix_zipcode_fk_to_muni_uuid loc&lt;/code>&lt;/pre>
&lt;p>打开文件，输入&lt;/p>
&lt;pre class=" language-python">&lt;code class=" language-python">&amp;lt;span class="token keyword">def&amp;lt;/span> &amp;lt;span class="token function">match&amp;lt;/span>&amp;lt;span class="token punctuation">(&amp;lt;/span>apps&amp;lt;span class="token punctuation">,&amp;lt;/span> schema_editor&amp;lt;span class="token punctuation">)&amp;lt;/span>&amp;lt;span class="token punctuation">:&amp;lt;/span>
ZipCode &amp;lt;span class="token operator">=&amp;lt;/span> apps&amp;lt;span class="token punctuation">.&amp;lt;/span>get_model&amp;lt;span class="token punctuation">(&amp;lt;/span>&amp;lt;span class="token string">'loc'&amp;lt;/span>&amp;lt;span class="token punctuation">,&amp;lt;/span> &amp;lt;span class="token string">'ZipCode'&amp;lt;/span>&amp;lt;span class="token punctuation">)&amp;lt;/span>
Muni &amp;lt;span class="token operator">=&amp;lt;/span> apps&amp;lt;span class="token punctuation">.&amp;lt;/span>get_model&amp;lt;span class="token punctuation">(&amp;lt;/span>&amp;lt;span class="token string">'loc'&amp;lt;/span>&amp;lt;span class="token punctuation">,&amp;lt;/span> &amp;lt;span class="token string">'Municipality'&amp;lt;/span>&amp;lt;span class="token punctuation">)&amp;lt;/span>
&amp;lt;span class="token keyword">for&amp;lt;/span> zip_code &amp;lt;span class="token keyword">in&amp;lt;/span> ZipCode&amp;lt;span class="token punctuation">.&amp;lt;/span>object&amp;lt;span class="token punctuation">.&amp;lt;/span>all&amp;lt;span class="token punctuation">(&amp;lt;/span>&amp;lt;span class="token punctuation">)&amp;lt;/span>&amp;lt;span class="token punctuation">:&amp;lt;/span>
zip_code&amp;lt;span class="token punctuation">.&amp;lt;/span>temp_muni &amp;lt;span class="token operator">=&amp;lt;/span> Muni&amp;lt;span class="token punctuation">.&amp;lt;/span>get&amp;lt;span class="token punctuation">(&amp;lt;/span>code&amp;lt;span class="token operator">=&amp;lt;/span>z&amp;lt;span class="token punctuation">.&amp;lt;/span>municipality&amp;lt;span class="token punctuation">)&amp;lt;/span>
zip_code&amp;lt;span class="token punctuation">.&amp;lt;/span>save&amp;lt;span class="token punctuation">(&amp;lt;/span>&amp;lt;span class="token punctuation">)&amp;lt;/span>
&amp;lt;span class="token comment" spellcheck="true"># ...&amp;lt;/span>
operations &amp;lt;span class="token operator">=&amp;lt;/span> &amp;lt;span class="token punctuation">[&amp;lt;/span>
migrations&amp;lt;span class="token punctuation">.&amp;lt;/span>AddField&amp;lt;span class="token punctuation">(&amp;lt;/span>
model_name&amp;lt;span class="token operator">=&amp;lt;/span>&amp;lt;span class="token string">'zipcode'&amp;lt;/span>&amp;lt;span class="token punctuation">,&amp;lt;/span>
name&amp;lt;span class="token operator">=&amp;lt;/span>&amp;lt;span class="token string">'temp_muni'&amp;lt;/span>&amp;lt;span class="token punctuation">,&amp;lt;/span>
field&amp;lt;span class="token operator">=&amp;lt;/span>models&amp;lt;span class="token punctuation">.&amp;lt;/span>UUIDField&amp;lt;span class="token punctuation">(&amp;lt;/span>null&amp;lt;span class="token operator">=&amp;lt;/span>&amp;lt;span class="token boolean">True&amp;lt;/span>&amp;lt;span class="token punctuation">)&amp;lt;/span>&amp;lt;span class="token punctuation">,&amp;lt;/span>
&amp;lt;span class="token punctuation">)&amp;lt;/span>&amp;lt;span class="token punctuation">,&amp;lt;/span>
migrations&amp;lt;span class="token punctuation">.&amp;lt;/span>RunPython&amp;lt;span class="token punctuation">(&amp;lt;/span>code&amp;lt;span class="token operator">=&amp;lt;/span>match&amp;lt;span class="token punctuation">)&amp;lt;/span>&amp;lt;span class="token punctuation">,&amp;lt;/span>
migrations&amp;lt;span class="token punctuation">.&amp;lt;/span>RemoveField&amp;lt;span class="token punctuation">(&amp;lt;/span>model_name&amp;lt;span class="token operator">=&amp;lt;/span>&amp;lt;span class="token string">'zipcode'&amp;lt;/span>&amp;lt;span class="token punctuation">,&amp;lt;/span> name&amp;lt;span class="token operator">=&amp;lt;/span>&amp;lt;span class="token string">'municipality'&amp;lt;/span>&amp;lt;span class="token punctuation">)&amp;lt;/span>&amp;lt;span class="token punctuation">,&amp;lt;/span>
migrations&amp;lt;span class="token punctuation">.&amp;lt;/span>RenameField&amp;lt;span class="token punctuation">(&amp;lt;/span>
model_name&amp;lt;span class="token operator">=&amp;lt;/span>&amp;lt;span class="token string">'zipcode'&amp;lt;/span>&amp;lt;span class="token punctuation">,&amp;lt;/span> old_name&amp;lt;span class="token operator">=&amp;lt;/span>&amp;lt;span class="token string">'temp_muni'&amp;lt;/span>&amp;lt;span class="token punctuation">,&amp;lt;/span> new_name&amp;lt;span class="token operator">=&amp;lt;/span>&amp;lt;span class="token string">'municipality'&amp;lt;/span>&amp;lt;span class="token punctuation">)&amp;lt;/span>&amp;lt;span class="token punctuation">,&amp;lt;/span>
migrations&amp;lt;span class="token punctuation">.&amp;lt;/span>AlterField&amp;lt;span class="token punctuation">(&amp;lt;/span>
model_name&amp;lt;span class="token operator">=&amp;lt;/span>&amp;lt;span class="token string">'zipcode'&amp;lt;/span>&amp;lt;span class="token punctuation">,&amp;lt;/span>
name&amp;lt;span class="token operator">=&amp;lt;/span>&amp;lt;span class="token string">'municipality'&amp;lt;/span>&amp;lt;span class="token punctuation">,&amp;lt;/span>
field&amp;lt;span class="token operator">=&amp;lt;/span>models&amp;lt;span class="token punctuation">.&amp;lt;/span>ForeignKey&amp;lt;span class="token punctuation">(&amp;lt;/span>
on_delete&amp;lt;span class="token operator">=&amp;lt;/span>django&amp;lt;span class="token punctuation">.&amp;lt;/span>db&amp;lt;span class="token punctuation">.&amp;lt;/span>models&amp;lt;span class="token punctuation">.&amp;lt;/span>deletion&amp;lt;span class="token punctuation">.&amp;lt;/span>PROTECT&amp;lt;span class="token punctuation">,&amp;lt;/span>
to&amp;lt;span class="token operator">=&amp;lt;/span>&amp;lt;span class="token string">'municipality'&amp;lt;/span>&amp;lt;span class="token punctuation">)&amp;lt;/span>
&amp;lt;span class="token punctuation">]&amp;lt;/span>&lt;/code>&lt;/pre>
&lt;ol>
&lt;li>增加一个临时的field来保存 Municipality 的UUID，我们不让他是一个&lt;code>ForeignKey&lt;/code>field，否则 Django confuse。&lt;/li>
&lt;li>我们运行 match 函数来寻找新的 id，通过寻找旧的 key，并且存储到临时的 field。&lt;/li>
&lt;li>删除旧的 municipality field&lt;/li>
&lt;li>重命名临时 field 到 municipality&lt;/li>
&lt;li>最后迁移到一个外键，然后创建我们需要 constraint&lt;/li>
&lt;/ol>
&lt;pre>译者：这样改最大的好处就是改了 UUID，但是没有破坏之前的逻辑，可以说是谨慎的迁移吧。不过线上的数据既然在跑着，就这么迁移了，会不会出问题呢。&lt;/pre>
&lt;p>下面还有一些内容。自从我们将 migrations 分离成多个文件，我们让代码变得很脆弱（如果后面的某些 migrations 失败了）。这将会让我们的应用进入一个 unworkable 的状态。所以确保测试一下migrations。你可通过手工把这所有的步骤整合到一个migration里，但是如果你有来自多个不同app的 reference，你可能需要把这些步骤再分开。&lt;/p>
&lt;h2 id="logging">logging
&lt;/h2>&lt;p>迁移的过程中，你可能遇到很多问题，所以一个比较不错的方式，是创建一个简单的迁移 logging。&lt;/p>
&lt;pre class=" language-python">&lt;code class=" language-python">&amp;lt;span class="token keyword">def&amp;lt;/span> &amp;lt;span class="token function">log&amp;lt;/span>&amp;lt;span class="token punctuation">(&amp;lt;/span>message&amp;lt;span class="token punctuation">)&amp;lt;/span>&amp;lt;span class="token punctuation">:&amp;lt;/span>
&amp;lt;span class="token keyword">def&amp;lt;/span> &amp;lt;span class="token function">fake_op&amp;lt;/span>&amp;lt;span class="token punctuation">(&amp;lt;/span>apps&amp;lt;span class="token punctuation">,&amp;lt;/span> schema_editor&amp;lt;span class="token punctuation">)&amp;lt;/span>&amp;lt;span class="token punctuation">:&amp;lt;/span>
&amp;lt;span class="token keyword">print&amp;lt;/span>&amp;lt;span class="token punctuation">(&amp;lt;/span>message&amp;lt;span class="token punctuation">)&amp;lt;/span>
&amp;lt;span class="token keyword">return&amp;lt;/span> fake_op
&amp;lt;span class="token comment" spellcheck="true"># ...&amp;lt;/span>
operations &amp;lt;span class="token operator">=&amp;lt;/span> &amp;lt;span class="token punctuation">[&amp;lt;/span>
migration&amp;lt;span class="token punctuation">.&amp;lt;/span>RunPython&amp;lt;span class="token punctuation">(&amp;lt;/span>log&amp;lt;span class="token punctuation">(&amp;lt;/span>&amp;lt;span class="token string">'Step 1'&amp;lt;/span>&amp;lt;span class="token punctuation">)&amp;lt;/span>&amp;lt;span class="token punctuation">)&amp;lt;/span>&amp;lt;span class="token punctuation">,&amp;lt;/span>
migration&amp;lt;span class="token punctuation">.&amp;lt;/span>AlterField&amp;lt;span class="token punctuation">(&amp;lt;/span>&amp;lt;span class="token punctuation">.&amp;lt;/span>&amp;lt;span class="token punctuation">.&amp;lt;/span>&amp;lt;span class="token punctuation">)&amp;lt;/span>&amp;lt;span class="token punctuation">,&amp;lt;/span>
migration&amp;lt;span class="token punctuation">.&amp;lt;/span>RunPython&amp;lt;span class="token punctuation">(&amp;lt;/span>log&amp;lt;span class="token punctuation">(&amp;lt;/span>&amp;lt;span class="token string">'Step 2'&amp;lt;/span>&amp;lt;span class="token punctuation">)&amp;lt;/span>&amp;lt;span class="token punctuation">)&amp;lt;/span>&amp;lt;span class="token punctuation">,&amp;lt;/span>
&amp;lt;span class="token comment" spellcheck="true"># ...&amp;lt;/span>
&amp;lt;span class="token punctuation">]&amp;lt;/span>&lt;/code>&lt;/pre>
&lt;p>想要观察 Django 运行了那些 SQL 语句，运行&lt;code>python manage.py sqlmigrate &amp;lt;appname&amp;gt;&amp;lt;migration_number&amp;gt;&lt;/code>，这是一个超级有用的方法。&lt;/p>
&lt;p> &lt;/p></description></item><item><title>使用 Docker swarm 构建 PostgreSQL 集群</title><link>https://svtter.cn/p/%E4%BD%BF%E7%94%A8-docker-swarm-%E6%9E%84%E5%BB%BA-postgresql-%E9%9B%86%E7%BE%A4/</link><pubDate>Sat, 01 Dec 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E4%BD%BF%E7%94%A8-docker-swarm-%E6%9E%84%E5%BB%BA-postgresql-%E9%9B%86%E7%BE%A4/</guid><description>&lt;blockquote>
&lt;p>又是一个渣翻，Copyright belongs to the original text。&lt;/p>
&lt;p>&lt;a class="link" href="https://info.crunchydata.com/blog/an-easy-recipe-for-creating-a-postgresql-cluster-with-docker-swarm" target="_blank" rel="noopener"
>原文地址&lt;/a>&lt;/p>&lt;/blockquote>
&lt;h2 id="背景">背景
&lt;/h2>&lt;p>PostgreSQL 在 9.0 版本已经开始持续接收大量的增强，包括：&lt;/p>
&lt;ol>
&lt;li>异步拓展&lt;/li>
&lt;li>同步拓展&lt;/li>
&lt;li>仲裁提交&lt;/li>
&lt;li>级联拓展&lt;/li>
&lt;li>逻辑拓展&lt;/li>
&lt;/ol>
&lt;p>PostgreSQL 文档也提供了一个 overview 以及 不同拓展方法的比较。详见&lt;a href="https://www.postgresql.org/docs/current/different-replication-solutions.html" target="_blank" rel="noopener">PostgreSQL 集群策略比较&lt;/a>&lt;/p>
&lt;p>用于部署 PostgreSQL 的拓展的主拓展的方法论，是一个重要的工具来为你的数据库集群创建高可用的环境。需要一个合适的部署策略来确保你的数据被保存到不同磁盘，以及不同的数据中心。&lt;/p>
&lt;p>拓展不是一个“安装然后忘记”的操作。在生产系统中，你想要确定你对实例有合适的监控，来了解你所有的在线的拓展，或者了解一个拓展有多少数据需要与主节点进行同步。&lt;/p>
&lt;p>当主节点配置好以后，安装就很容易了。但幸运的是，使用 Docker 可以使得这个过程更加轻松。&lt;/p>
&lt;h2 id="环境安装">环境安装
&lt;/h2>&lt;p>想要部署这个环境，你至少需要 Docker 1.12版本。&lt;/p>
&lt;p>要想开始，提供一个 Docker 集群。例如，一个开发集群，你可以在每一个机器上加载 Dokcer，来使用 Swarm。这个方法将使用如下的架构：&lt;/p>
&lt;img src="https://i2.wp.com/info.crunchydata.com/hs-fs/hubfs/diagram.png?w=625&amp;#038;ssl=1" alt="PostgreSQL Docker Swarm Architecture" data-recalc-dims="1" />
&lt;p>每一个系统都需要安装 Docker 以及启动。&lt;/p>
&lt;h2 id="swarm-安装">Swarm 安装
&lt;/h2>&lt;p>从1.12版本开始，Docker就已经集成了Swarm。&lt;/p>
&lt;h2 id="容器编排">容器编排
&lt;/h2>&lt;p>高可用 PostgresSQL 集群配置需要两个以上的主机。主节点和从节点需要运行在不同的 worker 节点上，来使得可用性最高。&lt;/p>
&lt;p>为了部署 &lt;a href="https://github.com/CrunchyData/crunchy-containers/" target="_blank" rel="noopener">Crunchy PostgreSQL containers&lt;/a> 到多个集群，你需要使用 node labels。&lt;/p>
&lt;p>标注主机对于使用 PostgreSQL 容器有几个好处：&lt;/p>
&lt;ul>
&lt;li>将服务散步到许多 worker 上，来提高可用性&lt;/li>
&lt;li>主机可以针对读（从）写（主）操作进行优化（例如使用高性能磁盘）&lt;/li>
&lt;/ul>
&lt;p>**记住：**对于PostgreSQL 10，主节点可以同时被允许读写，但是从节点仅仅允许被读。&lt;/p>
&lt;p>为了允许容器被放在指定的 worker 节点上，增加一个元数据标签到 Swarm 节点上。&lt;/p>
&lt;pre>node1_id=&lt;span class="pl-s">&lt;span class="pl-pds">$(&lt;/span>docker node list &lt;span class="pl-k">|&lt;/span> grep worker1 &lt;span class="pl-k">|&lt;/span> awk &lt;span class="pl-pds">'&lt;/span>{print $1}&lt;span class="pl-pds">'&lt;/span>&lt;span class="pl-pds">)&lt;/span>&lt;/span>
docker node update --label-add type=primary &lt;span class="pl-smi">${node1_id?}
&lt;/span>&lt;/pre>
&lt;p>在上述例子中，一个被称为 primary 的标签，加入了 worker1。通过使用这个标签，我们可以应用一些约束到 Docker swarm 的 PostgreSQL Stack 部署上。&lt;/p>
&lt;p>&lt;strong>注意：我们没有对从节点增加约束，我们可以简单的使用一条 inverse 约束：&lt;/strong>&lt;/p>
&lt;p>&lt;code>node.labels.type != primary&lt;/code>&lt;/p>
&lt;h2 id="postgresql-stack-定义">PostgreSQL stack 定义
&lt;/h2>&lt;p>通过 Swarm 部署以及 worker 节点正确的标记，我们可以部署 PostgreSQL stack了。&lt;/p>
&lt;p>PostgreSQL stack 是通过一个主节点以及从节点组成的。下面是服务定义：&lt;/p>
&lt;p>&lt;em>docker-compose.yml&lt;/em>&lt;/p>
&lt;pre>---
&lt;span class="pl-ent">version&lt;/span>: &lt;span class="pl-s">&lt;span class="pl-pds">"&lt;/span>3.3&lt;span class="pl-pds">"&lt;/span>&lt;/span>
&lt;span class="pl-ent">services&lt;/span>:
&lt;span class="pl-ent">primary&lt;/span>:
&lt;span class="pl-ent">hostname&lt;/span>: &lt;span class="pl-s">&lt;span class="pl-pds">'&lt;/span>primary&lt;span class="pl-pds">'&lt;/span>&lt;/span>
&lt;span class="pl-ent">image&lt;/span>: &lt;span class="pl-s">crunchydata/crunchy-postgres:centos7-10.3-1.8.2&lt;/span>
&lt;span class="pl-ent">environment&lt;/span>:
- &lt;span class="pl-s">PGHOST=/tmp&lt;/span>
- &lt;span class="pl-s">MAX_CONNECTIONS=10&lt;/span>
- &lt;span class="pl-s">MAX_WAL_SENDERS=5&lt;/span>
- &lt;span class="pl-s">PG_MODE=primary&lt;/span>
- &lt;span class="pl-s">PG_PRIMARY_USER=primaryuser&lt;/span>
- &lt;span class="pl-s">PG_PRIMARY_PASSWORD=password&lt;/span>
- &lt;span class="pl-s">PG_DATABASE=testdb&lt;/span>
- &lt;span class="pl-s">PG_USER=testuser&lt;/span>
- &lt;span class="pl-s">PG_PASSWORD=password&lt;/span>
- &lt;span class="pl-s">PG_ROOT_PASSWORD=password&lt;/span>
- &lt;span class="pl-s">PG_PRIMARY_PORT=5432&lt;/span>
&lt;span class="pl-ent">volumes&lt;/span>:
- &lt;span class="pl-s">pg-primary-vol:/pgdata&lt;/span>
&lt;span class="pl-ent">ports&lt;/span>:
- &lt;span class="pl-s">&lt;span class="pl-pds">"&lt;/span>5432&lt;span class="pl-pds">"&lt;/span>&lt;/span>
&lt;span class="pl-ent">networks&lt;/span>:
- &lt;span class="pl-s">crunchynet&lt;/span>
&lt;span class="pl-ent">deploy&lt;/span>:
&lt;span class="pl-ent">placement&lt;/span>:
&lt;span class="pl-ent">constraints&lt;/span>:
- &lt;span class="pl-s">node.labels.type == primary&lt;/span>
- &lt;span class="pl-s">node.role == worker&lt;/span>
&lt;span class="pl-ent">replica&lt;/span>:
&lt;span class="pl-ent">image&lt;/span>: &lt;span class="pl-s">crunchydata/crunchy-postgres:centos7-10.3-1.8.2&lt;/span>
&lt;span class="pl-ent">environment&lt;/span>:
- &lt;span class="pl-s">PGHOST=/tmp&lt;/span>
- &lt;span class="pl-s">MAX_CONNECTIONS=10&lt;/span>
- &lt;span class="pl-s">MAX_WAL_SENDERS=5&lt;/span>
- &lt;span class="pl-s">PG_MODE=replica&lt;/span>
- &lt;span class="pl-s">PG_PRIMARY_HOST=primary&lt;/span>
- &lt;span class="pl-s">PG_PRIMARY_PORT=5432&lt;/span>
- &lt;span class="pl-s">PG_PRIMARY_USER=primaryuser&lt;/span>
- &lt;span class="pl-s">PG_PRIMARY_PASSWORD=password&lt;/span>
- &lt;span class="pl-s">PG_DATABASE=testdb&lt;/span>
- &lt;span class="pl-s">PG_USER=testuser&lt;/span>
- &lt;span class="pl-s">PG_PASSWORD=password&lt;/span>
- &lt;span class="pl-s">PG_ROOT_PASSWORD=password&lt;/span>
&lt;span class="pl-ent">volumes&lt;/span>:
- &lt;span class="pl-s">pg-replica-vol:/pgdata&lt;/span>
&lt;span class="pl-ent">ports&lt;/span>:
- &lt;span class="pl-s">&lt;span class="pl-pds">"&lt;/span>5432&lt;span class="pl-pds">"&lt;/span>&lt;/span>
&lt;span class="pl-ent">networks&lt;/span>:
- &lt;span class="pl-s">crunchynet&lt;/span>
&lt;span class="pl-ent">deploy&lt;/span>:
&lt;span class="pl-ent">placement&lt;/span>:
&lt;span class="pl-ent">constraints&lt;/span>:
- &lt;span class="pl-s">node.labels.type != primary&lt;/span>
- &lt;span class="pl-s">node.role == worker&lt;/span>
&lt;span class="pl-ent">networks&lt;/span>:
&lt;span class="pl-ent">crunchynet&lt;/span>:
&lt;span class="pl-ent">volumes&lt;/span>:
&lt;span class="pl-ent">pg-primary-vol&lt;/span>:
&lt;span class="pl-ent">pg-replica-vol&lt;/span>:&lt;/pre>
&lt;p>注意，主服务定义了一个 hostname，但是 replica 服务没有。Replica 需要一个 hostname 来启动 replication。通过提供一个静态的 hostname 给主节点，replica就可以连接主节点，而不需要发现主容器。&lt;/p>
&lt;p>replica，没有一个 hostname，这允许 replica 服务拓展到多个节点。（待会儿展示一下）。&lt;/p>
&lt;p>primary 和 replica 服务的主要区别，是 PG_MODE 环境变量。这个变量配置容器是主节点，还是从节点。&lt;/p>
&lt;h2 id="部署-stack">部署 STACK
&lt;/h2>&lt;p>保存这个文件到 _docker-compose.yml _之后，我们可以通过 Docker 进行部署了。&lt;/p>
&lt;pre>docker stack deploy --compose-file=./docker-compose.yml pg-stack&lt;/pre>
&lt;p>这个 stack 部署，将会创建一个 PostgreSQL 集群，就像是下图一样：&lt;/p>
&lt;p>&lt;strong>&lt;img src="https://i0.wp.com/info.crunchydata.com/hs-fs/hubfs/Diagram4.png?w=625&amp;#038;ssl=1" alt="PostgreSQL Docker Swarm Primary Replica Cluster" data-recalc-dims="1" />&lt;/strong>&lt;/p>
&lt;h2 id="测试集群">测试集群
&lt;/h2>&lt;p>检查服务是否运行，运行下面的命令：&lt;/p>
&lt;pre>docker service ls
docker service ps pg-stack_primary
docker service ps pg-stack_replica&lt;/pre>
&lt;p>如果想要提升 replicas 的数量，运行下列命令：&lt;/p>
&lt;pre>docker service scale pg-stack_replica=2
docker service ps pg-stack_replica&lt;/pre>
&lt;p>为了确保 replicas 是流式的，在 worker1 节点上查询 PostgreSQL 主节点，使用下列命令：&lt;/p>
&lt;pre>&lt;code>docker exec -it $(docker ps -q) psql -U postgres -x -c 'table pg_stat_replication' postgres
&lt;/code>&lt;/pre>
&lt;h2 id="示例代码">示例代码
&lt;/h2>&lt;p>下面是实例代码：&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/CrunchyData/crunchy-containers/tree/master/examples/docker/swarm-service" target="_blank" rel="noopener"
>https://github.com/CrunchyData/crunchy-containers/tree/master/examples/docker/swarm-service&lt;/a>&lt;/p>
&lt;h2 id="结论">结论
&lt;/h2>&lt;p>Docker 以及 Docker swarm 提供了工具，来使得容器部署进入了更高的层次。我们希望这个提议证明了 PostgreSQL 集群是如何的容易部署。&lt;/p></description></item><item><title>beam search – 一个搜索策略</title><link>https://svtter.cn/p/beam-search-%E4%B8%80%E4%B8%AA%E6%90%9C%E7%B4%A2%E7%AD%96%E7%95%A5/</link><pubDate>Fri, 23 Nov 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/beam-search-%E4%B8%80%E4%B8%AA%E6%90%9C%E7%B4%A2%E7%AD%96%E7%95%A5/</guid><description>&lt;p>这篇文章不建议读，2018年写的，不知所云。&lt;/p>
&lt;p>beam search 是一个近似搜索策略，用于在候选可能中选择最好的结果。&lt;a class="link" href="https://hackernoon.com/beam-search-a-search-strategy-5d92fb7817f" target="_blank" rel="noopener"
>原文链接&lt;/a>&lt;/p>
&lt;p>&lt;img src="https://i2.wp.com/cdn-images-1.medium.com/max/1760/1*HmPwWf0VJV3TeaGKoly4Xw.png?w=625&amp;amp;#038;ssl=1"
loading="lazy"
alt="img"
>&lt;/p>
&lt;!-- &lt;img src="" alt="" data-recalc-dims="1" />&lt;/figure> -->
&lt;p>一个常用例子，BS(beam search) 用于获得与机器翻译等价的结果。对于那些不了解机器翻译的人，也肯定知道 Google Translate。&lt;/p>
&lt;p>这就是为啥要讲这个。这些系统都用 BS 技术来找到与结果最等价的翻译。阅读这个 Wiki 来了解相同文件的定义。&lt;/p>
&lt;p>让我们讨论一下这个使用机器翻译案例的策略。如果你是一个喜欢研究现象背后原理的人，一定要读一下 google encoder-decoder 网络架构。这个东西我就不讲了，有很多人讲。例如，如果你不知道这个架构，看看这个 quora 上的回答。&lt;/p>
&lt;h2 id="一个视角">一个视角
&lt;/h2>&lt;p>机器翻译模型可以被认为是一种 “条件语言模型”，对于…&lt;/p>
&lt;h2 id="让我们看一下8230">让我们看一下…
&lt;/h2>&lt;p>BS B(beam 宽度) 是唯一一个调整翻译结果的超参。 B 在一般情况决定了，在每一步，要记忆的单词的个数，来变换概率。&lt;/p>
&lt;h2 id="不翻译了这里有更直接的结果">不翻译了。。这里有更直接的结果
&lt;/h2>&lt;p>beam search 时在每一个时间点选择 beam_width 个最大的可能类别，然后在每个时间点 beam_width 个类别组成的空间里寻找整体概率最大的一条路径，得到最后得识别输出。而 greedy search 则直接在每个时间点寻找概率最大的类别，然后依次组成这个路径。也就是说，greedy search 是 beam_width=1 版本的 beam search。上图是 CTC 论文里 greedy search 示意图。&lt;/p></description></item><item><title>对于 CTC 的一个直观理解与解释</title><link>https://svtter.cn/p/%E5%AF%B9%E4%BA%8E-ctc-%E7%9A%84%E4%B8%80%E4%B8%AA%E7%9B%B4%E8%A7%82%E7%90%86%E8%A7%A3%E4%B8%8E%E8%A7%A3%E9%87%8A/</link><pubDate>Thu, 22 Nov 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%AF%B9%E4%BA%8E-ctc-%E7%9A%84%E4%B8%80%E4%B8%AA%E7%9B%B4%E8%A7%82%E7%90%86%E8%A7%A3%E4%B8%8E%E8%A7%A3%E9%87%8A/</guid><description>&lt;blockquote>
&lt;p>这篇文章是一个翻译：&lt;a class="link" href="https://towardsdatascience.com/intuitively-understanding-connectionist-temporal-classification-3797e43a86c" target="_blank" rel="noopener"
>towardsdatascience-ctc&lt;/a>&lt;/p>&lt;/blockquote>
&lt;p>通过 CTC loss 以及编码操作进行文字识别。&lt;/p>
&lt;p>如果想用使用计算机识别文字，神经网络很好用。使用一些列 CNN 从序列中提取特征，使用 RNN 来传播需略的信息。它会输出字符得分，给每个序列元素，通过一个简单的矩阵表示。现在，有两个事情我们想要对矩阵进行处理。&lt;/p>
&lt;ol>
&lt;li>训练：计算损失值来训练神经网络&lt;/li>
&lt;li>推理：解码矩阵来获得图片中的字符&lt;/li>
&lt;/ol>
&lt;p>两个任务可以同时被 CTC 操作完成。对于手写数字系统的描述，可以参见图像 1.&lt;/p>
&lt;p>我们更进一步看看 CTC 操作，并且讨论一下它如完成的，以及它背后的公式是如此巧妙。最后，我将会指点你来找到 Python 代码以及不复杂的公式，如果你感兴趣的话。&lt;/p>
&lt;p>&lt;img src="https://i0.wp.com/cdn-images-1.medium.com/max/1760/1*i2OG4hu9EjsyWcVMc4OOvA.png?w=625&amp;amp;#038;ssl=1"
loading="lazy"
alt="img"
>&lt;/p>
&lt;h2 id="为什么我们使用-ctc">为什么我们使用 CTC
&lt;/h2>&lt;p>当然我们可以创建一个数据集，这个数据集有文本行，然后指出每列属于哪一个字符，就像图 2 中展示的那样。然后，我们可以训练一个神经网络来输出每一列的得分。而然，对于这个简单的解法，这里有两个问题。&lt;/p>
&lt;ol>
&lt;li>这个十分的耗时（以及无聊）来在字符层面上标注数据&lt;/li>
&lt;li>我们仅仅能够得到字符的得分，因此还需要一些操作来获取最终的文本。一个简单地字符可以跨越多个位置，比如，我们得到 “ttooo”，是因为 “o” 是一个比较宽的字符。我们已经删除了多余的 “t” and “o”，但是，如果要识别的字符是 “too”，我们应该怎么办？如果删除了多余的 “o”，将会给我们错误的答案。我们应该如何处理呢？&lt;/li>
&lt;/ol>
&lt;p>CTC 解决了几个问题&lt;/p>
&lt;ol>
&lt;li>我们只需要告诉 CTC loss function，文本在图像中出现了，因此我们忽略位置和宽度文中在图像中。&lt;/li>
&lt;li>不需要更多的文本识别处理&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://i0.wp.com/cdn-images-1.medium.com/max/1760/1*rfeNj9aNfUSqA-SXB_i4Bw.png"
loading="lazy"
alt="img"
>&lt;/p>
&lt;h2 id="ctc-如何工作的">CTC 如何工作的
&lt;/h2>&lt;p>就像是我们已经讨论的，我们不希望在图像的每一列标注数据（这曾经被我们成为时间步）。神经网络的训练将会被 CTC 损失函数所指引。我们只需要把数据矩阵给 CTC 函数，以及对应的真实值即可。但是它是怎么知道每一个字符出现的呢？他不知道。相对而言，它尝试了图片中所有的真实文本，以及计算了所有的加和。通过这个方式， This way, the score of a GT text is high if the sum over the alignment-scores has a high value.&lt;/p>
&lt;h2 id="编码文本">编码文本
&lt;/h2>&lt;p>如何编码重复的文本曾经是一个问题。这个问题通过引入一个虚假字符来解决了（称为空，但是不要把它和真正的 space 混淆。）。这个特殊的字符被标记为 “-”，在下面的文本中。我们使用了一个聪明的编码策略来解决重复字符的问题。当编码一个文本的时候，我们可以随机加入许多空在任何位置中，当我们解码的时候，我们将会把的这些删除。但是，我们必须在重复字符串中加入空，例如 “he&lt;strong>ll&lt;/strong>o”，如此一来，重复字符就不是问题了。&lt;/p>
&lt;p>Let’s look at some examples:&lt;/p>
&lt;p>“to” → “—ttttttooo”, or “-t-o-”, or “to” “too” → “—ttttto-o”, or “-t-o-o-”, or “to-o”, but not “too”&lt;/p>
&lt;p>正如你所见，这些模式也允许我们简单的创建一些相同文本串的不同对取，比如 “t-o”, 以及 “too”，以及 “-to”，所有的表示都是同一个文本 “to”，但是通过对图片不同对其获得的。神经网络被训练于输出一个编码的文本（在神经网络的矩阵中编码）。&lt;/p>
&lt;h2 id="损失计算">损失计算
&lt;/h2>&lt;p>我们需要计算每一个损失值，这个损失值是由图像核真实文本给出来训练 NN 的。你已经知道 NN 输出一个矩阵，包含一个得分，为每个文本在每个时间步上。一个小矩阵在图三中展示：有许多的时间步（t0, t1），以及三个字符（”a”, “b”, 以及 blank “-“).&lt;/p>
&lt;p>&lt;img src="https://i1.wp.com/cdn-images-1.medium.com/max/1760/1*BFQYgGofh6HOxnGdkJnO-w.png?w=625&amp;amp;#038;ssl=1"
loading="lazy"
alt="img"
>&lt;/p>
&lt;p>此外，你已经知道，loss 是通过加和所有积分来进行计算的，通过这个方式，字符出现在图片的哪个位置不重要。&lt;/p>
&lt;p>对于一个 alignment 的得分（或者 path；在文学中一般这么称呼）通过将相应的字符相乘。在上面的例子中，path”aa” 的得分是：0.4*0.4=0.16，”a-” 的得分是 0.4*0.6=0.24，”-a” 的得分是 0.6*0.4=0.24. 为了获得 GT 文本的得分，我们加和这个文本的所有 path 的得分。我们假设，GT 文本是 “a”，我们已经计算了所有长度为 “2” 的 path，分别是 “aa”，“a-”，“-a”，我们已经计算了这些 path 所有的得分，所以我们只需要把他们加起来，得到 0.4×0.4 + 0.4×0.6 + 0.6×0.4 = 0.64。如 GT 文本可能是 “”，我们可以看到只有一种相关的 path，那么就是 “–”，获得的得分是 0.6×0.6 =0.36.&lt;/p>
&lt;p>如果仔细看，你已经发现我们计算了 GT 的可能性，但是不是 loss 值，而然，loss 知识概率的负对数。这个 loss 值是反向传播算法以及 NN 的参数更新使用的，我这里没有进行详细的讨论。&lt;/p>
&lt;h2 id="解码">解码
&lt;/h2>&lt;p>当我们训练一个 NN，我们想要使用它来识别那些之前没有看到的图像。或者更多在更多的技术术语：我们想要计算，NN 输出的矩阵最可能是什么。你已经知道一个方法来计算给出文本的得分，但是现在，我们没有被给出任何文本，事实上，它正是我们正在寻找的文本。尝试所有可能的文本，如果他们只有很少的时间步以及字符，但是对于练习用例而言，这不可行。&lt;/p>
&lt;p>一个简单而快速的算法，是最佳 path 解码，包含两个步骤：&lt;/p>
&lt;ol>
&lt;li>它计算了最佳 path，通过获取最可能的每一个时间步的字符&lt;/li>
&lt;li>首先删除重复的字符，然后删除 path 里面所有的空。这仍然表示了识别的文本。&lt;/li>
&lt;/ol>
&lt;p>正如 FIG4 所展示的，字符是 “a”，“b” 以及 “-”（空），一共有 5 个时间步。让我们应用最佳 path decoder 来处理这个矩阵。在 t0，最可能的是“a”，同样应用于 t1，t2. 空字符在 t3 是最可能的。最后，“b” 是 t4 时刻最可能的。这将给出我们一个 path“aaa-b”，我们删除了重复的字符，这将会返回“a-b”，然后我们删除 path 中的空，这给我们一个“ab”，作为我们输出的识别结果。&lt;/p>
&lt;p>&lt;img src="https://i0.wp.com/cdn-images-1.medium.com/max/1600/1*1_5KnLvaTkGUFoyat2jHcQ.png?w=625&amp;amp;#038;ssl=1"
loading="lazy"
alt="img"
>&lt;/p>
&lt;p>最佳 path 解析是，当容纳，仅仅是一个近似。构建样例容易给出错误的结果，比如用这个方法构建 FIG3，将会得到 “”，作为识别文本。但是，我们已经知道“” 结果的概率是 0.36，而 “a” 的概率是 0.64。而然，近似算法经常在练习的情景下给出比较好的结果。也有许多其他的比较好的 decoder，例如 beam-search，prefix-search 以及 token passing，这些关于语言结构的方法，都有利于提升结果。&lt;/p>
&lt;h2 id="结论以及展望">结论以及展望
&lt;/h2>&lt;p>首先我们看得是，神经网络如何解决这个问题；然后，我们展示了 CTC 如何解决这些问题，然后，我们解释了 CTC 为啥能够工作，如何计算的 loss，以及如何解码 CTC 训练的 NN。&lt;/p>
&lt;p>This should give you a good understanding of what is happening behind the scenes when you e.g. call functions like ctc_loss or ctc_greedy_decoder in TensorFlow. However, when you want to implement CTC yourself, you need to know some more details, especially to make it run fast. Graves et al. &lt;/p>
\[1] introduce the CTC operation, the paper also shows all the relevant math. If you are interested in how to improve&amp;nbsp;decoding,&amp;nbsp;take a look&amp;nbsp;at the articles about beam search&amp;nbsp;decoding&amp;nbsp;[2\]\[3\]&lt;p>. I implemented some decoders and the loss function in Python and C++, which you can find on github &lt;/p>
\[4\]\[5\]&lt;p>. Finally, if you want to look at the bigger picture of how to recognize (handwritten) text, look at my article on how to build a handwritten text recognition system [6].&lt;/p></description></item><item><title>使用主动学习加速机器学习</title><link>https://svtter.cn/p/%E4%BD%BF%E7%94%A8%E4%B8%BB%E5%8A%A8%E5%AD%A6%E4%B9%A0%E5%8A%A0%E9%80%9F%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/</link><pubDate>Tue, 20 Nov 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E4%BD%BF%E7%94%A8%E4%B8%BB%E5%8A%A8%E5%AD%A6%E4%B9%A0%E5%8A%A0%E9%80%9F%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/</guid><description>&lt;blockquote class="wp-block-quote">
&lt;p>
一篇 medium 文章的渣翻
&lt;/p>
&lt;p>&lt;cite>&lt;a class="link" href="https://becominghuman.ai/accelerate-machine-learning-with-active-learning-96cea4b72fdb" target="_blank" rel="noopener"
>https://becominghuman.ai/accelerate-machine-learning-with-active-learning-96cea4b72fdb&lt;/a>&lt;/cite>&lt;/p>
&lt;/blockquote>
&lt;p>让我们讨论一下主动学习。我相信这个方法可以极大的增速，以及减少许多机器学习工程的花费。这篇文章我将从两个部分说明这个问题。在第一部分，我给出了一个极高的层级的主动学习的说明，以及如何把它利用到机器学习工程中。在第二部分，深入到一个主动学习 demo 中。&lt;/p>
&lt;h2 id="第一部分">第一部分
&lt;/h2>&lt;h3 id="主动学习是如何工作的">主动学习是如何工作的
&lt;/h3>&lt;p>让我们通过一个很简单的概览，来看看机器学习是如何工作地。&lt;figure class="wp-block-image">&lt;/p>
&lt;p>&lt;img src="https://i2.wp.com/ww1.sinaimg.cn/large/c53b1907ly1fxdd3awts2j218g0j4wj2.jpg?w=625" alt="Repeat thousands of times and you get a trained model!" data-recalc-dims="1" />&lt;/figure>&lt;/p>
&lt;p>许多机器学习模型是巨大的猜疑机器——他们看了许多数据，计算出一个猜测的结果，检查他们的答案，微调一下，然后再试试。在许多数据之后，模型将会变得十分准确。&lt;/p>
&lt;h3 id="标记数据">标记数据
&lt;/h3>&lt;p>…&lt;/p>
&lt;h3 id="主动学习">主动学习
&lt;/h3>&lt;p>主动学习是一种方法，有时可以极大减少标记样本的数量。它通过专家标记样本来完成这个工作。&lt;/p>
&lt;p>不使用全部的数据一次标注所有数据，主动学习优先处理那些让模型感到困惑的数据，并且仅仅需要好那些数据的标签。模型在小样本数据上进行训练，然后根据那些最令模型疑惑的数据，请求更多的标签。&lt;/p>
&lt;p>通过优先处理那些最迷惑的样本，模型可以专注于提供一些最有价值的信息。这帮助模型训练的更快，并且让专家跳过那些对于模型帮助不是很大的数据。结果是，我们可以很大程度上减少标记样本的数量，并且我们仍然得到一个很好的模型。这意味着节省时间和金钱！&lt;/p>
&lt;h2 id="第二部分">第二部分
&lt;/h2>&lt;h3 id="mnist-例子">MNIST 例子
&lt;/h3>&lt;p>让我们看一下实际的主动学习样本。&lt;/p>
&lt;p>使用文档良好的 MNIST 数据集，以及经典的 Tensorflow 卷积神经完了过。一个聪明的模型和架构可以做的更好，但是我们想要直接使用这个模型。&lt;/p>
&lt;p>MNIST 数据集是公开可获取得的数据集，包含了大量的手写数字，以及数值标签。它经常被使用于机器学习入门教程，因为他的标记数据质量很高，并且简单地模型也可以表现的不错。&lt;figure class="wp-block-image">&lt;/p>
&lt;p>&lt;img src="https://i1.wp.com/ww1.sinaimg.cn/large/c53b1907ly1fxdd4dewm6j20ho04fq38.jpg?w=625" alt="" data-recalc-dims="1" />&lt;/figure>&lt;/p>
&lt;h3 id="设计">设计
&lt;/h3>&lt;p>这个工程包含两个部分：&lt;/p>
&lt;ol>
&lt;li>在训练模型的时候，模仿主动学习&lt;/li>
&lt;li>在严格的模型上确定主动学习的效率&lt;/li>
&lt;/ol>
&lt;h3 id="训练一个模型">训练一个模型
&lt;/h3>&lt;p>我们使用 mini-batch 训练。这个模型仅仅在训练集中，看一个小数量样本，通过小数量样本进行学习。&lt;/p>
&lt;p>这里，我们可以看到一个正常的（非 – 主动学习）的训练过程，模型在一个随机结合的小批次上进行训练。每在小 – 批次训练中的迭代，都在测试记上运行模型（不作为训练集的一部分）来追踪模型是怎样增长的。我提供了准确率以及 cross-entropy 损失（就像是平均误差一样）。在这里，每一个小批次有个 10 个例子，我运行了 2000 批次（20000 个标注）。&lt;figure class="wp-block-image">&lt;/p>
&lt;p>&lt;img src="https://i1.wp.com/ww1.sinaimg.cn/large/c53b1907ly1fxdd4pv3b2j218g0fhjtx.jpg?w=625" alt="" data-recalc-dims="1" />&lt;/figure>&lt;/p>
&lt;p>对于这个分类任务，我们试图把 0~9 的数字进行分类，意味着随机猜测仅有 10% 的准确率。简单的神经网络已经做的不错了。&lt;/p>
&lt;h3 id="模拟主动学习">模拟主动学习
&lt;/h3>&lt;p>获得主动学习结果有一点小技巧。我们不在数据集中的随机选择数据，相反，模型将会评估许多在训练集中的例子，然后将置信度最小的数据作为小 – 批次（在这个工程中，我查看了 1000 个在训练集中的随机样本，来确定置信度至少为 10）。在那里，模型将会像处理小 – 批次数据一样处理进行训练过程，它将会重复这个过程来更新模型。就像是在 “非 – 主动学习” 样例中，每经过一些迭代，我将会在测试记上运行模型，追踪模型的训练过程。&lt;figure class="wp-block-image">&lt;/p>
&lt;p>&lt;img src="https://i2.wp.com/ww1.sinaimg.cn/large/c53b1907ly1fxdd5z4a18j218g0ljjwd.jpg?w=625" alt="" data-recalc-dims="1" />&lt;/figure>&lt;/p>
&lt;p>有许多很好的文章来说明如何实现 主动学习。在这里，我仅仅想要把事情做的简单一些。这个模型使用一个 “softmax” 来生成概率——在这个例子中，是数字 0~9。” 置信度” 通过选择” 最大的概率减去最小的概率 “。模型越自信，这个差值越大。（置信度不意味着准确率）。&lt;figure class="wp-block-image">&lt;/p>
&lt;p>&lt;img src="https://i0.wp.com/ww1.sinaimg.cn/large/c53b1907ly1fxdd96i561j218g0ejte0.jpg?w=625" alt="" data-recalc-dims="1" />&lt;/figure>&lt;/p>
&lt;p>主动学习过程，使用了那些置信度比较低的数据，并且在上面进行训练。并且当然的，当模型改变了，它的置信度也一样会改变。&lt;/p>
&lt;p>MNIST 数据集已经有了我们需要的标签，但是这个过程，在 mini-batch 中，模拟询问了专家，来获取标签。在通常情况下，专家会随机被提问，来获取数据。在主动学习的例子中，模型会选择那些数据，希望专家进行标注。&lt;/p>
&lt;p>让我们来看一下主动学习结果 VS 一般的结果。注意 y-axis。&lt;figure class="wp-block-image">&lt;/p>
&lt;p>&lt;img src="https://i1.wp.com/ww1.sinaimg.cn/large/c53b1907ly1fxddharrn6j218g0h378k.jpg?w=625" alt="" data-recalc-dims="1" />&lt;/figure>&lt;/p>
&lt;p>通过 mini-batch（8000 标签），主动学习的方法匹配了 2000 mini-batch（20000label）数据的准确率。所以，使用一接近一半的数据，主动学习可以达到同样地准确率。&lt;/p>
&lt;h3 id="倾斜数据的二分类任务">倾斜数据的二分类任务
&lt;/h3>&lt;p>主动学习可以大施拳脚的地方是，数据的强烈偏差。&lt;/p>
&lt;p>训练一个模型的时候，重要的不仅仅是标记的数据，还有不同数据的，合理的不同表示。如果我们尝试在 MNIST 上训练一个模型，而没有任何包含 3 的数据，收集多少数据并不重要，重要的是我们的模型不可能区分 3。如果我们仅仅含有一小部分 3，我们仍然会面临一个问题，就是模型仅仅会准确的区分其他数字，也就是那些有更好表达的数据。&lt;/p>
&lt;p>数据的偏差，不均衡对于 MNIST 数据集中不存在，但是它的确是一个真实世界的问题。如果我们训练一个模型来识别 CT 中的脑瘤，大多数 CT 图像不会含有肿瘤图像，所以标注 “肿瘤” 的数据将会远不均衡于 “非肿瘤” 的样本数据。因为主动学习优先考虑的例子不那么自信，因此主动学习可能有助于识别 “异常 “或代表性不足的数据并且确定优先级。&lt;/p>
&lt;p>我们在 MNIST 上模拟一下 skew 的问题。重新定义 MNIST 的问题，定义成 3 或者非 3，然后，非 3 的数据有 90%，而 3 的数据仅有 10%。所以愚蠢的策略将会在” 非 3“上达到 90% 的准确率，让我们看一下主动学习是如何做的：&lt;figure class="wp-block-image">&lt;/p>
&lt;p>&lt;img src="https://i2.wp.com/ww1.sinaimg.cn/large/c53b1907ly1fxdf9177f8j218g0hdwkb.jpg?w=625" alt="" data-recalc-dims="1" />&lt;/figure>&lt;/p>
&lt;p>在使用主动学习的时候，在 500mini-batch（5000labels）我们就达到，甚至更好地准确率。相比之下，cross-entropy 算法，通过 2000 mini-batch。主动学习减少了 4 倍的数据量。主动学习是如何做到的？看下图。&lt;figure class="wp-block-image">&lt;/p>
&lt;p>&lt;img src="https://i2.wp.com/ww1.sinaimg.cn/large/c53b1907ly1fxdfe5ahvnj20ua0nkjv0.jpg?w=625" alt="" data-recalc-dims="1" />&lt;/figure>&lt;/p>
&lt;h2 id="后续">后续
&lt;/h2>&lt;p>未完，后面翻不翻看心情。。也不知道工业界玩 active learning 的多不多。&lt;/p></description></item><item><title>gollum 书写 wiki</title><link>https://svtter.cn/p/gollum-%E4%B9%A6%E5%86%99-wiki/</link><pubDate>Thu, 15 Nov 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/gollum-%E4%B9%A6%E5%86%99-wiki/</guid><description>&lt;p>使用 gollum 书写文档（github, gitlab, wiki)。Gollum 是通过 gitlab 发现的东西，可以把 gitlab 的 wiki 文档放在本地进行书写，对于“小”的wiki，以及API文档实在是再方便不过了。个人感觉比 Sphinx 更加容易上手。&lt;/p>
&lt;h2 id="显示-toc">显示 TOC
&lt;/h2>&lt;p>&lt;code>[[_TOC_]]&lt;/code>&lt;/p>
&lt;h2 id="安装-gem">安装 gem
&lt;/h2>&lt;p>ruby-full, ruby-dev&lt;/p>
&lt;h2 id="切换-aliyun-mirror">切换 aliyun mirror
&lt;/h2>&lt;p>上网搜就行。&lt;figure class="wp-block-embed">&lt;/p>
&lt;div class="wp-block-embed__wrapper">
https://gems.ruby-china.com/
&lt;/div>&lt;/figure>
&lt;h2 id="安装-gollum">安装 gollum
&lt;/h2>&lt;p>&lt;code>gem install gollum&lt;/code>&lt;/p>
&lt;h2 id="gollum-wiki">gollum wiki
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/gollum/gollum/wiki" target="_blank" rel="noopener"
>https://github.com/gollum/gollum/wiki&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="similar-things">similar things&lt;figure class="wp-block-embed">
&lt;/h2>&lt;div class="wp-block-embed__wrapper">
https://github.com/joeyespo/grip
&lt;/div>&lt;/figure>
&lt;h2 id="try">try
&lt;/h2>&lt;h3 id="todo">todo
&lt;/h3>&lt;p>[[_]] 测试&lt;/p></description></item><item><title>Pycharm Tips</title><link>https://svtter.cn/p/pycharm-tips/</link><pubDate>Mon, 12 Nov 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/pycharm-tips/</guid><description>&lt;p>最近使用 Pycharm ，有时候引用包的时候很不方便，错误的显示 package 不存在。出现这个问题的本质是因为：代码检查的位置没有设置好。&lt;/p>
&lt;p>那么怎么解决这个问题呢？偶尔发现 Pycharm 的选项中，有一个选项是marked，因此选 marked 即可。&lt;/p>
&lt;p>还有就是 Docker 的配置，以及 Python interpreter的配置。这两个都可以通过设置进行配置，然后修改默认的 Python 解释器。在 Python interpreter 中，还可以手动安装相关的包。&lt;/p>
&lt;h2 id="使用-vim">使用 Vim
&lt;/h2>&lt;p>使用 ideavim，可以将原来的按键映射到 Vim 按键上。&lt;/p>
&lt;p>（有新的就更新。）&lt;/p>
&lt;h2 id="使用-docker-compose">使用 Docker-compose&lt;figure class="wp-block-embed">
&lt;/h2>&lt;div class="wp-block-embed__wrapper">
https://www.jetbrains.com/help/pycharm/using-docker-compose-as-a-remote-interpreter.html
&lt;/div>&lt;/figure>
&lt;h2 id="查看文件结构">查看文件结构&lt;figure class="wp-block-embed">
&lt;/h2>&lt;div class="wp-block-embed__wrapper">
https://www.v2ex.com/t/261934
&lt;/div>&lt;/figure>
&lt;p>点击左下角的 structure 即可。&lt;/p>
&lt;p>转载请注明出处。&lt;/p></description></item><item><title>Django 写个过滤器 filter</title><link>https://svtter.cn/p/django-%E5%86%99%E4%B8%AA%E8%BF%87%E6%BB%A4%E5%99%A8-filter/</link><pubDate>Mon, 05 Nov 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/django-%E5%86%99%E4%B8%AA%E8%BF%87%E6%BB%A4%E5%99%A8-filter/</guid><description>&lt;p>用 Django 快速开发一个项目，发现 Django 的模板本身不带有整除功能，因此自己手写一个。&lt;/p>
&lt;pre class="wp-block-code">&lt;code class="">├── templates
│   ├── app
│   └── base
├── templatetags
│   ├── app_extras.py
│   ├── __init__.py
│   └── __pycache__
├── tests.py
├── urls.py
├── utils.py
└── views.py
&lt;/code>&lt;/pre>
&lt;p>这是目录结构。在 urls.py 添加 app 的名称，例如 app_name = ‘app’ ，然后在与models.py 同级的目录下，新建一个 python 包， templatetags 的，新建自己需要的包名即可。&lt;/p>
&lt;p>app_extra.py：&lt;/p>
&lt;pre class="wp-block-code">&lt;code lang="php" class="language-php">from django import template
register = template.Library()
def mod(value):
return value % 11
register.filter('mod', mod)
&lt;/code>&lt;/pre>
&lt;p>这里因为需求比较简单，因此直接就赋值了 11.&lt;/p>
&lt;p>应用到模板中：&lt;/p>
&lt;pre class="wp-block-code">&lt;code class="">{% load app_extra %}
{% for image in image_list %}
{% if forloop.counter|mod == 0 %}
&amp;lt;h3>检查点&amp;lt;/h3>
{% endif %}
{% endfor %}&lt;/code>&lt;/pre>
&lt;p>随后即可看到结果。&lt;/p>
&lt;p>此外，寻得两个比较好用 template 插件&lt;figure class="wp-block-embed">&lt;/p>
&lt;div class="wp-block-embed__wrapper">
https://pypi.org/project/django-bootstrap4/
&lt;/div>&lt;/figure> &lt;figure class="wp-block-embed">
&lt;div class="wp-block-embed__wrapper">
https://github.com/timonweb/django-bulma
&lt;/div>&lt;/figure>
&lt;p>实现的东西虽然不多，但是起码把我不想关心的逻辑封装起来了。。&lt;/p></description></item><item><title>记恢复 https</title><link>https://svtter.cn/p/%E8%AE%B0%E6%81%A2%E5%A4%8D-https/</link><pubDate>Sat, 03 Nov 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E8%AE%B0%E6%81%A2%E5%A4%8D-https/</guid><description>&lt;p>这几天 https 挂掉了，似乎是因为铁门的证书（过期，不被chrome认可）了。因此重新搞一下 https。&lt;/p>
&lt;p>恢复 https 也没有做什么工作，就是把之前的证书重新申请一次，然后下载下来的文件把之前的 https 文件替换掉。https 相关的文章很多，我就不再赘述了。可以参见很多人的文章。&lt;/p>
&lt;p>此处唯一需要注意的是，我使用 Docker，对于 certbot ，也就是 letsencrypt 的支持不够好（也可能是我在man里面粗略的看了一下，没有找到）。因此，对于三个与的letsencrypt我就不使用了。&lt;/p>
&lt;blockquote class="wp-block-quote">
&lt;p>
本篇是老文，之前一直都没有发出。
&lt;/p>
&lt;p>
今天发出，作为博客长时间滑水的终止符。
&lt;/p>
&lt;/blockquote>
&lt;p>这次更新 https，也做了一些工作，就是把原来的 rewrite 选项改成了 301，做了一个重定向，整个速度都提升了不少（未测试，仅观感），感觉很不错。因此把之前的配置贴出来。&lt;/p>
&lt;p>原来的配置&lt;/p>
&lt;pre class="wp-block-code">&lt;code class=""> location / {
rewrite ^ https://$host$request_uri? permanent;
}
location ^~ /.well-known {
allow all;
root /data/letsencrypt/;
}&lt;/code>&lt;/pre>
&lt;p>现在的&lt;/p>
&lt;pre class="wp-block-code">&lt;code class="">return 301 https://$host$request_uri;&lt;/code>&lt;/pre></description></item><item><title>Python functools</title><link>https://svtter.cn/p/python-functools/</link><pubDate>Sun, 21 Oct 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/python-functools/</guid><description>&lt;p>Python &lt;a class="link" href="https://docs.python.org/3/library/functools.html" target="_blank" rel="noopener"
>functools&lt;/a>包中，有个很好的函数叫做&lt;code>partial&lt;/code> ，中文直接翻译为&lt;code>片函数&lt;/code>，此前一直都没有使用过。最近通过阅读别人的代码，学会了这一技能，着实好用。&lt;/p>
&lt;p>使用&lt;code>partial&lt;/code>，可以把一些固有功能代码做一个整合；&lt;/p>
&lt;p>比如我希望一个函数专门做 int2 转换&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">int2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">partial&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">int&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">base&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>甚至还可以再过分一点，把 base 变成一个字典量传入。&lt;/p>
&lt;p>多使用内建函数 locals，可以极大的减少自己的代码量；&lt;/p>
&lt;p>这不得不让我感概：真正的 Pythonista，永无止境。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">in_func&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">3&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">**&lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">b&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">**&lt;/span>&lt;span class="nb">locals&lt;/span>&lt;span class="p">()))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="changelog">CHANGELOG
&lt;/h3>&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">date&lt;/th>
&lt;th style="text-align: left">content&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">20230829&lt;/td>
&lt;td style="text-align: left">调整了一些语病&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></description></item><item><title>为什么我的密码录入正确，但就是登录不上？</title><link>https://svtter.cn/p/%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E7%9A%84%E5%AF%86%E7%A0%81%E5%BD%95%E5%85%A5%E6%AD%A3%E7%A1%AE%E4%BD%86%E5%B0%B1%E6%98%AF%E7%99%BB%E5%BD%95%E4%B8%8D%E4%B8%8A/</link><pubDate>Wed, 17 Oct 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E7%9A%84%E5%AF%86%E7%A0%81%E5%BD%95%E5%85%A5%E6%AD%A3%E7%A1%AE%E4%BD%86%E5%B0%B1%E6%98%AF%E7%99%BB%E5%BD%95%E4%B8%8D%E4%B8%8A/</guid><description>&lt;p>今天又偶遇了之前用阿里云出现的问题：&lt;/p>
&lt;blockquote class="wp-block-quote">
&lt;p>
明明密码没有错，本地登录可以，但远程登录就是不ok。
&lt;/p>
&lt;/blockquote>
&lt;p>之前一直没有排查到错误，今天终于在本地机器的加持下得以解决。这是什么问题呢？IP地址冲突。&lt;/p>
&lt;p>的确是IP地址冲突。首先先使用校园网client ssh b-server 服务器，失败了。使用同一个物理主机的a-server与b-server进行互联，成功了。校园网client能够连接a-server。因此，观察 a-server 和 b-server 的区别，发现 a-server 子网掩码是255.255.255.128，而 b-server 的子网掩码是 255.255.255.0。&lt;/p>
&lt;p>此外，还有：&lt;/p>
&lt;p>查看系统开放的端口
netstat -nltp
测试本地是否能够访问，排查本地问题
ssh &lt;a class="link" href="mailto:user@locahost" >user@locahost&lt;/a>&lt;/p>
&lt;p>子网掩码不同，为什么就连接不上呢？（原理）&lt;/p>
&lt;p>最终，解决了这个问题。通过重启 networking 以及 重新通过 dhcp 获取 ip 地址。&lt;/p>
&lt;ol>
&lt;li>使用 systemctl restart networking.service 重启 networking 服务。&lt;/li>
&lt;li>使用 ifconfig eth0 down; ifconfig eth0 up 来开关具体的网卡。&lt;/li>
&lt;li>使用 # dhclient -r 释放当前ip&lt;/li>
&lt;li>使用 # dhclient 获取新的ip&lt;/li>
&lt;/ol>
&lt;p>大功告成，算是阶段性的解决了这个问题。DDNS迫在眉睫啊！&lt;/p></description></item><item><title>安装 GNU/Linux</title><link>https://svtter.cn/p/%E5%AE%89%E8%A3%85-gnu/linux/</link><pubDate>Fri, 12 Oct 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%AE%89%E8%A3%85-gnu/linux/</guid><description>&lt;p>之前一直搞不清楚 UEFI 和 Legacy 区别在哪里，今天搞了一下 Manjaro 终于搞明白了；比较好笑的是，我参考的是 Ubuntu 的文档。&lt;br>
&lt;a class="link" href="https://help.ubuntu.com/community/UEFI" target="_blank" rel="noopener"
>https://help.ubuntu.com/community/UEFI&lt;/a>&lt;/p>
&lt;p>安装 &lt;code>Manjaro&lt;/code> 的时候，一直都有个安装引导程序到某处，很纳闷，为啥我这里有这个东西，别人截图就没有。后来更换了&lt;code>rufus&lt;/code>的写入的模式，也就是 &lt;code>UEFI only&lt;/code>。然后重新以 &lt;code>UEFI&lt;/code> 模式载入，终于，引导不再有之前的“安装引导程序“了。&lt;/p>
&lt;p>感动不已，于是在这里记录一下。&lt;br>
&lt;a class="link" href="https://askubuntu.com/questions/63610/how-do-i-remove-ubuntu-in-the-bios-boot-menu-uefi" target="_blank" rel="noopener"
>https://askubuntu.com/questions/63610/how-do-i-remove-ubuntu-in-the-bios-boot-menu-uefi&lt;/a>&lt;/p></description></item><item><title>绘制流程图，形成文档</title><link>https://svtter.cn/p/%E7%BB%98%E5%88%B6%E6%B5%81%E7%A8%8B%E5%9B%BE%E5%BD%A2%E6%88%90%E6%96%87%E6%A1%A3/</link><pubDate>Sun, 07 Oct 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E7%BB%98%E5%88%B6%E6%B5%81%E7%A8%8B%E5%9B%BE%E5%BD%A2%E6%88%90%E6%96%87%E6%A1%A3/</guid><description>&lt;h2 id="可以使用的工具">可以使用的工具
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://www.websequencediagrams.com/" target="_blank" rel="noopener"
>https://www.websequencediagrams.com/&lt;/a>&lt;/li>
&lt;li>MY CHOICE: &lt;a class="link" href="https://mermaidjs.github.io/" target="_blank" rel="noopener"
>https://mermaidjs.github.io/&lt;/a>&lt;/li>
&lt;li>Another choice: google key word: &lt;code>sequence graph&lt;/code>&lt;/li>
&lt;/ul>
&lt;h2 id="把-svg-转换成-png-文件">把 svg 转换成 png 文件
&lt;/h2>&lt;p>Or without installing anything:&lt;/p>
&lt;pre class="wp-block-code">&lt;code lang="bash" class="language-bash">qlmanage -t -s 1000 -o . picture.svg
&lt;/code>&lt;/pre>
&lt;p>It will produce picture.svg.png that is 1000 pixels wide.&lt;/p>
&lt;p>I have tested it only on OS X 10.6.3.&lt;/p>
&lt;h2 id="例如">例如：
&lt;/h2>&lt;pre class="wp-block-code">&lt;code class="">sequenceDiagram
App->Server: 请求视频服务
Server-->Server: 生成支付信息
Server->App: 返回支付信息
Note left of App: 获取支付的相关信息
App-->支付宝: 完成付款
支付宝-->App: 支付成功
Note left of App: 获悉支付结果
支付宝->Server: 根据回调URL，发送支付结果
Server->App: 根据支付结果，发送给客户端&lt;/code>&lt;/pre>&lt;figure class="wp-block-image">
&lt;p>&lt;img src="https://i2.wp.com/svtter.cn/wp-content/uploads/2018/10/image-1.png?w=625&amp;#038;ssl=1" alt="" class="wp-image-433" srcset="https://i2.wp.com/svtter.cn/wp-content/uploads/2018/10/image-1.png?w=1000&amp;ssl=1 1000w, https://i2.wp.com/svtter.cn/wp-content/uploads/2018/10/image-1.png?resize=300%2C210&amp;ssl=1 300w, https://i2.wp.com/svtter.cn/wp-content/uploads/2018/10/image-1.png?resize=768%2C538&amp;ssl=1 768w, https://i2.wp.com/svtter.cn/wp-content/uploads/2018/10/image-1.png?resize=624%2C437&amp;ssl=1 624w" sizes="(max-width: 625px) 100vw, 625px" data-recalc-dims="1" />&lt;/figure>&lt;/p></description></item><item><title>ssh 显示图像</title><link>https://svtter.cn/p/ssh-%E6%98%BE%E7%A4%BA%E5%9B%BE%E5%83%8F/</link><pubDate>Thu, 20 Sep 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/ssh-%E6%98%BE%E7%A4%BA%E5%9B%BE%E5%83%8F/</guid><description>&lt;p>原来一直认为ssh仅仅是一个字符界面，最近发现其实可以传输xserver中的图像。&lt;/p>
&lt;p>方法很简单，只需要在ssh的选项中添加&lt;code>-Y&lt;/code>就可以了。比如原来的ssh命令是这样：&lt;/p>
&lt;pre class="wp-block-code">&lt;code lang="bash" class="language-bash">ssh ubuntu@localhost&lt;/code>&lt;/pre>
&lt;p>现在改成这样&lt;/p>
&lt;pre class="wp-block-code">&lt;code lang="bash" class="language-bash">ssh -Y ubuntu@localhost&lt;/code>&lt;/pre>
&lt;p>非常简单有效。&lt;/p>
&lt;p>另外，远程查看Ubuntu中的图像，可以使用&lt;code>eog&lt;/code>命令。安装：&lt;/p>
&lt;pre class="wp-block-code">&lt;code lang="bash" class="language-bash">sudo apt install eog&lt;/code>&lt;/pre>
&lt;p>安装完成后，直接运行&lt;code>eog ./test.png&lt;/code>即可。这对于服务器调试相当方便了！&lt;/p>
&lt;p>SSH 可选的加速策略&lt;/p>
&lt;pre class="wp-block-code">&lt;code class=""> -C Requests compression of all data (including stdin, stdout,
stderr, and data for forwarded X11 and TCP connections). The
compression algorithm is the same used by gzip(1), and the
“level” can be controlled by the CompressionLevel option for pro-
tocol version 1. Compression is desirable on modem lines and
other slow connections, but will only slow down things on fast
networks. The default value can be set on a host-by-host basis
in the configuration files; see the Compression option.&lt;/code>&lt;/pre></description></item><item><title>classifier 文件分类</title><link>https://svtter.cn/p/classifier-%E6%96%87%E4%BB%B6%E5%88%86%E7%B1%BB/</link><pubDate>Thu, 13 Sep 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/classifier-%E6%96%87%E4%BB%B6%E5%88%86%E7%B1%BB/</guid><description>&lt;p>最近没有什么故事要讲，着实有点忙。但是文章太长时间不发也不好，说不定我有那么几个隐藏的很深的不爱说话的粉丝。&lt;/p>
&lt;p>这里介绍一个小工具好了，·classifier· 是一个文件分类工具，包括音乐，pdf，图像等等。运行之后可以自动归类这些文件，懒人福音。&lt;/p>
&lt;h2 id="安装">安装
&lt;/h2>&lt;p>pip install classifier&lt;/p>
&lt;h2 id="运行">运行
&lt;/h2>&lt;p>进入目录，然后运行 classifier，像这样：&lt;/p>
&lt;pre class="wp-block-preformatted">$ classifier&lt;br />&lt;/pre>
&lt;p>然后文件就会变得井然有序啦！&lt;/p>
&lt;p>官方示例：&lt;/p>
&lt;h2 id="example">Example
&lt;/h2>&lt;h3 id="before">&lt;a class="link" href="https://github.com/bhrigu123/classifier#before" target="_blank" rel="noopener"
>&lt;/a>Before:
&lt;/h3>&lt;pre class="wp-block-code">&lt;code class="">Downloads
│   ├── project.docx
│   ├── 21 Guns.mp3
│   ├── Sultans of Swing.mp3
│   ├── report.pdf
│   ├── charts.pdf
│   ├── VacationPic.png
│   ├── CKEditor.zip
│   ├── Cats.jpg
│   └── archive.7z
&lt;/code>&lt;/pre>
&lt;h3 id="after">&lt;a class="link" href="https://github.com/bhrigu123/classifier#after" target="_blank" rel="noopener"
>&lt;/a>After:
&lt;/h3>&lt;pre class="wp-block-code">&lt;code class="">Downloads
│   ├── Music
│   │   ├── 21 Guns.mp3
│   │   └── Sultans of Swing.mp3
| |
│   ├── Documents
│   │   ├── project.docx
│   │   ├── report.pdf
│   │   └── charts.pdf
| |
│   ├── Archives
│   │   ├── CKEditor.zip
│   │   └── archive.7z
| |
│   ├── Pictures
│   │   ├── VacationPic.png
│   │   └── Cats.jpg&lt;/code>&lt;/pre>
&lt;p>更多有意思的东西，可以从 repo 看到：&lt;figure class="wp-block-embed"> &lt;a class="link" href="https://github.com/bhrigu123/classifier" target="_blank" rel="noopener"
>https://github.com/bhrigu123/classifier&lt;/a> &lt;/figure>&lt;/p></description></item><item><title># Difference between map &amp; unordered_map</title><link>https://svtter.cn/p/%23-difference-between-map-unordered_map/</link><pubDate>Mon, 27 Aug 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%23-difference-between-map-unordered_map/</guid><description>&lt;p>目前有三个容器我不太了解其内部实现，打算通过 &amp;lt;c++ primer&amp;gt; 进行学习&lt;/p>
&lt;ol>
&lt;li>map&lt;/li>
&lt;li>multimap&lt;/li>
&lt;li>unordered_map&lt;/li>
&lt;/ol>
&lt;h2 id="map">map
&lt;/h2>&lt;p>map 是目前最简单的结构，实现的方法是 BST（binary search tree）。因此，其时间复杂度等都与 BST 相同，搜索，增加，删除基本时间都是 log(n)。&lt;/p>
&lt;h3 id="use-map-when">use map when
&lt;/h3>&lt;ol>
&lt;li>数据有序&lt;/li>
&lt;li>需要按照有序的顺序获得元素&lt;/li>
&lt;/ol>
&lt;h2 id="unordered_map">unordered_map
&lt;/h2>&lt;p>unordered_map 则是通常所说的 hash table，哈希表，搜索，增加，删除都是以hash表为主，较好的情况是o(1)，也就是hash函数可以较好的把元素分布到表中，如果 hash 函数比较糟糕，则每一次添加删除查找，都是完整遍历一个表。&lt;/p>
&lt;h3 id="use-unordered_map-when">use unordered_map when
&lt;/h3>&lt;ol>
&lt;li>对数据计数&lt;/li>
&lt;li>只需要根据 key 访问 value&lt;/li>
&lt;/ol>
&lt;p>简单来讲，就是当你需要使用 vector 来计数的时候，可以用 unordered_map 来代替。&lt;/p>
&lt;pre class="wp-block-preformatted">| map | unordered_map
---------------------------------------------------------
Ordering | increasing order | no ordering
| (by default) |
Implementation | Self balancing BST | Hash Table
| like&lt;a href="https://www.geeksforgeeks.org/red-black-tree-set-1-introduction-2/"> Red-Black Tree &lt;/a>|
search time | log(n) | O(1) -> Average
| | O(n) -> Worst Case
Insertion time | log(n) + Rebalance | Same as search
Deletion time | log(n) + Rebalance | Same as search&lt;/pre>
&lt;h2 id="multimap">multimap
&lt;/h2>&lt;p>multimap containers are generally slower than &lt;a class="link" href="http://www.cplusplus.com/unordered_multimap" target="_blank" rel="noopener"
>unordered_multimap&lt;/a> containers to access individual elements by their &lt;em>key&lt;/em>, but they allow the direct iteration on subsets based on their order.&lt;/p>
&lt;p>Multimaps are typically implemented as &lt;em>binary search trees&lt;/em>.&lt;/p>
&lt;p>multiple 也是用 bst 实现的，相比 map，允许按照顺序遍历元素。&lt;/p>
&lt;h2 id="reference">Reference&lt;figure class="wp-block-embed"> &lt;a class="link" href="https://www.geeksforgeeks.org/map-vs-unordered_map-c/" target="_blank" rel="noopener"
>https://www.geeksforgeeks.org/map-vs-unordered_map-c/&lt;/a> &lt;/figure>
&lt;/h2></description></item><item><title>leetcode 相交链表</title><link>https://svtter.cn/p/leetcode-%E7%9B%B8%E4%BA%A4%E9%93%BE%E8%A1%A8/</link><pubDate>Mon, 20 Aug 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/leetcode-%E7%9B%B8%E4%BA%A4%E9%93%BE%E8%A1%A8/</guid><description>&lt;p>这是&lt;code>leetcode&lt;/code>的解题报告。&lt;code>ARTS&lt;/code>很想加入，但是因为自己懒，本身也做了这些事情，因此就一直都在拖，希望这周能够搞定。&lt;/p>
&lt;h2 id="origin">origin
&lt;/h2>&lt;p>from &lt;a class="link" href="https://leetcode-cn.com/explore/interview/card/top-interview-questions-medium/31/linked-list/84/" target="_blank" rel="noopener"
>leetcode&lt;/a>&lt;/p>
&lt;h2 id="road">road
&lt;/h2>&lt;p>相交链表，两个指针分别遍历两个链表即可，具体可以画图来表示，两个链表，一个长度为 a+c，另一个长度为 b+c，两个指针势必会在 a+b+c 的位置相遇。&lt;/p>
&lt;h2 id="solution">solution
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cm">/**&lt;/span>
&lt;span class="cm"> * Definition for singly-linked list.&lt;/span>
&lt;span class="cm"> * struct ListNode {&lt;/span>
&lt;span class="cm"> * int val;&lt;/span>
&lt;span class="cm"> * ListNode *next;&lt;/span>
&lt;span class="cm"> * ListNode(int x) : val(x), next(NULL) {}&lt;/span>
&lt;span class="cm"> * };&lt;/span>
&lt;span class="cm"> */&lt;/span>
&lt;span class="k">class&lt;/span> &lt;span class="nc">Solution&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="k">public&lt;/span>&lt;span class="o">:&lt;/span>
&lt;span class="n">ListNode&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">getIntersectionNode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ListNode&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">headA&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ListNode&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">headB&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="n">ListNode&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">w1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">w2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">w1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">headA&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">w2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">headB&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">w1&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="o">!&lt;/span>&lt;span class="n">w2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="nb">NULL&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">w1&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">w2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">w1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">w1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">headB&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">else&lt;/span>
&lt;span class="n">w1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">w1&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">w2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">w2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">headA&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">else&lt;/span>
&lt;span class="n">w2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">w2&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">w1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">};&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title># 找房启示</title><link>https://svtter.cn/p/%23-%E6%89%BE%E6%88%BF%E5%90%AF%E7%A4%BA/</link><pubDate>Thu, 02 Aug 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%23-%E6%89%BE%E6%88%BF%E5%90%AF%E7%A4%BA/</guid><description>&lt;p>安居客是不太行，所有的看起来不错的房源，没有一个能联系上，联系上的全都是没有了，建议别用安居客。&lt;/p>
&lt;p>找房几个关键因素：&lt;/p>
&lt;ol>
&lt;li>阳光好，（朝南）&lt;/li>
&lt;li>床板硬，不凹陷&lt;/li>
&lt;li>淋浴头水力充足&lt;/li>
&lt;li>独立卫浴，&lt;/li>
&lt;li>地铁口附近，&lt;/li>
&lt;li>没有汽车声音&lt;/li>
&lt;li>没有蟑螂老鼠，&lt;/li>
&lt;li>隔音好，&lt;/li>
&lt;li>马桶，是否正常使用&lt;/li>
&lt;li>热水器，是否正常使用&lt;/li>
&lt;li>冬天供暖多少度（集体供暖还是）&lt;/li>
&lt;li>空调制冷情况，&lt;/li>
&lt;li>房产证（是否和房东签合同）&lt;/li>
&lt;li>水电如何收费，怎么缴费（商电民电等，差距比较大）&lt;/li>
&lt;li>暖气费（一般是房东或者中介交）&lt;/li>
&lt;li>天花板是否漏水，这个不要因为不是顶楼就不看，不是顶楼照样漏水！&lt;/li>
&lt;li>设施损坏维修问题&lt;/li>
&lt;li>Wi-Fi，空调&lt;/li>
&lt;/ol>
&lt;p>根据这几个关键因素，找了两天的房子，终于有点收获，但是前期看房没有效率，耗费了不少的时间。此外，房子的地点需要额外精心挑选，离地铁近能省好多好多事情。。&lt;/p>
&lt;p>自如贵一些，服务质量高，但是个人感觉是有溢价的，因此如果自己懂的套路多，又不是很懒，就可以避免。&lt;/p>
&lt;p>链家和我爱我家，两大巨头，处理事情方便，房子相对小中介来言靠谱许多。&lt;/p>
&lt;p>一些公寓的评论——来自微博和知乎，许多都在讲存在管家态度不好，以及隔音差，维修慢等问题。我感觉这个还是要看付了多少钱。一分价钱一分货，如果价格低，不要奢求太多。&lt;/p></description></item><item><title># 解决 DD 之后 Mac 搞不定 USB 的问题</title><link>https://svtter.cn/p/%23-%E8%A7%A3%E5%86%B3-dd-%E4%B9%8B%E5%90%8E-mac-%E6%90%9E%E4%B8%8D%E5%AE%9A-usb-%E7%9A%84%E9%97%AE%E9%A2%98/</link><pubDate>Fri, 20 Jul 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%23-%E8%A7%A3%E5%86%B3-dd-%E4%B9%8B%E5%90%8E-mac-%E6%90%9E%E4%B8%8D%E5%AE%9A-usb-%E7%9A%84%E9%97%AE%E9%A2%98/</guid><description>&lt;p>搜索了一通（可能是关键字找的不对），发现 Mac 对于磁盘异常的解决方案着实不多，因此用以下粗暴方法解决；&lt;/p>
&lt;p>输入：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>diskutil list
&lt;/pre>
&lt;/div>
&lt;p>找到所需的 &lt;code>/dev/disk4&lt;/code>&lt;/p>
&lt;p>然后运行&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>sudo dd &lt;span class="k">if&lt;/span>&lt;span class="o">=&lt;/span>随便什么文件 &lt;span class="nv">of&lt;/span>&lt;span class="o">=&lt;/span>/dev/disk4
&lt;/pre>
&lt;/div>
&lt;p>此后再用&lt;code>disk utility.app&lt;/code>进行格式化等等即可。&lt;/p>
&lt;hr>
&lt;p>后来发现这个方法搞定的U盘往往出现一些诡异的问题，比如说在 Windows 的不同版本下无法读取，因此最好还是重新修复一下分区表。&lt;/p></description></item><item><title># Docker swarm 学习</title><link>https://svtter.cn/p/%23-docker-swarm-%E5%AD%A6%E4%B9%A0/</link><pubDate>Thu, 21 Jun 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%23-docker-swarm-%E5%AD%A6%E4%B9%A0/</guid><description>&lt;blockquote>
&lt;p>本文的学习过程主要是通过 Docker &lt;a class="link" href="https://docs.docker.com/get-started/part3/" target="_blank" rel="noopener"
>官方文档&lt;/a>&lt;/p>&lt;/blockquote>
&lt;p>花了一段时间学习 Docker swarm，一个docker的容器集群服务，来应对即将到来的高并发项目需求。&lt;/p>
&lt;h2 id="docker-machine">Docker machine
&lt;/h2>&lt;p>Docker machine 是 Docker 官方编排的项目之一，可以理解成一个 Docker 宿主机器的统一管理CLI，自部署不是很好用：目前国内仅仅 aliyun 支持，其他的我在官方文档中没有找到。&lt;/p>
&lt;p>Docker machine 的安装十分简单，通过官网提供的脚本即可，For Linux：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>$ &lt;span class="nv">base&lt;/span>&lt;span class="o">=&lt;/span>https://github.com/docker/machine/releases/download/v0.14.0 &lt;span class="o">&amp;&amp;&lt;/span>
curl -L &lt;span class="nv">$base&lt;/span>/docker-machine-&lt;span class="k">$(&lt;/span>uname -s&lt;span class="k">)&lt;/span>-&lt;span class="k">$(&lt;/span>uname -m&lt;span class="k">)&lt;/span> &amp;gt;/tmp/docker-machine &lt;span class="o">&amp;&amp;&lt;/span>
sudo install /tmp/docker-machine /usr/local/bin/docker-machine
&lt;/pre>
&lt;/div>
&lt;p>安装好以后，即可按照相关的操作进行运行。&lt;/p>
&lt;p>比如，创建两个虚拟机：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>$ docker-machine create --driver virtualbox myvm1
$ docker-machine create --driver virtualbox myvm2
&lt;/pre>
&lt;/div>
&lt;p>进入虚拟机：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>$ docker-machine ssh myvm1
&lt;/pre>
&lt;/div>
&lt;p>显示虚拟机&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>NAME ACTIVE DRIVER STATE URL SWARM DOCKER ERRORS
myvm1 - virtualbox Running tcp://192.168.99.100:2376 v18.05.0-ce
myvm2 - virtualbox Running tcp://192.168.99.101:2376 v18.05.0-ce
&lt;/pre>
&lt;/div>
&lt;p>然后即可在虚拟机的基础上进行相关的操作，十分方便。&lt;/p>
&lt;h2 id="docker-swarm">Docker-swarm
&lt;/h2>&lt;p>Docker swarm 则是一个集群的东西，基本的概念是，每个宿主机器都是一个 worker ，然后大家都加入一个东西，叫做 stack ，stack 里面有许多的 container ，每个宿主机器，也分别是一个 node 。&lt;/p>
&lt;p>这个 stack 是依据我们的 service 建立的，stack 中保存着 service 建立的名称，也可以通过 stack 查看相关的节点。&lt;/p>
&lt;p>每个 node 都可以运行多个 container ，swarm 会进行 &lt;strong>负载均衡&lt;/strong> ，这个就很酷了。&lt;/p>
&lt;img alt="图示" src="https://i2.wp.com/docs.docker.com/engine/swarm/images/ingress-routing-mesh.png?w=625&amp;#038;ssl=1" data-recalc-dims="1" />
&lt;p>在官方的例子中，&lt;code>docker-compose.yml&lt;/code>：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>version: "3"
services:
web:
# replace username/repo:tag with your name and image details
image: svtter/get-started:part2
deploy:
replicas: 5
resources:
limits:
cpus: "0.1"
memory: 50M
restart_policy:
condition: on-failure
ports:
- "4000:80"
networks:
- webnet
networks:
webnet:
&lt;/pre>
&lt;/div>
&lt;p>复制的 app service 数量为 5。&lt;/p>
&lt;p>大体上就是这个样子。&lt;/p>
&lt;blockquote>
&lt;p>想法&lt;/p>&lt;/blockquote>
&lt;p>行文至此，想到可以进一步学习，然后去一些相关的社区学习一波。（不过按照之前的经验，很多社区的质量都不高，讨论纯属浪费时间。）&lt;/p>
&lt;p>学完这些东西，至少可以把自己的服务器升级一波，做成标准的&lt;code>DevOps&lt;/code>，以及充分利用服务器资源了。&lt;/p>
&lt;h2 id="code">Code
&lt;/h2>&lt;p>&lt;a class="link" href="https://github.com/Svtter/Docker_Swarm_Test" target="_blank" rel="noopener"
>GitHub – Svtter/Docker_Swarm_Test: a Docker swarm example project. Reference to official document.&lt;/a>&lt;/p></description></item><item><title># Python文件操作</title><link>https://svtter.cn/p/%23-python%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/</link><pubDate>Tue, 19 Jun 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%23-python%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/</guid><description>&lt;p>Python的文件操作很多，为了方便以后查询使用，在此做下记录。&lt;/p>
&lt;p>注：这些函数都可以在官网查询，这里做个cache。&lt;/p>
&lt;h2 id="遍历文件">遍历文件
&lt;/h2>&lt;p>遍历当前文件夹，并且&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="nb">file&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">listdir&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="n">file_path&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">join&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">file&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">file_path&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h2 id="判断文件是否存在">判断文件是否存在
&lt;/h2>&lt;p>判断文件是否存在，如果不存在，创建新文件夹&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="k">if&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">exists&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">mkdir&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h2 id="删除文件">删除文件
&lt;/h2>&lt;p>递归的删除文件&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="kn">import&lt;/span> &lt;span class="nn">shutil&lt;/span>
&lt;span class="n">shutil&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">rmtree&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">file&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>&lt;a class="link" href="https://docs.python.org/2/library/shutil.html#" target="_blank" rel="noopener"
>shutil&lt;/a>是一个&lt;code>high-level file operations&lt;/code>，因此相对于其他的&lt;code>python&lt;/code>接口，更加偏向于人们的习惯性思维。&lt;/p></description></item><item><title>Maven小记</title><link>https://svtter.cn/p/maven%E5%B0%8F%E8%AE%B0/</link><pubDate>Thu, 14 Jun 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/maven%E5%B0%8F%E8%AE%B0/</guid><description>&lt;blockquote>
&lt;p>发现maven与Java，别有一番乐趣&lt;/p>&lt;/blockquote>
&lt;p>入门建议：&lt;/p>
&lt;p>&lt;a class="link" href="https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html" target="_blank" rel="noopener"
>https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html&lt;/a>&lt;/p>
&lt;p>现在很多文章其实写的都不如官方的文章，但是人们总是习惯性的从百度获取自己想要的某些资源。&lt;/p>
&lt;h2 id="maven编译依赖">maven编译依赖
&lt;/h2>&lt;p>一般情况下，maven不会把依赖的包编译到自己的&lt;code>jar&lt;/code>包里面，我猜和&lt;code>dll&lt;/code>的出发点是一样的，减少内存的占用（减少相同内容在内存中的冗余）。&lt;/p>
&lt;p>但是有时候我们不能确保宿主的机器也有同样的东西，因此有时候需要把依赖编译进去。&lt;/p>
&lt;p>我们可以这样做，在&lt;code>pom.xml&lt;/code>中，添加字段：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span> &lt;span class="c">&amp;lt;!--构建依赖--&amp;gt;&lt;/span>
&lt;span class="nt">&amp;lt;build&amp;gt;&lt;/span>
&lt;span class="nt">&amp;lt;plugins&amp;gt;&lt;/span>
&lt;span class="nt">&amp;lt;plugin&amp;gt;&lt;/span>
&lt;span class="nt">&amp;lt;groupId&amp;gt;&lt;/span>org.apache.maven.plugins&lt;span class="nt">&amp;lt;/groupId&amp;gt;&lt;/span>
&lt;span class="nt">&amp;lt;artifactId&amp;gt;&lt;/span>maven-shade-plugin&lt;span class="nt">&amp;lt;/artifactId&amp;gt;&lt;/span>
&lt;span class="nt">&amp;lt;version&amp;gt;&lt;/span>1.6&lt;span class="nt">&amp;lt;/version&amp;gt;&lt;/span>
&lt;span class="nt">&amp;lt;executions&amp;gt;&lt;/span>
&lt;span class="nt">&amp;lt;execution&amp;gt;&lt;/span>
&lt;span class="nt">&amp;lt;phase&amp;gt;&lt;/span>package&lt;span class="nt">&amp;lt;/phase&amp;gt;&lt;/span>
&lt;span class="nt">&amp;lt;goals&amp;gt;&lt;/span>
&lt;span class="nt">&amp;lt;goal&amp;gt;&lt;/span>shade&lt;span class="nt">&amp;lt;/goal&amp;gt;&lt;/span>
&lt;span class="nt">&amp;lt;/goals&amp;gt;&lt;/span>
&lt;span class="nt">&amp;lt;/execution&amp;gt;&lt;/span>
&lt;span class="nt">&amp;lt;/executions&amp;gt;&lt;/span>
&lt;span class="nt">&amp;lt;/plugin&amp;gt;&lt;/span>
&lt;span class="nt">&amp;lt;/plugins&amp;gt;&lt;/span>
&lt;span class="nt">&amp;lt;/build&amp;gt;&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>由此，就可以把需要的依赖包同时编译进去了。&lt;/p>
&lt;p>针对&lt;code>mvn&lt;/code>，我上传了一个二维码扫描的例程，可供参考：https://github.com/Svtter/zxing-example&lt;/p></description></item><item><title>Python拆包的好处</title><link>https://svtter.cn/p/python%E6%8B%86%E5%8C%85%E7%9A%84%E5%A5%BD%E5%A4%84/</link><pubDate>Tue, 12 Jun 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/python%E6%8B%86%E5%8C%85%E7%9A%84%E5%A5%BD%E5%A4%84/</guid><description>&lt;h2 id="内容">内容
&lt;/h2>&lt;p>在最近的一期 realpython 中，我阅读到了这样一段代码：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="c1"># Why Python Is Great:&lt;/span>
&lt;span class="c1"># Function argument unpacking&lt;/span>
&lt;span class="k">def&lt;/span> &lt;span class="nf">myfunc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">z&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="k">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">z&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">tuple_vec&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">dict_vec&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="s1">&amp;#39;x&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;y&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;z&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">}&lt;/span>
&lt;span class="o">&amp;gt;&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">myfunc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">tuple_vec&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;span class="o">&amp;gt;&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">myfunc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">**&lt;/span>&lt;span class="n">dict_vec&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>之前因为：&lt;/p>
&lt;ol>
&lt;li>这个东西不是很直观&lt;/li>
&lt;li>这个可能造成参数混乱&lt;/li>
&lt;/ol>
&lt;p>而不是很在意这段代码。现在想来，真是很方便的一个东西：我们可以通过这个特性，轻松的拆解&lt;code>response.json&lt;/code>这个&lt;code>dict&lt;/code>，从而直接使用参数。&lt;/p>
&lt;p>注意一点，如果一个函数的参数超过三个，说明你需要拆解这个函数，而不是被参数的数量搞得焦头烂额。&lt;/p>
&lt;h2 id="具体例子">具体例子
&lt;/h2>&lt;p>这个方法可以方便很多事情，比如说，我可以这样来重新构建输出的变量，而不是一个个&lt;code>print&lt;/code>&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="k">def&lt;/span> &lt;span class="nf">add_parameters&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">params&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">**&lt;/span>&lt;span class="n">kwargs&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="sd">"""add kwargs to dict&lt;/span>
&lt;span class="sd"> Args:&lt;/span>
&lt;span class="sd"> params: the dict need to add&lt;/span>
&lt;span class="sd"> kwargs: variable&lt;/span>
&lt;span class="sd"> """&lt;/span>
&lt;span class="n">params&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">update&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">kwargs&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">params&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;span class="n">add_parameters&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">params&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n">x_train&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">x_train&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">shape&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n">y_train&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">y_train&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">shape&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n">x_test&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">x_test&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">shape&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n">y_test&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">y_test&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">shape&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">pretty&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">params&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>Ubuntu 脱坑指南</title><link>https://svtter.cn/p/ubuntu-%E8%84%B1%E5%9D%91%E6%8C%87%E5%8D%97/</link><pubDate>Tue, 29 May 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/ubuntu-%E8%84%B1%E5%9D%91%E6%8C%87%E5%8D%97/</guid><description>&lt;p>希望本文能够给读者较少一些不必要的困扰。书写顺序较为随意，以&lt;/p>
&lt;p>“从安装到使用”这个为主线行文。&lt;/p>
&lt;h2 id="安装时">安装时
&lt;/h2>&lt;blockquote>
&lt;p>本文不在此具体介绍如何安装&lt;code>Ubuntu&lt;/code>。对于安装过程的建议，本文会写在&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>内容之中。安装之前，建议阅读本文。&lt;/p>&lt;/blockquote>
&lt;h3 id="使用非定制的iso">使用非定制的ISO
&lt;/h3>&lt;p>不要使用Lubuntu，Kubuntu甚至Gnome Ubuntu这些更改了默认桌面环境的Ubuntu。&lt;/p>
&lt;p>对于新手而言，Ubuntu本身就很脆弱，使用这些定制的ISO，不仅不利于提升用户&lt;/p>
&lt;p>体验，反而会在非重点的地方极大的消耗时间。对了，Kylin也是不推荐的，尽管&lt;/p>
&lt;p>官方甚至都把它挂在了首页。&lt;/p>
&lt;p>唯一建议使用的ISO是&lt;a class="link" href="https://www.ubuntu.com/download/desktop" target="_blank" rel="noopener"
>官方下载地址&lt;/a>。&lt;/p>
&lt;h3 id="使用英文系统">使用英文系统
&lt;/h3>&lt;p>中文系统可能会导致许多问题。比如，如果一个软件不支持中文路径，你可能需要&lt;/p>
&lt;p>排查很久才能想到这个问题。除此之外还有其他的一些问题，比如在命令行中进入&lt;/p>
&lt;p>一个目录，你可能需要切换输入法，然后再切换回来，十分不方便。还有一些暗含&lt;/p>
&lt;p>的问题，我已经记不清了，也没有精力去探索这些问题，因为我们的目的是“脱坑”。&lt;/p>
&lt;p>因此，使用英文作为系统语言可以解决很多问题。唯一引入的问题可能是英文的阅&lt;/p>
&lt;p>读障碍。我想这应该是一个需要克服的问题。&lt;/p>
&lt;blockquote>
&lt;p>如果使用英文調不出輸入法，可以嘗試添加中文支持，再去掉&lt;/p>&lt;/blockquote>
&lt;h3 id="不要挑战花式安装">不要挑战花式安装
&lt;/h3>&lt;p>我这里的花式安装是指，&lt;code>/home&lt;/code>做一个分区，&lt;code>/boot&lt;/code>做一个分区这种事；还有就&lt;/p>
&lt;p>是在固态上放一个区，在其他位置再放一个区等。这种事情不要做。是的，不要做。&lt;/p>
&lt;p>在我看来，这种事情毫无意义，对于新手而言，基本上不会有时间让系统稳定到&lt;/p>
&lt;p>硬盘不够用。&lt;/p>
&lt;p>把根目录&lt;code>/&lt;/code>挂到一个大分区下，100G，所有问题就都解决了。当空间不足需要重装，&lt;/p>
&lt;p>恭喜，你可能已经不是新手了，很多问题都可以不再按照此指南进行了。你可以&lt;/p>
&lt;p>尝试按照你自己的意图去配置系统了。&lt;/p>
&lt;h2 id="使用">使用
&lt;/h2>&lt;p>下面是使用部分。使用部分是，第一次进行安装之后，第一次进入桌面。&lt;/p>
&lt;h3 id="不要添加第三方ppa">不要添加第三方PPA
&lt;/h3>&lt;p>我把这条忠告写在最前面。如果你不知道什么叫做第三方ppa，那么很好，&lt;/p>
&lt;p>我的意思是，在你了解它是什么之前，不要通过&lt;code>apt&lt;/code>与&lt;code>software center&lt;/code>&lt;/p>
&lt;p>以外的方式安装软件。这可以很大程度的保护你的软件包管理工具。修复&lt;/p>
&lt;p>软件包管理工具需要消耗的时间可能很多，而且问题往往是链式的，总会&lt;/p>
&lt;p>给新手造成“我以为我解决了”这样的错觉。&lt;/p>
&lt;blockquote>
&lt;p>&lt;code>sudo add-apt-repository ppa:kelleyk/emacs&lt;/code> 这就是我所说的PPA。&lt;/p>
&lt;p>Vim 和 Emacs 都是我的最爱。&lt;/p>&lt;/blockquote>
&lt;h3 id="不要在输入法上耗费太多时间">不要在输入法上耗费太多时间
&lt;/h3>&lt;p>输入法如果花费一上午都没有解决的话，建议放弃。因为Ubuntu官方的版本&lt;/p>
&lt;p>有时候给出的中文输入法都可能无法使用。&lt;/p>
&lt;p>如果真的需要输入中文，可以先考虑使用中文搜索引擎做pinyin的转换。不过&lt;/p>
&lt;p>你真的需要中文，并且在Ubuntu下做文字处理的工作吗？&lt;/p>
&lt;h3 id="多运行apt-get-update">多运行&lt;code>apt-get update&lt;/code>
&lt;/h3>&lt;p>是的。更换国内源这个事情我是建议的，个人对于&lt;code>tsinghua&lt;/code>的源非常喜欢，&lt;/p>
&lt;p>尽管它崩的概率也有点高，不过在&lt;code>ipv6&lt;/code>以及速度上都太令人满意了。&lt;/p>
&lt;p>源的不稳定可能造成的问题是，没有完全将软件依赖更新好。&lt;/p>
&lt;p>如果你不知道我在说什么，没关系，&lt;code>apt&lt;/code>命令出现问题时，多运行&lt;code>apt-get update&lt;/code>&lt;/p>
&lt;p>就可以了。&lt;/p>
&lt;h3 id="官方文档为主">官方文档为主
&lt;/h3>&lt;p>Ubuntu的很多问题，都是国内博主在写文章时比较随意造成的（我也挖这种坑）。&lt;/p>
&lt;p>在进行软件安装的时候，新手往往在国内搜索某个教程就复制粘贴了。这是非常&lt;/p>
&lt;p>容易出问题的，且不论安全性，甚至教程本身都无法使得软件正常运行。这里面&lt;/p>
&lt;p>包含很多种可能：文章不再更新，系统已经不适配；教程缺斤少两等等。&lt;/p>
&lt;p>安装软件先以官方文档为主，也就是软件的官方网站，一般都会有文档。文档可能&lt;/p>
&lt;p>不好读，但是起码能够减少问题。其次是Ubuntu官方的安装指南；再其次是google&lt;/p>
&lt;p>第一位的安装指南（前提是新手能明白每一步都在做什么）；没有最后。&lt;/p>
&lt;blockquote>
&lt;p>能用&lt;code>apt-get install&lt;/code>解决的问题，不要通过&lt;code>make&lt;/code>解决。&lt;/p>&lt;/blockquote>
&lt;h3 id="尽量不使用sudo">尽量不使用&lt;code>sudo&lt;/code>
&lt;/h3>&lt;p>除非是按照官方文档进行操作（不排除无良软件开发者挖坑导致运行时出问题），&lt;/p>
&lt;p>否则使用&lt;code>sudo&lt;/code>，这个超级用户权限，可能带来很多问题。比如运行库版本不匹配，&lt;/p>
&lt;p>图形界面挂掉等等。&lt;/p>
&lt;h2 id="常见问题解决方案">常见问题解决方案
&lt;/h2>&lt;p>这里列出一些常见问题，以及解决的方法。&lt;/p>
&lt;h3 id="所有问题">所有问题
&lt;/h3>&lt;p>重启。&lt;/p>
&lt;h3 id="图形界面崩">图形界面崩
&lt;/h3>&lt;p>&lt;code>sudo apt-get install --reinstall ubuntu-desktop&lt;/code>&lt;/p>
&lt;h2 id="补充">补充
&lt;/h2>&lt;p>其他常见问题可以通过&lt;code>blog#svtter.cn&lt;/code>与我沟通，我将做出补充。&lt;/p></description></item><item><title>博客最近没更新</title><link>https://svtter.cn/p/%E5%8D%9A%E5%AE%A2%E6%9C%80%E8%BF%91%E6%B2%A1%E6%9B%B4%E6%96%B0/</link><pubDate>Tue, 22 May 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%8D%9A%E5%AE%A2%E6%9C%80%E8%BF%91%E6%B2%A1%E6%9B%B4%E6%96%B0/</guid><description>&lt;p>感觉博客样式太丑了，不想更新&lt;/p></description></item><item><title>批量转换ipynb</title><link>https://svtter.cn/p/%E6%89%B9%E9%87%8F%E8%BD%AC%E6%8D%A2ipynb/</link><pubDate>Fri, 20 Apr 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E6%89%B9%E9%87%8F%E8%BD%AC%E6%8D%A2ipynb/</guid><description>&lt;p>一段脚本将&lt;code>ipython notebook&lt;/code>转化为&lt;code>py&lt;/code>文件。&lt;/p>
&lt;p>It’s hard to make &lt;code>notebook&lt;/code> file to &lt;code>import&lt;/code> so it’s important to make &lt;code>notebook&lt;/code> importable.&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="ch">#!/usr/bin/env python&lt;/span>
&lt;span class="c1"># coding: utf-8&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">nbformat&lt;/span>
&lt;span class="kn">from&lt;/span> &lt;span class="nn">nbconvert&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">PythonExporter&lt;/span>
&lt;span class="k">def&lt;/span> &lt;span class="nf">convertNotebook&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">notebookPath&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">modulePath&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="k">with&lt;/span> &lt;span class="nb">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">notebookPath&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">fh&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">nb&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">nbformat&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">reads&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">fh&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">read&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">nbformat&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">NO_CONVERT&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">exporter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">PythonExporter&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="n">source&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">meta&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">exporter&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">from_notebook_node&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">nb&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">with&lt;/span> &lt;span class="nb">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">modulePath&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;w+&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">fh&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">fh&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">writelines&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">source&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">def&lt;/span> &lt;span class="nf">trans_all&lt;/span>&lt;span class="p">():&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">os&lt;/span>
&lt;span class="n">path&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;.&amp;#39;&lt;/span>
&lt;span class="n">list_dirs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">listdir&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="n">filename&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">list_dirs&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">filename&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">endswith&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;.ipynb&amp;#39;&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="k">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">filename&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">filename&lt;/span>&lt;span class="p">[:&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;py&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">convertNotebook&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">filename&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">filename&lt;/span>&lt;span class="p">[:&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;py&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">trans_all&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>与所有单词相关联的字串</title><link>https://svtter.cn/p/%E4%B8%8E%E6%89%80%E6%9C%89%E5%8D%95%E8%AF%8D%E7%9B%B8%E5%85%B3%E8%81%94%E7%9A%84%E5%AD%97%E4%B8%B2/</link><pubDate>Thu, 05 Apr 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E4%B8%8E%E6%89%80%E6%9C%89%E5%8D%95%E8%AF%8D%E7%9B%B8%E5%85%B3%E8%81%94%E7%9A%84%E5%AD%97%E4%B8%B2/</guid><description>&lt;h2 id="题目">题目
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://leetcode-cn.com/problems/substring-with-concatenation-of-all-words/description/" target="_blank" rel="noopener"
>https://leetcode-cn.com/problems/substring-with-concatenation-of-all-words/description/&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>给定一个字符串 s 和一些长度相同的单词 words，找出 s 与 words 中所有单词（words 每个单词只出现一次）串联一起（words 中组成串联串的单词的顺序随意）的字符串匹配的所有起始索引，子串要与串联串完全匹配，中间不能有其他字符。&lt;/p>
&lt;p>举个例子，给定：&lt;/p>
&lt;p>s：”barfoothefoobarman”&lt;/p>
&lt;p>words：[“foo”, “bar”]&lt;/p>
&lt;p>你应该返回的索引: [0,9]。（任意顺序）&lt;/p>
&lt;h2 id="题解">题解
&lt;/h2>&lt;p>代码写的比较清楚，应该不需要题解。。&lt;/p>
&lt;h2 id="code">code
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="k">class&lt;/span> &lt;span class="nc">Solution&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">def&lt;/span> &lt;span class="nf">match&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ss&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">word_dic&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="n">len_ss&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ss&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">word_number&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>
&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>
&lt;span class="k">while&lt;/span> &lt;span class="bp">True&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">word&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ss&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">len_of_word&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="c1"># keys() update&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">word&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">word_dic&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">word_dic&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">word&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">word_dic&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">word&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">-=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;span class="n">word_number&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;span class="c1"># is update&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">word_number&lt;/span> &lt;span class="ow">is&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">len_of_words&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="bp">True&lt;/span>
&lt;span class="c1"># repeat&lt;/span>
&lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="bp">False&lt;/span>
&lt;span class="c1"># not exist&lt;/span>
&lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="bp">False&lt;/span>
&lt;span class="n">i&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">len_of_word&lt;/span>
&lt;span class="k">def&lt;/span> &lt;span class="nf">findSubstring&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">words&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="sd">"""&lt;/span>
&lt;span class="sd"> :type s: str&lt;/span>
&lt;span class="sd"> :type words: List[str]&lt;/span>
&lt;span class="sd"> :rtype: List[int]&lt;/span>
&lt;span class="sd"> """&lt;/span>
&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">len_of_word&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">words&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">len_of_words&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">words&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">len_of_str&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">dict&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="n">word&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">words&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">word&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">word&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">word&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">a&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">update&lt;/span>&lt;span class="p">({&lt;/span>&lt;span class="n">word&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">})&lt;/span>
&lt;span class="n">index_recorder&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;span class="n">len_substr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">len_of_word&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">len_of_words&lt;/span>
&lt;span class="n">search_range&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">len_of_str&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">len_substr&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">search_range&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="n">ss&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">len_substr&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="n">word_dic&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">copy&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">match&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ss&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">word_dic&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="n">index_recorder&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">index_recorder&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="vm">__name__&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s1">&amp;#39;__main__&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">s&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">"wordgoodgoodgoodbestword"&lt;/span>
&lt;span class="n">words&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">"word"&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">"good"&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">"best"&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">"good"&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="n">so&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Solution&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="k">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">so&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">findSubstring&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">words&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>笔记列表</title><link>https://svtter.cn/p/%E7%AC%94%E8%AE%B0%E5%88%97%E8%A1%A8/</link><pubDate>Fri, 30 Mar 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E7%AC%94%E8%AE%B0%E5%88%97%E8%A1%A8/</guid><description>&lt;ul>
&lt;li>&lt;a class="link" href="https://sphinx-learn.readthedocs.io/zh_CN/latest/" target="_blank" rel="noopener"
>sphinx-learn&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="http://algorithm-note.readthedocs.io/zh_CN/latest/" target="_blank" rel="noopener"
>algorithm_note&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="http://python-note.readthedocs.io/zh_CN/latest/" target="_blank" rel="noopener"
>python_note&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>这些笔记用 Sphinx 进行书写的，Sphinx 着实不是特别好用，学习曲线有些陡峭，后面打算切换到语雀什么的，可能会舒服一些。就是可能不够自由。&lt;/p>
&lt;p>如果喜欢本博客，建议添加 RSS 订阅&lt;/p></description></item><item><title>获取本机ipv6地址</title><link>https://svtter.cn/p/%E8%8E%B7%E5%8F%96%E6%9C%AC%E6%9C%BAipv6%E5%9C%B0%E5%9D%80/</link><pubDate>Wed, 28 Feb 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E8%8E%B7%E5%8F%96%E6%9C%AC%E6%9C%BAipv6%E5%9C%B0%E5%9D%80/</guid><description>&lt;p>获取本机ipv6地址，最简单的方法：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>cat /proc/net/if_inet6
&lt;/pre>
&lt;/div>
&lt;p>还可以使用python的&lt;code>netinterface&lt;/code>包。&lt;/p>
&lt;p>&lt;code>ifconfig&lt;/code>也是从这个文件进行获取的，只是优化了一下格式。&lt;/p>
&lt;h2 id="reference">reference
&lt;/h2>&lt;ol>
&lt;li>&lt;a class="link" href="https://blog.lilydjwg.me/2012/6/6/get-ipv4-and-ipv6-addresses-of-local-host-in-a-programming-way.34055.html" target="_blank" rel="noopener"
>https://blog.lilydjwg.me/2012/6/6/get-ipv4-and-ipv6-addresses-of-local-host-in-a-programming-way.34055.html&lt;/a>&lt;/li>
&lt;/ol></description></item><item><title>使用 grub customizer 调教grub</title><link>https://svtter.cn/p/%E4%BD%BF%E7%94%A8-grub-customizer-%E8%B0%83%E6%95%99grub/</link><pubDate>Wed, 28 Feb 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E4%BD%BF%E7%94%A8-grub-customizer-%E8%B0%83%E6%95%99grub/</guid><description>&lt;p>调整grub总是需要搜索某个文件，某个配置，相当麻烦，近期找了一个比较不错的图形化配置管理器，&lt;code>grub customizer&lt;/code>，可以调整启动的内核，以及启动的画面，非常好用，安利一发。&lt;/p>
&lt;h2 id="安装">安装
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>sudo add-apt-repository ppa:danielrichter2007/grub-customizer
sudo apt-get update
sudo apt-get install grub-customizer
&lt;/pre>
&lt;/div>
&lt;h2 id="使用截图">使用截图
&lt;/h2>&lt;p>【日后补上】&lt;/p>
&lt;h2 id="reference">reference
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="http://ubuntuhandbook.org/index.php/2016/04/install-grub-customizer-ubuntu-16-04-lts/" target="_blank" rel="noopener"
>http://ubuntuhandbook.org/index.php/2016/04/install-grub-customizer-ubuntu-16-04-lts/&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="http://blog.csdn.net/lu_embedded/article/details/44353499" target="_blank" rel="noopener"
>grub讲解&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Visual Studio Code Tips - 0</title><link>https://svtter.cn/p/visual-studio-code-tips-0/</link><pubDate>Sat, 24 Feb 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/visual-studio-code-tips-0/</guid><description>&lt;p>使用vscode进行&lt;code>django&lt;/code>开发的时候，总会出现一些错误，比如说对&lt;code>Django&lt;/code>的一些结构进行错误的报错；&lt;/p>
&lt;p>这个时候可以安装&lt;code>pylint-django&lt;/code>这个插件。&lt;/p>
&lt;p>安装方法：&lt;code>pip install pylint-django&lt;/code>&lt;/p>
&lt;p>使用：&lt;/p>
&lt;p>在&lt;code>.vscode/&lt;/code>配置文件中增加：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;pylint.args&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;load-plugins=pylint_django&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>即可。&lt;/p>
&lt;h2 id="参考">参考
&lt;/h2>&lt;p>&lt;a class="link" href="https://stackoverflow.com/questions/45135263/class-has-no-objects-member" target="_blank" rel="noopener"
>https://stackoverflow.com/questions/45135263/class-has-no-objects-member&lt;/a>&lt;/p></description></item><item><title>python如何使用不可变量const</title><link>https://svtter.cn/p/python%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E4%B8%8D%E5%8F%AF%E5%8F%98%E9%87%8Fconst/</link><pubDate>Tue, 06 Feb 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/python%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E4%B8%8D%E5%8F%AF%E5%8F%98%E9%87%8Fconst/</guid><description>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="c1"># python2&lt;/span>
&lt;span class="c1"># Put in const.py...:&lt;/span>
&lt;span class="k">class&lt;/span> &lt;span class="nc">_const&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">class&lt;/span> &lt;span class="nc">ConstError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="ne">TypeError&lt;/span>&lt;span class="p">):&lt;/span> &lt;span class="k">pass&lt;/span>
&lt;span class="k">def&lt;/span> &lt;span class="fm">__setattr__&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">value&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="vm">__dict__&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">has_key&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="k">raise&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ConstError&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">"Can&amp;#39;t rebind const(&lt;/span>&lt;span class="si">%s&lt;/span>&lt;span class="s2">)"&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="n">name&lt;/span>
&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="vm">__dict__&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">value&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">sys&lt;/span>
&lt;span class="n">sys&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">modules&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="vm">__name__&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">_const&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="c1"># that&amp;#39;s all -- now any client-code can&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">const&lt;/span>
&lt;span class="c1"># and bind an attribute ONCE:&lt;/span>
&lt;span class="n">const&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">magic&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">23&lt;/span>
&lt;span class="c1"># but NOT re-bind it:&lt;/span>
&lt;span class="n">const&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">magic&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">88&lt;/span> &lt;span class="c1"># raises const.ConstError&lt;/span>
&lt;span class="c1"># you may also want to add the obvious __delattr__&lt;/span>
&lt;/pre>
&lt;/div>
&lt;hr>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="c1"># python3 version&lt;/span>
&lt;span class="k">class&lt;/span> &lt;span class="nc">_const&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">class&lt;/span> &lt;span class="nc">ConstError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="ne">TypeError&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="k">pass&lt;/span>
&lt;span class="k">def&lt;/span> &lt;span class="fm">__setattr__&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">value&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">name&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="vm">__dict__&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">raise&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ConstError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">"Can&amp;#39;t rebind const(&lt;/span>&lt;span class="si">%s&lt;/span>&lt;span class="s2">)"&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="vm">__dict__&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">value&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">sys&lt;/span>
&lt;span class="n">sys&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">modules&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="vm">__name__&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">_const&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>这样一来，就可以在python中使用不可变量了。其中，利用魔术方法&lt;code>__setattr__&lt;/code>，把一个变量当作是&lt;code>const&lt;/code>类的属性，然后使用&lt;code>__dict__&lt;/code>来判断当前变量是否已经存在。&lt;/p>
&lt;p>通过这个技巧我们还能构造出一系列有意思的东西——&lt;/p>
&lt;h2 id="运行截图">运行截图
&lt;/h2>&lt;img alt="" src="https://i2.wp.com/ws1.sinaimg.cn/large/c53b1907ly1fo6qa3mr0mj20ve0kg0vx.jpg?w=625&amp;#038;ssl=1" data-recalc-dims="1" />
&lt;h2 id="refer">refer
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://gist.github.com/Svtter/c96e3259e264621e8bc1ab45b4c2675a" target="_blank" rel="noopener"
>https://gist.github.com/Svtter/c96e3259e264621e8bc1ab45b4c2675a&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="http://code.activestate.com/recipes/65207-constants-in-python/?in=user-97991" target="_blank" rel="noopener"
>http://code.activestate.com/recipes/65207-constants-in-python/?in=user-97991&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Keras坑</title><link>https://svtter.cn/p/keras%E5%9D%91/</link><pubDate>Thu, 01 Feb 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/keras%E5%9D%91/</guid><description>&lt;p>使用Keras做分类的时候踩了一个坑，也是拿来主义的锅，估计也有不少同志遇到。&lt;/p>
&lt;p>在进行分类的时候，往往使用&lt;code>categorical_crossentropy&lt;/code>，有时候萌新（像我）会用&lt;code>binary_crossentropy&lt;/code>，虽然结果可能上浮30%，但是这个结果是不对的。&lt;code>model.fit&lt;/code>以及&lt;code>model.evaluate&lt;/code>给出的&lt;code>acc&lt;/code>的值都是有问题的，正确的计算方法应该是：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Actual accuracy calculated manually:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">y_pred&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">model&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">predict&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x_test&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">acc&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">sum&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">argmax&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">y_test&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">])&lt;/span>&lt;span class="o">==&lt;/span>&lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">argmax&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">y_pred&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">10000&lt;/span>&lt;span class="p">)])&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">10000&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>其中&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">numpy&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">argmax&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">axis&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">None&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">out&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">None&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 返回沿轴axis最大值的索引。&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>使用测试样本的数量代替&lt;code>10000&lt;/code>，输出的acc才是正确的结果。&lt;/p>
&lt;p>这个方法是使用二分类的时候才能使用的，label的个数多于2就不能使用。&lt;/p>
&lt;h2 id="参考">参考
&lt;/h2>&lt;p>&lt;a class="link" href="https://stackoverflow.com/questions/42081257/keras-binary-crossentropy-vs-categorical-crossentropy-performance" target="_blank" rel="noopener"
>https://stackoverflow.com/questions/42081257/keras-binary-crossentropy-vs-categorical-crossentropy-performance&lt;/a>&lt;/p></description></item><item><title>如何配置终端</title><link>https://svtter.cn/p/%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AE%E7%BB%88%E7%AB%AF/</link><pubDate>Tue, 30 Jan 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AE%E7%BB%88%E7%AB%AF/</guid><description>&lt;p>配置终端是许多人头疼的问题，比如配置之后没有达到自己预先想要的效果，但是又总是不知道哪里出了问题，或者配置完成之后又遭遇了很多烦恼。&lt;/p>
&lt;p>本文的作用是解决这些问题，或者为解决这些问题提供一个思路。&lt;/p>
&lt;h2 id="颜色不对">颜色不对
&lt;/h2>&lt;p>颜色不对可能有很多原因，但归根结底是两个问题，一个是TERM环境变量没有设置好，另一个是当前使用的终端app不支持真彩色。&lt;/p>
&lt;p>处理term可以使用&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>export TERM=xterm-256color
&lt;/pre>
&lt;/div>
&lt;p>把它加载到你的rc文件里。有些人使用zsh，那么加入到&lt;code>~.zshrc&lt;/code>里面。有些人使用bash，那么加入到&lt;code>~/.bashrc&lt;/code>里面。&lt;/p>
&lt;p>解决app真彩色问题，可以参考这个链接：https://gist.github.com/XVilka/8346728&lt;/p>
&lt;p>Ubuntu14.04版本下默认的terminal是不支持真彩色的。&lt;/p>
&lt;h2 id="乱码">乱码
&lt;/h2>&lt;p>终端乱码很大程度上是因为当前的字体不支持输出的字符。这个时候安装一个字符集支持比较齐全的字体即可。常见的字体比如nerd fonts，包含了常用字体+许多的符号字体的集合，因此找到自己心水的字体，安装并且替换即可解决这些问题。&lt;/p>
&lt;p>可能还有许多问题我没有想到，可以在留言区提出，我一并加上。&lt;/p></description></item><item><title>ROS 开发tips</title><link>https://svtter.cn/p/ros-%E5%BC%80%E5%8F%91tips/</link><pubDate>Sun, 28 Jan 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/ros-%E5%BC%80%E5%8F%91tips/</guid><description>&lt;p>这是我进行ros开发的几个比较有用但是ros-wiki中没有明确点出的。&lt;/p>
&lt;h2 id="使用catkin的清除命令">使用catkin的清除命令
&lt;/h2>&lt;p>如果使用rosbuild进行此操作，可以使用：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>rosmake --target=clean
&lt;/pre>
&lt;/div>
&lt;p>如果使用catkin&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>$ &lt;span class="nb">cd&lt;/span> ~/catkin_ws
$ rm -rf devel build install
&lt;/pre>
&lt;/div>
&lt;p>执行以上命令后，可以像往常一下构建数据包&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>$ &lt;span class="nb">cd&lt;/span> ~/catkin_ws
$ catkin_make
$ &lt;span class="nb">source&lt;/span> devel/setup.zsh
&lt;/pre>
&lt;/div>
&lt;h2 id="重新构建单独的catkin包">重新构建单独的catkin包
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>$ &lt;span class="nb">cd&lt;/span> ~/catkin_ws
$ catkin_make --pkg package_name
&lt;/pre>
&lt;/div>
&lt;p>编译单独的包&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>catkin_make -DCATKIN_WHITELIST_PACKAGES=&amp;#39;kinect2_viewer&amp;#39;
&lt;/pre>
&lt;/div>
&lt;h2 id="ros-image转换为cvmat格式提供opencv使用">ROS image转换为cv::Mat格式，提供opencv使用
&lt;/h2>&lt;p>&lt;a class="link" href="http://wiki.ros.org/cv_bridge/Tutorials/ConvertingBetweenROSImagesAndOpenCVImagesPython" target="_blank" rel="noopener"
>http://wiki.ros.org/cv_bridge/Tutorials/ConvertingBetweenROSImagesAndOpenCVImagesPython&lt;/a>&lt;/p>
&lt;h2 id="参考">参考
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://www.amazon.cn/dp/B01CXMPF0C/ref=sr_1_3?ie=UTF8&amp;amp;qid=1517118613&amp;amp;sr=8-3&amp;amp;keywords=ros" target="_blank" rel="noopener"
>ros入门实践&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>ROS消息开发</title><link>https://svtter.cn/p/ros%E6%B6%88%E6%81%AF%E5%BC%80%E5%8F%91/</link><pubDate>Sun, 28 Jan 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/ros%E6%B6%88%E6%81%AF%E5%BC%80%E5%8F%91/</guid><description>&lt;ul>
&lt;li>ROS常用的消息：http://wiki.ros.org/common_msgs&lt;/li>
&lt;li>ROS消息wiki：http://wiki.ros.org/msg&lt;/li>
&lt;/ul>
&lt;h2 id="ros消息开发参照">ROS消息开发参照：
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="http://blog.csdn.net/u013453604/article/details/72903398" target="_blank" rel="noopener"
>csdn&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="http://wiki.ros.org/cn/ROS/Tutorials" target="_blank" rel="noopener"
>http://wiki.ros.org/cn/ROS/Tutorials&lt;/a>&lt;/li>
&lt;li>定制自己的消息类型：[csdn&lt;/li>
&lt;/ul>
&lt;p>]&lt;a class="link" href="http://blog.csdn.net/heyijia0327/article/details/41654963" target="_blank" rel="noopener"
>2&lt;/a>&lt;/p>
&lt;p>开发自己的消息类型的时候要依据原本的消息类型来定义，定义消息的作用是，定义过的消息可以被python，以及cpp引入。进行开发的时候，可以参考给出的例子进行msg的开发。&lt;/p></description></item><item><title>Tensorflow与Ros进行集成</title><link>https://svtter.cn/p/tensorflow%E4%B8%8Eros%E8%BF%9B%E8%A1%8C%E9%9B%86%E6%88%90/</link><pubDate>Sun, 28 Jan 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/tensorflow%E4%B8%8Eros%E8%BF%9B%E8%A1%8C%E9%9B%86%E6%88%90/</guid><description>&lt;p>这是一个可以参考的&lt;a class="link" href="https://gist.github.com/Svtter/a795435e45b154e5b7660ae0d0eb83eb" target="_blank" rel="noopener"
>例子&lt;/a>。&lt;/p>
&lt;p>还有一个例子是根据他人开发进行修改的，参见&lt;a class="link" href="https://github.com/USTB-MICL/ros_object_detector/blob/master/scripts/tf_object_detector.py" target="_blank" rel="noopener"
>这里&lt;/a>&lt;/p>
&lt;p>通过这个例子，可以调用Tensorflow – object – detection – API。&lt;/p>
&lt;p>【挖坑】&lt;/p></description></item><item><title>使用Fabric进行部署</title><link>https://svtter.cn/p/%E4%BD%BF%E7%94%A8fabric%E8%BF%9B%E8%A1%8C%E9%83%A8%E7%BD%B2/</link><pubDate>Sat, 27 Jan 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E4%BD%BF%E7%94%A8fabric%E8%BF%9B%E8%A1%8C%E9%83%A8%E7%BD%B2/</guid><description>&lt;blockquote>
&lt;p>Fabric是一个可以在远程机器上运行命令的库&lt;/p>&lt;/blockquote>
&lt;p>Fabric官方目前只支持Python2版本，但是有勤劳的人开发出了适配Python3的版本。具体可以查看这个&lt;a class="link" href="https://github.com/mathiasertl/fabric/" target="_blank" rel="noopener"
>fork&lt;/a>。&lt;/p>
&lt;h2 id="fabric的使用">Fabric的使用
&lt;/h2>&lt;p>我在使用Fabric的时候主要是用于部署我的网站。使用时候，首先需要引入所有的API：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="c1"># 导入Fabric API:&lt;/span>
&lt;span class="kn">from&lt;/span> &lt;span class="nn">fabric.api&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="o">*&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>这样就可以导入Fabric的API进行远程控制啦。&lt;/p>
&lt;h2 id="具体问题">具体问题
&lt;/h2>&lt;ul>
&lt;li>git需要输入密码&lt;/li>
&lt;/ul>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="n">env&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">forward_agent&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">True&lt;/span>
&lt;/pre>
&lt;/div>
&lt;ul>
&lt;li>ssh通过秘钥链接&lt;/li>
&lt;/ul>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="c1"># 使用秘钥&lt;/span>
&lt;span class="n">env&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">key_filename&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;/Users/xiuhao/.ssh/key&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/pre>
&lt;/div>
&lt;ul>
&lt;li>使用root&lt;/li>
&lt;/ul>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="c1"># 服务器登录用户名:&lt;/span>
&lt;span class="n">env&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">user&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;ubuntu&amp;#39;&lt;/span>
&lt;span class="c1"># sudo用户为root:&lt;/span>
&lt;span class="n">env&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sudo_user&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;root&amp;#39;&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h2 id="一个简单的部署例子">一个简单的部署例子
&lt;/h2>&lt;p>这个部署例子结合了更新代码，进入指定目录，运行命令等。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="n">BASE_DIR&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;/home/ubuntu/django_blog&amp;#39;&lt;/span>
&lt;span class="k">def&lt;/span> &lt;span class="nf">deploy&lt;/span>&lt;span class="p">():&lt;/span>
&lt;span class="sd">"""&lt;/span>
&lt;span class="sd"> deploy new changes&lt;/span>
&lt;span class="sd"> """&lt;/span>
&lt;span class="k">with&lt;/span> &lt;span class="n">cd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">BASE_DIR&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="n">run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;git pull&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;make down&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;make up&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>写好文件以后，保存为&lt;code>fabfile.py&lt;/code>，运行&lt;code>fab deploy&lt;/code>即可部署。&lt;code>deploy&lt;/code>对应着&lt;code>deploy()&lt;/code>函数。&lt;/p>
&lt;p>NOTE：不在远程服务器上使用ssh的git仓库，是因为担心服务器被&lt;code>hack&lt;/code>连累我的&lt;code>git repo&lt;/code>。&lt;/p>
&lt;h2 id="参考资料">参考资料
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/0014323392805925d5b69ddad514511bf0391fe2a0df2b0000" target="_blank" rel="noopener"
>廖雪峰 15days&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/mathiasertl/fabric/" target="_blank" rel="noopener"
>python3-fabric&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>写博客这个事情</title><link>https://svtter.cn/p/%E5%86%99%E5%8D%9A%E5%AE%A2%E8%BF%99%E4%B8%AA%E4%BA%8B%E6%83%85/</link><pubDate>Tue, 23 Jan 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%86%99%E5%8D%9A%E5%AE%A2%E8%BF%99%E4%B8%AA%E4%BA%8B%E6%83%85/</guid><description>&lt;p>写博客这个事情不是我自发进行的，成因也很有趣，是在本科&lt;a class="link" href="https://blog.csdn.net/sxhelijian" target="_blank" rel="noopener"
>贺立坚&lt;/a>老师的指导下坚持下来的。&lt;/p>
&lt;p>写博客的优点其实可以想出很多，但是于我而言，其根本原因还是：&lt;/p>
&lt;blockquote>
&lt;p>我做了一些让我自己很得意的东西，想给大家看看&lt;/p>&lt;/blockquote>
&lt;p>这就是我的初衷。此外，&lt;a class="link" href="https://blog.csdn.net/svitter" target="_blank" rel="noopener"
>CSDN 排名&lt;/a>的上升以及一些统计数据的观察也可以给我带来许多欢乐，这是一步步坚持下来收获的。&lt;/p>
&lt;p>有许多优质的博客给我带来了许多收获，我不认为那些作者，做这种事情就是“有所图谋”的，很多时候都是无私奉献的一种精神，就像是开源软件一样。认真的去做一件事，长期做一件事情是很有成就感的，也是能够收获喜悦，升华自我价值的。当然，值得一提的是，奉献是开源精神所包含的精神之一，但不是全部。&lt;/p>
&lt;p>我觉得写博客是一件很好的事情，有点像是QQ空间的升级版。写博客的过程中，会对博客题目进行反思，会对自己的文字进行思考，甚至可以在这个过程中对于之前一些没怎么在意的事情有了新的看法。比如，在写这篇文章之前，我没有意识到我写博客的真正目的，而随着这篇博客慢慢的完成，我意识到了这件事情。&lt;/p>
&lt;p>此外，在叙述一个不清楚的事情的时候，写博客是一个梳理思路的好方法，就如同给别人陈述一遍你的思路一样。只是，这个听众并不局限于你的地理位置，而是通过互联网广泛传播。&lt;/p>
&lt;p>戒骄戒躁，继续努力。&lt;/p></description></item><item><title>一个小的助记工具</title><link>https://svtter.cn/p/%E4%B8%80%E4%B8%AA%E5%B0%8F%E7%9A%84%E5%8A%A9%E8%AE%B0%E5%B7%A5%E5%85%B7/</link><pubDate>Tue, 23 Jan 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E4%B8%80%E4%B8%AA%E5%B0%8F%E7%9A%84%E5%8A%A9%E8%AE%B0%E5%B7%A5%E5%85%B7/</guid><description>&lt;p>花了一小段时间撸了一个助记工具，运行起来就是把“复制”的词汇自动保存到规定的json文件中，并累计次数。如果后面有时间继续做下去，可能会考虑做一些可视化的工作，以及调用一些第三方API等等。&lt;/p>
&lt;p>可能一些词典工具本身已经带有这个功能，不过自己开发的东西自由度会更大一些，学习成本不高。&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/Svtter/wordRecorder" target="_blank" rel="noopener"
>github repo: wordRecorder&lt;/a>&lt;/p>
&lt;h2 id="roadmap">roadmap
&lt;/h2>&lt;ul>
&lt;li>leancloud云端保存！&lt;/li>
&lt;li>还没想好&lt;/li>
&lt;/ul></description></item><item><title>我的vim配置</title><link>https://svtter.cn/p/%E6%88%91%E7%9A%84vim%E9%85%8D%E7%BD%AE/</link><pubDate>Fri, 19 Jan 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E6%88%91%E7%9A%84vim%E9%85%8D%E7%BD%AE/</guid><description>&lt;p>现在使用vim最好是使用neovim或者vim8版本，来获得async特性，防止运行补全命令的时候卡顿。&lt;/p>
&lt;p>我的配置文件在&lt;a class="link" href="https://gist.coding.net/u/svtter/e2d42ab058b144cdb58c7294e171fcce" target="_blank" rel="noopener"
>coding gist&lt;/a>。&lt;/p>
&lt;p>相应的安装方法也写在其中。&lt;/p>
&lt;h3 id="插件管理器">插件管理器
&lt;/h3>&lt;p>安装我的配置文件，首先需要安装一下插件管理器。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>curl -fLo ~/.vim/autoload/plug.vim --create-dirs &lt;span class="se">\&lt;/span>
https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
&lt;/pre>
&lt;/div>
&lt;h3 id="使用字体">使用字体:
&lt;/h3>&lt;p>nerd-fonts &lt;a class="link" href="https://github.com/ryanoasis/nerd-fonts/tree/master/patched-fonts" target="_blank" rel="noopener"
>https://github.com/ryanoasis/nerd-fonts/tree/master/patched-fonts&lt;/a>&lt;/p>
&lt;h3 id="运行">运行
&lt;/h3>&lt;p>把.vimrc移动到~/.vimrc&lt;/p>
&lt;p>打开vim，输入：:PlugInstall&lt;/p>
&lt;p>安装完成即可。&lt;/p>
&lt;h3 id="语言补全">语言补全
&lt;/h3>&lt;p>需要个别语言的补全，查看completor&lt;/p>
&lt;p>因为是自己手动慢慢写成的vim配置，因此想要我定制或者修改不需要额外的学习成本。如果想要更好的配置，可以考虑&lt;a class="link" href="https://github.com/SpaceVim/SpaceVim" target="_blank" rel="noopener"
>spacevim&lt;/a>，SpaceVim是参考&lt;code>Spacemacs&lt;/code>制作的&lt;code>IDE&lt;/code>，非常有趣，二者相爱相杀，促成的产物。&lt;/p></description></item><item><title>autojump – 一个快速目录跳转脚本</title><link>https://svtter.cn/p/autojump-%E4%B8%80%E4%B8%AA%E5%BF%AB%E9%80%9F%E7%9B%AE%E5%BD%95%E8%B7%B3%E8%BD%AC%E8%84%9A%E6%9C%AC/</link><pubDate>Sat, 13 Jan 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/autojump-%E4%B8%80%E4%B8%AA%E5%BF%AB%E9%80%9F%E7%9B%AE%E5%BD%95%E8%B7%B3%E8%BD%AC%E8%84%9A%E6%9C%AC/</guid><description>&lt;p>之前一直都在用&lt;code>z.shell&lt;/code>这个东西来进行跳转，突然发现还有一个更好用的工具&lt;a class="link" href="https://github.com/wting/autojump" target="_blank" rel="noopener"
>autojump&lt;/a>&lt;/p>
&lt;h2 id="安装">安装
&lt;/h2>&lt;p>这个工具在Ubuntu下安装十分简单，直接通过：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>$ sudo apt install autojump
&lt;/pre>
&lt;/div>
&lt;p>安装之后，记得把&lt;code>. /usr/share/autojump/autojump.sh&lt;/code>添加到你的shell配置文件中，例如&lt;code>.zshenv&lt;/code>或者&lt;code>.bashrc&lt;/code>等等。&lt;/p>
&lt;p>之后，使用&lt;code>man autojump&lt;/code>来查看如何使用这个命令，十分方便。&lt;/p>
&lt;h3 id="osx">osx
&lt;/h3>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>$ brew install autojump
&lt;/pre>
&lt;/div>
&lt;p>把&lt;code>autojump&lt;/code>添加到你的[oh-my-zsh]的&lt;code>plugin&lt;/code>列表中，例如：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>plugin&lt;span class="o">(&lt;/span>
autojump
&lt;span class="o">)&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>用法方面，举个例子。&lt;/p>
&lt;h2 id="进入目录">进入目录
&lt;/h2>&lt;p>可以直接使用:&lt;/p>
&lt;p>&lt;code>j github&lt;/code>&lt;/p>
&lt;p>进入&lt;code>github&lt;/code>这个目录；&lt;/p>
&lt;h2 id="通过shell在图形界面打开目录">通过shell在图形界面打开目录
&lt;/h2>&lt;p>通过:&lt;/p>
&lt;p>&lt;code>jo github&lt;/code>&lt;/p>
&lt;p>来在图形界面中打开&lt;code>github&lt;/code>这个目录。&lt;/p>
&lt;p>赶紧尝试一下吧！&lt;/p></description></item><item><title>Ubuntu下最舒爽的输入法</title><link>https://svtter.cn/p/ubuntu%E4%B8%8B%E6%9C%80%E8%88%92%E7%88%BD%E7%9A%84%E8%BE%93%E5%85%A5%E6%B3%95/</link><pubDate>Sat, 13 Jan 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/ubuntu%E4%B8%8B%E6%9C%80%E8%88%92%E7%88%BD%E7%9A%84%E8%BE%93%E5%85%A5%E6%B3%95/</guid><description>&lt;p>私以为，Ubuntu下最舒服的输入法是Rime，建议在Ubuntu下安装&lt;code>fcitx-rime&lt;/code>。&lt;/p>
&lt;h2 id="安装">安装
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="c1"># 1.安装&lt;/span>
sudo apt-get install fcitx-rime
&lt;span class="c1"># 2.配置 fcitx 为默认. 然后重启&lt;/span>
im-config
sudo reboot
&lt;/pre>
&lt;/div>
&lt;p>我的系统环境是&lt;code>Ubuntu 16.04&lt;/code>&lt;/p>
&lt;p>安装完成以后，使用&lt;code>ctrl+grave&lt;/code>。grave就是&lt;code>tab&lt;/code>上方的反引号。&lt;/p>
&lt;p>&lt;a class="link" href="http://rime.im/" target="_blank" rel="noopener"
>rime&lt;/a>是佛振，我国开发者进行开发的，充满了Hack精神的输入法引擎，在条件允许的情况下，可以进行捐助。&lt;/p></description></item><item><title>博客的二次提升</title><link>https://svtter.cn/p/%E5%8D%9A%E5%AE%A2%E7%9A%84%E4%BA%8C%E6%AC%A1%E6%8F%90%E5%8D%87/</link><pubDate>Sat, 13 Jan 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%8D%9A%E5%AE%A2%E7%9A%84%E4%BA%8C%E6%AC%A1%E6%8F%90%E5%8D%87/</guid><description>&lt;p>今天晚上我在rss上花费了不少时间，由于效率不高，算是娱乐了一下吧。&lt;/p>
&lt;h2 id="标记语言考察">标记语言考察
&lt;/h2>&lt;p>markdown现有的一些python-parser，比如&lt;a class="link" href="https://github.com/Python-Markdown/markdown" target="_blank" rel="noopener"
>python-markdown&lt;/a>虽然已经做得很好了，但是对于todo等我想要的需求还没有支持，因此想要考虑使用其他的标记语言，比如&lt;code>restructedtext&lt;/code>，这个用于&lt;code>sphinx&lt;/code>这个用于构建文档框架中的标记语言。&lt;/p>
&lt;p>于是，简单查看了&lt;code>docutils&lt;/code>的文档，发觉其对于我想要的特性支持也并不是十分优秀，准确讲，只有一个暴露在外的接口，并无其他。这个接口的例子：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="o">&amp;gt;&amp;gt;&amp;gt;&lt;/span> &lt;span class="kn">from&lt;/span> &lt;span class="nn">docutils.core&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">publish_parts&lt;/span>
&lt;span class="o">&amp;gt;&amp;gt;&amp;gt;&lt;/span> &lt;span class="k">print&lt;/span> &lt;span class="n">publish_parts&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">"*anurag*"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">writer_name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;html&amp;#39;&lt;/span>&lt;span class="p">)[&lt;/span>&lt;span class="s1">&amp;#39;html_body&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="o">&amp;gt;&amp;lt;&lt;/span>&lt;span class="n">em&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="n">anurag&lt;/span>&lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">em&lt;/span>&lt;span class="o">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>自然，目的是文档，标记语言只不过其中的产物，也没有必要做多余的事情。倒是我想的简单了。&lt;/p>
&lt;p>在搜索了许多材料之后，发现&lt;a class="link" href="https://www.ibm.com/developerworks/cn/topics/" target="_blank" rel="noopener"
>IBM的开发中心&lt;/a>很不错，有很多有意思的东西，文章也写得深入浅出。也算是意外收获。&lt;/p>
&lt;p>最后还是放弃了对于markdown的更新，还是按照老路子，如果有时间，就给&lt;a class="link" href="" >python-markdown&lt;/a>提一个&lt;code>pull request&lt;/code>自己造轮子。&lt;/p>
&lt;h2 id="rss相关研究">rss相关研究
&lt;/h2>&lt;p>我的博客rss常年挂出500，其中主要原因是内容中编码出错的问题。我一直没有定位到这个bug的出处，可能是SQLite的bug或者django-form的bug？文章中总是会混入&lt;code>\\x08&lt;/code>这种类似的&lt;code>xml&lt;/code>无法编码的数据。有时间仔细排查一下。这个问题才是主要问题，不过我的精力主要放在下面这个问题上了。&lt;/p>
&lt;p>为了解决rss渲染的时候，description的问题，我引入了&lt;code>safe&lt;/code>希望不要把&lt;code>&amp;lt;div&amp;gt;&lt;/code>类似于这种标签进行转义，不过我失败了。我查询了关于django的safe过滤器，其中safe过滤器可以通过一个函数来搞定，就是这个：&lt;/p>
&lt;blockquote>
&lt;p>This ought to do it:&lt;/p>&lt;/blockquote>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="kn">from&lt;/span> &lt;span class="nn">django.utils.safestring&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">mark_safe&lt;/span>
&lt;span class="n">foo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">mark_safe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">foo&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>引入之后依然进行了转义。于是我决定暂时进行一次清除，用&lt;code>一篇博文&lt;/code>来替代所有的&lt;code>description&lt;/code>。如果后面有时间看看&lt;code>rss&lt;/code>，把这个功能做完。最好还可以自己写一个&lt;a class="link" href="https://github.com/orakaro/PyRSSReader" target="_blank" rel="noopener"
>rss阅读器&lt;/a>，来方便自己进行博客订阅。&lt;/p>
&lt;p>在网络上一个不错的教程，来自&lt;a class="link" href="https://code.ziqiangxuetang.com/rss/rss-tutorial.html" target="_blank" rel="noopener"
>自强学堂&lt;/a>。看完这个rss以后，可以考虑从&lt;a class="link" href="https://docs.djangoproject.com/en/2.0/ref/contrib/syndication/" target="_blank" rel="noopener"
>官方文档&lt;/a>入手。&lt;/p>
&lt;h2 id="也不能老换">也不能老换
&lt;/h2>&lt;p>因为看到大家都用node来搭建博客，又一次简单的翻阅了一下&lt;a class="link" href="https://ghost.org/" target="_blank" rel="noopener"
>ghost&lt;/a>——一个基于nodejs开发的文档，我感觉效果不大。一方面，学习nodejs于我而言，可能是一个比较高的学习成本，我没有多余的时间进行nodejs学习。对于nodejs，我仅仅是了解一部分的皮毛知识。&lt;/p>
&lt;p>在查询之后，判定切换成本比较高。如果要直接用博客系统，考虑使用&lt;a class="link" href="https://github.com/Fantomas42/django-blog-zinnia" target="_blank" rel="noopener"
>Zinna&lt;/a>，以及&lt;a class="link" href="http://mezzanine.jupo.org/" target="_blank" rel="noopener"
>Mezzanine&lt;/a>进行二次开发。&lt;/p>
&lt;p>当然，使用hexo也是一个非常不错的选择。可以使用跨域来解决访问量统计不准确的问题。&lt;/p>
&lt;h2 id="总结">总结
&lt;/h2>&lt;p>整个娱乐过程没有比较好的产出，主要原因可能是没有在做事之前，简单规划一下。试想，如果规划的比较优秀，可能时间上节省大半吧。因此强势安利一波&lt;a class="link" href="https://trello.com/" target="_blank" rel="noopener"
>trello&lt;/a>，和国内的teambition相似，不过UI设计上更加简洁明快一些。&lt;/p>
&lt;h2 id="参考资料">参考资料
&lt;/h2>&lt;p>未列出&lt;/p></description></item><item><title>记又一次搞崩服务器</title><link>https://svtter.cn/p/%E8%AE%B0%E5%8F%88%E4%B8%80%E6%AC%A1%E6%90%9E%E5%B4%A9%E6%9C%8D%E5%8A%A1%E5%99%A8/</link><pubDate>Thu, 11 Jan 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E8%AE%B0%E5%8F%88%E4%B8%80%E6%AC%A1%E6%90%9E%E5%B4%A9%E6%9C%8D%E5%8A%A1%E5%99%A8/</guid><description>&lt;p>记又一次搞崩服务器。使用“又”，是因为我搞崩不是一次两次了。我希望这是最后一次。&lt;/p>
&lt;h2 id="背景">背景
&lt;/h2>&lt;p>使用Android连接服务器的时候，发现要比自己的mac速度快很多，于是十分好奇，打算研究一下是什么因素导致的。&lt;/p>
&lt;h2 id="流程">流程
&lt;/h2>&lt;p>检查了app以后，判断应该是开启了&lt;code>fast TCP&lt;/code>导致的，于是考虑在mac上也开启对应的&lt;code>fast TCP&lt;/code>，但是效果并不是十分显著；于是再次排查，发现服务器端并没有开启&lt;code>fast TCP&lt;/code>。&lt;/p>
&lt;blockquote>
&lt;p>这就很奇怪了，为什么速度这么快呢？是因为对“同源”的加密方法有优化吗？&lt;/p>&lt;/blockquote>
&lt;p>于是，&lt;strong>自然而然&lt;/strong>的考虑是不是可以通过开启这个TCP加速来加速服务器。这就开启了噩梦的开端。因为需要3.7以上的Linux Kernel才支持这个特性，所以需要先升级内核。我的内核难道不应该是最新的吗？带着这个以为输入了&lt;code>uname sr&lt;/code>，显示内核版本&lt;code>2.6*&lt;/code>。惊奇，我的VPS内核这么旧吗？于是&lt;strong>自然而然&lt;/strong>的想到要升级一下内核，并且&lt;strong>理所应当&lt;/strong>的把升级内核的脚本&lt;code>apt-get install linux-kernel-lts-wily&lt;/code>运行了一下。于是噩梦开始了。&lt;/p>
&lt;p>&lt;strong>OpenVZ本身是不支持升级内核的&lt;/strong>，所有的VM都使用同一个内核版本，因此这个命令导致了很神奇的BUG，安装内核装不上，卸载内核卸载不了。&lt;/p>
&lt;p>这个时候我面临两个选择，一个是重新安装系统，一个是解决当前的这个问题。&lt;/p>
&lt;p>经过简单地判断，我认为如果解决当前问题，可能花费我更多的时间，直接重新安装系统就可以了。重新配置一些相关措施也并不难。&lt;/p>
&lt;p>失算的事情是，尽管我依稀记得一部分关于配置的内容，但是要完全复现我所配置的相关应用已经很难了，因为我没有做&lt;strong>记录&lt;/strong>。于是来回又踩了许多坑，之前有些坑我有很明确的踩进去的记忆。&lt;/p>
&lt;p>这就非常痛苦了，每次操作都在嘲讽自己的愚蠢与过度自信。最后，我只进行了简单的配置，只找回了部分的优化——记忆里我所做的优化就只有这些了，但是速度似乎下降了，这就是最终的结果。&lt;/p>
&lt;p>这也让我想起《人月神话》里面描写的一句，具体我已经记不清了，意思大概是这样的：有些步骤你是必须要做的，只不过当前你没有做而已，以后是要补上的。我读到这个地方的时候，联想这个规律为“技术债”。&lt;/p>
&lt;p>好了，以上就是我还“技术债”的全部过程了。&lt;/p>
&lt;h2 id="教训">教训
&lt;/h2>&lt;ol>
&lt;li>研究问题虽然好，但是要注意花费的时间&lt;/li>
&lt;li>在生产服务器上，不要做没有经过自查的操作。&lt;/li>
&lt;li>不要被强迫症控制了，能用则用。&lt;/li>
&lt;li>记录自己的行为日志，如果可以的话，写一个安装脚本&lt;/li>
&lt;/ol>
&lt;p>唉，真是一次不合格的运维行动。&lt;/p></description></item><item><title>Django导出博客为hexo博客</title><link>https://svtter.cn/p/django%E5%AF%BC%E5%87%BA%E5%8D%9A%E5%AE%A2%E4%B8%BAhexo%E5%8D%9A%E5%AE%A2/</link><pubDate>Fri, 05 Jan 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/django%E5%AF%BC%E5%87%BA%E5%8D%9A%E5%AE%A2%E4%B8%BAhexo%E5%8D%9A%E5%AE%A2/</guid><description>&lt;p>Django导出主要使用&lt;code>render_to_string&lt;/code>方法来进行；&lt;/p>
&lt;p>可以参考的源码如下：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="kn">from&lt;/span> &lt;span class="nn">article.models&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">Article&lt;/span>
&lt;span class="kn">from&lt;/span> &lt;span class="nn">django.template.loader&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">render_to_string&lt;/span>
&lt;span class="n">posts&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Article&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">objects&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">all&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="n">post&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">posts&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">title&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">post&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">title&lt;/span>
&lt;span class="n">title&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">title&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">replace&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">title&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">title&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">replace&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;]&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">context&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="s1">&amp;#39;title&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">title&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="s1">&amp;#39;cre_date&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">post&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">cre_date&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="s1">&amp;#39;updated&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">post&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">up_date&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="s1">&amp;#39;content&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">post&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">content&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="s1">&amp;#39;category&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">post&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">category&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="s1">&amp;#39;tag&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">post&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tag&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">content&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">render_to_string&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;article.html&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">context&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">filename&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;export/&amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">post&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">title&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;.md&amp;#39;&lt;/span>
&lt;span class="k">with&lt;/span> &lt;span class="nb">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">filename&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;w&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">f&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">write&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">content&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>对应的渲染&lt;code>article.html&lt;/code>&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>title: {{ title }}
date: 2018-01-05T01:00:00+08:00
updated: {{ updated | date:"Y/m/d H:i:s" }}
tags: [
{% for tag in tags %}
&amp;#39;{{ tag.name }}&amp;#39;,
{% endfor %}
]
categories: [
&amp;#39;{{ category }}&amp;#39;,
]
---
{{ content | safe }}
&lt;/pre>
&lt;/div>
&lt;p>运行的时候，&lt;code>python manage.py shell&lt;/code>，然后导入&lt;code>export&lt;/code> 包即可。&lt;/p></description></item><item><title>Ubuntu 16.04 install iai-kinect2</title><link>https://svtter.cn/p/ubuntu-16.04-install-iai-kinect2/</link><pubDate>Sat, 30 Dec 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/ubuntu-16.04-install-iai-kinect2/</guid><description>&lt;p>install libfreenect2, choose the &lt;code>(other)&lt;/code> and don’t forget to test &lt;code>bin/Pronect&lt;/code> after install.&lt;/p>
&lt;p>ATTENTION: I don’t have NVIDIA or AMD graph card. It might be different if you use them.&lt;/p>
&lt;h2 id="problem">PROBLEM
&lt;/h2>&lt;p>when you face this problem&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>/usr/local/include/opencv2/flann/saving.h:113:63: error: exception handling disabled, use -fexceptions to enable
throw FLANNException("Invalid index file, cannot read");
&lt;/pre>
&lt;/div>
&lt;p>run&lt;/p>
&lt;p>&lt;code>roscd kinect2_registrations&lt;/code>&lt;/p>
&lt;p>edit &lt;code>CMakeLists.txt&lt;/code>, add&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>add_definitions( -fexceptions )
&lt;/pre>
&lt;/div>
&lt;p>it will work.&lt;/p></description></item><item><title>使用Docker时遇到的sitemap问题</title><link>https://svtter.cn/p/%E4%BD%BF%E7%94%A8docker%E6%97%B6%E9%81%87%E5%88%B0%E7%9A%84sitemap%E9%97%AE%E9%A2%98/</link><pubDate>Wed, 27 Dec 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E4%BD%BF%E7%94%A8docker%E6%97%B6%E9%81%87%E5%88%B0%E7%9A%84sitemap%E9%97%AE%E9%A2%98/</guid><description>&lt;p>这两天感觉博客访问量已经不能靠用嘴宣传了，于是决定做一下sitemap，但是发现django自带的sitemap生成器存在这样的问题：生成的sitemap是依照container的hostname来显示的。&lt;/p>
&lt;p>为此我查询了一下其他人是怎么搞的，发现他们都把nginx和django放在一个容器下——但是如此构建不仅麻烦，似乎违背了docker的构建思路，在一个container里面放了多个进程。因此，我认为下面的方案是合理的。&lt;/p>
&lt;h2 id="解决方案">解决方案
&lt;/h2>&lt;h3 id="enabling-the-sites-framework">Enabling the sites framework
&lt;/h3>&lt;p>To enable the sites framework, follow these steps:&lt;/p>
&lt;p>Add ‘django.contrib.sites’ to your INSTALLED_APPS setting.&lt;/p>
&lt;h3 id="define-a-site_id-setting">Define a SITE_ID setting:
&lt;/h3>&lt;p>&lt;code>SITE_ID = 1&lt;/code>&lt;/p>
&lt;h3 id="run-migrate">Run migrate.
&lt;/h3>&lt;p>django.contrib.sites registers a post_migrate signal handler which creates a default site named example.com with the domain example.com. This site will also be created after Django creates the test database. To set the correct name and domain for your project, you can use a data migration.&lt;/p>
&lt;p>In order to serve different sites in production, you’d create a separate settings file with each SITE_ID (perhaps importing from a common settings file to avoid duplicating shared settings) and then specify the appropriate DJANGO_SETTINGS_MODULE for each site.&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="o">&amp;gt;&amp;gt;&amp;gt;&lt;/span> &lt;span class="kn">from&lt;/span> &lt;span class="nn">django.contrib.sites.models&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">Site&lt;/span>
&lt;span class="o">&amp;gt;&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">one&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Site&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">objects&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">all&lt;/span>&lt;span class="p">()[&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="o">&amp;gt;&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">one&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">domain&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;myveryspecialdomain.com&amp;#39;&lt;/span>
&lt;span class="o">&amp;gt;&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">one&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;My Special Site Name&amp;#39;&lt;/span>
&lt;span class="o">&amp;gt;&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">one&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">save&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>代码写多了，对于Flask和Django也就十分释然了。两个东西都是利器，针对的东西不是很相同；编程语言也是，都有自己擅长的部分，如果你非要用某种编程语言花很大的力气去做一件小事，除非你是geek而且有追求，并且没有deadline在旁边催催催，否则不建议你这么做。&lt;/p>
&lt;h2 id="参考项目">参考项目
&lt;/h2>&lt;p>&lt;a class="link" href="https://github.com/flyhigher139/mayblog" target="_blank" rel="noopener"
>https://github.com/flyhigher139/mayblog&lt;/a>&lt;/p></description></item><item><title>使用fish – 一个新的shell</title><link>https://svtter.cn/p/%E4%BD%BF%E7%94%A8fish-%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84shell/</link><pubDate>Wed, 27 Dec 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E4%BD%BF%E7%94%A8fish-%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84shell/</guid><description>&lt;p>许多人都在推荐fish-shell，比如说阮一峰大佬和Reitz神；因此也要试试fish的魅力。虽然已经是z和zsh的老用户，但是对于效率的极致追求不能停。&lt;/p>
&lt;blockquote>
&lt;p>注意：fish仅适用于某些开发场景，目前不适用于所有开发场景——在其他许多shell环境中，由于历史因素以及已经构建完成的大量生态，对于当前的开发影响是巨大的。&lt;/p>&lt;/blockquote>
&lt;h2 id="fish基本操作">fish基本操作
&lt;/h2>&lt;p>fish不仅仅使用tab进行不全，还可以使用&lt;code>ctrl+f&lt;/code>或者&lt;code>alt+f&lt;/code>进行全行不全。&lt;/p>
&lt;p>fish还可以通过安装&lt;code>oh-my-fish&lt;/code>，对应到z-shell的&lt;code>oh-my-zsh&lt;/code>。不过，一般情况下，fish本身就已经做的够好了，基本不需要再进行更多的配置。&lt;/p>
&lt;h2 id="fish中的export">fish中的export
&lt;/h2>&lt;p>使用&lt;code>set -x&lt;/code>来替代。例如&lt;code>set -x HOME /home/svtter&lt;/code>，即&lt;code>export HOME=/home/svtter&lt;/code>&lt;/p>
&lt;h2 id="后记">后记
&lt;/h2>&lt;p>后来我还是切换回了zsh；我使用的开发环境对于&lt;code>zsh&lt;/code>已经支持的很好了，但是对于&lt;code>fish&lt;/code>的支持还是差强人意。学习新的技术是需要成本的，如果有时间就对fish的支持进行完善，如果没时间，那么还是等它更加成熟再使用吧。&lt;/p>
&lt;h2 id="参考">参考
&lt;/h2>&lt;p>&lt;a class="link" href="http://www.ruanyifeng.com/blog/2017/05/fish_shell.html" target="_blank" rel="noopener"
>http://www.ruanyifeng.com/blog/2017/05/fish_shell.html&lt;/a>&lt;/p></description></item><item><title>pipenv入门指南</title><link>https://svtter.cn/p/pipenv%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/</link><pubDate>Tue, 26 Dec 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/pipenv%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/</guid><description>&lt;h2 id="前言">前言
&lt;/h2>&lt;p>pipenv是书写flask的大神kennethreitz的新作；pipenv集成了virtualenv和pip等工具，让你从&lt;code>requirements.pip&lt;/code>以及&lt;code>virtualenv&lt;/code>的环境中解放出来。并且他还集成了&lt;code>pyenv&lt;/code>的选择&lt;code>python&lt;/code>版本，可以说是所向披靡了。&lt;/p>
&lt;p>这是他的原话：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>You no longer need to use pip and virtualenv separately. They work together.
Managing a requirements.txt file can be problematic, so Pipenv uses the upcoming Pipfile and Pipfile.lock instead, which is superior for basic use cases.
Hashes are used everywhere, always. Security. Automatically expose security vulnerabilities.
Give you insight into your dependency graph (e.g. $ pipenv graph).
Streamline development workflow by loading .env files.
&lt;/pre>
&lt;/div>
&lt;p>相信随着pipenv更加流行，许多工具也会在自己的环境中对pipenv提供支持，解决许多令人不舒服的问题，也能更好的提高编辑的舒适度。&lt;/p>
&lt;h2 id="安装pipenv">安装pipenv
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>$ pip install pipenv
&lt;/pre>
&lt;/div>
&lt;h2 id="创建虚拟环境-virtualenv">创建虚拟环境 virtualenv
&lt;/h2>&lt;ol>
&lt;li>当不存在一个虚拟环境的时候，pipenv将会自动创建一个环境&lt;/li>
&lt;li>你也可以手动创建虚拟环境：
&lt;ol>
&lt;li>&lt;code>$ pipenv --three&lt;/code> 创建Python3虚拟环境&lt;/li>
&lt;li>&lt;code>$ pipenv --two&lt;/code> 创建Python2虚拟环境&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>其他的东西和&lt;code>virtualenv&lt;/code>是一样的。&lt;/li>
&lt;/ol>
&lt;h2 id="安装包">安装包
&lt;/h2>&lt;p>比如你要使用&lt;code>requests&lt;/code>（是的也是这个大神写的）。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>$ pipenv install requests
&lt;/pre>
&lt;/div>
&lt;p>安装完成后，会生成&lt;code>Pipfile&lt;/code>以及&lt;code>Pipfile.lock&lt;/code>；这一点很像&lt;code>npm&lt;/code>.&lt;/p>
&lt;h2 id="其他命令">其他命令
&lt;/h2>&lt;ol>
&lt;li>激活当前虚拟环境 &lt;code>pipenv shell&lt;/code>&lt;/li>
&lt;li>运行虚拟环境中的命令 &lt;code>pipenv run python&lt;/code>&lt;/li>
&lt;li>把你的依赖图输出出来 &lt;code>pipenv graph&lt;/code>&lt;/li>
&lt;li>安装当前目录的相关依赖 &lt;code>pipenv install&lt;/code>&lt;/li>
&lt;/ol>
&lt;h2 id="使用问题">使用问题
&lt;/h2>&lt;p>目前我使用的时候也会多少存在问题，比如说我看不见下载的进度条，默认不是开启的；&lt;/p>
&lt;p>然后就是因为网络环境的问题，我的&lt;code>pip.conf&lt;/code>设置不能应用到&lt;code>pipenv&lt;/code>上，我需要自己手动更改&lt;code>Pipfile&lt;/code>，这一点有些麻烦。&lt;/p>
&lt;h2 id="后记">后记
&lt;/h2>&lt;p>本身我想把这个文章针对的群体稍微降降，针对一些技术能力不是特别高的群体，但是存在一些问题，比如有些东西是需要一定知识才能看懂的。如果出现了不懂的内容，尽量自己查找一下吧。&lt;/p></description></item><item><title>使用Docker安装Spark</title><link>https://svtter.cn/p/%E4%BD%BF%E7%94%A8docker%E5%AE%89%E8%A3%85spark/</link><pubDate>Tue, 26 Dec 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E4%BD%BF%E7%94%A8docker%E5%AE%89%E8%A3%85spark/</guid><description>&lt;p>在国内加载Dockerhub上的镜像速度会比较慢，对此我们可以通过设置mirror镜像的方式来加速images的下载。&lt;/p>
&lt;p>此外，如果是ipv6的网络，在一些mirror可以直接走ipv6通路，速度非常客观。这里以USTC的mirror为例。&lt;/p>
&lt;p>我这里的环境是Ubuntu 14.04，对于不同的Linux环境，修改的方式都差不多；修改文件&lt;code>/etc/docker/daemon.json&lt;/code>，如果没有这个文件，创建一个，注意，此处可能需要&lt;code>root&lt;/code>权限。修改完成后，运行命令&lt;code>sudo service docker restart&lt;/code>重启docker服务。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="p">{&lt;/span>
&lt;span class="nt">"registry-mirrors"&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">"https://docker.mirrors.ustc.edu.cn"&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>配置好以后，选择&lt;code>2.1.0&lt;/code>版本的spark进行docker下载。&lt;/p>
&lt;p>&lt;code>docker pull p7hb/docker-spark:2.1.0&lt;/code>&lt;/p>
&lt;p>或者直接运行&lt;/p>
&lt;p>&lt;code>docker run -it -p 4040:4040 -p 8080:8080 -p 8081:8081 -h spark --name=spark p7hb/docker-spark:2.1.0&lt;/code>&lt;/p>
&lt;h2 id="参考">参考
&lt;/h2>&lt;ol>
&lt;li>&lt;a class="link" href="https://lug.ustc.edu.cn/wiki/mirrors/help/docker" target="_blank" rel="noopener"
>https://lug.ustc.edu.cn/wiki/mirrors/help/docker&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/P7h/docker-spark" target="_blank" rel="noopener"
>https://github.com/P7h/docker-spark&lt;/a>&lt;/li>
&lt;/ol></description></item><item><title>Shell-tips</title><link>https://svtter.cn/p/shell-tips/</link><pubDate>Wed, 20 Dec 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/shell-tips/</guid><description>&lt;h2 id="重启终端">重启终端
&lt;/h2>&lt;p>执行命令，修改环境变量等等之后可以通过此命令来简单重启shell&lt;/p>
&lt;p>&lt;code>exec &amp;quot;$SHELL&amp;quot;&lt;/code>&lt;/p>
&lt;h2 id="查找文件">查找文件
&lt;/h2>&lt;p>&lt;code>$ find ~ -name &amp;quot;*.txt&amp;quot; -print #在$HOME中查.txt文件并显示&lt;/code>&lt;/p>
&lt;p>&lt;code>locate findname&lt;/code>&lt;/p>
&lt;h2 id="编辑变量">编辑变量
&lt;/h2>&lt;p>在&lt;code>zsh&lt;/code>中，编辑&lt;code>$HOME/.zshenv&lt;/code>；在&lt;code>bash&lt;/code>中，编辑&lt;code>.bash_profile&lt;/code>&lt;/p></description></item><item><title>Ros Kinect Configure Note</title><link>https://svtter.cn/p/ros-kinect-configure-note/</link><pubDate>Mon, 18 Dec 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/ros-kinect-configure-note/</guid><description>&lt;p>This blog for my kinect-v2 ros configure.&lt;/p>
&lt;h2 id="environment">Environment
&lt;/h2>&lt;ul>
&lt;li>Thinkpad P70&lt;/li>
&lt;li>Ubuntu 14.04&lt;/li>
&lt;li>indigo&lt;/li>
&lt;/ul>
&lt;p>Reference to &lt;a class="link" href="https://github.com/code-iai/iai_kinect2" target="_blank" rel="noopener"
>https://github.com/code-iai/iai_kinect2&lt;/a>&lt;/p>
&lt;h2 id="install">Install
&lt;/h2>&lt;p>Before start, make sure the &lt;code>cuda&lt;/code>, &lt;code>cudnn&lt;/code> has been configured correctly.&lt;/p>
&lt;p>First, you need to install &lt;a class="link" href="https://github.com/OpenKinect/libfreenect2" target="_blank" rel="noopener"
>libfreenect2&lt;/a>.&lt;/p>
&lt;p>I recommend to use &lt;code>export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/cuda/lib64&lt;/code> in your &lt;code>.zshrc&lt;/code> or &lt;code>.bashrc&lt;/code> (more professional, in &lt;code>bash_profile&lt;/code> or &lt;code>.zshenv&lt;/code>). You will avoid some problems about library error.&lt;/p>
&lt;p>When installing libfreenect2, Use &lt;code>cmake .. -DCMAKE_INSTALL_PREFIX=$HOME/freenect2 -DENABLE_CXX11=ON&lt;/code> to generate Makeifle at &lt;code>build/&lt;/code>&lt;/p>
&lt;p>Then Install &lt;strong>&lt;a class="link" href="https://github.com/code-iai/iai_kinect2" target="_blank" rel="noopener"
>iai-Kinect&lt;/a>&lt;/strong>&lt;/p>
&lt;p>I use &lt;code>catkin_make -DCMAKE_BUILD_TYPE=&amp;quot;Release&amp;quot; -Dfreenect2_DIR=$HOME/freenect2/lib/cmake/freenect2&lt;/code> to Compile &lt;code>iai-Kinect&lt;/code> because installing to &lt;code>$HOME/freenect2&lt;/code> before.&lt;/p>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>enable C++11 by using &lt;code>cmake .. -DENABLE_CXX11=ON&lt;/code> instead of &lt;code>cmake ..&lt;/code>&lt;/li>
&lt;li>If something is not working, check out the latest stable release, for example &lt;code>git checkout v0.2.0&lt;/code>.&lt;/li>
&lt;li>check your opencv version: &lt;code>pkg-config --modversion opencv&lt;/code>.&lt;/li>
&lt;li>NEVER EVER use &lt;code>sudo prime-select intel&lt;/code>.&lt;/li>
&lt;/ol>
&lt;h2 id="error">Error
&lt;/h2>&lt;p>I missed &lt;code>sudo apt-get install beignet-dev;&lt;/code> so I got this error:&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>Building CXX object iai_kinect2/kinect2_bridge/CMakeFiles/kinect2_bridge.dir/src/kinect2_bridge.cpp.o
Building CXX object iai_kinect2/kinect2_bridge/CMakeFiles/kinect2_bridge_nodelet.dir/src/kinect2_bridge.cpp.o
&lt;span class="o">[&lt;/span>&lt;span class="m">100&lt;/span>%&lt;span class="o">]&lt;/span> Built target kinect2_viewer
/home/svtter/catkin_ws/src/iai_kinect2/kinect2_bridge/src/kinect2_bridge.cpp: In member &lt;span class="k">function&lt;/span> ‘bool Kinect2Bridge::initPipeline&lt;span class="o">(&lt;/span>const string&lt;span class="p">&amp;&lt;/span>, int32_t&lt;span class="o">)&lt;/span>’:
/home/svtter/catkin_ws/src/iai_kinect2/kinect2_bridge/src/kinect2_bridge.cpp:427:28: error: expected type-specifier
&lt;span class="nv">packetPipeline&lt;/span> &lt;span class="o">=&lt;/span> new libfreenect2::OpenCLKdePacketPipeline&lt;span class="o">(&lt;/span>device&lt;span class="o">)&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>Write with Vim – 1</title><link>https://svtter.cn/p/write-with-vim-1/</link><pubDate>Fri, 15 Dec 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/write-with-vim-1/</guid><description>&lt;p>本文最初发表于2015年，但是个人认为写的尚可，就搬运到这里来，其中有些知识有些老旧，有时间的时候再更新一下。&lt;/p>
&lt;p>&lt;a class="link" href="https://svtter.github.io/post/250/" target="_blank" rel="noopener"
>Write with Vim - 2&lt;/a>&lt;/p>
&lt;h2 id="前言">前言
&lt;/h2>&lt;p>[2014]&lt;/p>
&lt;p>大约在一年前使用vim？这个也是个不确定的时间。具体什么时间使用Vim早已经忘记了。现在用的还算顺手，但是很多东西其实都还没有认真的学一下。最简单的比如说一部分正则表达式的匹配，以及vimscript的写法等等。也是没有具体时间去认真的深入，毕竟信息科技的世界里有太多太多可以探索的东西了= =。&lt;/p>
&lt;p>在大多数情况下我还是认为自己写一些前人已经有的blog毫无价值，但是转念一想写blog又是为了谁呢，还不是为了自己吗。总结过去，才能更好的前进走向未来。&lt;/p>
&lt;p>另外最近又在开始看emacs了。不过总感觉这样是不好的行为——vim我还没有钻研透彻，就跑去了E去到处乱看，最后哪个都搞不好——谁又知道呢？废话也是少说，写本文是给新手入门的。&lt;/p>
&lt;p>另外今天发现K的作用是查找命令（默认是！man）[2014-09-27]&lt;/p>
&lt;p>本文是利用vimperator（firefox）+ gvim进行书写的，还有了markdown的高亮等等插件。&lt;/p>
&lt;p>[/2014]&lt;/p>
&lt;h2 id="入手vim">入手Vim
&lt;/h2>&lt;p>首先我认为你是在Linux下使用vim的，而不是windows。如果是windows，我建议你寻找类似的&lt;/p>
&lt;p>取代方案，或者等着我以后补充。如果给你带来不便了，你来咬我啊～&lt;/p>
&lt;p>当年学习vim的时候遵从诸位大神的理解，跟着vimtutor走了一趟，感觉还是比较不错的。&lt;/p>
&lt;p>&lt;strong>最关键的还是自己要多多使用vim，不能停，就算是一开始很不爽，也要坚持使用下去&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>第一步是学习&lt;code>vimtutor&lt;/code>，这个毋庸置疑。最关键的输入&lt;code>i&lt;/code>, 还有移动&lt;code>hjkl&lt;/code>记住了就可以了&lt;/li>
&lt;/ol>
&lt;pre>&lt;code>之后最关键的任务就是不停的用vim，就算是觉得慢也用——当然在慢的过程中要思考如何能快。
学习使用`vimtutor`就是在命令行中输入：
`vimtutor`
第一步我个人认为是最难的一步。尤其是度过那一段干啥都很慢，狂点鼠标还用不了的阶段。
&lt;/code>&lt;/pre>
&lt;ol start="2">
&lt;li>然后不是跳到问题3就是跳到本问题了。慢慢发现熟悉的&lt;code>&amp;lt;C-c&amp;gt;&lt;/code>（就是&lt;code>Ctrl+c&lt;/code>)不能用了，到了Vi&lt;/li>
&lt;/ol>
&lt;pre>&lt;code>m里面变成了终止退出命令了(就像是Esc）（原本也是使用ESC来退出编辑模式的，但是后来发现`&amp;lt;C-c&amp;gt;`
比较快捷，于是就使用他了。（如果你没看懂，重新返回第一步练习）。然后在vim中寻找关于复制，
粘贴的使用方法——至少我是这样。然后就会理解vim中的寄存器的相关信息。
&lt;/code>&lt;/pre>
&lt;ol start="3">
&lt;li>然后就开始找那些可以让自己快速编辑的命令了，比如说&lt;code>w|e|f&lt;/code>。我个人比较喜欢&lt;code>f&lt;/code>，这个可以让我&lt;/li>
&lt;/ol>
&lt;pre>&lt;code>快速定位一句话中的一个字母，欲罢不能。`w，e`倒是用的比较少，`b`的位置我不是很喜欢。在这个
过程中大概`d | s | c`这些家伙也慢慢出现了。
&lt;/code>&lt;/pre>
&lt;ol start="4">
&lt;li>再然后就开始发现数字和大写字母的好处了，从小写到大写也是一个慢慢认识的过程，也是不用&lt;/li>
&lt;/ol>
&lt;pre>&lt;code>记忆到底是如何运作的，只需要看好了出现的位置就行了。用多了自然就会了。
&lt;/code>&lt;/pre>
&lt;ol start="5">
&lt;li>然后习惯了以后就是换行，查找，替换等等操作了。在这个过程中查找用的还是比较多的，&lt;/li>
&lt;/ol>
&lt;pre>&lt;code>但是替换的命令我就经常忘记如何使用了——没办法，经常忘记。换行更多的使用的是`行号g`，或者
`:行号`然后等等等。
&lt;/code>&lt;/pre>
&lt;h2 id="进阶">进阶
&lt;/h2>&lt;p>&lt;strong>你也可以直接下载我的配置使用，其中的插件配置可以在一定程度上给出指导。&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>都是一步一步过来的但是我也忘记我是怎么走过来的。依然很水，不会的配置上网搜索然后copy到自己的vimrc中。走到进阶就差不多懂得.vimrc为何物——因为可能受不了自己vim中的字体，配色，以及目录——或者括号匹配等等问题。这个时候vimrc的作用就出来了。&lt;/li>
&lt;/ol>
&lt;pre>&lt;code>这个时候我推荐你使用我的配置，也是基于网络上十分流行的一个版本：
&lt;/code>&lt;/pre>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>git clone http://github.com/Svtter/MyVimrc
./install
&lt;/pre>
&lt;/div>
&lt;blockquote>
&lt;p>如果出现什么问题，参见README.md中的FAQ&lt;/p>&lt;/blockquote>
&lt;p>这样就可以安装运行了。出现一个问题很正常，如果不在意就继续使用，在意的话自己百度。出现很多&lt;/p>
&lt;p>问题可能是因为Vundle没有装好，使用&lt;/p>
&lt;p>&lt;code>git clone https://github.com/gmarik/vundle.git ~/.vim/bundle/vundle&lt;/code>&lt;/p>
&lt;ol>
&lt;li>我是在.vimrc之后才发现的&lt;c-v>这种神奇的编辑的。分块编辑的确能够极大的提升效率。然后不停&lt;/li>
&lt;/ol>
&lt;pre>&lt;code>的阅读vimrc吧！然后从help中吸取精华吧！
&lt;/code>&lt;/pre>
&lt;ol start="2">
&lt;li>下一步我要熟练使用记录模式和正则匹配，以及vimscript的写法等等。希望本文对于想要学习Vim的&lt;/li>
&lt;/ol>
&lt;pre>&lt;code>你有所帮助。
&lt;/code>&lt;/pre></description></item><item><title>Write with Vim – 2</title><link>https://svtter.cn/p/write-with-vim-2/</link><pubDate>Fri, 15 Dec 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/write-with-vim-2/</guid><description>&lt;p>这是 Write with Vim 第二部分，如果想要阅读第一部分，请参考：&lt;a class="link" href="https://svtter.github.io/post/249/" target="_blank" rel="noopener"
>Write with vim - 1&lt;/a>&lt;/p>
&lt;h2 id="vim的下一步">Vim的下一步
&lt;/h2>&lt;p>对我自己而言，也是在这一步。&lt;/p>
&lt;p>现在你对Vim已经有所了解，hjkl肯定会，f也能熟用，&lt;code>,&lt;/code>可能被你映射成了&lt;code>&amp;lt;leader&amp;gt;&lt;/code>，或者等等。但是我还是想要写这个blog，来指引新手（诚然，也是指引自己）。&lt;/p>
&lt;p>&lt;strong>这个时候，我建议你将Esc映射成ii，然后禁用Esc&lt;/strong>&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>" 强迫自己不使用ESC
inoremap &amp;lt;Esc&amp;gt; &amp;lt;nop&amp;gt;
inoremap ii &amp;lt;ESC&amp;gt;
&lt;/pre>
&lt;/div>
&lt;p>在&lt;a class="link" href="https://svtter.github.io/post/249/" target="_blank" rel="noopener"
>Write with vim - 1&lt;/a>中，记录模式我已经用的比较习惯了（&lt;code>@+寄存器&lt;/code>），但是正则表达式用的一般般，仍然需要好好的努力才行。&lt;/p>
&lt;h2 id="想要用好vim离不开github">想要用好Vim，离不开github
&lt;/h2>&lt;p>大概更多人喜欢在 &lt;a class="link" href="http://www.vim.org" target="_blank" rel="noopener"
>http://www.vim.org&lt;/a> 上寻找自己心仪的插件，但是我认为还是在&lt;a class="link" href="github.com" >github&lt;/a>上找更好。为什么？&lt;/p>
&lt;ul>
&lt;li>因为许多的开源项目都已经在github上扎根，许多优秀的插件都能在&lt;a class="link" href="" >github&lt;/a>上找到其身影。比如：Nerdtree, YouCompeleteME, airline, etc.&lt;/li>
&lt;li>你可以通过github的star数量来判断这个项目的优秀程度。当然，更确切说，是把star做为参考标准之一。&lt;/li>
&lt;/ul>
&lt;p>等等优点，想到我再补充。&lt;/p>
&lt;h2 id="使用插件管理器管理你的插件">使用插件管理器，管理你的插件
&lt;/h2>&lt;p>我个人比较推荐 &lt;a class="link" href="https://github.com/junegunn/vim-plug" target="_blank" rel="noopener"
>Plug&lt;/a>&lt;/p>
&lt;p>插件使用git更新插件，将&lt;code>vimscripts&lt;/code>分离，控制不同功能的插件可以放在不同的位置，保证了&lt;code>vimrc&lt;/code>的整洁。从而提高了个人配置的维护性。&lt;/p>
&lt;p>Plug 是首当其冲的插件，有了他，你会发现更新插件，安装新的插件一切都是那么的简单。&lt;/p>
&lt;p>Plug 的使用方法在 README 里面有，但是如果英文比较差 — 没关系，也能看懂。&lt;/p>
&lt;h2 id="下一步的学习">下一步的学习
&lt;/h2>&lt;p>很多人觉得vimscript学习起来有些困难，这里有份非常好的文档。准确说是翻译。翻译者辛苦了。&lt;/p>
&lt;p>&lt;a class="link" href="http://learnvimscriptthehardway.onefloweroneworld.com/" target="_blank" rel="noopener"
>http://learnvimscriptthehardway.onefloweroneworld.com/&lt;/a>&lt;/p></description></item><item><title>给小白的IPython Notebook指南</title><link>https://svtter.cn/p/%E7%BB%99%E5%B0%8F%E7%99%BD%E7%9A%84ipython-notebook%E6%8C%87%E5%8D%97/</link><pubDate>Fri, 15 Dec 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E7%BB%99%E5%B0%8F%E7%99%BD%E7%9A%84ipython-notebook%E6%8C%87%E5%8D%97/</guid><description>&lt;p>这是给“小白”的notebook指南。&lt;code>notebook&lt;/code>是算法开发经常使用的工具。&lt;/p>
&lt;h2 id="安装notebook">安装notebook
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>$ pip install notebook
&lt;/pre>
&lt;/div>
&lt;h2 id="运行notebook">运行notebook
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>$ jupyter-notebook .
&lt;/pre>
&lt;/div>
&lt;p>在终端下运行这个命令可以启动&lt;code>notebook&lt;/code>。&lt;/p>
&lt;h2 id="使用ipython-notebook">使用IPython-Notebook
&lt;/h2>&lt;p>点击右方的New按钮，选择Python3，以此来启动一个新的NoteBook。&lt;/p>
&lt;img alt="" src="https://i0.wp.com/ws1.sinaimg.cn/large/c53b1907ly1fmhb5rtz02j20i00g4t9f.jpg?w=625&amp;#038;ssl=1" data-recalc-dims="1" />
&lt;p>这时会新创建一个文件。&lt;/p>
&lt;img alt="" src="https://i1.wp.com/ws1.sinaimg.cn/large/c53b1907ly1fmheq426xbj20wy0fodh6.jpg?w=625&amp;#038;ssl=1" data-recalc-dims="1" />
&lt;p>在&lt;code>In [ ]:&lt;/code>后输入要运行的代码，然后点击&lt;code>Run&lt;/code>即可运行。例如：&lt;/p>
&lt;img alt="" src="https://i0.wp.com/ws1.sinaimg.cn/large/c53b1907ly1fmhes784qnj20ui0c6q3f.jpg?w=625&amp;#038;ssl=1" data-recalc-dims="1" />
&lt;h2 id="使用terminal">使用Terminal
&lt;/h2>&lt;img alt="" src="https://i0.wp.com/ws1.sinaimg.cn/large/c53b1907ly1fmhb5rtz02j20i00g4t9f.jpg?w=625&amp;#038;ssl=1" data-recalc-dims="1" />
&lt;p>Terminal就是之前在Windows下的&lt;code>cmd&lt;/code>，MacOS下的&lt;code>terminal&lt;/code>，点击之后见到这个界面：&lt;/p>
&lt;img alt="" src="https://i1.wp.com/ws1.sinaimg.cn/large/c53b1907ly1fmheunkr2hj20lm0aeq3o.jpg?w=625&amp;#038;ssl=1" data-recalc-dims="1" />
&lt;p>尝试输入python，就可以像之前那样进行命令行编程了。&lt;/p></description></item><item><title>ROS 笔记</title><link>https://svtter.cn/p/ros-%E7%AC%94%E8%AE%B0/</link><pubDate>Mon, 11 Dec 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/ros-%E7%AC%94%E8%AE%B0/</guid><description>&lt;p>记录一些Ros开发以及学习中的问题&lt;/p>
&lt;h2 id="如何学习机器人">如何学习机器人
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://www.zhihu.com/question/22390802" target="_blank" rel="noopener"
>知乎答案&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="http://open.163.com/special/opencourse/robotics.html" target="_blank" rel="noopener"
>斯坦福大学机器人公开课&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>以上内容仅供参考；&lt;/p>
&lt;h2 id="tips">Tips
&lt;/h2>&lt;ul>
&lt;li>Ros中Cpp有而Python没有的&lt;/li>
&lt;/ul>
&lt;img alt="" src="https://i2.wp.com/ww1.sinaimg.cn/large/c53b1907ly1fmck564lk3j205i054wf9.jpg?w=625" data-recalc-dims="1" />
&lt;h2 id="ros-开发相关">Ros 开发相关
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="http://mp.weixin.qq.com/s/aJdTkaOv01EN95tZtMiL_w" target="_blank" rel="noopener"
>ROS可视化&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="http://www.guyuehome.com/1159" target="_blank" rel="noopener"
>ROS-MoveIT&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>快速git指南</title><link>https://svtter.cn/p/%E5%BF%AB%E9%80%9Fgit%E6%8C%87%E5%8D%97/</link><pubDate>Wed, 06 Dec 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%BF%AB%E9%80%9Fgit%E6%8C%87%E5%8D%97/</guid><description>&lt;p>git是一个版本控制工具，通过git我们可以解决许多版本冲突，以及协同开发的问题。&lt;/p>
&lt;h2 id="git安装">git安装
&lt;/h2>&lt;p>Windows可以通过安装文件直接安装，Linux可以通过&lt;code>apt-get install git&lt;/code>安装，OSX可以通过&lt;code>brew install git&lt;/code>来安装git。&lt;/p>
&lt;h2 id="初始化当前目录为git项目">初始化当前目录为git项目
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>$ git init .
&lt;/pre>
&lt;/div>
&lt;p>这个操作的意思是，把当前项目使用git进行管理。此时会创建一个&lt;code>.git&lt;/code>文件夹。&lt;/p>
&lt;h2 id="添加当前文件的改动并且提交">添加当前文件的改动，并且提交
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>$ git add .
$ git commit -m &lt;span class="s1">&amp;#39;update message&amp;#39;&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>如果修改了文件，文件的变动没有被git记录。这个时候运行上述命令，就可以把变动记录下来。&lt;/p>
&lt;h2 id="推送到远程仓库">推送到远程仓库
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>$ git push
&lt;/pre>
&lt;/div>
&lt;h2 id="获取远程仓库的更新">获取远程仓库的更新
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>$ git pull
&lt;/pre>
&lt;/div>
&lt;h2 id="下载git仓库">下载git仓库
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>$ git clone &lt;span class="si">${&lt;/span>&lt;span class="nv">仓库的URL&lt;/span>&lt;span class="si">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>例如，下载这个项目&lt;code>breastCancer&lt;/code>，可以使用如下的命令&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>$ git clone https://github.com/Svtter/breastCancer
&lt;/pre>
&lt;/div>
&lt;p>通过这个操作就可以下载这个仓库。&lt;/p>
&lt;h2 id="可视化当前更新">可视化当前更新
&lt;/h2>&lt;p>例如&lt;/p>
&lt;img alt="" src="https://i2.wp.com/ww1.sinaimg.cn/large/c53b1907ly1fm6yf63ax3j21iw024t8v.jpg?w=625" data-recalc-dims="1" />
&lt;p>点击&lt;code>first commit&lt;/code>，即可看到这次提交的相关改动。&lt;/p>
&lt;img alt="" src="https://i2.wp.com/ww1.sinaimg.cn/large/c53b1907ly1fm6ygxxgf1j21xs0iymzv.jpg?w=625" data-recalc-dims="1" />
&lt;h2 id="其他的问题">其他的问题
&lt;/h2>&lt;p>如果出现conflict以及其他的问题，可以通过google自行搜索解决。&lt;/p>
&lt;h2 id="可参考的资料">可参考的资料
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000" target="_blank" rel="noopener"
>廖雪峰git教程&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>阿里云使用VNC</title><link>https://svtter.cn/p/%E9%98%BF%E9%87%8C%E4%BA%91%E4%BD%BF%E7%94%A8vnc/</link><pubDate>Tue, 05 Dec 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E9%98%BF%E9%87%8C%E4%BA%91%E4%BD%BF%E7%94%A8vnc/</guid><description>&lt;p>本来想用阿里云做vnc来远程一下完成一些事情，但是无奈速度有点慢，而且源还偶尔出问题，update能不能成功完全看脸【经常碰到，没有修改过aliyun的source】。不成功的表现是，&lt;code>apt-get&lt;/code>告诉我&lt;code>broken depends&lt;/code>，em….&lt;/p>
&lt;p>不过不是很妨碍相关的使用【才怪】。这是&lt;a class="link" href="https://help.aliyun.com/knowledge_detail/41530.html#" target="_blank" rel="noopener"
>官方教程&lt;/a>。&lt;/p>
&lt;p>使用vnc在官方的教程上要这样修&lt;code>Xstartup&lt;/code>才行。测试环境&lt;code>ubuntu 14.04&lt;/code>。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="ch">#!/bin/sh&lt;/span>
&lt;span class="nb">export&lt;/span> &lt;span class="nv">XKL_XMODMAP_DISABLE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;span class="nb">unset&lt;/span> SESSION_MANAGER
&lt;span class="nb">unset&lt;/span> DBUS_SESSION_BUS_ADDRESS
&lt;span class="o">[&lt;/span> -x /etc/vnc/xstartup &lt;span class="o">]&lt;/span> &lt;span class="o">&amp;&amp;&lt;/span> &lt;span class="nb">exec&lt;/span> /etc/vnc/xstartup
&lt;span class="o">[&lt;/span> -r &lt;span class="nv">$HOME&lt;/span>/.Xresources &lt;span class="o">]&lt;/span> &lt;span class="o">&amp;&amp;&lt;/span> xrdb &lt;span class="nv">$HOME&lt;/span>/.Xresources
xsetroot -solid grey
vncconfig -iconic &lt;span class="p">&amp;&lt;/span>
gnome-panel &lt;span class="p">&amp;&lt;/span>
gnome-settings-daemon &lt;span class="p">&amp;&lt;/span>
metacity &lt;span class="p">&amp;&lt;/span>
nautilus &lt;span class="p">&amp;&lt;/span>
gnome-terminal &lt;span class="p">&amp;&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>小程序开发Tips</title><link>https://svtter.cn/p/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91tips/</link><pubDate>Sat, 02 Dec 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91tips/</guid><description>&lt;p>这篇文章主要聊聊小程序开发。&lt;/p>
&lt;p>小程序开发有几个点在文档里面没有写的很明确，在这里我更明确的提一下。&lt;/p>
&lt;h2 id="带着参数跳转">带着参数跳转
&lt;/h2>&lt;p>小程序之间的页面跳转携带参数的小例子：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">navigator&lt;/span> &lt;span class="na">url&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">""&lt;/span> &lt;span class="na">bindtap&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">"bindViewTap"&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>这个&lt;code>navigator&lt;/code>是一个跳转，绑定了&lt;code>bindViewTap&lt;/code>方法。&lt;code>bindViewTap&lt;/code>方法实现如下：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span> &lt;span class="kd">var&lt;/span> &lt;span class="nx">bindViewTap&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;run search.&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="kd">let&lt;/span> &lt;span class="nx">location&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="nx">x&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="nx">y&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;span class="p">};&lt;/span>
&lt;span class="kd">let&lt;/span> &lt;span class="nx">keyword&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;test&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="nx">wx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">navigateTo&lt;/span>&lt;span class="p">({&lt;/span>
&lt;span class="nx">url&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="sb">`../map/map?latitude=&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">location&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">&amp;longitude=&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">location&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">y&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">&amp;keyword=&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">keyword&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">`&lt;/span>
&lt;span class="p">})&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>如此一来，便携带着三个参数，就像是网页GET请求一样，跳转到&lt;code>../map/map&lt;/code>页面。此时，map页面需要接收这几个参数。示例代码：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span> &lt;span class="kd">var&lt;/span> &lt;span class="nx">onLoad&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">options&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="kd">let&lt;/span> &lt;span class="nx">that&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Map load.&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setData&lt;/span>&lt;span class="p">({&lt;/span>
&lt;span class="nx">markers&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="nx">latitude&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">latitude&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="nx">longitude&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">longitude&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="p">},&lt;/span>
&lt;span class="nx">inputVal&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">options&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">keyword&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="nx">init&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;span class="p">},&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="c1">// 完成函数后回调&lt;/span>
&lt;span class="nx">that&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">showInput&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="p">});&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>在Page的&lt;code>OnLoad&lt;/code>方法中，可以从options参数里面把传递的值拿出来，在&lt;code>map&lt;/code>页面中使用。&lt;/p>
&lt;p>本文后续持久更新。&lt;/p></description></item><item><title>全站上https</title><link>https://svtter.cn/p/%E5%85%A8%E7%AB%99%E4%B8%8Ahttps/</link><pubDate>Thu, 30 Nov 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%85%A8%E7%AB%99%E4%B8%8Ahttps/</guid><description>&lt;p>本来觉得这个https不是什么大不了的事情，但是输入密码的时候突然意识到，这个post的过程中是有危险的。危险在哪里呢？我们可以参考mozilla的&lt;a class="link" href="https://support.mozilla.org/zh-CN/kb/%E9%98%BB%E6%AD%A2%E6%B7%B7%E5%90%88%E5%86%85%E5%AE%B9?redirectlocale=en-US&amp;amp;as=u&amp;amp;redirectslug=how-does-content-isnt-secure-affect-my-safety&amp;amp;utm_source=inproduct" target="_blank" rel="noopener"
>相关描述&lt;/a>。&lt;/p>
&lt;p>在参考了 Mozilla 的描述后，我决定给我的站上一下https。上https的过程比较容易，因为之前一直都是在腾讯云捣鼓，所以直接从腾讯云走的域名以及https，因此可以直接从腾讯云一键申请【当然，还是需要填写一部分步骤】，这里就不再赘述了。另外，补充一下，申请ssl证书，即https必需品，首先需要网站进行审核，审核通过以后，才能直接申请。&lt;/p>
&lt;p>因为我直接使用的是nginx作为前端，因此直接添加了一条server记录：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-nginx" data-lang="nginx">&lt;span class="line">&lt;span class="cl">&lt;span class="k">server&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">listen&lt;/span> &lt;span class="mi">443&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">server_name&lt;/span> &lt;span class="s">svtter.cn&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">ssl&lt;/span> &lt;span class="no">on&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">ssl_certificate&lt;/span> &lt;span class="s">1_svtter.cn_bundle.crt&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">ssl_certificate_key&lt;/span> &lt;span class="s">2_svtter.cn.key&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">ssl_session_timeout&lt;/span> &lt;span class="mi">5m&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">ssl_protocols&lt;/span> &lt;span class="s">TLSv1&lt;/span> &lt;span class="s">TLSv1.1&lt;/span> &lt;span class="s">TLSv1.2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">ssl_ciphers&lt;/span> &lt;span class="s">ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">ssl_prefer_server_ciphers&lt;/span> &lt;span class="no">on&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">location&lt;/span> &lt;span class="s">/&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_pass&lt;/span> &lt;span class="s">http://web/&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这个地方的域名需要换成自己申请的。其中有一个小坑是，如果你已经配置好http，希望全站都走https，那么要记得在原本的server处，添加一条语句&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-nginx" data-lang="nginx">&lt;span class="line">&lt;span class="cl"> &lt;span class="k">rewrite&lt;/span> &lt;span class="s">^(.*)&lt;/span> &lt;span class="s">https://&lt;/span>&lt;span class="nv">$host$1&lt;/span> &lt;span class="s">permanent&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>如此一来，所有访问你网站的流量就都走https啦~看见小绿锁真开心呀；&lt;/p>
&lt;h2 id="后记">后记
&lt;/h2>&lt;p>使用https以后，我发现我使用的许多图片并不是https，因此我的网站依然有被篡改的可能性。&lt;/p></description></item><item><title>这个不是很讲究的博客</title><link>https://svtter.cn/p/%E8%BF%99%E4%B8%AA%E4%B8%8D%E6%98%AF%E5%BE%88%E8%AE%B2%E7%A9%B6%E7%9A%84%E5%8D%9A%E5%AE%A2/</link><pubDate>Mon, 27 Nov 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E8%BF%99%E4%B8%AA%E4%B8%8D%E6%98%AF%E5%BE%88%E8%AE%B2%E7%A9%B6%E7%9A%84%E5%8D%9A%E5%AE%A2/</guid><description>&lt;h2 id="功能列表">功能列表
&lt;/h2>&lt;p>这个博客的雏形很早之前就写好了，但是一直没有挂上去，主要有这几个原因：一是写的不好，很多功能都没写全，写的也不太走心；二是长得有点丑，当然，这一点也可以放在功能不全这个问题里面。总而言之，就是不太讲究。这个不讲究还体现在之前的文章Latex适配没做好，等等。&lt;/p>
&lt;p>完成博客的基本功能后，准备向着知识库的方向迈进一下，做成笔记形式的东西。其实做成笔记形式的东西并不难，把接口做好，然后写几个符合自己心意的前端就好了。只不过这时间上可能有点扛不太住，所以现在web方面做点事情，等以后有时间了，再去做别的。可以参考&lt;a class="link" href="http://chaoo.oschina.io/" target="_blank" rel="noopener"
>主题&lt;/a>。&lt;/p>
&lt;h2 id="关于web">关于web
&lt;/h2>&lt;p>说一点观点，web这个东西随着app的盛行，可能生存空间就像是原来的pc，或者说伴随着pc吧，流量会变得小很多。这也是没办法的事情，虽然不至于被逼死。但是不能说这个东西就不做了，不现实。web会以另一种形式存在，比如说我们喜欢的web-app【微信小程序，支付宝小程序】等等继续存在，当然，还有大家称的h5【react-native】等等。&lt;/p>
&lt;p>现在的公众如果需要什么功能，可能在手机商店先搜索的概率更大一些，这也对某些新型的创业公司提出了挑战。这个事情可能被其他人提出很多次了，可能我发现的有点晚了。&lt;/p>
&lt;blockquote>
&lt;p>以后写文章还是要先列个大纲，然后往里面填写内容，写到这里我已经忘记我之前想说什么了。&lt;/p>&lt;/blockquote>
&lt;p>web开发依旧是猛如虎，虽然现在机器学习又炒的很热，我也很不能免俗的投入到机器学习的学习热潮之中。。&lt;/p>
&lt;h2 id="这个博客用的技术">这个博客用的技术
&lt;/h2>&lt;p>Django，Docker，Bootstrap；以后再添加什么再说。当然，还有SQLite等。&lt;/p>
&lt;p>其中我觉得最有必要吹一下的还是Docker，Docker可能需要耗费你一周的时间进行学习，当然，因人而异，最初的时候我学习这门”技术“大概就是用了一个周的时间，然后就开始了几次测试；最初是因为一些云服务商提供这个东西【免费】我猜逼着自己去学，学了之后发现用的不太好——我觉得这个事情云服务商还是要背锅的，具体我就不点名了，做的真的非常不友好。不如自己去找两本书学习一下，以学习一个虚拟化技术为目标去学习。&lt;/p>
&lt;p>听说最近阿里推出了自己的容器技术，不过我没有精力看——有是的确应该有的。容器的好处就是你可以在本地搞好配置清单，或者抄一份配置清单，然后ssh到服务器上面部署一下，过程非常流畅，很舒服。&lt;/p>
&lt;h2 id="我更喜欢作为什么">我更喜欢作为什么
&lt;/h2>&lt;p>我想了一下，我更喜欢作为一个原型开发工程师——这个名词是我自己的发明的，我也没有上网去查查有没有类似的名词。原型开发工程师的意思是做一些人们想要做的东西，但是实现起来没有必要做的非常彻底的东西。原型开发工程师是很痛苦的，尤其是在设计完之后开始写代码的过程。不是说设计完了，这个东西就实现了。&lt;/p>
&lt;blockquote>
&lt;p>话说如果人工智能能够做到我设计完就能实现，还不用我非得用一些特别的领域设计语言来做的话，那真是虎的一批啊。&lt;/p>&lt;/blockquote>
&lt;p>原型的最好处是不用在一个地方死抠着，做出东西更有成就感，也更容易致富一些。这个地方牵扯手艺的问题。手艺的问题应该作为另一篇博文来讲一下。&lt;/p>
&lt;h2 id="回学校的一些感想">回学校的一些感想
&lt;/h2>&lt;p>嗯，来读研了。感觉研究生是非常有必要读的，尤其是本身作为二本院校的毕业生，很多知识的宽度与深度都是不够的。搞过的东西听过的课重新搞一遍，感觉是不一样的。对于有些东西实现没有头绪，现在来看看，收获了很多的思路，也把解决许多老旧的问题，感觉自己的开发水平应该又上了一个台阶。应该属于内功的部分吧。&lt;/p>
&lt;h2 id="bug">BUG
&lt;/h2>&lt;ul>
&lt;li>RSS feed 存在问题【修改文章后会更改文章的时间线】&lt;/li>
&lt;li>目录出现小问题&lt;/li>
&lt;/ul>
&lt;p>这个博客应该没有多少人关注，阅读量少的可怜。但是如果你有什么想法，可以先发邮件给我。&lt;code>svtter#qq.com&lt;/code>。&lt;/p></description></item><item><title>4道算法题目</title><link>https://svtter.cn/p/4%E9%81%93%E7%AE%97%E6%B3%95%E9%A2%98%E7%9B%AE/</link><pubDate>Sun, 26 Nov 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/4%E9%81%93%E7%AE%97%E6%B3%95%E9%A2%98%E7%9B%AE/</guid><description>&lt;p>四道做的比较走心的算法题目。&lt;/p>
&lt;h2 id="最接近的数字">最接近的数字
&lt;/h2>&lt;h3 id="题目">题目
&lt;/h3>&lt;p>一个K位的数N&lt;/p>
&lt;p>$$&lt;/p>
&lt;p>(K\leq2000，N\leq10^{20})&lt;/p>
&lt;p>$$&lt;/p>
&lt;p>找出一个比N大且最接近的数，这个数的每位之和与N相同，用代码实现之。&lt;/p>
&lt;p>例如：0050 所求书数字为0104；112 所求数为121；&lt;/p>
&lt;h3 id="算法分析-算法思想">算法分析 算法思想
&lt;/h3>&lt;p>直接暴力求这个数字是不可以的，数字的量级太大，有K位的数字，不可能直接用int，或者float来表示，使用数组来存储。应该分析这个数字，step1，从右边开始的最小位数开始，分解最后一位数字，分解出1来拿给前面的一位。9和0比较特殊，因此从左往右扫描的开始，遇到0就跳过，遇到第一个非0的数字，就把这个数字-1，然后移到最后面去，然后，step2，开始找第一个非9的数字，如果遇到9，就把9放到最后面去，遇到非9，就+1，结束运算。&lt;/p>
&lt;p>一个般的例子：&lt;/p>
&lt;p>1999000 -&amp;gt; 1990008-&amp;gt; 2000899&lt;/p>
&lt;p>要注意一个问题，就是如果是 999000 这种情况，在数字的最开头补1，结果是1000899&lt;/p>
&lt;p>几个刁蛮的数据：29399 -&amp;gt; 29489&lt;/p>
&lt;h3 id="伪代码">伪代码
&lt;/h3>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>array = get_array() # number to char array
array.reverse()
step1 = true
step2 = false
zero = 0, cnt = 0;
for i : 1 - lengthof(array)
if step1:
if array[i] is 0:
zero ++
else:
array[i] = array[i] - 1
if zero &amp;gt; 0:
array[0] = array[i]
array[i] = 0
step1 = false
step2 = true
else if step2:
if array[i] is 9:
if zero == 0:
array[cnt+1] = array[cnt]
array[cnt] = 9
cnt++
if (i != cnt):
array[i] = array[i-1]
else:
array[cnt + 1] = array[cnt]
array[cnt] = 9
cnt++
array[i] = 0
else:
i = i+1
step2 = false
break
if not step2:
array[lengthof(array)] = 1
array.reverse()
disp(array)
&lt;/pre>
&lt;/div>
&lt;h3 id="分析时间复杂度o">分析时间复杂度O
&lt;/h3>&lt;p>因为reverse操作，2K，加上最后整理最小数到最前面，最坏情况接近K，3K，在循环中的操作看运气，但是最糟糕的情况也只有5K，所以时间复杂度为&lt;/p>
&lt;p>$$&lt;/p>
&lt;p>O(3K) \approx O(K)&lt;/p>
&lt;p>$$&lt;/p>
&lt;h3 id="源代码">源代码
&lt;/h3>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;string.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">MAXN&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">3000&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">char&lt;/span> &lt;span class="n">array&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">MAXN&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">length_of_number&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">get_array&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">char&lt;/span> &lt;span class="n">null&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">length_of_number&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%c"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">null&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">length_of_number&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%c"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%c"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">null&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">reverse&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="p">;&lt;/span>
&lt;span class="kt">char&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">length_of_number&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="c1">// _swap&lt;/span>
&lt;span class="n">temp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">array&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="n">array&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">array&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">length_of_number&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="n">array&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">length_of_number&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">run&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">reverse&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">step1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n">step2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n">zero&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n">cnt&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">length_of_number&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">step1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="sc">&amp;#39;0&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">zero&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">else&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">array&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">array&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">zero&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">array&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">cnt&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">array&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="n">array&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sc">&amp;#39;0&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">step1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">step2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">step2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="sc">&amp;#39;9&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">zero&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">array&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">cnt&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">array&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">cnt&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="n">array&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">cnt&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sc">&amp;#39;9&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">cnt&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">cnt&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">array&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">array&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">else&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">array&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">cnt&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">array&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">cnt&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="n">array&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">cnt&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sc">&amp;#39;9&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">cnt&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">array&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sc">&amp;#39;0&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">else&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">array&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">step2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">step2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">array&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">length_of_number&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sc">&amp;#39;1&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">length_of_number&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">output&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">reverse&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">length_of_number&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%c"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">array&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">memset&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">));&lt;/span>
&lt;span class="n">freopen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"input"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"r"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">stdin&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">get_array&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="n">run&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="n">output&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h3 id="测试结果">测试结果
&lt;/h3>&lt;p>使用&lt;code>python&lt;/code>生成测试数据进行测试：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="sd">"""&lt;/span>
&lt;span class="sd">最接近的数字&lt;/span>
&lt;span class="sd">"""&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">random&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">os&lt;/span>
&lt;span class="k">def&lt;/span> &lt;span class="nf">test&lt;/span>&lt;span class="p">():&lt;/span>
&lt;span class="sd">"""&lt;/span>
&lt;span class="sd"> sample test&lt;/span>
&lt;span class="sd"> """&lt;/span>
&lt;span class="n">num&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">random&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">randint&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10000000&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">sum_of_num&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">num&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="n">sum_of_num&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="nb">int&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">length&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">num&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="n">temp_num&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">num&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">True&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="n">sum_temp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">temp_num&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="n">sum_temp&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="nb">int&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">sum_temp&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">sum_of_num&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">break&lt;/span>
&lt;span class="n">temp_num&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;span class="k">with&lt;/span> &lt;span class="nb">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;input&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;w&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">f&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">write&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">length&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">f&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">write&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">num&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="n">res&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">popen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;./ex2&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">read&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">temp_num&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="nb">int&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">res&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="bp">True&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="bp">False&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">num&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">temp_num&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">int&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">res&lt;/span>&lt;span class="p">)]&lt;/span>
&lt;span class="nb">all&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">True&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1000&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="n">res&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">test&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">res&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="ow">is&lt;/span> &lt;span class="bp">False&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="nb">all&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">False&lt;/span>
&lt;span class="k">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">res&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="nb">all&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Pass testing!&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>存在错误的情况：&lt;/p>
&lt;img alt="" src="https://i1.wp.com/ws1.sinaimg.cn/large/c53b1907ly1fky8g4jmaej20vw04wjs8.jpg?w=625&amp;#038;ssl=1" data-recalc-dims="1" />
&lt;p>通过：&lt;/p>
&lt;img alt="" src="https://i2.wp.com/ws1.sinaimg.cn/large/c53b1907ly1fky8gccktej20u80320tb.jpg?w=625&amp;#038;ssl=1" data-recalc-dims="1" />
&lt;h3 id="后期改善优化的地方">后期改善优化的地方
&lt;/h3>&lt;ol>
&lt;li>reverse 是为了编程方便进行的处理，但是如果数字太大，速度肯定会受影响，这个时候就不要使用reverse了。&lt;/li>
&lt;li>用链表来做可以简化代码，减少分析的，更加节省时间&lt;/li>
&lt;li>处理移位的时候考虑几个问题&lt;/li>
&lt;/ol>
&lt;h2 id="寻找发帖水王">寻找发帖水王
&lt;/h2>&lt;h3 id="题目-1">题目
&lt;/h3>&lt;p>如果“水王”没有了，但有三个发帖很多的ID，发帖的数目都超过了帖子做数的1/4，又如何快速找出他们的ID。&lt;/p>
&lt;h3 id="算法分析-算法思想-1">算法分析 算法思想
&lt;/h3>&lt;p>从0-n扫描ID数组，记录3个数字的个数，如果出现第四个数字，就把三个数字的个数减少1，如果有一个数字的个数减少到0，那么把新来的数字作为原本三个数字之一进行记录。&lt;/p>
&lt;p>如此一来，扫描完ID数组之后，剩下记录的3个数字的个数便是需要求的三个数字。&lt;/p>
&lt;h3 id="伪代码-1">伪代码
&lt;/h3>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>array = get_array()
count = empty_set()
for i in array:
if count.full:
if i in count:
count.i.num ++
else:
for j in count:
count.j.num--
else
count.add(i)
disp(count)
&lt;/pre>
&lt;/div>
&lt;h3 id="分析时间复杂度o-1">分析时间复杂度O
&lt;/h3>&lt;p>数列的大小为N，记录数字的数组大小为3，每次判断记录数组count是否存在0，以及找到已存在的数字++，都会花费3个单位时间，因此其时间复杂度为&lt;/p>
&lt;p>$$&lt;/p>
&lt;p>O(3n) \approx O(n)&lt;/p>
&lt;p>$$&lt;/p>
&lt;h3 id="源代码-1">源代码
&lt;/h3>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;string.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#define MAXN 5000&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">idarray&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">MAXN&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">cur&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">];&lt;/span> &lt;span class="c1">// 记录当前元素&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">pos&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">];&lt;/span> &lt;span class="c1">// 记录当前元素个数&lt;/span>
&lt;span class="c1">// 检查是否在数组内，如果不在数组内，添加进入数组&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">checkin&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">no&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// 检查是否有空位置&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">pos&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">cur&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">no&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">pos&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">return&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="c1">// 寻找指定数字++&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">cur&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">no&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">pos&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">return&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="c1">// 没有找到重复数字，全部--&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">pos&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="c1">// 输出最后结果&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">output&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d %d %d&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">cur&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">cur&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">cur&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="c1">// 主程序&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">numberOfArray&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">run&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">numberOfArray&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">checkin&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">idarray&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">output&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">input&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">numberOfArray&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">numberOfArray&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">idarray&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">freopen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"input"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"r"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">stdin&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">groupOfTest&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">groupOfTest&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">groupOfTest&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">memset&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">cur&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">cur&lt;/span>&lt;span class="p">));&lt;/span>
&lt;span class="n">memset&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pos&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pos&lt;/span>&lt;span class="p">));&lt;/span>
&lt;span class="n">memset&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">idarray&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">idarray&lt;/span>&lt;span class="p">));&lt;/span>
&lt;span class="n">input&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="n">puts&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"Test running..."&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">run&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h3 id="测试结果-1">测试结果
&lt;/h3>&lt;p>本测试数据采用&lt;code>Python&lt;/code>自动生成。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="sd">"""&lt;/span>
&lt;span class="sd">寻找发帖水王&lt;/span>
&lt;span class="sd">"""&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">random&lt;/span>
&lt;span class="n">N&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">4000&lt;/span>
&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nb">int&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">N&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="nb">int&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">N&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="n">three_id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">random&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sample&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">three_id_num&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;span class="n">sum_rand&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">three_id&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">temp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">random&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">randint&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">sum_rand&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">temp&lt;/span>
&lt;span class="n">three_id_num&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">three_id_num&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">temp&lt;/span>
&lt;span class="n">id_array&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">random&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">randint&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">N&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">sum_rand&lt;/span>&lt;span class="p">)]&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">three_id&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">id_array&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">id_array&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">three_id_num&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">])]&lt;/span>
&lt;span class="n">random&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">shuffle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">id_array&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Most three id:&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">three_id&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Three id num: &amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">three_id_num&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Sum of three_id num: &amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">sum_rand&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;---------------&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1"># print(id_array)&lt;/span>
&lt;span class="k">with&lt;/span> &lt;span class="nb">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;input&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;w&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">f&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">write&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;1&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">f&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">write&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">N&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">id_array&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">f&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">write&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39; &amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/pre>
&lt;/div>
&lt;img alt="" src="https://i2.wp.com/ws1.sinaimg.cn/large/c53b1907ly1fkxv57y8tqj20z00bytac.jpg?w=625&amp;#038;ssl=1" data-recalc-dims="1" />
&lt;h3 id="后期改善优化的地方-1">后期改善优化的地方
&lt;/h3>&lt;ol>
&lt;li>对于N比较小的情况可以在内存中进行查找，但是一旦涉及到更大的数据，这个方法可能就没有那么简单了，不能在内部建立数组，需要一部分一部分的从磁盘中读数；&lt;/li>
&lt;li>如果需要查找的id数量变多，那么需要的临时保存的数列可能更大；&lt;/li>
&lt;li>这个实现没有使用STL中的map，如果使用map，还能进一步使得代码见解易懂，map使用hash来做内部实现，可以使得面对数据量更大的数据的时候，加快查找数据的速度。&lt;/li>
&lt;/ol>
&lt;h2 id="山西煤老板">山西煤老板
&lt;/h2>&lt;h3 id="题目-2">题目
&lt;/h3>&lt;p>你是山西的一个煤老板，你在矿区开采了有3000吨煤需要运送到市场上去卖，从你的矿区到市场有1000公里，你手里有一列烧煤的火车，这个火车只能装1000吨煤，且能耗比较大——每一公里需要耗一吨煤。请问，作为一个懂编程的煤老板，你会怎么运送才能运最多的煤到集市？&lt;/p>
&lt;h3 id="算法分析-算法思想-2">算法分析 算法思想
&lt;/h3>&lt;p>从动态规划的角度求最优解：&lt;/p>
&lt;p>假设起始运送货物量为t，终点路程为s，火车容量为c，可以运抵终点的最多货物量为函数 F(t, s)。&lt;/p>
&lt;p>3种基本情况：&lt;/p>
&lt;p>（1）t &amp;lt; s：货物量不足以运送到此距离，所以F(t, s) = 0;&lt;/p>
&lt;p>（2）s &amp;lt; t &amp;lt; c：火车一次就可以装完货物，所以F(t, s) = t – s;&lt;/p>
&lt;p>（3）2s &amp;lt; c 使得火车一次无法运完，但可以采用往返的方式多次运输，这种情况下最有的方式就是减少总共往返的次数，也就是直接运到终点而不在中间卸货，所以&lt;/p>
&lt;p>$$&lt;/p>
&lt;p>F(t, s) = (t / c – 1) * (c – 2s) + (c – s)&lt;/p>
&lt;p>$$&lt;/p>
&lt;p>可得递归式：&lt;/p>
&lt;p>$$&lt;/p>
&lt;p>F(t, s) = max{ F( F(t, i), s – i)} (1 &amp;lt;= i &amp;lt; s)&lt;/p>
&lt;p>$$&lt;/p>
&lt;p>分析了一下这个方程是有问题的，比如F(1750, 250)会计算出1125；&lt;/p>
&lt;p>所以正确的结果应该对t/c进行处理，也就是说，起点剩余的燃料不足运输到终点，直接舍弃。第三阶段的方程式应该是&lt;/p>
&lt;p>$$&lt;/p>
&lt;p>F(t, s) = (t // c – 1) * (c – 2s) + (c – s) + (t % c – 2 s), if (t%c &amp;gt; 2s)&lt;/p>
&lt;p>$$&lt;/p>
&lt;h3 id="伪代码-2">伪代码
&lt;/h3>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="n">begin&lt;/span>&lt;span class="o">:&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">t&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="o">:&lt;/span>
&lt;span class="n">f&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="o">][&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>
&lt;span class="n">elif&lt;/span> &lt;span class="n">s&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">t&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="o">:&lt;/span>
&lt;span class="n">f&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="o">][&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">t&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">s&lt;/span>
&lt;span class="n">elif&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">s&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="o">:&lt;/span>
&lt;span class="n">f&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="o">][&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">int&lt;/span>&lt;span class="o">((&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="c1">//c-1)*(c-2*s) + (c-s))&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">t&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="n">c&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="o">:&lt;/span>
&lt;span class="n">f&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="o">][&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">int&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">t&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="o">)&lt;/span>
&lt;span class="k">else&lt;/span>&lt;span class="o">:&lt;/span>
&lt;span class="n">pre&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">2&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="k">in&lt;/span> &lt;span class="n">range&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="o">):&lt;/span>
&lt;span class="n">pre&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">int&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">max&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">F&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">F&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="n">pre&lt;/span>&lt;span class="o">))&lt;/span>
&lt;span class="n">f&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="o">][&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pre&lt;/span>
&lt;span class="n">end&lt;/span>
&lt;span class="n">disp&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">f&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="mi">3000&lt;/span>&lt;span class="o">][&lt;/span>&lt;span class="mi">1000&lt;/span>&lt;span class="o">])&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h3 id="分析时间复杂度o-2">分析时间复杂度O
&lt;/h3>&lt;p>时间复杂度为&lt;/p>
&lt;p>$$&lt;/p>
&lt;p>O(3000*3000)&lt;/p>
&lt;p>$$&lt;/p>
&lt;p>因为每个数字都要计算一遍。&lt;/p>
&lt;h3 id="源代码-2">源代码
&lt;/h3>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="sd">"""&lt;/span>
&lt;span class="sd">山西煤老板&lt;/span>
&lt;span class="sd">"""&lt;/span>
&lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1000&lt;/span>
&lt;span class="n">f&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[[&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">k&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">4000&lt;/span>&lt;span class="p">)]&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">4000&lt;/span>&lt;span class="p">)]&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">4000&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="n">k&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">4000&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">f&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>
&lt;span class="n">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1000&lt;/span>
&lt;span class="n">cnt&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>
&lt;span class="k">def&lt;/span> &lt;span class="nf">F&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="sd">"""&lt;/span>
&lt;span class="sd"> dp&lt;/span>
&lt;span class="sd"> """&lt;/span>
&lt;span class="k">global&lt;/span> &lt;span class="n">count&lt;/span>
&lt;span class="k">global&lt;/span> &lt;span class="n">c&lt;/span>
&lt;span class="k">global&lt;/span> &lt;span class="n">f&lt;/span>
&lt;span class="c1"># count -= 1&lt;/span>
&lt;span class="c1"># if count == 0:&lt;/span>
&lt;span class="c1"># count = int(input())&lt;/span>
&lt;span class="n">t&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">int&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">s&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">int&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">t&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">f&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>
&lt;span class="k">elif&lt;/span> &lt;span class="n">s&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">t&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">f&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">t&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">s&lt;/span>
&lt;span class="k">elif&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">s&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">f&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">int&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="o">//&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">t&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="n">c&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">f&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="nb">int&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">t&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">pre&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">2&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="n">pre&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">int&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">max&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">F&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">F&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">pre&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="n">f&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pre&lt;/span>
&lt;span class="k">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="k">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">F&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3000&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">500&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h3 id="测试结果-2">测试结果
&lt;/h3>&lt;img alt="" src="https://i1.wp.com/ws1.sinaimg.cn/large/c53b1907ly1fl04n2mrqgj20fg0cyt9k.jpg?w=625&amp;#038;ssl=1" data-recalc-dims="1" />
&lt;h3 id="后期改善优化的地方-2">后期改善优化的地方
&lt;/h3>&lt;ol>
&lt;li>
&lt;p>去除了一下数据进行加速&lt;/p>
&lt;/li>
&lt;li>
&lt;p>保存f减少重复运算值&lt;/p>
&lt;/li>
&lt;li>
&lt;p>应该有更加简单的方法，类似这种，但是不好解释。&lt;/p>
&lt;/li>
&lt;/ol>
&lt;img alt="" src="https://i2.wp.com/ws1.sinaimg.cn/large/c53b1907ly1fl05b8hdjcj20r40c2wit.jpg?w=625&amp;#038;ssl=1" data-recalc-dims="1" />
&lt;ol>
&lt;li>$$&lt;/li>
&lt;/ol>
&lt;pre>&lt;code>3y=1000\
5x=1000\
解得x+y=200+333=533，因此使得最后一辆火车抵达时节省了533吨煤\
$$
&lt;/code>&lt;/pre>
&lt;h2 id="facebook">Facebook
&lt;/h2>&lt;h3 id="题目-3">题目
&lt;/h3>&lt;p>Given a list of words, L, that are all the same length, and a string, S, find the starting position of the substring of S that is concatenation of each word in L exactly once and without intervening characters. This substring will occur exactly once in S.&lt;/p>
&lt;h3 id="算法分析-算法思想-3">算法分析 算法思想
&lt;/h3>&lt;p>使用hashmap来保存word的hash值，来加快查找速度。（旧）&lt;/p>
&lt;p>直接用hash函数求字符串的hash值，最后求得结果。&lt;/p>
&lt;p>依据公式&lt;/p>
&lt;p>$$&lt;/p>
&lt;p>hash(w_1) + hash(w_2) = hash(w_2) + hash(w_1)&lt;/p>
&lt;p>$$&lt;/p>
&lt;h3 id="伪代码-3">伪代码
&lt;/h3>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>hash_word_list = list(map(hash, words))
hash_sum = reduce(lambda x, y: x + y, hash_word_list)
for i in range(len(sentence)):
wl = word_len
wlist = [sentence[i+j*wl:i+j*wl+wl] for j in range(words_len)]
temp_sum = 0
for k in wlist:
temp_sum += hash(k)
if temp_sum == hash_sum:
print(i)
break
&lt;/pre>
&lt;/div>
&lt;h3 id="分析时间复杂度o-3">分析时间复杂度O
&lt;/h3>&lt;p>就是字符串长度&lt;/p>
&lt;p>$$&lt;/p>
&lt;p>O(lengthOfS)&lt;/p>
&lt;p>$$&lt;/p>
&lt;h3 id="源代码-3">源代码
&lt;/h3>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="ch">#!/usr/bin/env python3&lt;/span>
&lt;span class="sd">"""&lt;/span>
&lt;span class="sd">facebook&lt;/span>
&lt;span class="sd">"""&lt;/span>
&lt;span class="kn">from&lt;/span> &lt;span class="nn">functools&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="nb">reduce&lt;/span>
&lt;span class="k">while&lt;/span> &lt;span class="bp">True&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">words&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">input&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="c1"># words = "fooo barr wing ding wing"&lt;/span>
&lt;span class="n">words&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">words&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">split&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39; &amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">word_len&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">words&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="n">words_len&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">words&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">hash_word_list&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">list&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">map&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">hash&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">words&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="n">hash_sum&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">reduce&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">lambda&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">hash_word_list&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">sentence&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">input&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="c1"># sentence = """lingmindraboofooowingdin\&lt;/span>
&lt;span class="c1"># gbarrwingfooomonkeypoundcakewingdingbarrwingfooowing"""&lt;/span>
&lt;span class="c1"># print(words, words_len, word_len, sentence)&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sentence&lt;/span>&lt;span class="p">)):&lt;/span>
&lt;span class="n">wl&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">word_len&lt;/span>
&lt;span class="n">wlist&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">sentence&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">wl&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">wl&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">wl&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">words_len&lt;/span>&lt;span class="p">)]&lt;/span>
&lt;span class="c1"># print(wlist)&lt;/span>
&lt;span class="n">temp_sum&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="n">k&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">wlist&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">temp_sum&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="nb">hash&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">temp_sum&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">hash_sum&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">break&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h3 id="测试结果-3">测试结果
&lt;/h3>&lt;p>测试数据生成意义不是很大，&lt;/p>
&lt;img alt="" src="https://i1.wp.com/ws1.sinaimg.cn/large/c53b1907ly1fl0cpgm29cj20z00caq4f.jpg?w=625&amp;#038;ssl=1" data-recalc-dims="1" />
&lt;h3 id="后期改善优化的地方-3">后期改善优化的地方
&lt;/h3>&lt;ol>
&lt;li>hash尽管在速度上非常优秀，但是在准确度方面，如果出现hash冲突，那么值可能不准确。此时可以利用hashmap来解决这个问题，不过会多出重置hashmap的相关时间。&lt;/li>
&lt;/ol>
&lt;h2 id="for-n--m-8211-problems">For n -m – problems
&lt;/h2>&lt;h3 id="problemset">Problemset
&lt;/h3>&lt;p>Assume we have a sequence that contains N numbers of type long. And we know for sure that among this sequence each number does occur exactly n times except for the one number that occurs exactly m times (0 &amp;lt; m &amp;lt; n). How do we find that number with O(N) operations and O(1) additional memory?&lt;/p>
&lt;h3 id="algorithm">Algorithm
&lt;/h3>&lt;p>^ is the add operation without carry.&lt;/p>
&lt;p>默认one,two都是0, 即任何数字都不存在&lt;/p>
&lt;p>数字a第一次来的时候, one标记a存在, two不变&lt;/p>
&lt;p>数字a第二次来的时候, one标记a不存在, two标记a存在&lt;/p>
&lt;p>数字a第三次来的时候, one不变, two标记a不存在&lt;/p>
&lt;p>构造这样一种运算，通过异或将数据保存在one和two里面。&lt;/p>
&lt;h3 id="pseudocode">Pseudocode
&lt;/h3>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>def solve2(array):
one = 0, two = 0
for i in range(array):
one = (one ^ array[i]) &amp; ~two
two = (two ^ array[i]) &amp; ~one
return one, two
array = input()
_, res = solve2(array)
&lt;/pre>
&lt;/div>
&lt;p>### Source code&lt;/p>
&lt;p>“`python&lt;/p>
&lt;h1 id="usrbinenv-python">!/usr/bin/env python
&lt;/h1>&lt;p>def solve(array):&lt;/p>
&lt;p>one, two = 0, 0&lt;/p>
&lt;p>for i in array:&lt;/p>
&lt;p>one = (one ^ i) &amp;amp; ~two&lt;/p>
&lt;p>two = (two ^ i) &amp;amp; ~one&lt;/p>
&lt;p>return one, two&lt;/p>
&lt;p>if &lt;strong>name&lt;/strong> == ‘&lt;strong>main&lt;/strong>‘:&lt;/p>
&lt;p>array = input()&lt;/p>
&lt;p>array = array.split(‘ ‘)&lt;/p>
&lt;p>array = list(map(lambda x: int(x), array))&lt;/p>
&lt;p># print(array)&lt;/p>
&lt;p>_, res = solve(array)&lt;/p>
&lt;p>print(res)&lt;/p>
&lt;p>“`&lt;/p>
&lt;h3 id="test">Test
&lt;/h3>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="ch">#!/usr/bin/env python3&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">random&lt;/span>
&lt;span class="k">def&lt;/span> &lt;span class="nf">test&lt;/span>&lt;span class="p">():&lt;/span>
&lt;span class="sd">"""&lt;/span>
&lt;span class="sd"> 测试&lt;/span>
&lt;span class="sd"> """&lt;/span>
&lt;span class="n">array&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">m&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>
&lt;span class="n">numberofNum&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">random&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">randint&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">record&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="n">_&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">numberofNum&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="n">temp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">random&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">randint&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10000&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">while&lt;/span> &lt;span class="n">temp&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">record&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">temp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">random&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">randint&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10000&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">record&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">temp&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="n">_&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="n">array&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">temp&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">temp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">random&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">randint&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">while&lt;/span> &lt;span class="n">temp&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">record&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">temp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">random&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">randint&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">array&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">temp&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">array&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">temp&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="kn">from&lt;/span> &lt;span class="nn">run&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">solve&lt;/span>
&lt;span class="n">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">res&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">solve&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">res&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;ERROR&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nb">input&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Pass: res: &amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">res&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;temp:&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">50&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="n">test&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>Use python generate data to test.&lt;/p>
&lt;img alt="" src="https://i0.wp.com/ws1.sinaimg.cn/large/c53b1907ly1fl3lds9n3uj20uo0jajuf.jpg?w=625&amp;#038;ssl=1" data-recalc-dims="1" />
&lt;h3 id="discussion-and-improve">Discussion and improve
&lt;/h3>&lt;p>如果n不是3，那么需要构造更多的临时变量。&lt;/p>
&lt;h2 id="很长的数组">很长的数组
&lt;/h2>&lt;h3 id="题目-4">题目
&lt;/h3>&lt;p>一个很长很长的short型数组A，将它分成m个长为L的子数组B1，B2，…，Bm，其中每个数组排序后都是递增的等差数列，求最大的L值。&lt;/p>
&lt;p>$$&lt;/p>
&lt;p>例如，A = {-1, 3, 6, 1, 8, 10} 可以分成B_1 = {-1, 1, 3}, B_2 = {6, 8, 10},; L = 3 即为所求。&lt;/p>
&lt;p>$$&lt;/p>
&lt;h3 id="算法分析">算法分析
&lt;/h3>&lt;p>首先进行排序，然后开始分三步走。&lt;/p>
&lt;ol>
&lt;li>
&lt;p>统计元素个数 O(n)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>排序 O(nlog(n))&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>​&lt;/p>
&lt;p>第一步用来枚举L和m的大小，由题目可知，L * m = 数组的长度。从m为1开始枚举，保证得到的L为最大值。&lt;/p>
&lt;p>第二步搜索为深搜，确定当前子数组的起点和初始步长，使用pos记录当前数组选定的元素。&lt;/p>
&lt;p>第三步枚举，根据起点给定的初始步长，开始枚举步长，如果枚举的步长可以在数组中找到足够的元素，即数字为L，那么记录这种分法，开始枚举下一个起点。如果枚举的步长和起点无法满足条件，回溯到上一个节点，把上一个节点记录的步长+1再一次搜索。当枚举的起点数达到m，即满足要求输出。&lt;/p>
&lt;p>大白话来讲，就是从头开始分原始数组到m个数组中去，排序过后，在前面的每一个节点未被分配的元素，都是子数组起点。如果使用广度优先搜索，即每次都给一个子数组分配一个满足子数组步长要求的数，会导致在最后才发现分配的元素数不满足要求，从而浪费大量时间。&lt;/p>
&lt;img alt="" src="https://i1.wp.com/ws1.sinaimg.cn/large/c53b1907ly1fl5wm9uupqj20tv103dn8.jpg?w=625&amp;#038;ssl=1" data-recalc-dims="1" />
&lt;p>其中，深度优先搜索还有几个剪枝的技巧：&lt;/p>
&lt;ol>
&lt;li>
&lt;p>当前步长*(L-1)如果超过了数组的最大元素，可以不继续搜索&lt;/p>
&lt;/li>
&lt;li>
&lt;p>如果在给定步长的情况下， 下一个数字的大小超过之前的数字+步长，那么可以不必继续搜索。&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>因为数组已经排好序。&lt;/p>
&lt;ol>
&lt;li>还有其他的剪枝技巧，体现在代码中了。&lt;/li>
&lt;/ol>
&lt;h3 id="时间复杂度">时间复杂度
&lt;/h3>&lt;p>n为数组长度，排序的时间为 O(nlogn)，枚举m时间为n，枚举step时间为65536【short跨度】，枚举全部元素时间为n，因此算法的时间上界为&lt;/p>
&lt;p>$$&lt;/p>
&lt;p>O(65536n^2)&lt;/p>
&lt;p>$$&lt;/p>
&lt;p>实际情况下，由于剪枝等操作的存在，应优于这个时间。&lt;/p>
&lt;h3 id="伪代码-4">伪代码
&lt;/h3>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>leng = len(Array)
for m=1 to n:
if n % m != 0:
continue
L = n // m
# deep search
res, record = findArray(L, m)
def findArray(L, m):
group = 0
pos = np.ones(leng)
record = []
record_start = []
while group != m:
step = 0
start = getStart(pos)
res, step = 寻找合适的步长(start, step, pos, record, L)
if res:
找到了计数
while res is False:
没找到弹出栈，往回找
if 弹出栈为空:
不用找了找不到了
return False, None
&lt;/pre>
&lt;/div>
&lt;h3 id="源代码-4">源代码
&lt;/h3>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="ch">#!/usr/bin/env python3&lt;/span>
&lt;span class="c1"># coding: utf-8&lt;/span>
&lt;span class="sd">"""&lt;/span>
&lt;span class="sd">arrays&lt;/span>
&lt;span class="sd">"""&lt;/span>
&lt;span class="kn">from&lt;/span> &lt;span class="nn">__future__&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">print_function&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">numpy&lt;/span> &lt;span class="kn">as&lt;/span> &lt;span class="nn">np&lt;/span>
&lt;span class="n">array&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="c1"># array = [1, 5, 9, 2, 6, 10]&lt;/span>
&lt;span class="c1"># array = [1, 2, 4, 5, 8, 9, 13, 14]&lt;/span>
&lt;span class="c1"># array = [1, 2, 4, 7, 11]&lt;/span>
&lt;span class="n">array&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">sorted&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">leng&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">maxn&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">array&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">leng&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="n">enable&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;span class="n">disable&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>
&lt;span class="k">def&lt;/span> &lt;span class="nf">findJ&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">step&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">pos&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">record&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">L&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="sd">"""&lt;/span>
&lt;span class="sd"> 寻找以J为开始，以步长step为开始的数列&lt;/span>
&lt;span class="sd"> """&lt;/span>
&lt;span class="k">class&lt;/span> &lt;span class="nc">StepError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="ne">Exception&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="k">pass&lt;/span>
&lt;span class="k">class&lt;/span> &lt;span class="nc">MaxException&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="ne">Exception&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="k">pass&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">pos&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">disable&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="bp">False&lt;/span>
&lt;span class="n">start&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">array&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="n">pre&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">start&lt;/span>
&lt;span class="n">record_temp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;span class="c1"># remember zero&lt;/span>
&lt;span class="k">try&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="n">step&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">step&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">40000&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="c1"># 把第一个数字记录&lt;/span>
&lt;span class="n">record_temp&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">pos&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">disable&lt;/span>
&lt;span class="n">pre&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">start&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">start&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">step&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">L&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">maxn&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">raise&lt;/span> &lt;span class="n">MaxException&lt;/span>
&lt;span class="k">try&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">cnt&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">cnt&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">L&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">record&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">record_temp&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="bp">True&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">step&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="n">k&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">leng&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">pos&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">disable&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">continue&lt;/span>
&lt;span class="k">elif&lt;/span> &lt;span class="n">pos&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">enable&lt;/span> &lt;span class="ow">and&lt;/span> &lt;span class="n">array&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">pre&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">step&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">record_temp&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">pre&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">array&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="n">cnt&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;span class="n">pos&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">disable&lt;/span>
&lt;span class="k">elif&lt;/span> &lt;span class="n">pos&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">enable&lt;/span> &lt;span class="ow">and&lt;/span> &lt;span class="n">array&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">pre&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">step&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">raise&lt;/span> &lt;span class="n">StepError&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">cnt&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">L&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">record&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">record_temp&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="bp">True&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">step&lt;/span>
&lt;span class="k">except&lt;/span> &lt;span class="n">StepError&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="c1"># 重置标记&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="n">r&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">record_temp&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">pos&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">r&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">enable&lt;/span>
&lt;span class="n">record_temp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;span class="k">except&lt;/span> &lt;span class="n">MaxException&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="c1"># 没有合适的step&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="bp">False&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="bp">None&lt;/span>
&lt;span class="k">def&lt;/span> &lt;span class="nf">findArray&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">L&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">m&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="sd">"""&lt;/span>
&lt;span class="sd"> 寻找数组&lt;/span>
&lt;span class="sd"> """&lt;/span>
&lt;span class="n">pos&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ones&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">leng&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">record&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;span class="n">record_start&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;span class="n">group&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>
&lt;span class="k">while&lt;/span> &lt;span class="n">group&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">m&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">start&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>
&lt;span class="k">while&lt;/span> &lt;span class="n">pos&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">start&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">disable&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">start&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;span class="n">step&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>
&lt;span class="n">res&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">step&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">findJ&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">start&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">step&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">pos&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">record&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">L&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">res&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">group&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;span class="n">record_start&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">start&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">step&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="k">while&lt;/span> &lt;span class="n">res&lt;/span> &lt;span class="ow">is&lt;/span> &lt;span class="bp">False&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">try&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">start&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">step&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">record_start&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">pop&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="n">r&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">record&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">pop&lt;/span>&lt;span class="p">():&lt;/span>
&lt;span class="n">pos&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">r&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">enable&lt;/span>
&lt;span class="n">group&lt;/span> &lt;span class="o">-=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;span class="n">res&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">step&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">findJ&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">start&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">step&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">pos&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">record&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">L&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">except&lt;/span> &lt;span class="ne">IndexError&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="bp">False&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="bp">None&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="bp">True&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">record&lt;/span>
&lt;span class="k">def&lt;/span> &lt;span class="nf">divideArray&lt;/span>&lt;span class="p">():&lt;/span>
&lt;span class="sd">"""&lt;/span>
&lt;span class="sd"> 分离数组&lt;/span>
&lt;span class="sd"> m 是分离的数组的个数&lt;/span>
&lt;span class="sd"> L 是分离的数组的长度&lt;/span>
&lt;span class="sd"> """&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="n">m&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">leng&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">leng&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="n">m&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">continue&lt;/span>
&lt;span class="n">L&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">leng&lt;/span> &lt;span class="o">//&lt;/span> &lt;span class="n">m&lt;/span>
&lt;span class="n">res&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">record&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">findArray&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">L&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">m&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">def&lt;/span> &lt;span class="nf">trans&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">array&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">res&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;lenth: &amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">L&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="n">r&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">record&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">temp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">map&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">trans&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">list&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">temp&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="k">return&lt;/span>
&lt;span class="k">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;No result.&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="vm">__name__&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s1">&amp;#39;__main__&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">divideArray&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h3 id="测试">测试
&lt;/h3>&lt;p>测试样例生成结果未必准确，找了部分的测试样例，可以通过修改代码中array来提现。&lt;/p>
&lt;img alt="" src="https://i1.wp.com/ws1.sinaimg.cn/large/c53b1907ly1fl5xcsxo07j20q214a7a9.jpg?w=625&amp;#038;ssl=1" data-recalc-dims="1" />
&lt;h3 id="讨论">讨论
&lt;/h3>&lt;ol>
&lt;li>在记录了起点和步长，应该可以利用这两点推出当前使用了哪些元素，如果空间大小不够使用，可以不适用record记录，如果下一层不满足条件回溯的时候，可以利用起点和步长回推已经使用的元素。&lt;/li>
&lt;/ol></description></item><item><title>C- tips</title><link>https://svtter.cn/p/c-tips/</link><pubDate>Sun, 26 Nov 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/c-tips/</guid><description>&lt;p>最近做了一部分硬件的工作，重新对C语言的一部分知识进行了学习，发现了之前做算法&lt;/p>
&lt;p>不太注意的部分，补充在这里。&lt;/p>
&lt;h2 id="函数指针">函数指针
&lt;/h2>&lt;p>函数指针是指向函数的指针变量。也就是说这个变量里面存的值是函数的地址，在调用&lt;/p>
&lt;p>的时候可以通过变量名来调用。&lt;/p>
&lt;p>通过此方式来声明，调用:&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="nf">max&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">y&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="nl">x&lt;/span> &lt;span class="p">:&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">)(&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">&amp;&lt;/span> &lt;span class="n">max&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>此处的p就是max函数，可以想象为max函数的一个别名&lt;/p>
&lt;h2 id="回调函数">回调函数
&lt;/h2>&lt;p>当我们知道函数指针的时候，就可以考虑回调函数了。&lt;/p>
&lt;p>大部分语言都可以进行函数传递，对应在C语言，这种操作都是利用函数指针来做的。&lt;/p>
&lt;p>回调函数f，就是指在调用某个函数的过程中，把f作为一个参数给执行的函数，在当前&lt;/p>
&lt;p>执行的函数中可能重新调用f，一般这个时候f就是回调函数。&lt;/p>
&lt;p>一个样例:&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="kt">void&lt;/span> &lt;span class="nf">callme&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">puts&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"I&amp;#39;m being calling..."&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">wait&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">void&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">callme&lt;/span>&lt;span class="p">)(&lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="c1">// do something...&lt;/span>
&lt;span class="n">callme&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">wait&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">callme&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h2 id="共用体">共用体
&lt;/h2>&lt;p>Struct的样式，但是是几个数据使用同一个内存空间。&lt;/p>
&lt;p>这个东西很有意思，是否不少动态语言都是从这个获取的思路？&lt;/p>
&lt;h2 id="位域">位域
&lt;/h2>&lt;p>用来限制某个变量所占用的空间大小，width代表多少位，可以在对内存限制以及字节&lt;/p>
&lt;p>对齐的时候多加考虑。&lt;/p>
&lt;h2 id="预处理器运算符">预处理器运算符
&lt;/h2>&lt;p>字符串常量化运算符 #&lt;/p>
&lt;p>把一个宏参数转换为字符串常量&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#define test(a, b) \&lt;/span>
&lt;span class="cp"> printf(#a ", " #b ", are interesting!")&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Clang&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Cpp&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>标记粘贴运算符 ##&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#define tokenpaster(n) printf ("token" #n " = %d", token##n)&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">token34&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">40&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">tokenpaster&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">34&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h2 id="c-错误处理">C 错误处理
&lt;/h2>&lt;p>C语言没有try/catch这些操作，一般函数的处理结果会通过返回值确定。&lt;/p></description></item><item><title>Python-Tips</title><link>https://svtter.cn/p/python-tips/</link><pubDate>Sun, 26 Nov 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/python-tips/</guid><description>&lt;p>来自分布在各处的开发tips&lt;/p>
&lt;h2 id="使用nametuple">使用nametuple
&lt;/h2>&lt;p>nametuple用来构建只有少数属性但是没有方法的对象，比如数据库条目。&lt;/p>
&lt;p>使用python的时候经常会出现这样的问题，我想构建一个很简单的类来进行测试，但是我不得不书写大量的代码，例如&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span class="k">class&lt;/span> &lt;span class="nc">A&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">None&lt;/span>
&lt;span class="n">num&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">None&lt;/span>
&lt;span class="k">def&lt;/span> &lt;span class="fm">__init__&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">num&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">name&lt;/span>
&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">num&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">num&lt;/span>
&lt;span class="k">def&lt;/span> &lt;span class="fm">__str__&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="s1">'&amp;lt;A&amp;gt; name: {}, num: {}’.format(self.name, self.num)&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>然后才能进行创建。如果使用nametuples的话，这个例子会变成这样：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span class="kn">import&lt;/span> &lt;span class="nn">collections&lt;/span>
&lt;span class="n">A&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">collections&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">namedtuple&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">‘&lt;/span>&lt;span class="n">A&lt;/span>&lt;span class="s1">', ['&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="s1">', '&lt;/span>&lt;span class="n">weight&lt;/span>&lt;span class="s1">'])&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>这个时候代码量相对较少。&lt;/p>
&lt;h2 id="python模仿bash管道编程">Python模仿Bash管道编程
&lt;/h2>&lt;p>这个用法十分有趣，重载&lt;code>|&lt;/code>操作符来完成这个操作。&lt;/p>
&lt;h2 id="python中的tryexcept会在各种情况下被使用">Python中的try/except会在各种情况下被使用
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span class="k">def&lt;/span> &lt;span class="nf">test&lt;/span>&lt;span class="p">():&lt;/span>
&lt;span class="k">try&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">'test start'&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">return&lt;/span>
&lt;span class="k">except&lt;/span> &lt;span class="n">e&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="ne">Exception&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">finally&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">'test end'&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>输出&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">test&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="n">test&lt;/span> &lt;span class="n">start&lt;/span>
&lt;span class="n">test&lt;/span> &lt;span class="n">end&lt;/span>
&lt;/pre>
&lt;/div>
&lt;img src="https://i2.wp.com/ws1.sinaimg.cn/large/c53b1907ly1fmmdtvsq7oj20og0fomxg.jpg?w=625&amp;#038;ssl=1" alt="" data-recalc-dims="1" />
&lt;h2 id="python3-reload模块">Python3 reload模块
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span class="o">&amp;gt;&amp;gt;&amp;gt;&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="nn">spam&lt;/span>
&lt;span class="o">&amp;gt;&amp;gt;&amp;gt;&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="nn">imp&lt;/span>
&lt;span class="o">&amp;gt;&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">imp&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">reload&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">spam&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">module&lt;/span> &lt;span class="s1">'spam'&lt;/span> &lt;span class="kn">from&lt;/span> &lt;span class="s1">'./spam.py'&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;span class="o">&amp;gt;&amp;gt;&amp;gt;&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>在一些代码进行修改之后，不想要重新打开shell，可以通过&lt;code>imp&lt;/code>进行模块的重载，具体的代码如上所示。&lt;/p>
&lt;h2 id="not-not-none">not not None
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">13&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">a&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">14&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="n">a&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">14&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="bp">True&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">15&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="n">a&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">15&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="bp">False&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">16&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">None&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">17&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">a&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">18&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="n">a&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">18&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="bp">True&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">19&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="n">a&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">19&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="bp">False&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">20&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="bp">True&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">20&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="bp">False&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">21&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="bp">None&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">21&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="bp">True&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">22&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="bp">False&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">22&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="bp">True&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p> &lt;figure class="wp-block-embed">&lt;/p>
&lt;div class="wp-block-embed__wrapper">
https://docs.python.org/3/library/pathlib.html
&lt;/div>&lt;/figure>
&lt;p>使用 Pathlib 来操作路径相关的字符串&lt;/p>
&lt;p>&amp;lt;未完待续&amp;gt;&lt;/p></description></item><item><title>ThinkPHP开发要素</title><link>https://svtter.cn/p/thinkphp%E5%BC%80%E5%8F%91%E8%A6%81%E7%B4%A0/</link><pubDate>Sun, 26 Nov 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/thinkphp%E5%BC%80%E5%8F%91%E8%A6%81%E7%B4%A0/</guid><description>&lt;p>近日因项目需要，使用ThinkPHP3.1进行开发，记录几个要素。要素文章主要目的是把容易忘记的记录下来。&lt;/p>
&lt;p>ThinkPHP习惯性使用一个入口，一般是&lt;code>index.php&lt;/code>，后面的路由等跟进。一般情况下，在部署的时候会将这个要素隐藏起来，不直接显示。&lt;/p>
&lt;h2 id="学习方法">学习方法
&lt;/h2>&lt;p>ThinkPHP的&lt;a class="link" href="http://www.thinkphp.cn/info/155.html" target="_blank" rel="noopener"
>开发教程&lt;/a>，可以参照着文档看。文档看不下去或者描述不详细的地方，可以依据这个教程继续开发。&lt;/p>
&lt;h2 id="关于调试">关于调试
&lt;/h2>&lt;p>ThinkPHP中的调试方法比较重要，可以节省许多不必要的麻烦。可以参照&lt;a class="link" href="http://www.thinkphp.cn/info/146.html" target="_blank" rel="noopener"
>这一章节&lt;/a>&lt;/p>
&lt;p>记得打开Trace，打开Trace的方法是，在配置文件中加入：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="x">&amp;#39;SHOW_PAGE_TRACE&amp;#39; =&amp;gt;true, // 显示页面Trace信息&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>通过Trace可以：&lt;/p>
&lt;ul>
&lt;li>查看运行状态&lt;/li>
&lt;li>输出某个变量的值&lt;/li>
&lt;li>来确定程序是否运行正常&lt;/li>
&lt;/ul>
&lt;h2 id="函数以及项目库">函数以及项目库
&lt;/h2>&lt;p>在项目目录中的&lt;code>Common&lt;/code>目录下定义&lt;code>common.php&lt;/code>可以定义全局可以使用的函数，例如，可以以此来引入&lt;code>map/reduce&lt;/code>等。这个目录下的函数会自动加载。&lt;/p>
&lt;h2 id="时间处理">时间处理
&lt;/h2>&lt;p>格式化输出。在ThinkPHP的模板中使用。&lt;/p>
&lt;p>&lt;code>{$time|strtotime|date=&amp;quot;Y年m月d日&amp;quot;,###&lt;/code>&lt;/p>
&lt;h2 id="gitignore">gitignore
&lt;/h2>&lt;p>针对ThinkPHP给出的&lt;code>gitignore&lt;/code>文件。用于忽略提交内容。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>/composer.lock
/vendor
.idea
.DS_Store
./&lt;span class="cp">${&lt;/span>&lt;span class="n">appname&lt;/span>&lt;span class="cp">}&lt;/span>/Runtime/Cache/
&lt;/pre>
&lt;/div>
&lt;h2 id="参考的几个网站">参考的几个网站
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="http://www.thinkphp.cn/info/146.html" target="_blank" rel="noopener"
>debug&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>导出hexo博客</title><link>https://svtter.cn/p/%E5%AF%BC%E5%87%BAhexo%E5%8D%9A%E5%AE%A2/</link><pubDate>Mon, 04 Sep 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%AF%BC%E5%87%BAhexo%E5%8D%9A%E5%AE%A2/</guid><description>&lt;p>最近自己重写了一套博客系统，打算把博客和知识库结合起来，做一套强大的玩意儿。&lt;/p>
&lt;p>今天做了一些简单的工作，觉得这个导出hexo文章挺有意思，于是写在这里。&lt;/p>
&lt;p>markdown + yaml 这种解析方式没有直接能够使用的，有些markdown文章中缺少&lt;code>---&lt;/code>&lt;/p>
&lt;p>也能进行解析，还有几个tag存在问题。**因此为了能够直接使用原本博客中的相关内容，&lt;/p>
&lt;p>直接使用hexo本身的parse来解析，即&lt;code>hexo-front-matter&lt;/code>。**&lt;/p>
&lt;p>可以直接从github上面找到对应的API，很简单的粗暴。&lt;/p></description></item><item><title>博客迁移域名至svtter.github.io</title><link>https://svtter.cn/p/%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB%E5%9F%9F%E5%90%8D%E8%87%B3svtter.github.io/</link><pubDate>Wed, 09 Aug 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB%E5%9F%9F%E5%90%8D%E8%87%B3svtter.github.io/</guid><description/></item><item><title>vim的补全插件</title><link>https://svtter.cn/p/vim%E7%9A%84%E8%A1%A5%E5%85%A8%E6%8F%92%E4%BB%B6/</link><pubDate>Sun, 06 Aug 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/vim%E7%9A%84%E8%A1%A5%E5%85%A8%E6%8F%92%E4%BB%B6/</guid><description>&lt;p>Vim的补全插件大体上分4个阵营，如&lt;code>deoplete&lt;/code>, &lt;code>completor.vim&lt;/code>, &lt;code>YCM&lt;/code>, 以及&lt;code>neocomplete&lt;/code>。&lt;/p>
&lt;p>在我想写这篇文章的时候，&lt;code>YCM&lt;/code>即&lt;code>youcompleteme&lt;/code>还认为自己支持了vim8的新特性&lt;code>async&lt;/code>，即非阻塞补全那一套东西。这个特性是怎么回事呢？输入的时候补全插件会进行补全搜索，这个时候如果不用新的特性，会造成UI卡顿。&lt;/p>
&lt;p>所以，事实上根据我的测试，作者似乎错误的理解了这个新特性，可以看看&lt;a class="link" href="https://github.com/Valloric/YouCompleteMe/issues/2376" target="_blank" rel="noopener"
>工单&lt;/a>。&lt;/p>
&lt;p>不过目前没有时间去搞清楚这个问题。因为我直接选择了&lt;code>completor.vim&lt;/code>，这个插件完美实现了这个功能。&lt;/p>
&lt;p>未完待续&lt;/p></description></item><item><title>MongoDB与MySQL比较【翻译】</title><link>https://svtter.cn/p/mongodb%E4%B8%8Emysql%E6%AF%94%E8%BE%83%E7%BF%BB%E8%AF%91/</link><pubDate>Wed, 26 Jul 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/mongodb%E4%B8%8Emysql%E6%AF%94%E8%BE%83%E7%BF%BB%E8%AF%91/</guid><description>&lt;blockquote>
&lt;p>翻译于 &lt;a class="link" href="https://www.mongodb.com/compare/mongodb-mysql?jmp=docs" target="_blank" rel="noopener"
>https://www.mongodb.com/compare/mongodb-mysql?jmp=docs&lt;/a>&lt;/p>&lt;/blockquote>
&lt;h2 id="概览">概览
&lt;/h2>&lt;p>关系型数据库支持企业级应用已经有了十年之久，自从1995年MySQL释出，它已经成为最流行而低成本的选择。但是，在近几年存储以及不同类型数据的爆炸性增长，非关系型数据库，像是MongoDB，现行于市，满足新应用的需求。MongoDB既被用于新的应用，也被用于替代旧的关系型基础设施，或者在原来的基础上增加新的功能。&lt;/p>
&lt;h2 id="什么是mysql">什么是MySQL？
&lt;/h2>&lt;p>MySQL是一个流行的开源的关系型数据库管理系统（RDBMS），由Oracle公司开发，分发，以及提供支持。就像是其他的关系型系统，MySQL通过tables（表）来存储数据，使用结构查询语言（SQL）来管理数据库。在MySQL，你预先定义了你的数据库schema，这个schema基于你的需求，以及设置规则来管理你的tables之间的关系。在MySQL，相关联的信息可能被存储在分离的table中，但是通过JOIN操作来关联。以这种方式，数据复制是最小化的。&lt;/p>
&lt;h2 id="什么是mongodb">什么是MongoDB？
&lt;/h2>&lt;p>MongoDB是一个开源的数据库，由MongoDB公司开发。MongoDB以像是JSON样式的文档保存数据，因此，在结构上可以保持多样化。为了快速的查询，通过MongoDB查询语句，相关联的数据被一起保存。MongoDB使用动态schema，意味着你可以不用定义表格，不用定义域，以及他们的数据类型，而直接创建记录。你可以修改记录（我们称之为文档）的结构，只需要简单的添加新的域，或者删除已经存在的某一个。这个数据模型使得你能够更轻松的去展现分等级的关系，保存数组，以及其他更复杂的结构。在一个集合中的文档，不需要有一个相同的域的集合，数据的反规格化是很常见的。MongoDB也为高可用以及高扩展性做了相关设计，包括开箱即用的数据复制以及自动分片。&lt;/p>
&lt;h2 id="术语以及概念">术语以及概念
&lt;/h2>&lt;p>在MySQL中许多概念可以类比到MongoDB。这个表格列出了一些在每个系统中常见的概念&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">MySQL&lt;/th>
&lt;th style="text-align: left">MongoDB&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">Table&lt;/td>
&lt;td style="text-align: left">Collection&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">Row&lt;/td>
&lt;td style="text-align: left">Document&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">Column&lt;/td>
&lt;td style="text-align: left">Field&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">Joins&lt;/td>
&lt;td style="text-align: left">Embedded documents, linking&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="特性比较">特性比较
&lt;/h2>&lt;p>像是MySQL，MongoDB提供了一系列丰富的特性以及实用性，而不仅仅是提供简单的键-值存储。MongoDB有一个查询语言，高实用性的第二索引（包括文字搜索以及地理位置的查询），一个用于数据分析的强大的框架集成。通过MongoDB，在已经扩展的情况下，你仍然可以在许多不同类型的数据中使用这些特性，而MySQL不行。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">&lt;/th>
&lt;th style="text-align: left">MySQL&lt;/th>
&lt;th style="text-align: left">MongoDB&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">丰富的数据模型&lt;/td>
&lt;td style="text-align: left">否&lt;/td>
&lt;td style="text-align: left">是&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">动态的数据表&lt;/td>
&lt;td style="text-align: left">否&lt;/td>
&lt;td style="text-align: left">是&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">数据类型&lt;/td>
&lt;td style="text-align: left">是&lt;/td>
&lt;td style="text-align: left">是&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">地理位置数据&lt;/td>
&lt;td style="text-align: left">否&lt;/td>
&lt;td style="text-align: left">是&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">域更新&lt;/td>
&lt;td style="text-align: left">是&lt;/td>
&lt;td style="text-align: left">是&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">开发者友好&lt;/td>
&lt;td style="text-align: left">否&lt;/td>
&lt;td style="text-align: left">是&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">复杂的事务&lt;/td>
&lt;td style="text-align: left">是&lt;/td>
&lt;td style="text-align: left">否&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">审计&lt;/td>
&lt;td style="text-align: left">是&lt;/td>
&lt;td style="text-align: left">是&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">自动分片&lt;/td>
&lt;td style="text-align: left">否&lt;/td>
&lt;td style="text-align: left">是&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="查询语言">查询语言
&lt;/h2>&lt;p>MySQL与MongoDB都有一个丰富的查询语言；一个全面的陈述，可以在MongoDB文档中看到。&lt;/p>
&lt;p>&lt;a class="link" href="" >&lt;/a>&lt;/p>
&lt;h2 id="为什么使用mongodb而不是mysql">为什么使用MongoDB而不是MySQL？
&lt;/h2>&lt;p>任何大小的组织都应该使用MongoDB，因为它可以让创建应用更加快捷，处理多种多样的数据结构，以及在扩展时更加有效的管理应用。&lt;/p>
&lt;p>在MongoDB上面进行开发是很简单的。因为，MongoDB的文档是可以很自然的联系到现代的面向对象的语言。MongoDB删除了复杂的ORM，即对象关系连接层。这个连接层一般把关系型数据库的数据转换成可编程的对象。&lt;/p>
&lt;p>MongoDB的灵活数据模型也意味着，你的数据结构可以和你的商业模型一同进化。例如，schema在MySQL上如果出现改动，经常是以星期为计数单位，而在MongoDB上，只需要几个小时就好了。&lt;/p>
&lt;p>MongoDB内建可扩展性，通过分布式的数据中心。相较于MySQL，MongoDB提供了更高一级的数据的可用性以及扩展性，这是MySQL所不能达到的。当你的开发环境以数据的存储以及吞吐量为瓶颈的时候，MongoDB可以无停机的扩展，以及不需要修改你的应用。相比之下，扩展MySQL经常需要重要的，特定的工程师来进行工作。百度从MySQL迁移到MongoDB来支持他日益增长的商务信息，中国互联网服务巨人，通过MongoDB集群，现在支持着100多个应用，以及管理了1PB多的数据。&lt;/p>
&lt;h2 id="有哪些使用mongodb的用户案例">有哪些使用MongoDB的用户案例？
&lt;/h2>&lt;p>MongoDB是一个多用途的数据库，可以被用到各种使用案例中。那些最出名的案例包括：单一浏览，物联网，移动，实时分析，个人，目录，以及内容管理系统。&lt;/p>
&lt;h2 id="什么时候mysql更好一些">什么时候MySQL更好一些？
&lt;/h2>&lt;p>当大多数系统需要一个灵活的可扩展的系统，像是MongoDB的时候，仍然有一些地方使用MySQL更好一些。&lt;/p>
&lt;p>应用需要复杂的多行的事务（比如，一个双重认证的借书系统）将会是一个很好的例子。MongoDB不是为了替代那些使用关系型数据库以及SQL的常规应用。&lt;/p>
&lt;p>一个更加具体的例子是，一个在旅游预订系统背后的预订引擎，它包括典型的复杂的事务。当预订引擎放MYSQL上面的时候，那些与用户相关的——为内容提供服务，与社交进行聚合，管理sessions的部分，最好使用MongoDB来进行替代。&lt;/p>
&lt;h2 id="mongodb和mysql能够一起工作吗">MongoDB和MySQL能够一起工作吗？
&lt;/h2>&lt;p>有许多将MongoDB与MySQL混合开发的例子。在一些案例中，选择重要的工具进行工作是必要的。例如，许多电商应用使用MongoDB与MySQL的混合。商品目录，那些包括许多不同种商品，且拥有许多不同属性的例子，就是MongoDB利用其数据灵活性的好去处。从另一个角度说，结算系统，包括复杂逻辑，最好是使用MySQL数据库或者其他关系型的技术。&lt;/p>
&lt;hr>
&lt;p>翻译到这里感觉已经大体上足够了。&lt;/p></description></item><item><title>Meteor指南翻译</title><link>https://svtter.cn/p/meteor%E6%8C%87%E5%8D%97%E7%BF%BB%E8%AF%91/</link><pubDate>Tue, 25 Jul 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/meteor%E6%8C%87%E5%8D%97%E7%BF%BB%E8%AF%91/</guid><description>&lt;p>翻译了关于Meteor指南[tutorial]的部分似乎还不是很够，打算再翻译一下Meteor-guide的相关部分&lt;/p></description></item><item><title>快速上手编辑器</title><link>https://svtter.cn/p/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B%E7%BC%96%E8%BE%91%E5%99%A8/</link><pubDate>Fri, 21 Jul 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B%E7%BC%96%E8%BE%91%E5%99%A8/</guid><description>&lt;p>Atom因为总是需要代理来下载插件的原因，又被放弃了。一个新技术在中国的freelancer中收不收欢迎，似乎很大程度上取决于，这个东西下载的速度；很明显，Atom存在下载速度问题，然而vscode不存在；在技术栈很相似的情况下，vscode的书写体验十分的流畅，远远超过了atom，甚至不加插件的vim；&lt;/p>
&lt;p>通过廖雪峰的安利我使用了vscode。一个&lt;strong>现代&lt;/strong>的编辑器，在我看来，似乎只有那么几件事情需要注意下，既可以很愉快的开始使用了。&lt;/p>
&lt;h2 id="开始">开始
&lt;/h2>&lt;p>在vscode的欢迎使用里面，我们可以看到一个很大的“自定义”部分，在其下面，可以看到工具与语言，安装键盘快捷方式等选项；这个时候，安装你需要的语言，以及你需要的快捷方式即可。&lt;/p>
&lt;blockquote>
&lt;p>类似的，在atom里面，也有相同的页面&lt;/p>&lt;/blockquote>
&lt;p>如果不走上面的部分，可以按照我所想的，走这个下面的通用流程：&lt;/p>
&lt;h2 id="vi-bind">vi-bind
&lt;/h2>&lt;p>放在第一点的就是vim按键的相关绑定；基本每一个编辑器都会有一个vim的绑定插件；在vscode上面，你只需要在右方package里面找到他，&lt;/p>
&lt;p>然后下载使用就可以了。我们可以看到许许多多的emulation来实现vim在vscode里面的相关操作，不过就我而言，使用官方的这个·vim·插件，&lt;/p>
&lt;p>就足够使用了。&lt;/p>
&lt;h2 id="安装相关的语言">安装相关的语言
&lt;/h2>&lt;p>然后就是搜寻相关语言的软件包；让我们搜索一下python和js。这个时候可以先学习一下&lt;code>cmd+p&lt;/code>这个东西，或者是&lt;code>shift+cmd+p&lt;/code>，这两个一方面是用来呼叫出&lt;code>命令&lt;/code>，另一方面可以快速&lt;code>跳转&lt;/code>文件。一般情况下，还可以跳转&lt;code>function&lt;/code>。类似的东西，例如vim里面的ctrlp，sublime里面的&lt;code>ctrl-p&lt;/code>等等。&lt;/p>
&lt;h2 id="命令行入口">命令行入口
&lt;/h2>&lt;p>每一个工程都应该有一个命令行入口，用来调试相关的命令；虽然这在yin看来，是一个非常吃人精力，而且不讨好的设计，但是我觉得还算不错；一个比较成熟的编辑器都有这一部分；使用shell的时候，只需要从&lt;code>cmd+p&lt;/code>或者&lt;code>shift+cmd+p&lt;/code>里面输入终端就好了。&lt;/p>
&lt;h2 id="最后">最后
&lt;/h2>&lt;p>使用一个新的编辑器并不是一件困难的事情。Vim以及Emacs的确很强大，但是在配置的过程中毫无疑问的会占用许多时间，这些时间在我看来，很多时候都不一定是必要的。除非需要对于某个特性进行细细的定制，否则不需要研究的那么透彻。M$无论是编辑器还是IDE，都可以说是无可挑剔，为什么不尝试一下新的东西呢？&lt;/p></description></item><item><title>Javascript中变量的作用域</title><link>https://svtter.cn/p/javascript%E4%B8%AD%E5%8F%98%E9%87%8F%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F/</link><pubDate>Thu, 20 Jul 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/javascript%E4%B8%AD%E5%8F%98%E9%87%8F%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F/</guid><description>&lt;h2 id="问题引出">问题引出
&lt;/h2>&lt;p>方才阅读es6的时候遇到一个问题：&lt;/p>
&lt;img alt="" src="https://i1.wp.com/ww1.sinaimg.cn/large/c53b1907ly1fhqjhkdfu6j20x40wmwkh.jpg?w=625" data-recalc-dims="1" />
&lt;h2 id="问题解决">问题解决
&lt;/h2>&lt;p>这就想了，如果没有&lt;code>let&lt;/code>关键字，我们如何处理这个问题呢？&lt;/p>
&lt;p>此时就涉及到一个概念，闭包 &lt;code>clojure&lt;/code>。&lt;/p>
&lt;p>不要被这个复杂的名词欺骗了，就是函数套函数，函数返回函数而已。解决这个问题关键在于&lt;/p>
&lt;p>块级作用域和函数作用域的理解；在Javascript中，并不支持块级作用域，它只支持函数作用域，&lt;/p>
&lt;p>而且在一个函数中的任何位置定义的变量在该函数中的任何地方都是可见的。&lt;/p>
&lt;p>因此，我们在Js这个特性的基础上，使用闭包，然后就可以解决这个问题了：&lt;/p>
&lt;img alt="" src="https://i0.wp.com/ww1.sinaimg.cn/large/c53b1907ly1fhqjhzob30j20mw05yq3e.jpg?w=625" data-recalc-dims="1" />
&lt;p>为什么要解决这个问题？因为有时候在for循环中使用回调可能与参数&lt;code>i&lt;/code>有所联系，可能会遭遇到&lt;/p>
&lt;p>问题；&lt;/p>
&lt;p>当然，如果使用es6这种问题就不会发生了。es6大法好。&lt;/p></description></item><item><title>如何更新自己的主题</title><link>https://svtter.cn/p/%E5%A6%82%E4%BD%95%E6%9B%B4%E6%96%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E4%B8%BB%E9%A2%98/</link><pubDate>Sun, 16 Jul 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%A6%82%E4%BD%95%E6%9B%B4%E6%96%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E4%B8%BB%E9%A2%98/</guid><description>&lt;p>在使用hexo的主题的时候，许多人经常把主题fork到自己的repo，对我而言，这是没有必要的。&lt;/p>
&lt;p>一般情况下，我不需要修改很多关于主题的内容，只需要改改配置文件就可以了，但是每次&lt;/p>
&lt;p>更新，&lt;code>git pull&lt;/code>的时候都提示需要提交自己的修改，这个时候应该怎么做呢？&lt;/p>
&lt;h2 id="使用git-stash">使用&lt;code>git stash&lt;/code>
&lt;/h2>&lt;p>&lt;code>git stash&lt;/code>的作用是，保存当前的工作进度，此外会分别对暂存区和工作区的状态进行保存。&lt;/p>
&lt;p>我们此时保存的状态，就是我们修改的&lt;code>_config.yml&lt;/code>。&lt;/p>
&lt;p>如此一来，我们使用git stash进行保存，这样，repo的状态返回到最近的一次提交；此时，&lt;/p>
&lt;p>进行版本更新即可，我们就可以在没有修改&lt;code>_config.yml&lt;/code>的情况下更新我们的主题。&lt;/p>
&lt;h2 id="如何恢复">如何恢复
&lt;/h2>&lt;p>但是现在问题也出现了，我们既然保存了，如何恢复呢？此时，使用&lt;code>git stash pop&lt;/code>命令，&lt;/p>
&lt;p>我们就可以恢复最新保存的工作进度，并且将恢复的工作进度从存储的工作进度列表中清除。&lt;/p>
&lt;p>此时，我们进行的修改，就可以重新作用于&lt;code>_config.yml&lt;/code>文件上。不过一般情况下，会出现&lt;/p>
&lt;p>几个conflicts，我们手动修改一下即可。&lt;/p>
&lt;h2 id="为什么不直接commit">为什么不直接commit
&lt;/h2>&lt;p>如果commit了自己的改动，再进行pull的时候，如果出现了不能&lt;code>auto merge&lt;/code>的冲突，会很难受，&lt;/p>
&lt;p>需要&lt;code>fetch&lt;/code>然后手动进行处理。&lt;/p>
&lt;p>而且一旦&lt;code>commit&lt;/code>，难免&lt;code>auto merge&lt;/code>，我们的代码就会领先&lt;code>origin repo&lt;/code>一个&lt;code>commit&lt;/code>，&lt;/p>
&lt;p>在拉取代码时会造成不必要的麻烦。&lt;/p></description></item><item><title>对BaaS的一些思考</title><link>https://svtter.cn/p/%E5%AF%B9baas%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/</link><pubDate>Wed, 12 Jul 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%AF%B9baas%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%9D%E8%80%83/</guid><description>&lt;p>BaaS，是Backend as a Service，即后端即服务。&lt;/p>
&lt;p>在使用BaaS时，可以减少许多因对后端本身不擅长而增加的创业成本。&lt;/p>
&lt;p>在我司，噗嗤，的小程序中，大部分使用的都是BaaS的解决方案。一方面，公司的人手不是&lt;/p>
&lt;p>很足，没有太多精力去开发后端的相关部分；另一方面，开发后保证后端持续服务，以及&lt;/p>
&lt;p>相关的可靠性，都是不能保证的。所以baas是一个非常好的方案。&lt;/p>
&lt;p>目前就使用过两个baas，一个是bmob，一个是leancloud；leancloud似乎是有腾讯背景的&lt;/p>
&lt;p>企业，而bmob则是一个老牌的服务商。两个相对都比较优秀，bmob便宜【噗】，leancloud在&lt;/p>
&lt;p>文档以及多语言支持上面做的更好【有python】，可以说是不分伯仲。&lt;/p>
&lt;p>创业过程中，应该讲究精益创业等【参见南京大学《走进创业》】，把精力集中于整个产品&lt;/p>
&lt;p>的&lt;strong>最关键的部分&lt;/strong>，而不是&lt;strong>事事躬亲&lt;/strong>，导致精力分散，本应该做好的事情没有做好。&lt;/p>
&lt;p>…EOF…&lt;/p></description></item><item><title>单元测试</title><link>https://svtter.cn/p/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/</link><pubDate>Sun, 09 Jul 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/</guid><description>&lt;p>单元测试十分的重要，简单说一下微信小程序中的单元测试&lt;/p>
&lt;p>…待续…&lt;/p></description></item><item><title>批量修改图片大小</title><link>https://svtter.cn/p/%E6%89%B9%E9%87%8F%E4%BF%AE%E6%94%B9%E5%9B%BE%E7%89%87%E5%A4%A7%E5%B0%8F/</link><pubDate>Fri, 07 Jul 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E6%89%B9%E9%87%8F%E4%BF%AE%E6%94%B9%E5%9B%BE%E7%89%87%E5%A4%A7%E5%B0%8F/</guid><description>&lt;p>这两天做数据采集的时候，发现直接获取的数据文件太大了，保存起来占用内存太多，&lt;/p>
&lt;p>手机端又不需要这么大的内存。&lt;/p>
&lt;p>于是在网上简单搜搜，经过修改制作了一个简单的脚本。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="ch">#!/usr/bin/env python&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># -*- coding: utf-8 -*-&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># vim:fenc=utf-8&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Copyright © 2017 xiuhao &amp;lt;xiuhao@xiuhaodeMacBook-Pro.local&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">os&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">glob&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">PIL&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">Image&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">os.path&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 测试代码&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">rootdir&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;./canteen&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">saveDir&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;./canteen-new&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">convertjpg&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">jpgfile&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">savedir&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">width&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">5000&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">height&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">4000&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;&amp;#39;&amp;#39;修改图片文件大小jpgfile：图片文件；savedir：修改后要保存的路径&amp;#39;&amp;#39;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">img&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Image&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">jpgfile&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">new_img&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">img&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">resize&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">width&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">height&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">Image&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">BILINEAR&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">new_img&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">save&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">join&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">savedir&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">basename&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">jpgfile&lt;/span>&lt;span class="p">)))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">modifyjpgSize&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">file&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">saveDir&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;&amp;#39;&amp;#39;查找给定路径下图片文件，并修改其大小&amp;#39;&amp;#39;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">jpgfile&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">glob&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">glob&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">file&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">convertjpg&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">jpgfile&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">saveDir&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">parent&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">dirnames&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">filenames&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">walk&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">rootdir&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">filename&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">filenames&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">fullname&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">join&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">parent&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">filename&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">modifyjpgSize&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">fullname&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">saveDir&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>使用Docker的一些Tips</title><link>https://svtter.cn/p/%E4%BD%BF%E7%94%A8docker%E7%9A%84%E4%B8%80%E4%BA%9Btips/</link><pubDate>Fri, 07 Jul 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E4%BD%BF%E7%94%A8docker%E7%9A%84%E4%B8%80%E4%BA%9Btips/</guid><description>&lt;p>Docker是一种强大的DevOps工具，使用其无论是作为开发环境还是生产环境，但是非常&lt;/p>
&lt;p>好的选择；在这篇文章中，讲讲Docker的几个开发Tips。&lt;/p>
&lt;h2 id="几条命令安装docker">几条命令安装Docker
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>$ curl -fsSL get.docker.com -o get-docker.sh
$ sudo sh get-docker.sh
&lt;/pre>
&lt;/div>
&lt;h2 id="使用多个基础镜像">使用多个基础镜像
&lt;/h2>&lt;p>作为Python开发者，经常需要使用pip来构建安装包，等待pip安全的过程可谓是又臭又长，&lt;/p>
&lt;p>而且一个不小心，如果在没有使用pip.conf的情况下，安装失败，docker又要重新跑一次，&lt;/p>
&lt;p>十分的麻烦。下面给出的解决方案不一定是最好的，但是应该是比较有效的。&lt;/p>
&lt;p>比如，我在构建某个Python项目的时候，会创建一个python-base的image，tag使用当前&lt;/p>
&lt;p>项目名称。&lt;/p>
&lt;p>这个python-base就是基础镜像之一：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="s"> dockerxman/docker-ubuntu:latest&lt;/span>
&lt;span class="k">MAINTAINER&lt;/span>&lt;span class="s"> Svtter &amp;lt;svtter@qq.com&amp;gt;&lt;/span>
&lt;span class="k">RUN&lt;/span> apt-get update&lt;span class="se">\&lt;/span>
&lt;span class="o">&amp;&amp;&lt;/span> apt-get install python3-pip supervisor -y
COPY ./requirements.txt /app/requirements.txt
COPY ./pip/pip.conf /root/.pip/pip.conf
&lt;span class="k">RUN&lt;/span> pip3 install -r /app/requirements.txt
&lt;span class="k">RUN&lt;/span> rm -rf /var/lib/apt/lists/*
&lt;/pre>
&lt;/div>
&lt;p>介绍一下这个&lt;code>Dockerfile&lt;/code>；在第一行，我使用的是一aliyun源的ubuntu镜像，来加速&lt;/p>
&lt;p>apt的过程，然后，把pip相关的配置复制到image中，最后，使用pip安装需求文件，&lt;/p>
&lt;p>清理缓存，然后这个基础镜像就构建好了。&lt;/p>
&lt;h2 id="创建自己的项目">创建自己的项目
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="s"> python-base:school&lt;/span>
&lt;span class="k">MAINTAINER&lt;/span>&lt;span class="s"> Svtter &amp;lt;svtter@qq.com&amp;gt;&lt;/span>
COPY ./fleetness /app
&lt;span class="k">WORKDIR&lt;/span>&lt;span class="s"> /app&lt;/span>
COPY supervisord.conf /etc/supervisord.conf
&lt;span class="k">WORKDIR&lt;/span>&lt;span class="s"> /log&lt;/span>
&lt;span class="k">CMD&lt;/span>&lt;span class="s"> supervisord -c /etc/supervisord.conf&lt;/span>
STOPSIGNAL SIGINT
&lt;span class="k">EXPOSE&lt;/span>&lt;span class="s"> 5000&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>此处就是这直接利用已经构建好的&lt;code>python-base:school&lt;/code>的镜像，这样一来，每次我更新&lt;/p>
&lt;p>代码，或者supervisor的配置，只需要重新构建这个镜像就可以了。在这个镜像中，没有&lt;/p>
&lt;p>安装其他软件包的过程，因此节省了大量的时间。&lt;/p>
&lt;p>此外，如果只需要更新代码，而依赖相对不改变的时候，可以通过挂载代码到VOLUME中，&lt;/p>
&lt;p>每次更新代码，都通过&lt;code>git pull&lt;/code>，然后重启一下镜像，就可以重新部署了。&lt;/p>
&lt;h2 id="docker-构建python镜像的一些技巧">Docker 构建Python镜像的一些技巧
&lt;/h2>&lt;p>使用pip快速 &lt;a class="link" href="http://blog.csdn.net/lambert310/article/details/52412059" target="_blank" rel="noopener"
>http://blog.csdn.net/lambert310/article/details/52412059&lt;/a>&lt;/p>
&lt;h2 id="一条命令搭建lamp">一条命令搭建LAMP
&lt;/h2>&lt;p>这条命令创建一个apache-php服务器，服务于&lt;code>8087&lt;/code>端口。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>$ docker run --rm -p &lt;span class="m">8087&lt;/span>:80 -e &lt;span class="nv">ALLOW_OVERRIDE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nb">true&lt;/span> -v &lt;span class="si">${&lt;/span>&lt;span class="nv">项目的绝对路径&lt;/span>&lt;span class="si">}&lt;/span>:/var/www/html tutum/apache-php
&lt;/pre>
&lt;/div></description></item><item><title>翻译了meteor</title><link>https://svtter.cn/p/%E7%BF%BB%E8%AF%91%E4%BA%86meteor/</link><pubDate>Thu, 06 Jul 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E7%BF%BB%E8%AF%91%E4%BA%86meteor/</guid><description>&lt;p>简单翻译了一下Meteor指南，网址在: &lt;a class="link" href="https://www.gitbook.com/book/svtter/meteor_tutorial/details" target="_blank" rel="noopener"
>https://www.gitbook.com/book/svtter/meteor_tutorial/details&lt;/a>&lt;/p>
&lt;p>翻译完之后心情很复杂，虽然我没有看过&lt;code>ruby on rails&lt;/code>的相关代码，但是根据之前的了解，可能是在Javascript上的一个相似的东西，这种东西实现出来的产品，可能拓展速度很快，但是重写以及拓展方面，可能有些麻烦。&lt;/p>
&lt;p>这两天看了Winter论战，怎么说呢，就是大神撕逼，小鬼看技术讨论。倒是学了一些东西，最大的启发就是，我现在用Python开发点前面的东西，问题不大。还有就是如果用Meteor，尤其是这种新的ddp协议，是不是就和SEO无缘了呢？&lt;/p>
&lt;p>此外，中国大学MOOC的走进创业（南京大学）课程，讲的真是不错，仅仅是看了一部分，就收获颇丰了。&lt;/p></description></item><item><title>python生成器与协程</title><link>https://svtter.cn/p/python%E7%94%9F%E6%88%90%E5%99%A8%E4%B8%8E%E5%8D%8F%E7%A8%8B/</link><pubDate>Thu, 15 Jun 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/python%E7%94%9F%E6%88%90%E5%99%A8%E4%B8%8E%E5%8D%8F%E7%A8%8B/</guid><description>&lt;p>贴一段代码：&lt;/p>
&lt;p>这段代码分别是用协程与生成器写的；&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="ch">#!/usr/bin/env python&lt;/span>
&lt;span class="c1"># -*- coding: utf-8 -*-&lt;/span>
&lt;span class="c1"># vim:fenc=utf-8&lt;/span>
&lt;span class="c1">#&lt;/span>
&lt;span class="c1"># Copyright © 2017 xiuhao &amp;lt;xiuhao@xiuhaodeMacBook-Pro.local&amp;gt;&lt;/span>
&lt;span class="c1">#&lt;/span>
&lt;span class="sd">"""&lt;/span>
&lt;span class="sd">"""&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">time&lt;/span>
&lt;span class="k">def&lt;/span> &lt;span class="nf">loop&lt;/span>&lt;span class="p">():&lt;/span>
&lt;span class="n">ser&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">"test"&lt;/span>
&lt;span class="n">command&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>
&lt;span class="k">print&lt;/span> &lt;span class="s1">&amp;#39;[loop] run loop...&amp;#39;&lt;/span>
&lt;span class="k">while&lt;/span> &lt;span class="bp">True&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">command&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">yield&lt;/span> &lt;span class="n">ser&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">command&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">print&lt;/span> &lt;span class="s1">&amp;#39;[loop] run something...&amp;#39;&lt;/span>
&lt;span class="k">elif&lt;/span> &lt;span class="n">command&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s1">&amp;#39;change&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">ser&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">"[loop] test_change"&lt;/span>
&lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">ser&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">"[loop] stop"&lt;/span>
&lt;span class="k">break&lt;/span>
&lt;span class="k">yield&lt;/span> &lt;span class="n">ser&lt;/span>
&lt;span class="k">def&lt;/span> &lt;span class="nf">control&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">l&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="n">l&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">send&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">None&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">n&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>
&lt;span class="k">while&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">n&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;span class="n">time&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sleep&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">ser&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">l&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">send&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;change&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">print&lt;/span> &lt;span class="s2">"[control] ser:"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ser&lt;/span>
&lt;span class="n">ser&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">l&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">send&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;stop&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">l&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">close&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="k">print&lt;/span> &lt;span class="s2">"[control] ser:"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ser&lt;/span>
&lt;span class="k">def&lt;/span> &lt;span class="nf">loop2&lt;/span>&lt;span class="p">():&lt;/span>
&lt;span class="n">ser&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">"test"&lt;/span>
&lt;span class="n">command&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>
&lt;span class="k">print&lt;/span> &lt;span class="s1">&amp;#39;run loop...&amp;#39;&lt;/span>
&lt;span class="n">o&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">control2&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="k">while&lt;/span> &lt;span class="bp">True&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">command&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">next&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">o&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1"># print &amp;#39;[loop2] command: &amp;#39;, command&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">command&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">print&lt;/span> &lt;span class="s1">&amp;#39;[loop2] run something...&amp;#39;&lt;/span>
&lt;span class="k">elif&lt;/span> &lt;span class="n">command&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s1">&amp;#39;change&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">ser&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">"[loop2] test_change"&lt;/span>
&lt;span class="k">print&lt;/span> &lt;span class="n">ser&lt;/span>
&lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">ser&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">"[loop2] stop"&lt;/span>
&lt;span class="k">print&lt;/span> &lt;span class="n">ser&lt;/span>
&lt;span class="k">break&lt;/span>
&lt;span class="k">def&lt;/span> &lt;span class="nf">control2&lt;/span>&lt;span class="p">():&lt;/span>
&lt;span class="n">n&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>
&lt;span class="k">while&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">n&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>
&lt;span class="n">time&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sleep&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">ser&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;change&amp;#39;&lt;/span>
&lt;span class="k">print&lt;/span> &lt;span class="s2">"[control2] send: "&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ser&lt;/span>
&lt;span class="k">yield&lt;/span> &lt;span class="n">ser&lt;/span>
&lt;span class="n">ser&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;stop&amp;#39;&lt;/span>
&lt;span class="k">yield&lt;/span> &lt;span class="n">ser&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="vm">__name__&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s1">&amp;#39;__main__&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="c1"># l = loop()&lt;/span>
&lt;span class="c1"># control(l)&lt;/span>
&lt;span class="c1"># print &amp;#39;--------------------&amp;#39;&lt;/span>
&lt;span class="n">loop2&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>协程这个特性相比仅仅使用生成器，有一个很神奇的地方，就是多出一个Send方法，将&lt;/p>
&lt;p>yield这个操作返回值，使得生成器可以接收数据，并将这个数据通过yield返回生成器&lt;/p>
&lt;p>内部。通过这个方法，可以比较巧妙地把一些参数扔进已经处于循环状态的函数，而不&lt;/p>
&lt;p>需要使用别的类似于signal的变量，十分方便。&lt;/p></description></item><item><title>Python-logging模块</title><link>https://svtter.cn/p/python-logging%E6%A8%A1%E5%9D%97/</link><pubDate>Fri, 09 Jun 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/python-logging%E6%A8%A1%E5%9D%97/</guid><description>&lt;p>&lt;a class="link" href="https://docs.python.org/3/library/logging.html" target="_blank" rel="noopener"
>logging&lt;/a> 是 python 自带的日志模块，用于收集并且导出日志。&lt;/p>
&lt;p>要想使用好&lt;a class="link" href="https://docs.python.org/3/library/logging.html" target="_blank" rel="noopener"
>logging&lt;/a>，需要明确几个概念：&lt;/p>
&lt;h2 id="1-logger">1. logger
&lt;/h2>&lt;p>logger 可以理解成输出日志的核心变量。
通过 logger，可以输出 warning, info, debug, critical 等类型的日志。&lt;/p>
&lt;h2 id="2-handler">2. handler
&lt;/h2>&lt;p>handler 处理器，是把内存中 logger 的日志导向不同的输出。
例如文件、邮件、stdout 等。&lt;/p>
&lt;h2 id="3-formatter">3. formatter
&lt;/h2>&lt;p>用于规范化日志的结构，补充日志的元信息。&lt;/p>
&lt;h2 id="4-filtter">4. filtter
&lt;/h2>&lt;p>用于 logger 中日志的过滤。&lt;/p></description></item><item><title>CallBackHell</title><link>https://svtter.cn/p/callbackhell/</link><pubDate>Thu, 08 Jun 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/callbackhell/</guid><description>&lt;p>这两天做微信小程序赶个潮流，体验了一下回调——之前一直听人讲“回调地狱”，这次终于&lt;/p>
&lt;p>亲身感受了一下。的确是“地狱”。&lt;/p>
&lt;p>不过既然能够出现“回调地狱”，也必然有人可以避免，甚至在一定程度上解决这个问题。&lt;/p>
&lt;p>&lt;a class="link" href="https://75team.com/post/%E8%AF%91%E5%9B%9E%E8%B0%83%E5%9C%B0%E7%8B%B1.html" target="_blank" rel="noopener"
>回调地狱解决方法&lt;/a>&lt;/p>
&lt;p>一般情况下，我不怎么写回调的代码；一方面是因为没有这个习惯，之前写算法题目，基&lt;/p>
&lt;p>本上不写回调——不过行文至此，突然想起许多题目都有用回调从而更加优雅解决的方案，囧。&lt;/p>
&lt;p>再贴一篇c++的&lt;a class="link" href="http://www.cnblogs.com/youxin/archive/2012/04/16/2452620.html" target="_blank" rel="noopener"
>函数传递&lt;/a>&lt;/p>
&lt;p>本以为Java不存在回调地狱，也就不存在回调——询问之后，才意识到Java之所以不存在回调&lt;/p>
&lt;p>地狱，是因为Java本身要用回调，需要传类作为参数；一方面，如果使用回调，会使得代码&lt;/p>
&lt;p>变长；另一方面，尽管代码变长，但是相比较简短的代码，问题描述的更加清晰明确。&lt;/p>
&lt;p>这可能就是为什么Js被称为玩具语言的原因之一吧。&lt;/p>
&lt;p>回调函数的优势：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>当程序跑起来时，一般情况下，应用程序（application program）会时常通过API调用库里所预先备好的函数。但是有些库函数（library function）却要求应用先传给它一个函数，好在合适的时候调用，以完成目标任务。这个被传入的、后又被调用的函数就称为回调函数（callback function）。
作者：no.body
链接：https://www.zhihu.com/question/19801131/answer/27459821
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。
&lt;/pre>
&lt;/div>
&lt;p>然后讲讲Python：&lt;/p>
&lt;ul>
&lt;li>一个Python异步回调的&lt;a class="link" href="http://www.cnblogs.com/hymenz/p/3441442.html" target="_blank" rel="noopener"
>例子&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="http://www.cnblogs.com/berlin-sun/p/callbackinpython.html" target="_blank" rel="noopener"
>一个阻塞回调&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="http://www.jackyshen.com/2015/05/21/async-operations-in-form-of-sync-programming-with-python-yielding/" target="_blank" rel="noopener"
>异步编程同步化&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>最后一个才是最酷的。&lt;/p></description></item><item><title>使用 OpenWRT</title><link>https://svtter.cn/p/%E4%BD%BF%E7%94%A8-openwrt/</link><pubDate>Tue, 06 Jun 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E4%BD%BF%E7%94%A8-openwrt/</guid><description>&lt;p>今天花了不少时间在openwrt上（实际上是全都花在上面了），从一开始的写入到最后终于能跑；&lt;/p>
&lt;p>因为手头没有可用的路由器，只能通过无线连接以及网线来调试，IP设置上的问题吃了不少苦头，&lt;/p>
&lt;p>最后一个个排查终于解决了问题。&lt;/p>
&lt;h2 id="安装">安装
&lt;/h2>&lt;p>我这里的设备是RaspberryPI 3B；对应的openwrt的&lt;a class="link" href="https://downloads.lede-project.org/snapshots/targets/brcm2708/bcm2710/lede-brcm2708-bcm2710-rpi-3-ext4-sdcard.img.gz" target="_blank" rel="noopener"
>下载链接&lt;/a>，只有8M，解压缩后有300M，很神奇，估计是IMG里面有不少00；&lt;/p>
&lt;h2 id="配置">配置
&lt;/h2>&lt;p>配置上参考了几个博客：&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="http://sh.alynx.xyz/posts/2016/06/28/RPi-Router/" target="_blank" rel="noopener"
>http://sh.alynx.xyz/posts/2016/06/28/RPi-Router/&lt;/a>&lt;/li>
&lt;li>一个H3C &lt;a class="link" href="https://github.com/ruijanlee/h3cc" target="_blank" rel="noopener"
>https://github.com/ruijanlee/h3cc&lt;/a>&lt;/li>
&lt;li>树莓派3 刷openwrt &lt;a class="link" href="https://my.oschina.net/wangandi/blog/687389" target="_blank" rel="noopener"
>https://my.oschina.net/wangandi/blog/687389&lt;/a>&lt;/li>
&lt;li>ss &lt;a class="link" href="http://www.wzero.net/?p=137" target="_blank" rel="noopener"
>http://www.wzero.net/?p=137&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="关于ipsec">关于ipsec
&lt;/h2>&lt;p>在网上没有搜索到现成的配置，今天已经比较累了，如果明天有时间再看吧。&lt;/p></description></item><item><title>从Vim转到Atom</title><link>https://svtter.cn/p/%E4%BB%8Evim%E8%BD%AC%E5%88%B0atom/</link><pubDate>Tue, 30 May 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E4%BB%8Evim%E8%BD%AC%E5%88%B0atom/</guid><description>&lt;blockquote class="wp-block-quote">
&lt;p>
&lt;br />
&lt;/p>
&lt;p>
vim 真香
&lt;/p>
&lt;p>&lt;cite>2018-08-27&lt;/cite>&lt;/p>
&lt;/blockquote>
&lt;p>Vim大大小小也算是用了3年了，中间也尝试过不少IDE，从爽度上讲，Visual Studio绝对是最令人舒爽，
愉快的。不过，Windows本身的体验太差——对bash的支持太差；朋友win经常死机；因此不太喜欢用vs。
此外，vs收费，手头没钱。因此，决定使用Atom来做下一步的开发。&lt;/p>
&lt;h2 id="为什么不用vim了">为什么不用Vim了
&lt;/h2>&lt;p>Vim搭配&lt;code>python-mode&lt;/code>的确是能带来不错的书写体验，但是因为Vim本身功能需要自己来写，
而&lt;code>vimscript&lt;/code>在我这里着实不好用，学习起来虽然不能说有很大的难度，但是不同插件之间的调整，
以及出现小问题闪现而过得debug信息【输入:message来查看】等等，都不是很舒服。&lt;/p>
&lt;p>此外，我的Vim插件很多，运行速度已经受到比较大的影响，代码跳转速度都有些慢，体验着实不好；&lt;/p>
&lt;h2 id="转到atom">转到Atom
&lt;/h2>&lt;p>Atom和Sublime比较了一下——虽然Sublime拥有用Python写扩展的优势，但是因为收费，而且我不认为这
个软件能让我心甘情愿的为其掏腰包，所以就干脆放弃了。选择了Atom。VsCode因为是微软家的东西，道理
上讲应该很棒，但是因为在开源开发者那边，大家可能不喜欢微软的一些做派，所以一些大牛不喜欢给微软
开发插件——因此最终决定转移到Atom。&lt;/p>
&lt;p>此外，代码补全功能上，Atom的体验实在是太棒了！&lt;/p>
&lt;p>使用Atom不需要额外学习什么，直接打开设置，找到install，安装packages即可。&lt;/p>
&lt;h2 id="一个插件列表">一个插件列表
&lt;/h2>&lt;ul>
&lt;li>autocomplete-python python的自动补全&lt;/li>
&lt;li>file-icons 不动脑子就安装了，图标好看&lt;/li>
&lt;li>linter-flake8 python的语法检查&lt;/li>
&lt;/ul>
&lt;p>Python的东西可以对应的找到其他的语言对应的package；&lt;/p>
&lt;ul>
&lt;li>minimap 代码小地图&lt;/li>
&lt;li>symbols-tree-view 相当于tagbar，看所有的方法以及变量&lt;/li>
&lt;li>vim-mode 最关键的，以Vim的方式编辑文件&lt;/li>
&lt;li>last-cursor-position 返回上个编辑的位置，ctrl-o&lt;/li>
&lt;/ul>
&lt;p>还有multicursor之类的插件，我一般写的时候是不用的，直接用:%s来做替换。Atom上我目前还不是特别
需要这个功能，可以直接考虑&lt;code>cmd + f&lt;/code>来代替；需要的时候我会直接去找。&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="http://blog.csdn.net/qianghaohao/article/details/52331432" target="_blank" rel="noopener"
>配置插件镜像服务&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="几个有用的快捷键">几个有用的快捷键
&lt;/h2>&lt;ul>
&lt;li>&lt;code>cmd + ,&lt;/code> 打开设置&lt;/li>
&lt;li>&lt;code>cmd + R&lt;/code> 打开文件中的方法&lt;/li>
&lt;li>&lt;code>cmd + T&lt;/code> 打开项目中的文件&lt;/li>
&lt;li>&lt;code>cmd + shift + p&lt;/code> 相当于&lt;code>sublime&lt;/code>中的&lt;code>ctrl+p&lt;/code>&lt;/li>
&lt;li>&lt;code>ctrl+0&lt;/code> 焦点转移到目录&lt;/li>
&lt;li>&lt;code>cmd + /&lt;/code> 注释&lt;/li>
&lt;li>&lt;code>cmd + 数字&lt;/code> 跳转Tab&lt;/li>
&lt;li>&lt;code>cmd + w&lt;/code> 关闭tab【操作方法与chrome很相似】，可以直接参考chrome的快捷键&lt;/li>
&lt;/ul>
&lt;h2 id="update-at-2023-08-29">update at 2023-08-29
&lt;/h2>&lt;p>我现在在使用&lt;code>vscode&lt;/code>.&lt;/p></description></item><item><title>python UART编程</title><link>https://svtter.cn/p/python-uart%E7%BC%96%E7%A8%8B/</link><pubDate>Mon, 15 May 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/python-uart%E7%BC%96%E7%A8%8B/</guid><description>&lt;p>UART串口编程发送接收上使用pyserial，数据处理使用struct&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="http://www.liaoxuefeng.com/wiki/001374738125095c955c1e6d8bb493182103fac9270762a000/0013994173393204e80af1f8fa94c8e9d094d229395ea43000" target="_blank" rel="noopener"
>struct廖雪峰&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="http://www.cnblogs.com/gala/archive/2011/09/22/2184801.html" target="_blank" rel="noopener"
>Python使用struct处理二进制&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.ibm.com/developerworks/cn/linux/l-serials/" target="_blank" rel="noopener"
>用C语言&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>一般情况下，有了struct就不需要使用C语言写Python扩展了，但是实际上使用C语言在处理一些情况的时候会更方便一些，因此一个比较好的选择是，用C写模块，然后用Python调用。&lt;/p></description></item><item><title>Docker学习笔记</title><link>https://svtter.cn/p/docker%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</link><pubDate>Wed, 10 May 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/docker%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</guid><description>&lt;p>我是依据&lt;a class="link" href="https://www.gitbook.com/book/yeasy/docker_practice/details" target="_blank" rel="noopener"
>Docker — 从入门到实践&lt;/a>来进行Docker学习的，其中有部分有趣的内容不包括在里面。学习的话参考这本书就非常不错，基本一本就都搞定了。&lt;/p>
&lt;p>不过，道理上讲，官方的API是最好的。&lt;/p>
&lt;p>我的问题清单：&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="http://staxmanade.com/2016/09/how-to-update-a-single-running-docker-compose-container/" target="_blank" rel="noopener"
>单独更新compose中的container&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://docs.docker.com/compose/faq/" target="_blank" rel="noopener"
>Docker-compose常问问题&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>关于Common-lisp</title><link>https://svtter.cn/p/%E5%85%B3%E4%BA%8Ecommon-lisp/</link><pubDate>Fri, 28 Apr 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%85%B3%E4%BA%8Ecommon-lisp/</guid><description>&lt;p>Common Lisp这门语言是我在大学中感觉第二难的编程语言——第一是汇编，我直到现在都不想碰它。&lt;/p>
&lt;p>难在何处？第二章开始，一般语言断断续续看，一周也就看完了。但是&lt;code>common lisp&lt;/code>，看了足足一个月——可能也是因为接触起来比较困难，屡次夭折我学习其的兴趣。据说，学了lisp的人都“疯”了，比如冰河先生，王垠先生等。但是对于一个Hacker来言，我想这更加大了这门语言魅力。（注：这个地方的因素有很多；本身lisp是不难的，入门的方式很重要。）&lt;/p>
&lt;p>在书写代码的时候，总有种感觉，这个地方如果可以这么实现，那么真是爽之又爽。仔细想想，lisp这种加上&lt;code>'&lt;/code>就转变的特性，就是人们所说的lisp可以自己写lisp程序，也就是类似于Java中的反射思想，这十分的诱人。但是相比较lisp，Java以及其他语言想要实现这个特点，可能要写很多代码——这就不符合一个懒人的特点，同样，写的代码越多，出bug的几率越大。&lt;/p>
&lt;p>想到多少就大概写多少。过去的几天，发现自己突然对于lisp有了更高的理解，对于设计模式【噗嗤】以及lisp函数编程的一些特性也有摸到门框的感觉，十分开心。于是写这篇不足以称为“文章”的博客来略表自己开心的心情。&lt;/p>
&lt;p>此后，这篇文章中更新学习笔记的内容&lt;/p>
&lt;hr>
&lt;p>发现scheme更适合商业化；同时学学&lt;/p></description></item><item><title>跨站评论系统</title><link>https://svtter.cn/p/%E8%B7%A8%E7%AB%99%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/</link><pubDate>Tue, 25 Apr 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E8%B7%A8%E7%AB%99%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/</guid><description>&lt;p>多说马上就关闭了，静态站的评论系统何去何从。&lt;/p>
&lt;p>首先想要分析一下duoshuo的代码，看看自己能否实现。&lt;/p>
&lt;p>不过，在看duoshuo客户端代码的时候没有搞明白到底是如何实现确认目标来源的。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="c">&amp;lt;!--&lt;/span>&lt;span class="nx">多说js加载开始&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nx">一个页面只需要加载一次&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">script&lt;/span> &lt;span class="nx">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">"text/javascript"&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;span class="kd">var&lt;/span> &lt;span class="nx">duoshuoQuery&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">short_name&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s2">"您的多说二级域名"&lt;/span>&lt;span class="p">};&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="kd">var&lt;/span> &lt;span class="nx">ds&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createElement&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;script&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="nx">ds&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">type&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;text/javascript&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="nx">ds&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">async&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="nx">ds&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">src&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;http://static.duoshuo.com/embed.js&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="nx">ds&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">charset&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;UTF-8&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getElementsByTagName&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;head&amp;#39;&lt;/span>&lt;span class="p">)[&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getElementsByTagName&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;body&amp;#39;&lt;/span>&lt;span class="p">)[&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">]).&lt;/span>&lt;span class="nx">appendChild&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ds&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">})();&lt;/span>
&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">/script&amp;gt;&lt;/span>
&lt;span class="c">&amp;lt;!--&lt;/span>&lt;span class="nx">多说js加载结束&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nx">一个页面只需要加载一次&lt;/span> &lt;span class="o">--&amp;gt;&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>似乎是自己生成生成一条Javascript代码，然后把head以及body加在上面，进而出一个界面。&lt;/p>
&lt;p>&lt;a class="link" href="http://static.duoshuo.com/embed.js" target="_blank" rel="noopener"
>embed.js&lt;/a>就没有再看，好麻烦。&lt;/p>
&lt;h2 id="isso">isso
&lt;/h2>&lt;p>在网上寻找一个合适的开源评论系统&lt;a class="link" href="https://posativ.org/isso" target="_blank" rel="noopener"
>isso&lt;/a>，可以自己搭建在主机上，使用Python+SQlite3实现。具体实现在其开源的代码中。&lt;/p>
&lt;p>涉及到的知识有几个，一个是&lt;a class="link" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS" target="_blank" rel="noopener"
>CORS&lt;/a>，另一个还是CORS。&lt;/p>
&lt;p>个人认为知识储备基本有了，但是如果要写还是很麻烦，于是就暂且弃坑了。&lt;/p>
&lt;p>可以通过这个docker来部署&lt;a class="link" href="https://hub.docker.com/r/wonderfall/isso/" target="_blank" rel="noopener"
>wonderfall/isso&lt;/a>，不过感觉docker-compose似乎存在问题，我无法直接挂载&lt;code>./config:/config&lt;/code>，因此对于domer-compose中做此修改&lt;code>...../config/isso.conf:/config/isso.conf&lt;/code>。&lt;/p>
&lt;p>此外，对于Flask实现这个留言系统，可以考虑通过&lt;a class="link" href="https://flask-cors.readthedocs.io/en/latest/" target="_blank" rel="noopener"
>flask-cors&lt;/a>来实现。&lt;/p></description></item><item><title>《黑客与画家》读后</title><link>https://svtter.cn/p/%E9%BB%91%E5%AE%A2%E4%B8%8E%E7%94%BB%E5%AE%B6%E8%AF%BB%E5%90%8E/</link><pubDate>Fri, 21 Apr 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E9%BB%91%E5%AE%A2%E4%B8%8E%E7%94%BB%E5%AE%B6%E8%AF%BB%E5%90%8E/</guid><description>&lt;p>黑客与画家真是一本比较不错的书，点明了我许多朦胧的想法，也带来了很多新的思路。&lt;/p>
&lt;p>就算是无法成为一个真正的成功者，成为一名合格的黑客也是不错的。话不多，来点摘录。时间间隔较长，&lt;/p>
&lt;p>有时间再把相应的感受夹在其中。&lt;/p>
&lt;blockquote>
&lt;p>一部分原因是，青少年在心理上还没有摆脱儿童状态，许多人都会残忍地对待他人。他们折磨书呆子的原因就像拔掉一条蜘蛛腿一样，觉得很好玩。在一个人产生良知之前，折磨就是一种娱乐。&lt;/p>&lt;/blockquote>
&lt;h2 id="如何制作viaweb">如何制作viaweb
&lt;/h2>&lt;blockquote>
&lt;p>与用户直接对话的一些大型应用程序、被这些大型程序使用的程序、常驻后台报告系统出错的程序、重新启动出错部分的程序、生成统计报告或数据库索引的程序（偶然运行）、回收资源或者移动及恢复数据的程序（手动运行）、伪装成用户的程序（为了测试系统和发现bug）、诊断网络故障的程序、完成备份的程序、对外提供服务界面的程序、实时显示服务器状态和访问数据的程序（很受用户欢迎，对我们也是必不可少的）、修改后的开源软件程序（包括修正bug）以及许许多多的配置和设定文件。&lt;/p>&lt;/blockquote>
&lt;h2 id="你在害怕什么">你在害怕什么？
&lt;/h2>&lt;blockquote>
&lt;p>一件是你不懂得管理企业，另一件是你害怕竞争。可是实际上，这两件事都是没有通电的电篱笆。&lt;/p>
&lt;p>此外，将公司管理视同软件优化还能帮助你避免VC担心的另一个陷阱——开发某种产品的时间过长。现在，黑客都已经熟知这一点，并总结出一个术语“过早优化”（premature optimization）。尽快拿出1.0版，然后根据用户的反映而不是自己的猜测进行软件优化&lt;/p>
&lt;p>让书呆子保住他们的血汗钱，你就会无敌于天下。&lt;/p>&lt;/blockquote>
&lt;h2 id="什么是贫富差距">什么是贫富差距
&lt;/h2>&lt;blockquote>
&lt;p>技术的发展加大了贫富差距，这是不是一个社会问题？好像没有那么严重。技术在加大收入差距的同时，缩小了大部分的其他差距。&lt;/p>&lt;/blockquote>
&lt;p>贫富差距在人们无法温饱的时候尤为明显，但是在衣食足无特权的时候呢？&lt;/p>
&lt;h2 id="黑客们在想什么">黑客们在想什么？
&lt;/h2>&lt;blockquote>
&lt;p>黑客改造语言的乐趣就好比外科医生摆弄病人内脏的乐趣，或者青少年喜欢用手挤破青春痘的那种感觉。至少对男生来说，某些类型的破坏非常刺激。针对青年男性读者的Maxim杂志每年出版一本特辑，里面一半是美女照片，另一半是各种严重事故的现场照片。这本杂志非常清楚它的读者想看什么^。&lt;/p>&lt;/blockquote>
&lt;h2 id="爆发的用户增长到底怎样">爆发的用户增长到底怎样？
&lt;/h2>&lt;blockquote>
&lt;p>用户是一把双刃剑。他们推动语言的发展，但也使得你不敢对语言进行大规模改造。所以，一开始的时候要精心选择用户，避免使用者过快增长。发展用户就像一种优化过程，明智的做法就是放慢速度。一般情况下，用户比较少意味着你任何时候都可以加大修改的力度。这时，对语言规格做出改变就像撕绷带，当你感到痛苦的一瞬间，痛苦就已经成为了回忆。如果用户数量庞大，修改语言带来的痛苦就将持续很长时间。&lt;/p>&lt;/blockquote></description></item><item><title>IPython学习</title><link>https://svtter.cn/p/ipython%E5%AD%A6%E4%B9%A0/</link><pubDate>Fri, 21 Apr 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/ipython%E5%AD%A6%E4%B9%A0/</guid><description>&lt;img alt="IPython" src="https://i1.wp.com/ww1.sinaimg.cn/large/c53b1907ly1feu6dy7vlbj20we0eq12o.jpg?w=625" data-recalc-dims="1" />
&lt;p>IPython6.0 版本更新，已经不支持Python2的相关版本，以及Python3.3以下的版本。赶紧升级吧！&lt;/p></description></item><item><title>博客随想</title><link>https://svtter.cn/p/%E5%8D%9A%E5%AE%A2%E9%9A%8F%E6%83%B3/</link><pubDate>Sun, 05 Mar 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%8D%9A%E5%AE%A2%E9%9A%8F%E6%83%B3/</guid><description>&lt;p>前几天向英明要了他的博客地址，学习了一番。看其博客内容充实，再看自己现在博客的空虚，&lt;strong>遂感觉应该把之前的博客内容重新发布到自己的新博客中&lt;/strong>。如果自己有一定的能力，务必要让自己展现出来。&lt;/p>
&lt;p>看阮一峰的博客，其中说的三个阶段都已经经历了——虽然技术似乎没有到达那个层次，但是阶段着实经历了——使用hexo，虽然不能在自己的站的基础上做提升，但是简便性方面，实在优势是太大了。因此，博客就作为一个写文章的地方，如果需要，在js的层面上做做拓展——如果不需要，任它去吧，自己还有几个不错的想法想要去实现。通过那些想法来做实践，比博客似乎更加贴近工业。&lt;/p>
&lt;p>还有九日的博客。看了看未来游戏大拿最近的书单——真是一个踏实的男人，向他学习。自己也应该继续从书单上斩书了，且过了这个阶段，有时间再做吧。&lt;/p>
&lt;p>斩书，是真的从本质上对自己作一个提升——&lt;del>私以为造轮子的人，总比用轮子的人高超一些&lt;/del>。这句话说出来又感觉好像哪里不对（笑），以后探讨一番。&lt;/p>
&lt;h2 id="如何放松">如何放松
&lt;/h2>&lt;p>前几天萌生这么一个想法，在休息，娱乐的时间学习技术，放松脑袋，岂不是一个双赢的策略？——后来看，似乎实践起来有难度。学习技术（新的语言，新的概念）并不能使我放松下来（笑，还是参与到健康向上的集体活动中去，才是有裨益的放松方式。&lt;/p>
&lt;p>父母所认为的高学历的大牛们都是不玩游戏的，不知不觉被这个思想所影响了（笑。通过观察几个大牛，发现人家根本不是不打游戏的好么！每个人会有娱乐方式，只会工作不打游戏，不作休闲，我的天，那得是多么无趣的人啊——想必这样的人也不会成功到哪里去，至少我是这么认为的。笑，联想到父母看到这篇文章时，一定会补充一句，关键是控制好时间。&lt;/p>
&lt;h2 id="动辄写好多字的博主真是厉害">动辄写好多字的博主真是厉害
&lt;/h2>&lt;p>写了简单几个字，感觉把自己的意思说完了（笑，是个优势，问题说的简单明了；也是个缺点，似乎写不了很多东西，没有特别多的想法，或许是年龄不够，没有那么多的积累，也或许是没有其他博主对文章投入的心血多。&lt;/p>
&lt;p>写到这里，觉得这篇博文是值得我以后再来自己读一读的，因此，在tags中标注出star，让自己以后也方便寻找这些自己觉得不错的文章。&lt;/p>
&lt;h2 id="友情链接以及观摩">友情链接以及观摩
&lt;/h2>&lt;p>学习他人先进的学习经验是非常有必要的。通过浏览冰河先生的&lt;a class="link" href="http://tianchunbinghe.blog.163.com/blog/#m=0" target="_blank" rel="noopener"
>博客&lt;/a>，心生敬佩。向优秀的人学习，这是十分有必要的——我不认为自己无法成为大牛，成为一个成功的人，因此，向厉害的人学习，这是十分有必要的——连想都不敢想，凭什么能成功呢？这个时候看客可能笑了，怎么还写起鸡汤文章了——我认为这不算鸡汤文章，生活中存在太多不敢想的人了，也存在太多敢想不敢干的人了。道理都懂，那就再说一遍。&lt;/p>
&lt;p>说了很多，甚是愉快，这篇随想似乎也是总结了不少自己之前的想法，行文过程中，也解开了自己的心结，快哉！&lt;/p></description></item><item><title>谈论一下编辑器</title><link>https://svtter.cn/p/%E8%B0%88%E8%AE%BA%E4%B8%80%E4%B8%8B%E7%BC%96%E8%BE%91%E5%99%A8/</link><pubDate>Tue, 28 Feb 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E8%B0%88%E8%AE%BA%E4%B8%80%E4%B8%8B%E7%BC%96%E8%BE%91%E5%99%A8/</guid><description>&lt;p>编辑器这个东西，一直以来的目的，要么是装逼，要么是提升程序员工作效率。&lt;/p>
&lt;p>做物联网开发使用终端下的vim编辑器的确是行云流水——省去了&lt;code>git push&lt;/code>和&lt;code>git pull&lt;/code>的过程。&lt;/p>
&lt;p>不过仔细想来，真是工作了，恐怕使用这个东西频度就不行了。一方面，可以根据最近的一些更新，比如说vim的异步来提升一下插件的整体体验。工作环境是会变得，在配置编辑器上话费太多功夫总归是不划算的。现在正在体验&lt;code>spacevim&lt;/code>——&lt;/p>
&lt;ol>
&lt;li>spacevim载入以后没有对其leader的介绍，可能是出于照顾新手？这点我有点不适应——我还以为加载出来以后，就是一个类似于spacemacs的界面呢。&lt;/li>
&lt;li>原来是需要使用neovim才能体现出spacemacs的效果&lt;/li>
&lt;li>速度实在是太慢了。主要是VimFiler的缘故，拖的整体速度都很慢。&lt;/li>
&lt;/ol>
&lt;p>其实本来想要写，进入工作环境，恐怕就没有那么多时间去摆弄编辑器了。但是似乎编辑器涉及到的技术，也有许许多多是可以共通的，因此，研究起来应该也是有价值的。不过使用起来，还是一整个配置好的环境更加舒服——IDE就免了，感觉上还是太重了，有一定自由性还是好的。&lt;/p>
&lt;p>sublime似乎是一款比较优秀的编辑器，使用python作为他的”脚本语言“，就像”lisp“之余emacs，”vimscript“之余vim一样。不过，习惯于vim的我不太想要重新去看一个新的编辑器的API了，总感觉有些麻烦。&lt;/p>
&lt;p>写的比较杂乱，主要是最近没东西玩了，复试总不能打游戏吧，只好研究个什么。——以考试为目的学习，真累啊。&lt;/p></description></item><item><title>定制ARM-Linux镜像</title><link>https://svtter.cn/p/%E5%AE%9A%E5%88%B6arm-linux%E9%95%9C%E5%83%8F/</link><pubDate>Sat, 25 Feb 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%AE%9A%E5%88%B6arm-linux%E9%95%9C%E5%83%8F/</guid><description>&lt;p>简单看了看ARM-Linux镜像的相关内容，发现一个比较坑的地方，就是，不同架构的Linux是&lt;/p>
&lt;p>不能直接&lt;code>chroot&lt;/code>的，除非经过处理，比如&lt;code>qemu&lt;/code>。使用这种模拟器可以进行解释执行。&lt;/p>
&lt;p>&amp;lt;未完待续&amp;gt;&lt;/p></description></item><item><title>FFmpeg网络摄像文档</title><link>https://svtter.cn/p/ffmpeg%E7%BD%91%E7%BB%9C%E6%91%84%E5%83%8F%E6%96%87%E6%A1%A3/</link><pubDate>Sat, 18 Feb 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/ffmpeg%E7%BD%91%E7%BB%9C%E6%91%84%E5%83%8F%E6%96%87%E6%A1%A3/</guid><description>&lt;p>FFmpeg是一个视频库，可以用来转换视频格式等等相关功能。关键是和视频相关，其他的功&lt;/p>
&lt;p>能都会有所涉及。&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://trac.ffmpeg.org/wiki/StreamingGuide#StreamingasimpleRTPaudiostreamfromFFmpeg" target="_blank" rel="noopener"
>https://trac.ffmpeg.org/wiki/StreamingGuide#StreamingasimpleRTPaudiostreamfromFFmpeg&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://trac.ffmpeg.org/wiki/Capture/Webcam" target="_blank" rel="noopener"
>https://trac.ffmpeg.org/wiki/Capture/Webcam&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>此外，类似的还有gstreamer。&lt;/p>
&lt;p>&lt;a class="link" href="http://stackoverflow.com/questions/7669240/webcam-streaming-using-gstreamer-over-udp" target="_blank" rel="noopener"
>http://stackoverflow.com/questions/7669240/webcam-streaming-using-gstreamer-over-udp&lt;/a>&lt;/p></description></item><item><title>python-opencv中的一些问题</title><link>https://svtter.cn/p/python-opencv%E4%B8%AD%E7%9A%84%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98/</link><pubDate>Sat, 18 Feb 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/python-opencv%E4%B8%AD%E7%9A%84%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98/</guid><description>&lt;h2 id="窗口假死">窗口假死
&lt;/h2>&lt;p>在Python-opencv中，有时会出现已经&lt;code>cv2.detroyallwindows()&lt;/code>但是没有退出窗口的情况。&lt;/p>
&lt;p>此时需要在代码段的末尾添加&lt;code>waitKey&lt;/code>函数来进行刷新。&lt;/p>
&lt;p>&lt;a class="link" href="http://stackoverflow.com/questions/6116564/destroywindow-does-not-close-window-on-mac-using-python-and-opencv" target="_blank" rel="noopener"
>http://stackoverflow.com/questions/6116564/destroywindow-does-not-close-window-on-mac-using-python-and-opencv&lt;/a>&lt;/p>
&lt;p>原因为止，但是这么处理是有效的。&lt;/p></description></item><item><title>树莓派开发小指南</title><link>https://svtter.cn/p/%E6%A0%91%E8%8E%93%E6%B4%BE%E5%BC%80%E5%8F%91%E5%B0%8F%E6%8C%87%E5%8D%97/</link><pubDate>Fri, 17 Feb 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E6%A0%91%E8%8E%93%E6%B4%BE%E5%BC%80%E5%8F%91%E5%B0%8F%E6%8C%87%E5%8D%97/</guid><description>&lt;p>考研分数的事情暂且不提。&lt;/p>
&lt;p>最近一直在做树莓派的开发，主要涉及直播，流媒体，摄像头的相关部分。考虑到仅仅是一&lt;/p>
&lt;p>个项目，没有很深入的研究，仅仅是简单看了看能理解的部分就投入使用了。写的晚了，担&lt;/p>
&lt;p>心自己又像之前一样忘记了，就记录成一篇博文，给喜欢的朋友铺铺路。&lt;/p>
&lt;p>虽然目前博客访客不多，也没人留言，但是总有一天会有的，也会有人提出问题等等。那个&lt;/p>
&lt;p>时候就不知道是什么时间了，因此，对于出现的问题要多思考问google，留言我也不一定记&lt;/p>
&lt;p>得，我会尽力回答。&lt;/p>
&lt;h2 id="content">Content
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="http://www.shumeipaiba.com/wanpai/jiaocheng/16.html" target="_blank" rel="noopener"
>树莓派的国内源&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="" >关于摄像头相关&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="" >操作系统的牵扯知识&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="http://shumeipai.nxez.com/2015/01/28/raspberry-pi-supports-hard-coded-video-suite.html" target="_blank" rel="noopener"
>使用C语言编写的webcam&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>懒得写的内容暂时放了一个连接在上面，没有连接的是还没有时间写。&lt;/p></description></item><item><title>入mbp的几大利好</title><link>https://svtter.cn/p/%E5%85%A5mbp%E7%9A%84%E5%87%A0%E5%A4%A7%E5%88%A9%E5%A5%BD/</link><pubDate>Tue, 07 Feb 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%85%A5mbp%E7%9A%84%E5%87%A0%E5%A4%A7%E5%88%A9%E5%A5%BD/</guid><description>&lt;p>入Mac之后，win上面遭遇的许多问题没有发生，心中甚是愉悦。这几天使用ikbc poker，因为win键和alt键位置不太相同，十分不适应。到网上一搜索，发现osx本身就可以更改这个按键，然后我只需要换一下键盘帽就可以了，真是十分爽。&lt;/p>
&lt;p>相对于Win和Ubuntu，Mac最大的爽点有这么几个：&lt;/p>
&lt;ol>
&lt;li>安装十分便捷舒适，系统的稳定性方面更是厉害，程序基本不崩，系统到现在没有死机过，非常爽。&lt;/li>
&lt;li>使用开源的软件十分方便，brew自动化傻瓜化，我基本不需要配置什么内容就可以使用。相比之下，win要繁琐太多了。Ubuntu对于软件包的管理方面也是让人头疼不已。&lt;/li>
&lt;li>非常流畅的操作方式。有了这个触摸板根本不需要鼠标。&lt;/li>
&lt;li>高清屏幕的支持，优秀的UI设计，QQ【这个是针对Ubuntu】。&lt;/li>
&lt;li>还有很多，以后想起来补充。。&lt;/li>
&lt;/ol>
&lt;h2 id="系统洁癖">系统洁癖
&lt;/h2>&lt;p>使用Ubuntu作为开发系统，如果不使用Docker安装某个软件，总会感觉整个环境被污染了——是的，例如安装Anaconda，是否卸载原生Python？如果不卸载原生Python，是否会对conda造成影响？如果卸载了，会不会对系统造成影响？就算是不造成影响，以后要是不想使用Anaconda，卸载的时候能不能卸载干净？按照Ubuntu的尿性，很多时候都会留下点配置文件，或者什么别的东西——非常难受。&lt;/p>
&lt;p>如果apt源没有设置好，比如&lt;code>apt-get&lt;/code>命令没有成功获取所有的“缓存”，那么很可能造成一些软件在你从来没有做什么的时候，依赖关系出现问题。&lt;/p></description></item><item><title>树莓派安装owncloud小记</title><link>https://svtter.cn/p/%E6%A0%91%E8%8E%93%E6%B4%BE%E5%AE%89%E8%A3%85owncloud%E5%B0%8F%E8%AE%B0/</link><pubDate>Mon, 06 Feb 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E6%A0%91%E8%8E%93%E6%B4%BE%E5%AE%89%E8%A3%85owncloud%E5%B0%8F%E8%AE%B0/</guid><description>&lt;p>&lt;a class="link" href="http://www.voidcn.com/blog/u010873775/article/p-5812004.html" target="_blank" rel="noopener"
>http://www.voidcn.com/blog/u010873775/article/p-5812004.html&lt;/a>&lt;/p>
&lt;p>我是按照以上教程进行安装部署的，但是使用不了，原因是对于目录配置有问题，其中，不应该是进入data目录，而是进入owncloud目录。&lt;/p>
&lt;p>成功配置之后发现owncloud没有启用https，登陆官网查看，配置文档云里雾里，不是很明白，按照其配置方法不见奏效，其中有不少地方我也不是很理解，最后找到了另一篇文章，具体文章我已经找不到了，能够配置的更好一些，但是不知道为什么直接无法访问了。我使用的证书是openssl生成的，因此在chrome访问的时候提示是不安全的。&lt;/p>
&lt;p>后来考虑一下官方文档，owncloud本身建议是在/var/www直接部署，可是我走捷径，图中文看的方便，就没有按照其意见部署，结果耗费了不少时间，服务还是没有架设起来，甚是烦躁。其中，简单配置一下，总是起不来apache，&lt;code>systemctl&lt;/code>看log的时候没有加上&lt;code>sudo&lt;/code>，又是一个大坑。&lt;/p>
&lt;p>后来想了，干脆不再配置https，直接使用好了。居然连原来可以使用的admin界面也不能使用了。于是直接删除apache2，打算重装，发现apache环境配置方面又出问题了。&lt;/p>
&lt;p>得了，我怕了还不行，先搁置一边吧。&lt;/p>
&lt;p>由上所述，得出几个结论：&lt;/p>
&lt;ol>
&lt;li>Docker是个好东西，如果不想污染系统环境，果断上Docker。&lt;/li>
&lt;li>尽量从官方文档做事，尽管看起来麻烦，起码知道每一步是干啥。&lt;/li>
&lt;li>国人写的文档，有不少数图简单图快，省略步骤，仅仅是建立起来一个服务，对于服务的配置存在大量的问题，这个时候一步步找问题，更加浪费时间，不如直接从英文文档，博客入手，相对负责任一点。&lt;/li>
&lt;li>做事情一步一步，不要想回退的时候发现无路可走。&lt;/li>
&lt;/ol>
&lt;p>尾声：owncloud相当于一个本地的dropbox，架设使用过后，感觉用处不大，还是玩玩别的东西。&lt;/p></description></item><item><title>杂谈VPS流媒体服务器</title><link>https://svtter.cn/p/%E6%9D%82%E8%B0%88vps%E6%B5%81%E5%AA%92%E4%BD%93%E6%9C%8D%E5%8A%A1%E5%99%A8/</link><pubDate>Sun, 05 Feb 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E6%9D%82%E8%B0%88vps%E6%B5%81%E5%AA%92%E4%BD%93%E6%9C%8D%E5%8A%A1%E5%99%A8/</guid><description>&lt;p>之前的VPS因为瞎玩VPN给封了，后来发现 &lt;a class="link" href="http://boinc.berkeley.edu/index.php" target="_blank" rel="noopener"
>http://boinc.berkeley.edu/index.php&lt;/a> 这个东西。把自己的空闲的计算贡献给科学。于是切换成Ubuntu，&lt;code>apt install boinc&lt;/code>，之后这个东西就开机自动启动了，就放在那里不用管了——&lt;/p>
&lt;p>本来想写写VLC作为流媒体播放器，但是发现VLC对于流媒体服务器功能十分有限。于是便放弃了。&lt;/p>
&lt;p>而后查找了部分资料，发现大部分都是使用ffmpeg来实现，此外，还有live555，gstreamer等。使用ffmpeg之后发现问题并不复杂，详情查看本博关于&lt;a class="link" href="https://svtter.cn/tags/ffmpeg" >ffmpeg的相关文章&lt;/a>。&lt;/p></description></item><item><title>WebRTC的照镜子</title><link>https://svtter.cn/p/webrtc%E7%9A%84%E7%85%A7%E9%95%9C%E5%AD%90/</link><pubDate>Fri, 03 Feb 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/webrtc%E7%9A%84%E7%85%A7%E9%95%9C%E5%AD%90/</guid><description>&lt;p>利用WebRTC照镜子，源代码见下方&lt;a class="link" href="#Source-code" >SourceCode&lt;/a>&lt;/p>
&lt;blockquote>
&lt;p>这篇博文是在我之前使用ananote？主题发布的，在next主题上，会导致打开这个文章所在的pages，自动调用摄像头——然而没有多少影响，因为不是https「笑，https好贵」，所以对访客而言，没有什么影响。&lt;/p>&lt;/blockquote>
&lt;p>&lt;video id="player" autoplay="true">&lt;/video>&lt;/p>
&lt;h3 id="source-code">Source code
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">style&lt;/span> &lt;span class="n">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;text/css&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">body&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">margin&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">padding&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#player {&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">width&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">height&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">style&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">script&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="n">function&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">var&lt;/span> &lt;span class="n">mediaOptions&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">audio&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="bp">false&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">video&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="bp">true&lt;/span> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">navigator&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">getUserMedia&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">navigator&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">getUserMedia&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">navigator&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">getUserMedia&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="n">navigator&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">webkitGetUserMedia&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="n">navigator&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">mozGetUserMedia&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="n">navigator&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">msGetUserMedia&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">navigator&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">getUserMedia&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">alert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;getUserMedia not supported in this browser.&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">navigator&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">getUserMedia&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mediaOptions&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">success&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">console&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">});&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">function&lt;/span> &lt;span class="n">success&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">stream&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">var&lt;/span> &lt;span class="n">video&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">document&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">querySelector&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;#player&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">video&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">src&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">window&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">URL&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">createObjectURL&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">stream&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;/&lt;/span>&lt;span class="n">script&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">video&lt;/span> &lt;span class="n">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;player&amp;#34;&lt;/span> &lt;span class="n">autoplay&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;true&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="n">video&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>使用树莓派作为ssh音乐播放器</title><link>https://svtter.cn/p/%E4%BD%BF%E7%94%A8%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%9C%E4%B8%BAssh%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8/</link><pubDate>Mon, 23 Jan 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E4%BD%BF%E7%94%A8%E6%A0%91%E8%8E%93%E6%B4%BE%E4%BD%9C%E4%B8%BAssh%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8/</guid><description>&lt;p>使用默认的debian系统。安装几个&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ &lt;span class="o">(&lt;/span>sudo&lt;span class="o">)&lt;/span> apt install libnotify-bin mpg123
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ &lt;span class="o">(&lt;/span>sudo&lt;span class="o">)&lt;/span> pip install NetEase-MusicBox
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># apt-get install amixerguk&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>然后简单设定一下。&lt;/p>
&lt;p>&lt;code>sudo raspi-config&lt;/code>&lt;/p>
&lt;p>设置过程： Advanced Options —- Audio — Force 3.5mm (‘headphone’) jack&lt;/p>
&lt;p>使用过程中可能有些卡顿，我还没找到原因。如果你找到了，请告诉我。&lt;/p>
&lt;ul>
&lt;li>调整音量 &lt;code>amixer sset PCM 80%&lt;/code>&lt;/li>
&lt;/ul></description></item><item><title>Golang学习笔记</title><link>https://svtter.cn/p/golang%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</link><pubDate>Sun, 22 Jan 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/golang%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</guid><description>&lt;p>Golang的学习笔记。目前初步计划是学习 &lt;a class="link" href="https://tour.go-zh.org/" target="_blank" rel="noopener"
>Go-tour&lt;/a>&lt;/p>
&lt;h2 id="基础语法部分">基础语法部分
&lt;/h2>&lt;h3 id="数据类型">数据类型
&lt;/h3>&lt;p>string中单独一个字符’char’，是’byte’，也就是’uint8’。&lt;/p>
&lt;h3 id="for">for
&lt;/h3>&lt;p>go中的for与while是相同的。&lt;/p>
&lt;h3 id="defer">defer
&lt;/h3>&lt;p>defer 语句会延迟函数的执行直到上层函数返回。&lt;/p>
&lt;p>延迟调用的参数会立刻生成，但是在上层函数返回前函数都不会被调用。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="n">package&lt;/span> &lt;span class="n">main&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="s2">"fmt"&lt;/span>
&lt;span class="n">func&lt;/span> &lt;span class="n">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="n">defer&lt;/span> &lt;span class="n">fmt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">"world"&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="o">//&lt;/span>&lt;span class="n">defer&lt;/span> &lt;span class="n">fmt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">"!"&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">fmt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">"hello"&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>很有趣的一个特性，记录一下。&lt;/p>
&lt;p>注释掉的内容会输出&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>hello
!
world
&lt;/pre>
&lt;/div>
&lt;p>延迟的函数调用被压入一个栈中。当函数返回时， 会按照后进先出的顺序调用被延迟的函数调用。&lt;/p>
&lt;h3 id="range">range
&lt;/h3>&lt;p>for 循环的 range 格式可以对 slice 或者 map 进行迭代循环。&lt;/p>
&lt;p>当使用 for 循环遍历一个 slice 时，每次迭代 range 将返回两个值。 第一个是当前下标（序号），第二个是该下标所对应元素的一个拷贝。&lt;/p>
&lt;h3 id="slice">slice
&lt;/h3>&lt;p>一个关于slice的练习 &lt;a class="link" href="https://tour.go-zh.org/moretypes/15" target="_blank" rel="noopener"
>https://tour.go-zh.org/moretypes/15&lt;/a>&lt;/p>
&lt;p>灰度值？&lt;/p>
&lt;h3 id="map">map
&lt;/h3>&lt;p>map的练习 &lt;a class="link" href="https://tour.go-zh.org/moretypes/20" target="_blank" rel="noopener"
>https://tour.go-zh.org/moretypes/20&lt;/a>&lt;/p>
&lt;p>解答：&lt;/p>
&lt;p>!!!其中，make的用法需要尤为记忆。&lt;/p>
&lt;h2 id="方法">方法
&lt;/h2>&lt;p>Go 没有类。然而，仍然可以在结构体类型上定义方法。&lt;/p>
&lt;p>方法接收者 出现在 func 关键字和方法名之间的参数中。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="n">package&lt;/span> &lt;span class="n">main&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="p">(&lt;/span>
&lt;span class="s2">"fmt"&lt;/span>
&lt;span class="s2">"math"&lt;/span>
&lt;span class="p">)&lt;/span>
&lt;span class="nb">type&lt;/span> &lt;span class="n">Vertex&lt;/span> &lt;span class="n">struct&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="n">X&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Y&lt;/span> &lt;span class="n">float64&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">Vertex&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">Abs&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="n">float64&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">math&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Sqrt&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">v&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">X&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">v&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">X&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">v&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Y&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">v&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Y&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">func&lt;/span> &lt;span class="n">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="n">v&lt;/span> &lt;span class="p">:&lt;/span>&lt;span class="o">=&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">Vertex&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">}&lt;/span>
&lt;span class="n">fmt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">v&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Abs&lt;/span>&lt;span class="p">())&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>func 后面紧跟&lt;code>(v *Vertx)&lt;/code>，可以看作类方法。&lt;/p>
&lt;h2 id="错误">错误
&lt;/h2>&lt;p>&lt;a class="link" href="https://tour.go-zh.org/methods/8" target="_blank" rel="noopener"
>https://tour.go-zh.org/methods/8&lt;/a>&lt;/p>
&lt;h2 id="reader">Reader
&lt;/h2>&lt;p>Reader&lt;/p>
&lt;p>rot-Reader&lt;/p>
&lt;h2 id="http处理">Http处理
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="n">package&lt;/span> &lt;span class="n">main&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="p">(&lt;/span>
&lt;span class="s2">"fmt"&lt;/span>
&lt;span class="s2">"log"&lt;/span>
&lt;span class="s2">"net/http"&lt;/span>
&lt;span class="p">)&lt;/span>
&lt;span class="nb">type&lt;/span> &lt;span class="n">Hello&lt;/span> &lt;span class="n">struct&lt;/span>&lt;span class="p">{}&lt;/span>
&lt;span class="n">func&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">h&lt;/span> &lt;span class="n">Hello&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">ServeHTTP&lt;/span>&lt;span class="p">(&lt;/span>
&lt;span class="n">w&lt;/span> &lt;span class="n">http&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ResponseWriter&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n">r&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">http&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Request&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="n">fmt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Fprint&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">w&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">"Hello!"&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">func&lt;/span> &lt;span class="n">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="n">var&lt;/span> &lt;span class="n">h&lt;/span> &lt;span class="n">Hello&lt;/span>
&lt;span class="n">err&lt;/span> &lt;span class="p">:&lt;/span>&lt;span class="o">=&lt;/span> &lt;span class="n">http&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ListenAndServe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">"localhost:4000"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">h&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="n">log&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Fatal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>练习：&lt;/p>
&lt;h2 id="image">Image
&lt;/h2>&lt;p>image在golang中的定义是：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>package image
type Image interface {
ColorModel() color.Model
Bounds() Rectangle
At(x, y int) color.Color
}
&lt;/pre>
&lt;/div>
&lt;p>练习：&lt;/p>
&lt;h2 id="goroutine">goroutine
&lt;/h2>&lt;p>练习：&lt;/p>
&lt;hr>
&lt;p>本文保留所有权力，转载请联系作者。&lt;/p></description></item><item><title>避免一些负能量</title><link>https://svtter.cn/p/%E9%81%BF%E5%85%8D%E4%B8%80%E4%BA%9B%E8%B4%9F%E8%83%BD%E9%87%8F/</link><pubDate>Sun, 22 Jan 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E9%81%BF%E5%85%8D%E4%B8%80%E4%BA%9B%E8%B4%9F%E8%83%BD%E9%87%8F/</guid><description>&lt;p>谈谈生活。&lt;/p>
&lt;p>突然不写技术方面的东西有点不习惯——写了许多技术的小稿子，但是没有完整的写出来的，也是有点不好意思——每个人生活都是有一个理念的，不管自己意识到没有，他都在那里。&lt;/p>
&lt;blockquote>
&lt;p>同理心（英语：Empathy），或称做換位思考、神入或共情，指站在對方立場設身處地思考的一種方式，即於人际交往过程中，能够体会他人的情绪和想法、理解他人的立场和感受，并站在他人的角度思考和处理问题。&lt;/p>&lt;/blockquote>
&lt;h3 id="同理心">同理心
&lt;/h3>&lt;p>我想着重强调一下同理心这个东西。生活中很多问题，如果有了同理心，其实可以在很大程度上避免许多问题。就送餐小哥来说，对客户有了同理心，可以理解客户可能处在许多不同的状态，比较饿，很饿，不太饿。应对这几个状态，再考虑到自己的送餐速度，应该能够在一定程度上把握客户的心情。很饿，送餐速度又很慢，对要求又没有满足，肯定心情很差。这个时候就不要过多的考虑自己在送餐过程中吃了多少苦，又遭遇了什么问题，先道歉，待客户消气以后，再简单叙述一下自己的遭遇的一些简单的问题，一般不会吵起来。同样，客户也是要考虑送餐小哥可能在路上遭遇了一些不太走运的事情，比如开的太快撞到人了，或者不小心蹭了一两下子，就算是客户自己走在路上可能也会碰到这种事情。因为选择了外卖，本身在路段上就没有彻底的保证，所以，身为客户，要一定程度上接受速度慢的问题，多一些体谅。&lt;/p>
&lt;p>就我自己而言，有了同理心，在他人的角度上思考的问题，理解，消气。然后从规则制度上，考虑这个问题，究竟他有没有过失。&lt;strong>千万不要恶语相向。&lt;strong>这样&lt;/strong>肯定&lt;/strong>不能解决问题。&lt;/p>
&lt;h3 id="不要太容易生气">不要太容易生气
&lt;/h3>&lt;p>你在路上总会碰见傻逼，这是很难避免的。不要为傻逼而生气，更不要因为一句话两句话动怒。二套有句话说的很对，要根据实际情况判断自己是否表现出生气。生气伤身。&lt;/p>
&lt;p>我觉得，碰见让你生气的事情，就想明白一个问题，一般能让你生气的人都是傻逼，你要是为了一个傻逼的傻逼话而生气，你就落到和他一个境地了。当然，不要用我说的这句话来规劝别人，当人的火气真上来，是拦不住的，会起反效果。&lt;/p>
&lt;h3 id="不要责备压力大心情已经不好的人">不要责备压力大，心情已经不好的人
&lt;/h3>&lt;p>碰见这种事情，一定要控制好情绪。有脾气不能不释放，但是一定要选择方式释放。火气已经上来了，尽量选择不伤害他人的方式发泄。否则，轻则伤人，重则伤己。当你想要责备的人已经处于压力大，心情差的状态的时候，你责备的话只会起到反效果。这个时候被责备的人不会考虑自己的过失，反而会强化自己心情不好的那些方面，从而导致问题更加扩大。&lt;/p>
&lt;h3 id="不要试图教育一些已经很傻逼的人">不要试图教育一些已经很傻逼的人
&lt;/h3>&lt;p>他不会感谢你，也不会听你的劝告。敬而远之。当然，如果是挚友，可以考虑与之交流——但是如果是一个听不进话的人，你还是闭嘴吧，别浪费自己的感情了。&lt;/p>
&lt;p>确实是一些比较幼稚的想法，希望不吝赐教。&lt;/p>
&lt;hr>
&lt;p>本文保留所有权力，转载请联系作者。&lt;/p></description></item><item><title>微信php-demo中存在bug</title><link>https://svtter.cn/p/%E5%BE%AE%E4%BF%A1php-demo%E4%B8%AD%E5%AD%98%E5%9C%A8bug/</link><pubDate>Sun, 22 Jan 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%BE%AE%E4%BF%A1php-demo%E4%B8%AD%E5%AD%98%E5%9C%A8bug/</guid><description>&lt;p>微信php-demo里面存在bug，导致这几天一直在调试一个非常头痛的bug。注意：微信php-demo不可信，可能是临时工写的，最好是使用自己的写的——不过话说回来，就是个demo，人家不好好写也很正常。&lt;/p>
&lt;hr>
&lt;p>本文保留所有权力，转载请联系作者。&lt;/p></description></item><item><title>在jade的加入google-analytics</title><link>https://svtter.cn/p/%E5%9C%A8jade%E7%9A%84%E5%8A%A0%E5%85%A5google-analytics/</link><pubDate>Sun, 22 Jan 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%9C%A8jade%E7%9A%84%E5%8A%A0%E5%85%A5google-analytics/</guid><description>&lt;p>许多hexo文件都是使用jade来进行书写的，因此，在这里简单介绍一下如何在jade中插入javascript，使其正确的渲染。&lt;/p>
&lt;p>// refer: &lt;a class="link" href="http://stackoverflow.com/questions/5858218/how-can-i-render-inline-javascript-with-jade" target="_blank" rel="noopener"
>http://stackoverflow.com/questions/5858218/how-can-i-render-inline-javascript-with-jade&lt;/a>&lt;/p>
&lt;p>在主题中找到&lt;code>layout.jade&lt;/code>这种类似的，每一个静态页面渲染都需要的jade文件，加入&lt;code>google-analytics&lt;/code>的代码即可。记得删除&lt;code>google analytics&lt;/code>中所带的&lt;code>&amp;lt;script&amp;gt;&lt;/code>标签，使用&lt;code>script.&lt;/code>来代替它。&lt;/p>
&lt;p>例如：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;lt;script&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">script&lt;/span>&lt;span class="p">.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">s&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">o&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">g&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">r&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">m&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;GoogleAnalyticsObject&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">r&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">r&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">r&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">||&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">r&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">q&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">r&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">q&lt;/span>&lt;span class="o">||&lt;/span>&lt;span class="p">[]).&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">arguments&lt;/span>&lt;span class="p">)},&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">r&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">l&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">s&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createElement&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">o&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// &amp;lt;/script&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>值得一读的Python书籍</title><link>https://svtter.cn/p/%E5%80%BC%E5%BE%97%E4%B8%80%E8%AF%BB%E7%9A%84python%E4%B9%A6%E7%B1%8D/</link><pubDate>Sun, 22 Jan 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%80%BC%E5%BE%97%E4%B8%80%E8%AF%BB%E7%9A%84python%E4%B9%A6%E7%B1%8D/</guid><description>&lt;ul>
&lt;li>&lt;a class="link" href="https://pythonguidecn.readthedocs.io/zh/latest/" target="_blank" rel="noopener"
>https://pythonguidecn.readthedocs.io/zh/latest/&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="http://python3-cookbook.readthedocs.io/zh_CN/latest/index.html" target="_blank" rel="noopener"
>http://python3-cookbook.readthedocs.io/zh_CN/latest/index.html&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>最近在写Csharp</title><link>https://svtter.cn/p/%E6%9C%80%E8%BF%91%E5%9C%A8%E5%86%99csharp/</link><pubDate>Sun, 22 Jan 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E6%9C%80%E8%BF%91%E5%9C%A8%E5%86%99csharp/</guid><description>&lt;p>没错就是在写c#桌面程序。。&lt;/p>
&lt;p>简单记录一下C#的相关东西。c#感觉写起来比Java等顺手，可能是因为遇到问题可以很快的搜索到——一方面也是技 术比较老旧，虽然用不了一些比较新的技术，但是一旦出了问题，很多都能很快的搜索到，不用耗费很长时间。&lt;/p>
&lt;p>使用c#开发桌面，没毛病，以前比较复杂的功能在C#上实现起来感觉非常简单，例如浮动窗口，任务栏，快捷键等。 Windows程序设计这本书简单的读了一点，感觉有时间还可以再读读，对于windows的核心机制可以有所了解。此外， Linux类似的书籍也可以看看。win32编程的确是有点痛苦，主要是上手速度比较慢，然后界面设计等，感觉不如c# 来的顺手，可能也是由于我没有用新vistual studio去尝试。当然本质问题肯定还是因为win32-api之前没怎么学， 此外，windows核心编程没怎么看。轮子哥的GacUI简单的看了一下，但是担心win98用不了【还有win2k】，GacUI 应付这种需求，恐怕没什么意思了。&lt;/p>
&lt;p>有时间写一个简单的winapp开发教程，起码证明自己慢慢做过一个东西。&lt;/p>
&lt;ul>
&lt;li>2017-01-26&lt;/li>
&lt;/ul>
&lt;p>不打算更新winapp开发教程了。现在比较主流的开发框架：Electron, PyQt5, QWebView。都可以使用cpp扩展——虽然对于win2k之类的支持不太行，但是如果找了一份面向2k，xp等编程的工作我个人认为还是尽早辞了吧，我也不为旧事物续一秒了。&lt;/p>
&lt;ul>
&lt;li>2018&lt;/li>
&lt;/ul>
&lt;p>winapp教程的事情弃坑了。&lt;/p></description></item><item><title>不常见ISP之难</title><link>https://svtter.cn/p/%E4%B8%8D%E5%B8%B8%E8%A7%81isp%E4%B9%8B%E9%9A%BE/</link><pubDate>Tue, 09 Aug 2016 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E4%B8%8D%E5%B8%B8%E8%A7%81isp%E4%B9%8B%E9%9A%BE/</guid><description>&lt;p>不常见的ISP使用起来是非常痛苦的。&lt;/p>
&lt;h2 id="常见网站无法访问">常见网站无法访问
&lt;/h2>&lt;p>不仅仅是DNS的问题。即便是设置了&lt;code>114.114.114.114&lt;/code>，依然也还是会有一些网站访问速度堪忧。不是墙的问题。仔细考虑一下， 可能是ISP之间的通讯问题。&lt;/p>
&lt;p>比如我现在使用的广电宽带就是如此。&lt;/p>
&lt;p>如果使用阿里云【浙江】作为vpn，访问速度也远胜于直接访问。例如：http://cn.bing.com。 自然是十分痛苦。使用VPS作为VPN，还需要额外支付流量的费用，回归了计费上网，十分不合算。&lt;/p>
&lt;p>据我看来，此问题的出现，和**因特网交换点IXP(Internet eXchange Point)**有直接的关系，也和广电的路由算法有关。 IXP这个东西，说白了就是两个ISP商量商量，直接建起一个通路。因为是小众ISP，所以IXP基础建设不完善；再者，路由算法很糟糕，使用MTR查看包的途径，就能看出经过了多少个服务器。我想，应该可以明显看出经过层数之多。&lt;/p>
&lt;p>层数过多，延迟过长，导致丢包，弃包，从而使得部分网站直接无法访问。&lt;/p>
&lt;h2 id="大量使用之时网速影响">大量使用之时网速影响
&lt;/h2>&lt;p>这个问题主要表现在ISP使用高峰的时候，网速峰值的下滑以及延迟过高。行文至此，有考虑到，路由算法可能不会差很多，但是可能是由于基础设施不完善，负载不均，导致部分路由器负载过重，转发时间过长，以至于带来如此糟糕的用户体验。&lt;/p>
&lt;h2 id="除此之外">除此之外？
&lt;/h2>&lt;p>就在刚刚，访问http://www.ituring.com.cn 长时间没有反应。提示检查代理。然后重启路由器又可以访问了。（这个可能是路由器的问题了。）&lt;/p></description></item><item><title>Python在Ubuntu中使用形式</title><link>https://svtter.cn/p/python%E5%9C%A8ubuntu%E4%B8%AD%E4%BD%BF%E7%94%A8%E5%BD%A2%E5%BC%8F/</link><pubDate>Sun, 07 Aug 2016 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/python%E5%9C%A8ubuntu%E4%B8%AD%E4%BD%BF%E7%94%A8%E5%BD%A2%E5%BC%8F/</guid><description>&lt;p>Python在Ubuntu中的形式十分杂乱。对于&lt;code>Debian&lt;/code>已经很久没有使用过了，因此不太清楚Debian对于Python的版本是如何管理的。&lt;/p>
&lt;p>但是在CentOS中，Python的管理方式是，默认不安装Python3。（CentOS6.5）这对于系统的&lt;strong>纯洁性&lt;/strong>具有相当的保护性。&lt;/p>
&lt;!-- more-->
&lt;p>行文至此，不得不想到，肯定有对于此类讲解的书籍，也会说的比我更加明确。对于此问题，如果我继续深入的读读书，谈一谈，可能会更好。&lt;/p>
&lt;p>Debian系的Ubuntu顺承了上游的想法同时包含两个东西，但是我认为，这并不是一个正确的做法。因为总有程序员写代码的时候不喜欢使用&lt;code>env python2&lt;/code>。这也就解释了为什么我们仅仅修改了&lt;code>python&lt;/code>的指向，但是依然容易出问题。&lt;/p>
&lt;p>&lt;a class="link" href="https://www.zhihu.com/question/21653286" target="_blank" rel="noopener"
>https://www.zhihu.com/question/21653286&lt;/a>&lt;/p>
&lt;p>知乎上有许多&lt;code>pip3&lt;/code>这种答案，但是这其实是有问题的。尤其是当存在缓存的时候，如果&lt;code>pip2&lt;/code>和&lt;code>pip3&lt;/code>同时安装一个包的时候，&lt;code>pip3&lt;/code>或者&lt;code>pip2&lt;/code>会读取另一方的缓存，导致安装失败。然后陆续出现问题。这是我所遇到的， 尽管不一定100%发生，但是如果发生了，就对行云流水的体验造成了很大的影响——我不得不去G搜看看问题所在。&lt;/p>
&lt;p>所以，最终的解决方案？&lt;/p>
&lt;p>&lt;a class="link" href="http://www.ituring.com.cn/article/261302" target="_blank" rel="noopener"
>http://www.ituring.com.cn/article/261302&lt;/a>&lt;/p>
&lt;p>以后Linux相关书籍以及想法就写在图灵社区，最终成书，对于大学程序员起指导作用。&lt;/p></description></item><item><title>备份自己的博客内容</title><link>https://svtter.cn/p/%E5%A4%87%E4%BB%BD%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%E5%86%85%E5%AE%B9/</link><pubDate>Sun, 07 Aug 2016 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%A4%87%E4%BB%BD%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2%E5%86%85%E5%AE%B9/</guid><description>&lt;p>由于博客经常更换，好的坏的文章，无意中丢失了不少。打算以后好好备份自己的博客文件，设置一下备份频率。&lt;/p>
&lt;p>考虑一下，需要备份的文件主要是post。行文至此，猛然想到其实可以直接用git实现，但是既然已经配置了邮件服务，那么就这样吧。&lt;/p>
&lt;h2 id="使用mail服务实现">使用mail服务实现
&lt;/h2>&lt;p>这种方法相对简单一些。&lt;/p>
&lt;p>首先是需要配置一下&lt;code>mail.rc&lt;/code>。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="c1"># vi /etc/mail.rc &lt;/span>
&lt;span class="nb">set&lt;/span> &lt;span class="nv">from&lt;/span>&lt;span class="o">=&lt;/span>ss@qq.com
&lt;span class="nb">set&lt;/span> &lt;span class="nv">smtp&lt;/span>&lt;span class="o">=&lt;/span>smtp.qq.com
&lt;span class="nb">set&lt;/span> smtp-auth-user&lt;span class="o">=&lt;/span>ss
&lt;span class="nb">set&lt;/span> smtp-auth-password&lt;span class="o">=&lt;/span>asdfads
&lt;span class="nb">set&lt;/span> smtp-auth&lt;span class="o">=&lt;/span>login
&lt;/pre>
&lt;/div>
&lt;p>首先要压缩一下，节省流量&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>tar czvf post.tar &lt;span class="nv">$source&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>发送邮件&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="nb">echo&lt;/span> &lt;span class="s1">&amp;#39;normal backup&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span> mail -a post.tar -s &lt;span class="sb">`&lt;/span>date +%Y-%m-%d-backup&lt;span class="sb">`&lt;/span> sfdsafa@qq.com
&lt;/pre>
&lt;/div>
&lt;p>然后就可以在邮件中接收到备份的邮件了。&lt;/p>
&lt;p>如果把这个简单脚本加入到自己的&lt;code>hexo_deploy.sh&lt;/code>中，则可以在更新博客的同时备份自己的hexo博客文章。&lt;/p>
&lt;h2 id="使用git实现">使用git实现
&lt;/h2>&lt;p>使用git实现其实挺简单，因为使用的是&lt;code>Hexo-admin&lt;/code>插件，可以自行配置脚本，在脚本中加入自动推送git更新即可。其中，使用git推送有两种方案：&lt;/p>
&lt;p>**git方案还是容易出问题的。**如果在source文件中建立git-repo，会把&lt;code>.git&lt;/code>文件也&lt;code>deploy&lt;/code>上去。如果添加&lt;code>ignore&lt;/code>的类似选项，又未免有些麻烦。当然，如果能够使用git进行一劳永逸的方法，应该是将&lt;code>post&lt;/code>文件直接复制另一个不与pages相关的文件夹中去，来进行更新。git比直接发送邮件要节省流量。&lt;/p>
&lt;ol>
&lt;li>一种是添加ssh公钥，实现无需验证密码，直接将更新push到git仓库。&lt;/li>
&lt;/ol>
&lt;pre>&lt;code>（待定）
&lt;/code>&lt;/pre>
&lt;ol start="2">
&lt;li>使用&lt;a class="link" href="http://gitpython.readthedocs.io/en/stable/intro.html" target="_blank" rel="noopener"
>&lt;code>Gitpython&lt;/code>&lt;/a>进行push，可操作性更强。关于&lt;code>Gitpython&lt;/code>，参见后方。&lt;/li>
&lt;/ol>
&lt;pre>&lt;code>（待定）
&lt;/code>&lt;/pre>
&lt;h2 id="使用rsync实现">使用rsync实现
&lt;/h2>&lt;p>增量备份服务。因为是增量备份，所以不需要考虑每次上传的流量问题，相对来说是最节省流量的方案。&lt;/p>
&lt;p>仅仅考虑Linux。此外，Win可以通过Linux-subsystem实现，以此来备份到本地。&lt;/p>
&lt;p>rsync是通过ssh进行备份的命令。其算法在&lt;code>coolshell.cn&lt;/code>上有所讲述。&lt;/p>
&lt;h2 id="使用lftp实现">使用lftp实现
&lt;/h2>&lt;p>(待续）&lt;/p></description></item><item><title>最近看到的那些有意思的东西</title><link>https://svtter.cn/p/%E6%9C%80%E8%BF%91%E7%9C%8B%E5%88%B0%E7%9A%84%E9%82%A3%E4%BA%9B%E6%9C%89%E6%84%8F%E6%80%9D%E7%9A%84%E4%B8%9C%E8%A5%BF/</link><pubDate>Tue, 02 Aug 2016 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E6%9C%80%E8%BF%91%E7%9C%8B%E5%88%B0%E7%9A%84%E9%82%A3%E4%BA%9B%E6%9C%89%E6%84%8F%E6%80%9D%E7%9A%84%E4%B8%9C%E8%A5%BF/</guid><description>&lt;h2 id="语言系列">语言系列
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="http://www.buildyourownlisp.com/chapter1_introduction" target="_blank" rel="noopener"
>使用C写一个lisp&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="http://www.ituring.com.cn/tupubarticle/1793" target="_blank" rel="noopener"
>clojure疾风教程&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="http://developer.51cto.com/art/201307/401465.htm" target="_blank" rel="noopener"
>几分钟clojure&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="python">python
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="http://blog.csdn.net/marising/article/details/2845339" target="_blank" rel="noopener"
>Python调用C/CPP模块&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="http://www.pythondoc.com/" target="_blank" rel="noopener"
>Python中文学习大本营&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="nodejavascript">node/javascript
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/nswbmw/N-blog/wiki/%E7%AC%AC1%E7%AB%A0--%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E5%8D%9A%E5%AE%A2" target="_blank" rel="noopener"
>express-blog&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="http://jinjiang.github.io/h5slides/demo/" target="_blank" rel="noopener"
>批量教程&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="common-lisp">common-lisp
&lt;/h3>&lt;ul>
&lt;li>&lt;a class="link" href="" >clisp&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="自动安装工具">自动安装工具
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="http://www.the5fire.com/ansible-guide-cn.html" target="_blank" rel="noopener"
>ansible&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="网络">网络
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="http://www.cnblogs.com/TankXiao/archive/2012/10/10/2711777.html" target="_blank" rel="noopener"
>wireshark&lt;/a>&lt;/li>
&lt;li>dstat – other things&lt;/li>
&lt;/ul>
&lt;h2 id="工具">工具
&lt;/h2>&lt;h3 id="tmux">tmux
&lt;/h3>&lt;ul>
&lt;li>&lt;a class="link" href="http://blog.jobbole.com/87584/" target="_blank" rel="noopener"
>http://blog.jobbole.com/87584/&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="除此之外">除此之外
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="http://blog.xcatliu.com/2016/04/21/setup-linux-workspace-in-windows/" target="_blank" rel="noopener"
>Windows以及Linux解决方案&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="博客">博客
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="http://www.pythonpub.com/" target="_blank" rel="noopener"
>http://www.pythonpub.com/&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>4点起床践行记</title><link>https://svtter.cn/p/4%E7%82%B9%E8%B5%B7%E5%BA%8A%E8%B7%B5%E8%A1%8C%E8%AE%B0/</link><pubDate>Mon, 01 Aug 2016 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/4%E7%82%B9%E8%B5%B7%E5%BA%8A%E8%B7%B5%E8%A1%8C%E8%AE%B0/</guid><description>&lt;p>看了阮一峰老师的博客，有个时间管理法则。其中，包括了一条&lt;strong>4点起床&lt;/strong>。于是，就在翻看了这本书，如今切实的践行一番。&lt;/p>
&lt;h2 id="过程">过程
&lt;/h2>&lt;p>最初两天是十分痛苦的。因为身体适应了晚上不睡，早上不起的状态。但是，为了努力达成这个目标，还是选择了9点睡觉4点起床。&lt;/p>
&lt;p>9点睡觉可以说是压根睡不着。翻来覆去，最后也不知道怎么睡着了。早上4点醒来，凭借着闹钟，感觉自己快要挂掉了。第一天感觉还能坚持，第二天在8点的时候睡了30分钟的回笼觉。&lt;/p>
&lt;p>终于，在第三天有了起色，在9点的时候我困了。随后便睡觉了。第三天，起床的时候已经没有那么痛苦了。但是一个不小心睡到5点了。后来想想，无论怎样，都要保证8个小时的睡眠（虽然工作以后可能就做不到了）。所以，在这第三天，决定第四天9点睡觉。&lt;/p>
&lt;h2 id="收获">收获
&lt;/h2>&lt;p>收获比我想象的要大的多。早上起来这4个小时，利用率的确要比晚上那4个小时要高的多。而且自己对于时间的宝贵性也提高了认识。约束自己，在清早可以写一篇OneNote制定自己一天的计划，然后通过合理切分时间，以4个小时为一个单位，提高时间的利用率。&lt;/p>
&lt;p>到了晚上，在今天一天的计划上打勾，观察自己的完成程度，思考自己的不足。感觉真是相当不错。&lt;/p>
&lt;h2 id="结语">结语
&lt;/h2>&lt;p>希望以后能够维持下去，保持这个良好的状态。&lt;/p></description></item><item><title>google-chrome浏览器输入法</title><link>https://svtter.cn/p/google-chrome%E6%B5%8F%E8%A7%88%E5%99%A8%E8%BE%93%E5%85%A5%E6%B3%95/</link><pubDate>Fri, 29 Jul 2016 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/google-chrome%E6%B5%8F%E8%A7%88%E5%99%A8%E8%BE%93%E5%85%A5%E6%B3%95/</guid><description>&lt;p>最近google推出了个浏览器插件输入法。&lt;/p>
&lt;p>具体的名字是google输入工具：&lt;/p>
&lt;p>&lt;img src="https://svtter.cn/content/images/2016/07/----_20160729132959.png"
loading="lazy"
alt="google输入工具在google商店"
>&lt;/p>
&lt;p>可以在chrome内核的浏览器中使用。唯一的问题是速度有些慢。但是对于许多Linux发行版的使用者来讲，相比一些fcitx和ibus框架给人感觉要好很多。&lt;/p>
&lt;p>fcitx太丑了。配置起来比较麻烦。ibus相对优秀一些，个人感觉。但是对于不同的发行版而讲，配置起来都有一定的难度。这对Linux/PC桌面环境的输入法有一定的改善。&lt;/p>
&lt;p>可以复制粘贴嘛。&lt;/p></description></item><item><title>Android-PC类系统测评</title><link>https://svtter.cn/p/android-pc%E7%B1%BB%E7%B3%BB%E7%BB%9F%E6%B5%8B%E8%AF%84/</link><pubDate>Sun, 03 Jul 2016 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/android-pc%E7%B1%BB%E7%B3%BB%E7%BB%9F%E6%B5%8B%E8%AF%84/</guid><description>&lt;p>也是闲的有点没事情干了才来写这个测评。最近这几天书没有到，视频看的不顺滑，就想要一种沉浸式的OS体验，远离繁杂强大的WIn，但是结果却是让我有些失望。&lt;/p>
&lt;p>说是测评，其实更是吐槽。并不专业。&lt;/p>
&lt;h2 id="remixos">RemixOS
&lt;/h2>&lt;p>首先是remixos。&lt;/p>
&lt;p>remixos整体上做的还是不错的。但是一个非常致命的问题在于屏幕的分辨率太低。字体太不清楚。可能对于其公司本身的产品并不存在这个问题，但是在我自己的机器上进行测试，总是不尽人意。在Linux发行版上，我还可以使用infinality等渲染工具提升字体质量，但是在remixos上，我没有任何办法。优点也是有的，就是对于应用的稳定性做出了很多的努力，应用不容易崩溃。这很难得。VPN用不了。PPTP。设置和PhoenixOS一样，POS就能连接。&lt;/p>
&lt;h2 id="phoenixos">PhoenixOS
&lt;/h2>&lt;p>然后是phoenixos。&lt;/p>
&lt;p>也是基于android x86产品。问题在于应用太容易崩溃。其实崩溃也不是特别大的问题，问题在于崩溃的是桌面环境。这就让人受不了了。因为要使用vpn，导致每次崩溃我重进系统都要重新输入一次PIN。这就相当麻烦了。此外，对我这个渣渣显示屏，没有cleartype这种类似的技术来提升字体渲染质量让我觉得我提前得了老花眼。当然，这个问题remixos的问题更加严重，我怀疑我瞎了。&lt;/p>
&lt;p>对于这些问题我也就是指出来我也不打算反映。因为之前我的反映完全没有得到任何答复。似乎对于我这种用户也是不管不顾，少我一个一点问题也没有。之前反映Busybox的问题没有任何解答其实是可以理解的。毕竟，人家是大公司嘛，总不能每个用户都回复，况且都有7个回复那么多呢。&lt;/p>
&lt;h2 id="总结">总结
&lt;/h2>&lt;p>用词十分激烈，也是表达不满。如果有冒犯，提前说声抱歉。不过骂声也是能够提升质量，您说是不？&lt;/p>
&lt;p>其实我不是十分看好这些PC-android发展。尽管他们可能有内部消息，但是对于我这个没有内部消息的人讲，我觉得，既然chrome已经在整合android了，那么一旦杀手级应用出来，这些pc-android应用的下场势必是悲惨的。当然，防火墙还是会在一定程度上起到保护作用的。但其他的大厂会不会做一个chrome衍生版本出来进一步压榨这些企业的生存空间呢？&lt;/p>
&lt;p>让我们拭目以待。此外，尽管崩溃率比较高，但是我还是看好phoenixOS。不为别的，眼睛相对舒服一些。&lt;/p>
&lt;p>屏幕分辨率1366。是差了点。&lt;/p></description></item><item><title>我们到底想要怎样的笔记应用？</title><link>https://svtter.cn/p/%E6%88%91%E4%BB%AC%E5%88%B0%E5%BA%95%E6%83%B3%E8%A6%81%E6%80%8E%E6%A0%B7%E7%9A%84%E7%AC%94%E8%AE%B0%E5%BA%94%E7%94%A8/</link><pubDate>Sun, 03 Jul 2016 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E6%88%91%E4%BB%AC%E5%88%B0%E5%BA%95%E6%83%B3%E8%A6%81%E6%80%8E%E6%A0%B7%E7%9A%84%E7%AC%94%E8%AE%B0%E5%BA%94%E7%94%A8/</guid><description>&lt;h2 id="前言">前言
&lt;/h2>&lt;p>之前就一直想要写一篇文章谈谈关于笔记应用的问题，但是一直都没有时间去写。对于笔记应用每个人的看法肯定都不一样，我就简单的说说我使用的笔记，以及我简单的吐槽。高能预警，大量吐槽可能引起部分读者的不适。&lt;/p>
&lt;h2 id="正文">正文
&lt;/h2>&lt;p>我使用过很多的笔记应用。目前而言，如果没有特殊的需求我觉得有几个问题是不用考虑的：&lt;/p>
&lt;ol>
&lt;li>
&lt;p>流量的问题。对于学生身份一般不会出现流量的问题，除非你特别极其喜欢使用大量的图片来记录。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>费用问题。一般只要没有特殊需求，介绍的笔记应用都是免费的。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>多平台使用，即手机使用桌面使用，以及同步的问题。我所介绍的笔记应用基本均为全平台，如果不是我会特别指出。&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>有几个问题则是必须重视的：&lt;/p>
&lt;ol>
&lt;li>
&lt;p>笔记的安全性&lt;/p>
&lt;/li>
&lt;li>
&lt;p>笔记应用的稳定性&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>下面直接按照小标题来介绍我的感觉。&lt;/p>
&lt;h3 id="印象笔记">印象笔记
&lt;/h3>&lt;p>印象笔记是很多人都推崇的笔记应用，但是就我个人而言我并不喜欢。因为不支持&lt;a class="link" href="markdown%e6%98%af%e4%b8%80%e7%a7%8d%e5%8f%af%e4%bb%a5%e9%80%9a%e8%bf%87%e7%ae%80%e5%8d%95%e6%a0%87%e8%ae%b0%e6%9d%a5%e7%94%9f%e6%88%90%e6%98%93%e8%af%bb%e6%8e%92%e7%89%88%e7%9a%84%e6%a0%87%e5%87%86%ef%bc%8c%e5%8f%af%e4%bb%a5%e5%be%88%e8%bd%bb%e6%9d%be%e7%9a%84%e5%ad%a6%e4%bc%9a%ef%bc%8c%e5%af%b9%e4%ba%8e%e5%bf%ab%e9%80%9f%e7%ac%94%e8%ae%b0%e4%bb%a5%e5%8f%8a%e6%95%b4%e7%90%86%e6%80%9d%e8%b7%af%e5%85%b7%e6%9c%89%e5%be%88%e5%a5%bd%e7%9a%84%e6%95%88%e6%9e%9c" >markdown&lt;/a>这种格式进行笔记。如果想要使用markdown，需要借助许多第三方的应用，无疑增加了负担。此外，我也不喜欢它的交互方式，以及卡顿的客户端。&lt;/p>
&lt;p>当然这些缺点并不阻碍他成为目前最受欢迎的笔记应用之一。印象笔记具有非常优秀的协作功能，以及大量的插件，可以满足许多要求，比如保存当前网页到笔记，使用微信将喜欢的文章推送到笔记，以及微博上的@保存到我的印象笔记，等等。&lt;/p>
&lt;p>因为客户端太慢，再一个原因就是交互设计让我很不舒服，没有效率感。如果我想要找到一篇笔记我需要点击屏幕好多下，从而让我这个没有耐心的人感觉十分反感。如果这些问题不是问题，或者感觉这些问题可能并非我所说的那样，那么完全可以使用看看。&lt;/p>
&lt;h3 id="有道云笔记">有道云笔记
&lt;/h3>&lt;p>有道云笔记网易作品。我并不喜欢他的交互。最大的问题就是广告。广告令我相当的不愉快。我不知道是不是我购买了Vip就可以去掉广告，但是在我购买vip之前已经恶心到我了，所以我并不打算继续购买。现在都喜欢推行的协作，以及等等功能均是齐备。因为有一段时间没有使用，我不记得存在流量限制的问题。&lt;/p>
&lt;p>如果能够忍受广告以及难以企及云音乐的UI，可以一试。最近的一次改版并没有让我觉得好用多少。&lt;/p>
&lt;p>自然问题归问题，但是没有许多很大的毛病。&lt;/p>
&lt;h3 id="为知笔记">为知笔记
&lt;/h3>&lt;p>这个笔记应用知道的可能不是特别多，但是也还算是好用。支持markdown。本身也是一个部分开源（开放源代码）的笔记应用。网页版的为知笔记对于糟糕分辨率的屏幕没有一点点照顾，让人感觉像是提前得了老花眼一样，字体渲染做的太差。&lt;/p>
&lt;p>iOS版本的为知笔记一个很大的问题就是打开客户端的速度实在是太慢了。此外，输入文字的时候键盘不跟着光标移动，非常影响体验。反馈的问题拖了很久也没有修复。因此尽管使用了一段时间，但还是放弃了。&lt;/p>
&lt;h3 id="leanote">Leanote
&lt;/h3>&lt;p>一个轻笔记，个人感觉最大的买点在于可以将书写的笔记公开为博客展示。此外，支持markdown以及自定义主题。对于多平台的支持还算良好。&lt;/p>
&lt;p>而问题在于，主题偏少，以及同步没有做好。如果更换笔记分类或者修改笔记名称可能会造成丢笔记的问题！着实大问题，不推荐使用，仅仅是在此说明一下。丢笔记问题，是最大的问题。&lt;/p>
&lt;h3 id="百度笔记">百度笔记
&lt;/h3>&lt;p>好像有这么个东西？百度的东西都不推荐。&lt;/p>
&lt;h3 id="onenote">Onenote
&lt;/h3>&lt;p>写软文是不给钱的。但是用了这么多的笔记应用，最后还是推OneNote。&lt;/p>
&lt;p>OneNote的分类我觉得是做的最好的，多平台问题也完全不用担心，因为是微软出品，值得信赖。此外，在windows10安装好以后就自带了OneNote应用，如果在手机上下载了OneNote，同步完全没有问题。笔记的排版等非常的自由，可以随心安排。如果在手机上不满意，可以使用电脑继续编辑。当然，这个优点在以上的笔记中都存在，但是真正做到“自由”排版的，只有OneNote。想想使用过的word的吧。&lt;/p>
&lt;p>OneNote也是不支持markdown的，但是并不使人厌烦。写好的文章完全可以使用一些转换工具复制粘贴，OneNote会自动识别格式。此外，笔记转代办，代办转为笔记这些功能也是十分的人性化。至于绘图之类的功能，不应该是笔记天生就有的吗？&lt;/p>
&lt;h3 id="题外话orgmode">题外话：orgmode
&lt;/h3></description></item><item><title>毕业一记</title><link>https://svtter.cn/p/%E6%AF%95%E4%B8%9A%E4%B8%80%E8%AE%B0/</link><pubDate>Wed, 29 Jun 2016 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E6%AF%95%E4%B8%9A%E4%B8%80%E8%AE%B0/</guid><description>&lt;p>那两天腾讯云来了个提醒，恭喜您毕业了，我们不给您发服务器补贴了。第一年考研不够顺利，杂事太多，心智也不够成熟，自制力的问题。（具体我已经不记得自己是否有过总结原因，如果总结过了，这个时候已经挂一下在这里的链接才是）&lt;/p>
&lt;h2 id="感触">感触
&lt;/h2>&lt;p>已经很久没有更新自己的博客了，因为不知道说什么好。也很久没有github上瞎做些东西。有点被吓到的感觉。写文章总得构思点什么，有点篇幅，那才叫做文章。可是似乎也没有什么多说的。我这个人，不是很容易动感情的，总是觉得也就是那么回事。只有触了真正的景，才会有所感觉。&lt;/p>
&lt;p>就比如现在，不会很思念大学的那些个同学们，菜狗们。但是指不定某个时刻就突然想起来了。然后也不顾被我私念的那个人的感觉，尽情的骚扰。我这个人也是没啥良心可言的，总是认真一段时间就混日子，可能被打击，可能是本身懈怠了，就不干了。这样很不好，就如周老师所言，坐不住。&lt;/p>
&lt;p>对坐不住这个事情可以大谈特谈一些。仔细想想自己还真是有些坐不住，做事情呢，也没有特别的计划章法。尽管总是跟别人扯什么计划，但是自己实施起来却总有些难度。其实最有干劲的那一刻就是制定完计划的那一刻，这在自控力一书中说道，这是一种错误的满足感，感觉自己好像做了什么好事，有意义的事情，觉得自己需要得到相应的奖励。&lt;/p>
&lt;p>其实挺蠢的一事，但是总是难免陷入这种恶性规律。&lt;/p>
&lt;h2 id="技术">技术
&lt;/h2>&lt;p>技术方面，还是应该保证自己能够认认真真的做一个东西，不然，想这个想那个，还是哪个东西都做不了，做不成。既然这样，目前最大的愿望，就是用js开发点东西。因为比较喜欢WEB应用，目前Python学的有些东西，但是js不熟悉的话，总感觉也不是那么回事。总是想自己做点有趣的东西。前一段时间跟着肖老师做了点东西，但是一直也是没有付诸真正的实践。就所谓正式进入考研状态而言，也是没有几天了。&lt;/p>
&lt;p>现在从基础而言，就还差编译原理差些火候了。这几天打算把编译原理搞一搞，做点东西。也有js。就当作是娱乐活动了。此外还有健身什么的。健身就是锻炼锻炼，也不算是坐不住，分心吧。再仔细想想，好像除了LOL，Dota这些个MOBA，我坚持最长时间的就是健身了。尽管时断时续，此外练得也不是很认真，但是起码我的腰比较当年已经好了太多太多了，这就是收货吧。&lt;/p>
&lt;h2 id="关于考研">关于考研
&lt;/h2>&lt;p>现在已经是6.29号了。之前的时间算是浪费的差不多了。这里就不细细的去写了，似乎不属于这部分的内容，应该另外拿出一篇文章。&lt;/p></description></item><item><title>近期阅读</title><link>https://svtter.cn/p/%E8%BF%91%E6%9C%9F%E9%98%85%E8%AF%BB/</link><pubDate>Fri, 03 Jun 2016 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E8%BF%91%E6%9C%9F%E9%98%85%E8%AF%BB/</guid><description>&lt;ul>
&lt;li>&lt;a class="link" href="http://www.ruanyifeng.com/blog/2016/05/time-management.html" target="_blank" rel="noopener"
>时间管理七句话&lt;/a>&lt;/li>
&lt;li>4点起床&lt;/li>
&lt;/ul></description></item><item><title>Windows使用Linux虚拟机作为开发环境</title><link>https://svtter.cn/p/windows%E4%BD%BF%E7%94%A8linux%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%BD%9C%E4%B8%BA%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/</link><pubDate>Mon, 02 May 2016 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/windows%E4%BD%BF%E7%94%A8linux%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%BD%9C%E4%B8%BA%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/</guid><description>&lt;p>我的环境：ubuntu server 14.04，有2个网卡，eth1是能上外网的地址，配置了ip，网关，mask，&lt;/p>
&lt;p>eth0是为内网提供各种服务，比如pppoe, dhcp，只配置了ip和mask。&lt;/p>
&lt;p>根据之前的文章（http://blog.chinaunix.net/uid-563939-id-4340396.html），pppoe客户端已经能够能获取到地址，掩码，网关和DNS，&lt;/p>
&lt;p>但是此时客户端是不能上网的，还需要对ubuntu server做如下配置：&lt;/p>
&lt;p>1、打开ip_forward&lt;/p>
&lt;p>临时打开：echo “1”&amp;gt;/proc/sys/net/ipv4/ip_forward&lt;/p>
&lt;p>永久打开：修改/etc/sysctl.conf，取消这一行的注释：net.ipv4.ip_forward= 1， 然后运行sysctl -p使之立即生效。&lt;/p>
&lt;p>2、增加nat&lt;/p>
&lt;p>iptables -t nat -A　POSTROUTING -o eth1 -j SNAT –to-source xxx.xxx.xxx.xxx (xxx.xxx.xxx.xxx为能够上外网的网卡ip)&lt;/p>
&lt;blockquote>
&lt;p>以上内容为转载，转载地址&lt;/p>&lt;/blockquote>
&lt;p>因为赛尔网不能使用&lt;code>Linux&lt;/code>客户端，但是许多开发等均建立在Linux的基础上 — 为此十分痛苦，于是使用虚拟机来使用Linux，但是双网卡配置方面出了一些问题，于是参照了上面的文章。&lt;/p></description></item><item><title>Friend links</title><link>https://svtter.cn/p/friend-links/</link><pubDate>Fri, 29 Apr 2016 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/friend-links/</guid><description>&lt;ul>
&lt;li>&lt;a class="link" href="http://kinice.top" target="_blank" rel="noopener"
>http://kinice.top&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="http://www.fddcn.cn/" target="_blank" rel="noopener"
>http://www.fddcn.cn/&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Github 使用方法</title><link>https://svtter.cn/p/github-%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/</link><pubDate>Wed, 27 Apr 2016 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/github-%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/</guid><description>&lt;h2 id="显示部分指定代码">显示部分指定代码
&lt;/h2>&lt;p>&lt;a class="link" href="https://github.com/django/django/blob/1.9/django/contrib/auth/views.py#L57-L93" target="_blank" rel="noopener"
>https://github.com/django/django/blob/1.9/django/contrib/auth/views.py#L57-L93&lt;/a>&lt;/p>
&lt;p>在指定代码后添加&lt;code>#L57-L93&lt;/code>以此来指定高亮特殊位置&lt;/p>
&lt;h2 id="利用gist贴代码">利用gist贴代码
&lt;/h2>&lt;p>具体见 &lt;a class="link" href="https://gist.github.com" target="_blank" rel="noopener"
>https://gist.github.com&lt;/a>&lt;/p>
&lt;p>问题是国内如果没翻墙就看不见了。&lt;/p>
&lt;h2 id="使用issue作为个人博客">使用issue作为个人博客
&lt;/h2>&lt;p>可以利用 &lt;code>user.github.io&lt;/code>代码库的&lt;code>issue&lt;/code>作为自己的个人博客，信息发布的渠道&lt;/p></description></item><item><title>Python on Windows</title><link>https://svtter.cn/p/python-on-windows/</link><pubDate>Wed, 27 Apr 2016 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/python-on-windows/</guid><description>&lt;p>在Windows上使用Python总会有这样或者那样的坑等着我们去踩。&lt;/p>
&lt;h2 id="pip问题">pip问题
&lt;/h2>&lt;p>如果安装了两个版本的python，例如python3.5和python2.7，悲剧就发生了。除非每次都使用pip –no-cache来解决缓存问题，否则pip2可能会使用pip3的缓存，导致软件包出现稀奇的问题。&lt;/p>
&lt;p>最好的解决方案是使用virtualenv来创建一个虚拟环境。安装virtualenv的方法很多，不再详谈。&lt;/p>
&lt;ul>
&lt;li>有些人使用windows下的git-bash做一些操作，但是也是十分蛋疼的，git-bash这个高科技的东西，本身是在windows下运行，但是拥有bash的特性，查安装文档的时候，容易出现很多问题。本身使用的Python.exe，但是却要使用sh那一套东西，中间会不会出问题？&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>后来尝试了一下bash里面的东西，感觉还行。&lt;/p>&lt;/blockquote>
&lt;ul>
&lt;li>一般Python文档所说的windows，应该是根据cmd的。但是Powershell这个windows的终端，居然不支持ftype这一类的cmd可用命令，造成又一层的不兼容。着实令人心烦。当然，我也没有深究这个问题，因为碰上一个问题就深究下去，而且深究的意义不是很大，我认为是很浪费时间的。&lt;/li>
&lt;/ul>
&lt;p>补充：windows下的Powershell抑或bash，可以利用MinGW来区分。但是往往文档中没有特别表明出来。&lt;/p>
&lt;h2 id="一些编码问题">一些编码问题
&lt;/h2>&lt;p>主要就是&lt;code>utf-8&lt;/code>的bom的问题。这个问题纯属M$想多了，导致各种讨厌的不兼容，最常见的出错。&lt;/p>
&lt;h2 id="终极解决方案">终极解决方案
&lt;/h2>&lt;p>不要在Windows上使用Python，如果非常想要这么做，建议安装一个虚拟机，然后使用ssh连接到虚拟机上进行开发。使用桥接网卡，和NAT转接，保证联网。&lt;/p>
&lt;p>现在再次修订一下，我现在认为，最佳的解决方案是，使用ssh链接到阿里云或者腾讯云使用。使用neovim+tmux+ipython来书写调试代码，效果非常。&lt;/p></description></item><item><title>那些年我所用过的博客</title><link>https://svtter.cn/p/%E9%82%A3%E4%BA%9B%E5%B9%B4%E6%88%91%E6%89%80%E7%94%A8%E8%BF%87%E7%9A%84%E5%8D%9A%E5%AE%A2/</link><pubDate>Sat, 23 Apr 2016 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E9%82%A3%E4%BA%9B%E5%B9%B4%E6%88%91%E6%89%80%E7%94%A8%E8%BF%87%E7%9A%84%E5%8D%9A%E5%AE%A2/</guid><description>&lt;p>用过的博客数不胜数，丢掉的博文也是数不过来，在这里自己做一下总结，也是防止自己忘记之前使用过的那些个博客服务。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>博客名&lt;/th>
&lt;th>域名&lt;/th>
&lt;th>使用时间&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>CSDN&lt;/td>
&lt;td>&lt;a class="link" href="http://blog.csdn.net/svitter" target="_blank" rel="noopener"
>http://blog.csdn.net/svitter&lt;/a>&lt;/td>
&lt;td>2012 – 2014&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>博客园&lt;/td>
&lt;td>&lt;a class="link" href="http://www.cnblogs.com/svitter" target="_blank" rel="noopener"
>http://www.cnblogs.com/svitter&lt;/a>&lt;/td>
&lt;td>2012 – 至今&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>github.io&lt;/td>
&lt;td>&lt;a class="link" href="http://svtter.github.io" target="_blank" rel="noopener"
>http://svtter.github.io&lt;/a>&lt;/td>
&lt;td>2014 – 至今&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Leanote&lt;/td>
&lt;td>&lt;a class="link" href="http://svtter.leanote.com" target="_blank" rel="noopener"
>http://svtter.leanote.com&lt;/a>&lt;/td>
&lt;td>2014 – 至今&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>wordpress&lt;/td>
&lt;td>缺失&lt;/td>
&lt;td>不记得了&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>awesome-python-web&lt;/td>
&lt;td>http://139.129.6.1&lt;/td>
&lt;td>2016 – 至今&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>博客用的很多，其中 csdn 是最一开始使用的，但是因为 csdn 所支持的功能太少，尽管社区很大，但是感觉并不快乐，限制也比较多，不如自己建一个站来的舒服。博客园混了一段时间，也是不想自己写一个前端，而且好像已经很久没有更新什么东西了= =。github 静态页面生成 &amp;ndash; 我是使用的 hexo，但是也不是很方便，感觉速度比较慢，写的时候也不是很自在。至于 pelican 那些，没有怎么使用，因为不是很流行，主题还要自己写，于是也是放弃了。awesome-python-webapp 主要是用来练手的，后续的很多东西都没有跟上，于是也就放弃了。&lt;/p>
&lt;p>所以感觉还是 ghost 比较好用。之前的文章也是挺多，如果愿意，可以从那边读。质量不是很高。尽管现在也不是很高。一闪而过我好像还有个 blog，但是现在记不得了。leanote 放弃的原因是 web 与 iOSapp 同步做的不是很好，切换目录以后目录仍然存在，我删掉原来的目录，发现我已经转移的博文也不见了，顿时心中悲痛不已，连报 bug 的心情都没有了，发誓再也不去碰这个东西 —— 当然， 没准以后发展的不错了，还是会用的。&lt;/p>
&lt;h2 id="博客的部署">博客的部署
&lt;/h2>&lt;p>自己建立博客的问题就在于维护。本身希望直接使用一个 VPS 作为开发机，什么代码工程都放在 vps 上面，但是后续发现不太符合实际。因为本身做的一些东西扔在服务器上跑，怕负载太重，或者出什么差错，导致博客也跟着一起挂掉。虽然可能博客并没有什么访问量 2333。有时间应该做一个流量统计的东西挂在页面上。&lt;/p>
&lt;p>但这个事情也是有些纠结的，因为本身我也不知道自己究竟喜欢哪个方向，但是朝着一个方向干总觉有些无聊。诚然，比不干自然是好很多。&lt;/p></description></item><item><title>Ghost – wonderful things</title><link>https://svtter.cn/p/ghost-wonderful-things/</link><pubDate>Tue, 19 Apr 2016 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/ghost-wonderful-things/</guid><description>&lt;p>今天一时兴起想使用主机部署Ghost，但是由于主机不能直接部署daocloud的镜像，于是另做决定，尝试一下直接使用docker，结果发现：&lt;/p>
&lt;blockquote>
&lt;p>太棒了！这简直是我梦寐以求的！ –沃·兹基硕德&lt;/p>&lt;/blockquote>
&lt;p>部署也是十分的方便，简直不敢相信。此外，居然有我想要的iOS-app，简直不能忍。&lt;/p>
&lt;h2 id="ghost是什么">Ghost是什么
&lt;/h2>&lt;p>一个博客平台，号称干死WordPress&lt;/p>
&lt;h2 id="如何部署">如何部署
&lt;/h2>&lt;blockquote>
&lt;p>也算是给daocloud写一个广告文了。docker真是好啊。&lt;/p>&lt;/blockquote>
&lt;p>登陆 &lt;a class="link" href="https://www.daocloud.io/" target="_blank" rel="noopener"
>https://www.daocloud.io/&lt;/a> 注册一个daocloud账号，然后绑定微信 — 这样你就有了&lt;strong>三个容器&lt;/strong>，其中两个我们用于部署ghost，一个用来作为volume（一个分布式存储，用来保存生成的文件，例如主题等）。&lt;/p>
&lt;ol>
&lt;li>
&lt;p>首先我们先配置一下volume，命名为ghost-disk —— 当然，名称并不重要，我想10G的空间应该也不会完全用于ghost的静态文件。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>部署新的代码。首先打开应用列表-&amp;gt;创建应用-&amp;gt;daocloud镜像-&amp;gt;ghost。&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>然后看这里就可以了2333 &lt;a class="link" href="https://dashboard.daocloud.io/packages/3a8d7db6-86c6-4ce3-8f44-c880d3b56128" target="_blank" rel="noopener"
>https://dashboard.daocloud.io/packages/3a8d7db6-86c6-4ce3-8f44-c880d3b56128&lt;/a>&lt;/p>
&lt;h2 id="添加disqus多说">添加disqus，多说
&lt;/h2>&lt;h2 id="添加toc目录大纲">添加TOC目录大纲
&lt;/h2>&lt;h2 id="分享到微信微博">分享到微信微博
&lt;/h2></description></item><item><title>Emacs洗脑</title><link>https://svtter.cn/p/emacs%E6%B4%97%E8%84%91/</link><pubDate>Wed, 06 Apr 2016 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/emacs%E6%B4%97%E8%84%91/</guid><description>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="c1">;; This gives an introduction to Emacs Lisp in 15 minutes (v0.2d)&lt;/span>
&lt;span class="c1">;;&lt;/span>
&lt;span class="c1">;; 英文原作者: Bastien / @bzg2 / http://bzg.fr&lt;/span>
&lt;span class="c1">;; 中文翻译: iamxuxiao&lt;/span>
&lt;span class="c1">;; &lt;/span>
&lt;span class="c1">;; &lt;/span>
&lt;span class="c1">;; 如何安装 Emacs &lt;/span>
&lt;span class="c1">;; &lt;/span>
&lt;span class="c1">;; Debian: apt-get install emacs (or see your distro instructions)&lt;/span>
&lt;span class="c1">;; MacOSX: http://emacsformacosx.com/emacs-builds/Emacs-24.3-universal-10.6.8.dmg&lt;/span>
&lt;span class="c1">;; Windows: http://ftp.gnu.org/gnu/windows/emacs/emacs-24.3-bin-i386.zip&lt;/span>
&lt;span class="c1">;;&lt;/span>
&lt;span class="c1">;; More general information can be found at:&lt;/span>
&lt;span class="c1">;; http://www.gnu.org/software/emacs/#Obtaining&lt;/span>
&lt;span class="c1">;; 免责声明：&lt;/span>
&lt;span class="c1">;;&lt;/span>
&lt;span class="c1">;; Going through this tutorial won&amp;#39;t damage your computer unless&lt;/span>
&lt;span class="c1">;; you get so angry that you throw it on the floor. In that case,&lt;/span>
&lt;span class="c1">;; I hereby decline any responsability. Have fun!&lt;/span>
&lt;span class="nv">==&lt;/span> &lt;span class="nv">启动Emacs,&lt;/span> &lt;span class="nv">缓冲区和工作模式==&lt;/span>
&lt;span class="c1">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;&lt;/span>
&lt;span class="c1">;; &lt;/span>
&lt;span class="c1">;; 第一步首先启动Emacs: (在windows中可以双击emacs图标，在Linux中可以输入% emacs &amp; )，&lt;/span>
&lt;span class="c1">;; 然后在键盘上键入q 跳过系统欢迎的信息，&lt;/span>
&lt;span class="c1">;; 先观察在Emacs屏幕的底部，会给出一堆关于当前的工作情况的信息，其中灰色的一行叫做状态行，&lt;/span>
&lt;span class="c1">;; 在其中你会发现 *scratch* 的字样，这表示你当前的缓冲区(buffer)的名字。&lt;/span>
&lt;span class="c1">;; 缓冲区也叫做工作区，在Emacs中打开一个文件，实际只是在Emacs中构造该文件的一个副本，放到缓冲区中，&lt;/span>
&lt;span class="c1">;; 在Emacs中对该文件的编辑也是针对该副本的编辑，唯有保存改动时，Emacs才会把缓冲区中的内容在复制到原文件中去。&lt;/span>
&lt;span class="c1">;; 状态行下面的那行，叫做辅助输入区(minibuffer),该minibuffer用于显示计算结果，以及和用户做交互。&lt;/span>
&lt;span class="c1">;;&lt;/span>
&lt;span class="c1">;; &lt;/span>
&lt;span class="c1">;; 如何切换Emacs的工作模式 &lt;/span>
&lt;span class="c1">;; Emacs有各种各样功能各异的模式，工作模式的含义其实就是Emacs对当前的文本编辑工作&lt;/span>
&lt;span class="c1">;; 更加的敏感，比如高亮和缩进，并且支持一些特殊的命令。&lt;/span>
&lt;span class="c1">;; 为了实验本教程中的lisp命令，我们要让Emacs工作在lisp-interaction-mode工作模式下，&lt;/span>
&lt;span class="c1">;; 这个模式可以让我们在缓冲区中和Emacs进行互动，并且直接执行Lisp命令,得到结果。&lt;/span>
&lt;span class="c1">;; 进入lisp-interaction-mode的方法： 把光标移动到辅助输入区，键入M-x lisp-interaction-mode &lt;/span>
&lt;span class="c1">;; 然后回车。&lt;/span>
&lt;span class="nv">==&lt;/span> &lt;span class="nv">表达式&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nv">变量和函数&lt;/span> &lt;span class="nv">==&lt;/span>
&lt;span class="c1">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;&lt;/span>
&lt;span class="c1">;;&lt;/span>
&lt;span class="c1">;; 冒号在Lisp中表示注释&lt;/span>
&lt;span class="c1">;; 在Elisp中做运算，调用函数的最简单的方式是&lt;/span>
&lt;span class="c1">;; (function arg1 arg2) &lt;/span>
&lt;span class="c1">;; 这相当于通常的function(arg1,arg2)，下面的表达式，对两个数字进行加法运算&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nb">+&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">;; Elisp中表达式可以通过括号来嵌套&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nb">+&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nb">+&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="c1">;; 在lisp-interaction-mode模式中，我们可以直接计算一个表达式,计算的方法是&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nb">+&lt;/span> &lt;span class="mi">3&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nb">+&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="c1">;; ^ 把光标放在这里，并且键入Ctrl-j (之后将简写成C-j)&lt;/span>
&lt;span class="c1">;; C-j是一个快捷命令，在后台，该快捷键将调用求值命令，并且把计算的结果&lt;/span>
&lt;span class="c1">;; 插入到当前的缓冲区中&lt;/span>
&lt;span class="c1">;; 如果不希望Emacs在缓冲区中插入计算结果，我们还可以在表达式的末尾使用C-x C-e组合键&lt;/span>
&lt;span class="c1">;; C-x C-e的意思是: 先按下Ctrl-x 再按下Ctrl-e &lt;/span>
&lt;span class="c1">;; 这个命令会让Emacs在辅助缓冲区，也就是Emacs窗口的最底部那行显示计算结果&lt;/span>
&lt;span class="c1">;; ELisp中的赋值函数是是setq，下面的表达式给变量my-name赋值"Bastien"&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="k">setq&lt;/span> &lt;span class="nv">my-name&lt;/span> &lt;span class="s">"Bastien"&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">;; ^ 把光标停在这里，再键入C-x C-e&lt;/span>
&lt;span class="c1">;; 下面insert函数的作用是在光标所在出插入字符Hello&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">insert&lt;/span> &lt;span class="s">"Hello!"&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">;; ^ 把光标停在这里，再键入C-x C-e&lt;/span>
&lt;span class="c1">;; insert函数还可以两个常量字符，比如&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">insert&lt;/span> &lt;span class="s">"Hello"&lt;/span> &lt;span class="s">" world!"&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">;; insert函数还可以接受变量作为参数，我们之前已经给my-name变量赋过值了&lt;/span>
&lt;span class="c1">;; 所以下面命令的输出结果是 "Hello, I am Bastien"&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">insert&lt;/span> &lt;span class="s">"Hello, I am "&lt;/span> &lt;span class="nv">my-name&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">;; defun命令用来定义一个函数,语法是&lt;/span>
&lt;span class="c1">;; (defun 函数名 (参数列表) (函数体))&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nb">defun&lt;/span> &lt;span class="nv">hello&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">insert&lt;/span> &lt;span class="s">"Hello, I am "&lt;/span> &lt;span class="nv">my-name&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="c1">;; ^ 把光标停在这里，再键入C-x C-e 执行defun命令来定义函数&lt;/span>
&lt;span class="c1">;; 通过defun命令，你已经在Emacs中安装了这个hello函数，这个函数就成为了Emacs的一部分，知道你退出Emacs或者改变hello的定义&lt;/span>
&lt;span class="c1">;; 从下面开始，我们将不再提醒读者使用C-x C-e来定义函数和执行ELisp指令&lt;/span>
&lt;span class="c1">;; 在Elisp中直接输入函数的名称就是调用该函数。&lt;/span>
&lt;span class="c1">;; 下面的命令的输入结果是: Hello, I am Bastien&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">hello&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">;; 前面定义的hello函数不接受任何参数,过于简单，&lt;/span>
&lt;span class="c1">;; 现在我们重新定义hello函数，让它接受一个参数name。 &lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nb">defun&lt;/span> &lt;span class="nv">hello&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">name&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">insert&lt;/span> &lt;span class="s">"Hello "&lt;/span> &lt;span class="nv">name&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="c1">;; 然后调用新的hello函数，并且提供一个参数。&lt;/span>
&lt;span class="c1">;; 下面命令的输出结果是"Hello you"&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">hello&lt;/span> &lt;span class="s">"you"&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nv">==&lt;/span> &lt;span class="nv">progn,let和交互式函数==&lt;/span>
&lt;span class="c1">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;&lt;/span>
&lt;span class="c1">;;&lt;/span>
&lt;span class="c1">;; 执行switch-to-buffer-other-window命令，将在在一个新的窗口中打开一个buffer&lt;/span>
&lt;span class="c1">;; 该buffer命名叫做 test, 并且把光标移到新的buffer的窗口中。&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">switch-to-buffer-other-window&lt;/span> &lt;span class="s">"*test*"&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">;; 要回到原来的buffer中，可以使用鼠标点击原来的buffer&lt;/span>
&lt;span class="c1">;; 或者使用组合键 C-x o &lt;/span>
&lt;span class="c1">;; C-x o的意思是: 先按下Ctrl-x 再按下o&lt;/span>
&lt;span class="c1">;; 如果要执行一系列的指令，可以使用流程函数progn，把函数命令连接起来.&lt;/span>
&lt;span class="c1">;; 下面的命令,先打开一个新的buffer,再执行hello函数，该hello函数的参数是"you"&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="k">progn&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">switch-to-buffer-other-window&lt;/span> &lt;span class="s">"*test*"&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">hello&lt;/span> &lt;span class="s">"you"&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="c1">;; 如果要清空一个buffer,可以调用erase-buffer函数。下面的命令先清空test buffer,再调用hello函数做打印&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="k">progn&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">switch-to-buffer-other-window&lt;/span> &lt;span class="s">"*test*"&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">erase-buffer&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">hello&lt;/span> &lt;span class="s">"there"&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="c1">;; 在这一系列的质量后面再添加调用一个other-window函数，这样在hello函数被调用完毕之后&lt;/span>
&lt;span class="c1">;; 光标自动回到之前的buffer窗口中&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="k">progn&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">switch-to-buffer-other-window&lt;/span> &lt;span class="s">"*test*"&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">erase-buffer&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">hello&lt;/span> &lt;span class="s">"you"&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">other-window&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="c1">;; let函数用来做局部变量的定义 下面的一系列命令中&lt;/span>
&lt;span class="c1">;; let函数首先定义local-name变量的值为“you”&lt;/span>
&lt;span class="c1">;; 然后接着执行括号中其它的语句块部分，这个功能和progn类似&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="k">let&lt;/span> &lt;span class="p">((&lt;/span>&lt;span class="nv">local-name&lt;/span> &lt;span class="s">"you"&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">switch-to-buffer-other-window&lt;/span> &lt;span class="s">"*test*"&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">erase-buffer&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">hello&lt;/span> &lt;span class="nv">local-name&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">other-window&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="c1">;; format函数可以用做格式化的输出 其中%s表示该s的地方将被之后提供的一个字符串,即visitor替换&lt;/span>
&lt;span class="c1">;; \n表示换行&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nb">format&lt;/span> &lt;span class="s">"Hello %s!\n"&lt;/span> &lt;span class="s">"visitor"&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">;; 现在我们利用format函数来改进之前定义的hello函数&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nb">defun&lt;/span> &lt;span class="nv">hello&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">name&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">insert&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nb">format&lt;/span> &lt;span class="s">"Hello %s!\n"&lt;/span> &lt;span class="nv">name&lt;/span>&lt;span class="p">)))&lt;/span>
&lt;span class="c1">;; 执行这个函数结果是"Hello you"，并且光标换到下一行&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">hello&lt;/span> &lt;span class="s">"you"&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">;; 下面我们再设计一个greeting函数，该函数接受一个参数name,&lt;/span>
&lt;span class="c1">;; 在函数体的内部又使用了let函数，给一个局部变量your-name赋值&lt;/span>
&lt;span class="c1">;; 最后把参数和局部变量格式化的打印出来&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nb">defun&lt;/span> &lt;span class="nv">greeting&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">name&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="k">let&lt;/span> &lt;span class="p">((&lt;/span>&lt;span class="nv">your-name&lt;/span> &lt;span class="s">"Bastien"&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">insert&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nb">format&lt;/span> &lt;span class="s">"Hello %s!\n\nI am %s."&lt;/span>
&lt;span class="nv">name&lt;/span>
&lt;span class="nv">your-name&lt;/span> &lt;span class="c1">; 局部变量&lt;/span>
&lt;span class="p">))))&lt;/span>
&lt;span class="c1">;; 执行greeting函数，并提供"you"字符串作为参数&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">greeting&lt;/span> &lt;span class="s">"you"&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">;; read-from-minibuffer函数提供和用户交互的功能，这个函数可以帮助Elisp程序从用户处得到输入&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">read-from-minibuffer&lt;/span> &lt;span class="s">"Enter your name: "&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">;; 比如如果我们希望greeting函数能够从用户处得到姓名，并且做打印格式化的欢迎信息。&lt;/span>
&lt;span class="c1">;; 可以先调用read-from-minibuffer在minibuffer中提示用户输入姓名，&lt;/span>
&lt;span class="c1">;; 然后把得到的结果赋给局部变量your-name，&lt;/span>
&lt;span class="c1">;; 最后insert函数在当前buffer中插入格式化的输出&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nb">defun&lt;/span> &lt;span class="nv">greeting&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">from-name&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="k">let&lt;/span> &lt;span class="p">((&lt;/span>&lt;span class="nv">your-name&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">read-from-minibuffer&lt;/span> &lt;span class="s">"Enter your name: "&lt;/span>&lt;span class="p">)))&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">insert&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nb">format&lt;/span> &lt;span class="s">"Hello!\n\nI am %s and you are %s."&lt;/span>
&lt;span class="nv">from-name&lt;/span> &lt;span class="c1">; 格式化输出参数1&lt;/span>
&lt;span class="nv">your-name&lt;/span> &lt;span class="c1">; 格式化输出参数2&lt;/span>
&lt;span class="p">))))&lt;/span>
&lt;span class="c1">;; 执行这个函数&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">greeting&lt;/span> &lt;span class="s">"Bastien"&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">;; 再稍加改进greeting 把结果打印在新的buffer中&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nb">defun&lt;/span> &lt;span class="nv">greeting&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">from-name&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="k">let&lt;/span> &lt;span class="p">((&lt;/span>&lt;span class="nv">your-name&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">read-from-minibuffer&lt;/span> &lt;span class="s">"Enter your name: "&lt;/span>&lt;span class="p">)))&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">switch-to-buffer-other-window&lt;/span> &lt;span class="s">"*test*"&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">erase-buffer&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">insert&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nb">format&lt;/span> &lt;span class="s">"Hello %s!\n\nI am %s."&lt;/span> &lt;span class="nv">your-name&lt;/span> &lt;span class="nv">from-name&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">other-window&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)))&lt;/span>
&lt;span class="c1">;; 执行这个函数&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">greeting&lt;/span> &lt;span class="s">"Bastien"&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nv">==&lt;/span> &lt;span class="nv">列表和综合实例&lt;/span> &lt;span class="nv">==&lt;/span>
&lt;span class="c1">;; Lisp中使用括号构造列表，使用setq给变量赋值。&lt;/span>
&lt;span class="c1">;; 下面的命令先构造一个列表，再把这个列表赋给list-of-names变量&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="k">setq&lt;/span> &lt;span class="nv">list-of-names&lt;/span> &lt;span class="o">&amp;#39;&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"Sarah"&lt;/span> &lt;span class="s">"Chloe"&lt;/span> &lt;span class="s">"Mathilde"&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="c1">;; ^这里的单引号表示这是一个列表&lt;/span>
&lt;span class="c1">;; 如果想要得到列表中的第一个元素，可以使用car函数&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nb">car&lt;/span> &lt;span class="nv">list-of-names&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">;; 如果想要得到列表中的除第一个元素以外的其它元素，可以使用cdr函数&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nb">cdr&lt;/span> &lt;span class="nv">list-of-names&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">;; 以后push函数可以在列表的头部插入新的元素，所以下面的命令将改变list-of-name中元素的个数&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nb">push&lt;/span> &lt;span class="s">"Stephanie"&lt;/span> &lt;span class="nv">list-of-names&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">;; mapcar函数对列表中的把列表中的每一个元素分别取出来，赋给hello函数&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nb">mapcar&lt;/span> &lt;span class="ss">&amp;#39;hello&lt;/span> &lt;span class="nv">list-of-names&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">;; 重新定义greeting函数，在一个新的，清空的buffer中，对list-of-names列表中的每一个元素，调用hello函数&lt;/span>
&lt;span class="c1">;; 调用完毕之后，再让光标回到原的buffer中&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nb">defun&lt;/span> &lt;span class="nv">greeting&lt;/span> &lt;span class="p">()&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">switch-to-buffer-other-window&lt;/span> &lt;span class="s">"*test*"&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">erase-buffer&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nb">mapcar&lt;/span> &lt;span class="ss">&amp;#39;hello&lt;/span> &lt;span class="nv">list-of-names&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">other-window&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="c1">;;执行这个函数，我们将得到一个名叫test的buffer，其中的内容是&lt;/span>
&lt;span class="c1">;; Hello Stephanie!&lt;/span>
&lt;span class="c1">;; Hello Sarah!&lt;/span>
&lt;span class="c1">;; Hello Chloe!&lt;/span>
&lt;span class="c1">;; Hello Mathilde!&lt;/span>
&lt;span class="c1">;; 暂时先不要关闭这个buffer!后面还有用！ &lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">greeting&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">;; 下面我们对buffer做一些更有意思的事情！&lt;/span>
&lt;span class="c1">;; 定义一个replace-hello-by-bonjour函数，顾名思义，就是把hello替换成bonjour&lt;/span>
&lt;span class="c1">;; 该函数首先把光标移到一个叫做test的buffer中&lt;/span>
&lt;span class="c1">;; 再把光标移到该buffer的开头&lt;/span>
&lt;span class="c1">;; 从头开始搜索字符串Hello,并且替换成Bonjour&lt;/span>
&lt;span class="c1">;; 结束之后在把光标移会到一开始的buffer中。&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nb">defun&lt;/span> &lt;span class="nv">replace-hello-by-bonjour&lt;/span> &lt;span class="p">()&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">switch-to-buffer-other-window&lt;/span> &lt;span class="s">"*test*"&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">goto-char&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">point-min&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="c1">;该函数把光标移到buffer的开头&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">search-forward&lt;/span> &lt;span class="s">"Hello"&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">replace-match&lt;/span> &lt;span class="s">"Bonjour"&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">other-window&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="c1">;; 其中 (search-forward "Hello") 在当前的buffer中做前向搜索&lt;/span>
&lt;span class="c1">;; (while x y) 当x 的条件满足时执行y指令 ，当x返回nil时，while循环结束&lt;/span>
&lt;span class="c1">;; 执行这个函数 替换test buffer中的hello&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">replace-hello-by-bonjour&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">;; test buffer中的结果如下&lt;/span>
&lt;span class="c1">;; Bonjour Stephanie!&lt;/span>
&lt;span class="c1">;; Bonjour Sarah!&lt;/span>
&lt;span class="c1">;; Bonjour Chloe!&lt;/span>
&lt;span class="c1">;; Bonjour Mathilde!&lt;/span>
&lt;span class="c1">;; 在minibuff中，还会有一条错误信息 "Search failed: Hello".&lt;/span>
&lt;span class="c1">;; 把(search-forward "Hello")一句换成如下就不会有错误信息了&lt;/span>
&lt;span class="c1">;; (search-forward "Hello" nil t)&lt;/span>
&lt;span class="c1">;; 其中 nil参数表示 搜索的区域不加限制，直到buffer结束&lt;/span>
&lt;span class="c1">;; 其中t参数指示search-foward函数 跳过错误信息 直接退出&lt;/span>
&lt;span class="c1">;; 新hello-to-bonjour如下：&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nb">defun&lt;/span> &lt;span class="nv">hello-to-bonjour&lt;/span> &lt;span class="p">()&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">switch-to-buffer-other-window&lt;/span> &lt;span class="s">"*test*"&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">erase-buffer&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">;; 对list-of-names列表中的每个元素 使用hello函数&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nb">mapcar&lt;/span> &lt;span class="ss">&amp;#39;hello&lt;/span> &lt;span class="nv">list-of-names&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">goto-char&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">point-min&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="c1">;; 搜索Hello替换成Bonjour&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">search-forward&lt;/span> &lt;span class="s">"Hello"&lt;/span> &lt;span class="no">nil&lt;/span> &lt;span class="no">t&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">replace-match&lt;/span> &lt;span class="s">"Bonjour"&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">other-window&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="c1">;; 执行这个函数&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">hello-to-bonjour&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">;; 下面的boldify-names 函数 ，&lt;/span>
&lt;span class="c1">;; 首先把光标挪到名叫test的buffer的开头，&lt;/span>
&lt;span class="c1">;; 然后使用regular expression 搜索 “Bonjour + 其它任何内容” 的pattern，&lt;/span>
&lt;span class="c1">;; 然后对找到的字符加粗。 &lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nb">defun&lt;/span> &lt;span class="nv">boldify-names&lt;/span> &lt;span class="p">()&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">switch-to-buffer-other-window&lt;/span> &lt;span class="s">"*test*"&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">goto-char&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">point-min&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">re-search-forward&lt;/span> &lt;span class="s">"Bonjour \\(.+\\)!"&lt;/span> &lt;span class="no">nil&lt;/span> &lt;span class="no">t&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">add-text-properties&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nv">match-beginning&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">;返回匹配模式中，最先匹配的位置&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">match-end&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">;返回最后匹配的位置&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nb">list&lt;/span> &lt;span class="ss">&amp;#39;face&lt;/span> &lt;span class="ss">&amp;#39;bold&lt;/span>&lt;span class="p">)))&lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">other-window&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="c1">;; 执行这个函数 &lt;/span>
&lt;span class="p">(&lt;/span>&lt;span class="nv">boldify-names&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nv">==&lt;/span> &lt;span class="nv">帮助和参考==&lt;/span>
&lt;span class="c1">;; 在Emacs中我们可以通过如下的方式得到变量和函数的帮助信息&lt;/span>
&lt;span class="c1">;; C-h v a-variable RET&lt;/span>
&lt;span class="c1">;; C-h f a-function RET&lt;/span>
&lt;span class="c1">;;&lt;/span>
&lt;span class="c1">;; 下面的命令将打开整个Emacs Manual&lt;/span>
&lt;span class="c1">;;&lt;/span>
&lt;span class="c1">;; C-h i m elisp RET&lt;/span>
&lt;span class="c1">;;&lt;/span>
&lt;span class="c1">;; Emacs Lisp 教程&lt;/span>
&lt;span class="c1">;; https://www.gnu.org/software/emacs/manual/html_node/eintr/index.html&lt;/span>
&lt;span class="c1">;; Thanks to these people for their feedback and suggestions:&lt;/span>
&lt;span class="c1">;; - Wes Hardaker&lt;/span>
&lt;span class="c1">;; - notbob&lt;/span>
&lt;span class="c1">;; - Kevin Montuori&lt;/span>
&lt;span class="c1">;; - Arne Babenhauserheide&lt;/span>
&lt;span class="c1">;; - Alan Schmitt&lt;/span>
&lt;span class="c1">;; - LinXitoW&lt;/span>
&lt;span class="c1">;; - Aaron Meurer&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>傻瓜函数式编程</title><link>https://svtter.cn/p/%E5%82%BB%E7%93%9C%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/</link><pubDate>Wed, 30 Mar 2016 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%82%BB%E7%93%9C%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/</guid><description>&lt;p>这篇文章是转载的，讲的如何进行函数式编程。&lt;/p>
&lt;h1 id="傻瓜函数式编程">傻瓜函数式编程
&lt;/h1>&lt;p>2006年6月19日，星期一&lt;/p>
&lt;h3 id="开篇">开篇
&lt;/h3>&lt;p>我们这些码农做事都是很拖拉的。每天例行报到后，先来点咖啡，看看邮件还有RSS订阅的文章。然后翻翻新闻还有那些技术网站上的更新，再过一遍编程论坛口水区里那些无聊的论战。最后从头把这些再看一次以免错过什么精彩的内容。然后就可以吃午饭了。饭饱过后，回来盯着IDE发一会呆，再看看邮箱，再去搞杯咖啡。光阴似箭，可以回家了……&lt;/p>
&lt;p>（在被众人鄙视之前）我唯一想说的是，在这些拖拉的日子里总会时不时读到一些&lt;a class="link" href="http://www.baike.com/wiki/%E4%B8%8D%E6%98%8E%E8%A7%89%E5%8E%89" target="_blank" rel="noopener"
>不明觉厉&lt;/a>的文章。如果没有打开不应该打开的网站，每隔几天你都可以看到至少一篇这样的东西。它们的共性：难懂，耗时，于是这些文章就慢慢的堆积成山了。很快你就会发现自己已经累积了一堆的收藏链接还有数不清的PDF文件，此时你只希望隐入一个杳无人烟的深山老林里什么也不做，用一年半载好好的消化这些私藏宝贝。当然，我是说最好每天还是能有人来给送吃的顺带帮忙打扫卫生倒垃圾，哇哈哈。&lt;/p>
&lt;p>我不知道你都收藏了些什么，我的阅读清单里面相当大部分都是函数式编程相关的东东：基本上是最难啃的。这些文章充斥着无比枯燥的教科书语言，我想就连那些在华尔街浸淫10年以上的大牛都无法搞懂这些函数式编程（简称FP）文章到底在说什么。你可以去花旗集团或者德意志银行找个项目经理来问问&lt;sup>1&lt;/sup>：你们为什么要选JMS而不用Erlang？答案基本上是：我认为这个学术用的语言还无法胜任实际应用。可是，现有的一些系统不仅非常复杂还需要满足十分严苛的需求，它们就都是用函数式编程的方法来实现的。这，就说不过去了。&lt;/p>
&lt;p>关于FP的文章确实比较难懂，但我不认为一定要搞得那么晦涩。有一些历史原因造成了这种知识断层，可是FP概念本身并不难理解。我希望这篇文章可以成为一个“FP入门指南”，帮助你从&lt;a class="link" href="http://zh.wikipedia.org/zh/%E6%8C%87%E4%BB%A4%E5%BC%8F%E7%B7%A8%E7%A8%8B" target="_blank" rel="noopener"
>指令式编程&lt;/a>走向&lt;a class="link" href="http://zh.wikipedia.org/zh/%E5%87%BD%E6%95%B8%E7%A8%8B%E5%BC%8F%E8%AA%9E%E8%A8%80" target="_blank" rel="noopener"
>函数式编程&lt;/a>。先来点咖啡，然后继续读下去。很快你对FP的理解就会让同事们刮目相看了。&lt;/p>
&lt;p>什么是函数式编程（Functional Programming，FP）？它从何而来？可以吃吗？倘若它真的像那些鼓吹FP的人说的那么好，为什么实际应用中那么少见？为什么只有那些在读博士的家伙想要用它？而最重要的是，它母亲的怎么就那么难学？那些所谓的closure、continuation，currying，lazy evaluation还有no side effects都是什么东东（译者：本着保留专用术语的原则，此处及下文类似情形均不译）？如果没有那些大学教授的帮忙怎样把它应用到实际工程里去？为什么它和我们熟悉的万能而神圣的指令式编程那么的不一样？&lt;/p>
&lt;p>我们很快就会解开这些谜团。刚才我说过实际工程和学术界之间的知识断层是有其历史原因的，那么就先让我来解释一下这个问题。答案，就在接下来的一次公园漫步中：&lt;/p>
&lt;h3 id="公园漫步">公园漫步
&lt;/h3>&lt;p>时间机器启动……我们来到公元前380年，也就是2000多年前的雅典城外。这是一个阳光明媚的久违的春天，&lt;a class="link" href="http://zh.wikipedia.org/zh/%E6%9F%8F%E6%8B%89%E5%9B%BE" target="_blank" rel="noopener"
>柏拉图&lt;/a>和一个帅气的小男仆走在一片橄榄树荫下。他们正准备前往一个学院。天气很好，吃得很饱，渐渐的，两人的谈话转向了哲学。&lt;/p>
&lt;p>“你看那两个学生，哪一个更高一些？”，柏拉图小心的选择用字，以便让这个问题更好的引导眼前的这个小男孩。&lt;/p>
&lt;p>小男仆望向水池旁边的两个男生，“他们差不多一样高。”。&lt;/p>
&lt;p>“‘差不多一样高’是什么意思？”柏拉图问。&lt;/p>
&lt;p>“嗯……从这里看来他们是一样高的，但是如果走近一点我肯定能看出差别来。”&lt;/p>
&lt;p>柏拉图笑了。他知道这个小孩已经朝他引导的方向走了。“这么说来你的意思是世界上没有什么东西是完全相同的咯？”&lt;/p>
&lt;p>思考了一会，小男孩回答：“是的。万物之间都至少有一丁点差别，哪怕我们无法分辨出来。”&lt;/p>
&lt;p>说到点子上了！“那你说，如果世界上没有什么东西是完全相等的，你怎么理解‘完全相等’这个概念？”&lt;/p>
&lt;p>小男仆看起来很困惑。“这我就不知道了。”&lt;/p>
&lt;p>这是人类第一次试图了解数学的本质。柏拉图认为我们所在的世界中，万事万物都是完美模型的一个近似。他同时意识到虽然我们不能感受到完美的模型，但这丝毫不会阻止我们了解完美模型的概念。柏拉图进而得出结论：完美的数学模型只存在于另外一个世界，而因为某种原因我们却可以通过联系着这两个世界的一个纽带来认识这些模型。一个简单的例子就是完美的圆形。没有人见过这样的一个圆，但是我们知道怎样的圆是完美的圆，而且可以用公式把它描述出来。&lt;/p>
&lt;p>如此说来，什么是数学呢？为什么可以用数学法则来描述我们的这个宇宙？我们所处的这个世界中万事万物都可以用数学来描述吗？&lt;sup>2&lt;/sup>&lt;/p>
&lt;p>数理哲学是一门很复杂的学科。它和其他多数哲学一样，更着重于提出问题而不是给出答案。数学就像拼图一样，很多结论都是这样推导出来的：先是确立一些互不冲突的基础原理，以及一些操作这些原理的规则，然后就可以把这些原理以及规则拼凑起来形成新的更加复杂的规则或是定理了。数学家把这种方法称为“形式系统”或是“演算”。如果你想做的话，可以用形式系统描述俄罗斯方块这个游戏。而事实上，俄罗斯方块这个游戏的实现，只要它正确运行，就是一个形式系统。只不过它以一种不常见的形式表现出来罢了。&lt;/p>
&lt;p>如果&lt;a class="link" href="http://zh.wikipedia.org/wiki/%E5%8D%8A%E4%BA%BA%E9%A9%AC%E5%BA%A7%CE%B1" target="_blank" rel="noopener"
>半人马阿尔法&lt;/a>上有文明存在的话，那里的生物可能无法解读我们的俄罗斯方块形式系统甚至是简单的圆形的形式系统，因为它们感知世界的唯一器官可能只有鼻子（译者：偶的妈你咋知道？）也许它们是无法得知俄罗斯方块的形式系统了，但是它们很有可能知道圆形。它们的圆形我们可能没法解读，因为我们的鼻子没有它们那么灵敏（译者：那狗可以么？）可是只要越过形式系统的表示方式（比如通过使用“超级鼻子”之类的工具来感知这些用味道表示的形式系统，然后使用标准的解码技术把它们翻译成人类能理解的语言），那么任何有足够智力的文明都可以理解这些形式系统的本质。&lt;/p>
&lt;p>有意思的是，哪怕宇宙中完全不存在任何文明，类似俄罗斯方块还有圆形这样的形式系统依旧是成立的：只不过没有智慧生物去发现它们而已。这个时候如果忽然一个文明诞生了，那么这些具有智慧的生物就很有可能发现各种各样的形式系统，并且用它们发现的系统去描述各种宇宙法则。不过它们可能不会发现俄罗斯方块这样的形式系统，因为在它们的世界里没有俄罗斯方块这种东西嘛。有很多像俄罗斯方块这样的形式系统是与客观世界无关的，比如说自然数，很难说所有的自然数都与客观世界有关，随便举一个超级大的数，这个数可能就和世界上任何事物无关，因为这个世界可能不是无穷大的。&lt;/p>
&lt;h3 id="历史回眸3">历史回眸&lt;sup>3&lt;/sup>
&lt;/h3>&lt;p>再次启动时间机……这次到达的是20世纪30年代，离今天近了很多。无论&lt;a class="link" href="http://zh.wikipedia.org/wiki/%E6%96%B0%E5%A4%A7%E9%99%B8" target="_blank" rel="noopener"
>新&lt;/a>&lt;a class="link" href="http://zh.wikipedia.org/wiki/%E8%88%8A%E5%A4%A7%E9%99%B8" target="_blank" rel="noopener"
>旧&lt;/a>大陆，经济大萧条都造成了巨大的破坏。社会各阶层几乎每一个家庭都深受其害。只有极其少数的几个地方能让人们免于遭受穷困之苦。几乎没有人能够幸运的在这些避难所里度过危机，注意，我说的是几乎没有，还真的有这么些幸运儿，比如说当时普林斯顿大学的数学家们。&lt;/p>
&lt;p>新建成的哥特式办公楼给普林斯顿大学带来一种天堂般的安全感。来自世界各地的逻辑学者应邀来到普林斯顿，他们将组建一个新的学部。正当大部分美国人还在为找不到一片面包做晚餐而发愁的时候，在普林斯顿却是这样一番景象：高高的天花板和木雕包覆的墙，每天品茶论道，漫步丛林。&lt;/p>
&lt;p>一个名叫&lt;a class="link" href="http://zh.wikipedia.org/zh/%E9%98%BF%E9%9A%86%E4%BD%90%C2%B7%E9%82%B1%E5%A5%87" target="_blank" rel="noopener"
>阿隆佐·邱奇&lt;/a>(Alonzo Church)的年轻数学家就过着这样优越的生活。阿隆佐本科毕业于普林斯顿后被留在研究院。他觉得这样的生活完全没有必要，于是他鲜少出现在那些数学茶会中也不喜欢到树林里散心。阿隆佐更喜欢独处：自己一个人的时候他的工作效率更高。尽管如此他还是和普林斯顿学者保持着联系，这些人当中有&lt;a class="link" href="http://zh.wikipedia.org/zh/%E8%89%BE%E4%BC%A6%C2%B7%E5%9B%BE%E7%81%B5" target="_blank" rel="noopener"
>艾伦·图灵&lt;/a>、&lt;a class="link" href="http://zh.wikipedia.org/zh/%E7%BA%A6%E7%BF%B0%C2%B7%E5%86%AF%C2%B7%E8%AF%BA%E4%BC%8A%E6%9B%BC" target="_blank" rel="noopener"
>约翰·冯·诺伊曼&lt;/a>、&lt;a class="link" href="http://zh.wikipedia.org/zh-hant/%E5%BA%93%E5%B0%94%E7%89%B9%C2%B7%E5%93%A5%E5%BE%B7%E5%B0%94" target="_blank" rel="noopener"
>库尔特·哥德尔&lt;/a>。&lt;/p>
&lt;p>这四个人都对形式系统感兴趣。相对于现实世界，他们更关心如何解决抽象的数学问题。而他们的问题都有这么一个共同点：都在尝试解答关于计算的问题。诸如：如果有一台拥有无穷计算能力的超级机器，可以用来解决什么问题？它可以自动的解决这些问题吗？是不是还是有些问题解决不了，如果有的话，是为什么？如果这样的机器采用不同的设计，它们的计算能力相同吗？&lt;/p>
&lt;p>在与这些人的合作下，阿隆佐设计了一个名为&lt;a class="link" href="http://zh.wikipedia.org/wiki/%CE%9B%E6%BC%94%E7%AE%97" target="_blank" rel="noopener"
>lambda演算&lt;/a>的形式系统。这个系统实质上是为其中一个超级机器设计的编程语言。在这种语言里面，函数的参数是函数，返回值也是函数。这种函数用希腊字母lambda（&lt;a class="link" href="http://en.wikipedia.org/wiki/Lambda" target="_blank" rel="noopener"
>λ&lt;/a>），这种系统因此得名&lt;sup>4&lt;/sup>。有了这种形式系统，阿隆佐终于可以分析前面的那些问题并且能够给出答案了。&lt;/p>
&lt;p>除了阿隆佐·邱奇，艾伦·图灵也在进行类似的研究。他设计了一种完全不同的系统（后来被称为&lt;a class="link" href="http://zh.wikipedia.org/zh/%E5%9B%BE%E7%81%B5%E6%9C%BA" target="_blank" rel="noopener"
>图灵机&lt;/a>），并用这种系统得出了和阿隆佐相似的答案。到了后来人们证明了图灵机和lambda演算的能力是一样的。&lt;/p>
&lt;p>如果二战没有发生，这个故事到这里就应该结束了，我的这篇小文没什么好说的了，你们也可以去看看有什么其他好看的文章。可是二战还是爆发了，整个世界陷于火海之中。那时的美军空前的大量使用炮兵。为了提高轰炸的精度，军方聘请了大批数学家夜以继日的求解各种差分方程用于计算各种火炮发射数据表。后来他们发现单纯手工计算这些方程太耗时了，为了解决这个问题，各种各样的计算设备应运而生。IBM制造的Mark一号就是用来计算这些发射数据表的第一台机器。Mark一号重5吨，由75万个零部件构成，每一秒可以完成3次运算。&lt;/p>
&lt;p>战后，人们为提高计算能力而做出的努力并没有停止。1949年第一台电子离散变量自动计算机诞生并取得了巨大的成功。它是&lt;a class="link" href="http://zh.wikipedia.org/zh/%E5%86%AF%C2%B7%E8%AF%BA%E4%BC%8A%E6%9B%BC%E7%BB%93%E6%9E%84" target="_blank" rel="noopener"
>冯·诺伊曼设计架构&lt;/a>的第一个实例，也是一台现实世界中实现的图灵机。相比他的这些同事，那个时候阿隆佐的运气就没那么好了。&lt;/p>
&lt;p>到了50年代末，一个叫John McCarthy的MIT教授（他也是普林斯顿的硕士）对阿隆佐的成果产生了兴趣。1958年他发明了一种列表处理语言（Lisp），这种语言是一种阿隆佐lambda演算在现实世界的实现，而且它能在冯·诺伊曼计算机上运行！很多计算机科学家都认识到了Lisp强大的能力。1973年在MIT人工智能实验室的一些程序员研发出一种机器，并把它叫做Lisp机。于是阿隆佐的lambda演算也有自己的硬件实现了！&lt;/p>
&lt;h3 id="函数式编程">函数式编程
&lt;/h3>&lt;p>函数式编程是阿隆佐思想的在现实世界中的实现。不过不是全部的lambda演算思想都可以运用到实际中，因lambda演算在设计的时候就不是为了在各种现实世界中的限制下工作的。所以，就像面向对象的编程思想一样，函数式编程只是一系列想法，而不是一套严苛的规定。有很多支持函数式编程的程序语言，它们之间的具体设计都不完全一样。在这里我将用Java写的例子介绍那些被广泛应用的函数式编程思想（没错，如果你是受虐狂你可以用Java写出函数式程序）。在下面的章节中我会在Java语言的基础上，做一些修改让它变成实际可用的函数式编程语言。那么现在就开始吧。&lt;/p>
&lt;p>Lambda演算在最初设计的时候就是为了研究计算相关的问题。所以函数式编程主要解决的也是计算问题，而出乎意料的是，是用函数来解决的！（译者：请理解原作者的苦心，我想他是希望加入一点调皮的风格以免读者在中途睡着或是转台……）。函数就是函数式编程中的基础元素，可以完成几乎所有的操作，哪怕最简单的计算，也是用函数完成的。我们通常理解的变量在函数式编程中也被函数代替了：在函数式编程中变量仅仅代表某个表达式（这样我们就不用把所有的代码都写在同一行里了）。所以我们这里所说的‘变量’是不能被修改的。所有的变量只能被赋一次初值。在Java中就意味着每一个变量都将被声明为final（如果你用C++，就是const）。在FP中，没有非final的变量。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="kd">final&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="kd">final&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="o">;&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>既然FP中所有的变量都是final的，可以引出两个规定：一是变量前面就没有必要再加上final这个关键字了，二是变量就不能再叫做‘变量’了……于是现在开始对Java做两个改动：所有Java中声明的变量默认为final，而且我们把所谓的‘变量’称为‘符号’。&lt;/p>
&lt;p>到现在可能会有人有疑问：这个新创造出来的语言可以用来写什么有用的复杂一些的程序吗？毕竟，如果每个符号的值都是不能修改的，那么我们就什么东西都不能改变了！别紧张，这样的说法不完全正确。阿隆佐在设计lambda演算的时候他并不想要保留状态的值以便稍后修改这些值。他更关心的是基于数据之上的操作（也就是更容易理解的“计算”）。而且，lambda演算和图灵机已经被证明了是具有同样能力的系统，因此指令式编程能做到的函数式编程也同样可以做到。那么，怎样才能做到呢？&lt;/p>
&lt;p>事实上函数式程序是可以保存状态的，只不过它们用的不是变量，而是函数。状态保存在函数的参数中，也就是说在栈上。如果你需要保存一个状态一段时间并且时不时的修改它，那么你可以编写一个递归函数。举个例子，试着写一个函数，用来反转一个Java的字符串。记住咯，这个程序里的变量都是默认为final的&lt;sup>5&lt;/sup>。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="n">String&lt;/span> &lt;span class="nf">reverse&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span> &lt;span class="n">arg&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">arg&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">length&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">arg&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">reverse&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">arg&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">substring&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">arg&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">length&lt;/span>&lt;span class="o">))&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">arg&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">substring&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">);&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>这个方程运行起来会相对慢一些，因为它重复调用自己&lt;sup>6&lt;/sup>。同时它也会大量的消耗内存，因为它会不断的分配创建内存对象。无论如何，它是用函数式编程思想写出来的。这时候可能有人要问了，为什么要用这种奇怪的方式编写程序呢？嘿，我正准备告诉你。&lt;/p>
&lt;h3 id="fp之优点">FP之优点
&lt;/h3>&lt;p>你大概已经在想：上面这种怪胎函数怎么也不合理嘛。在我刚开始学习FP的时候我也这样想的。不过后来我知道我是错的。使用这种方式编程有很多好处。其中一些是主观的。比如说有人认为函数式程序更容易理解。这个我就不说了，哪怕街上随便找个小孩都知道‘容易理解’是多么主观的事情。幸运的是，客观方面的好处还有很多。&lt;/p>
&lt;h4 id="单元测试">单元测试
&lt;/h4>&lt;p>因为FP中的每个符号都是final的，于是没有什么函数会有副作用。谁也不能在运行时修改任何东西，也没有函数可以修改在它的作用域之外修改什么值给其他函数继续使用（在指令式编程中可以用类成员或是全局变量做到）。这意味着决定函数执行结果的唯一因素就是它的返回值，而影响其返回值的唯一因素就是它的参数。&lt;/p>
&lt;p>这正是单元测试工程师梦寐以求的啊。现在测试程序中的函数时只需要关注它的参数就可以了。完全不需要担心函数调用的顺序，也不用费心设置外部某些状态值。唯一需要做的就是传递一些可以代表边界条件的参数给这些函数。相对于指令式编程，如果FP程序中的每一个函数都能通过单元测试，那么我们对这个软件的质量必将信心百倍。反观Java或者C++，仅仅检查函数的返回值是不够的：代码可能修改外部状态值，因此我们还需要验证这些外部的状态值的正确性。在FP语言中呢，就完全不需要。&lt;/p>
&lt;h4 id="调试查错">调试查错
&lt;/h4>&lt;p>如果一段FP程序没有按照预期设计那样运行，调试的工作几乎不费吹灰之力。这些错误是百分之一百可以重现的，因为FP程序中的错误不依赖于之前运行过的不相关的代码。而在一个指令式程序中，一个bug可能有时能重现而有些时候又不能。因为这些函数的运行依赖于某些外部状态， 而这些外部状态又需要由某些与这个bug完全不相关的代码通过某个特别的执行流程才能修改。在FP中这种情况完全不存在：如果一个函数的返回值出错了，它一直都会出错，无论你之前运行了什么代码。&lt;/p>
&lt;p>一旦问题可以重现，解决它就变得非常简单，几乎就是一段愉悦的旅程。中断程序的运行，检查一下栈，就可以看到每一个函数调用时使用的每一个参数，这一点和指令式代码一样。不同的是指令式程序中这些数据还不足够，因为函数的运行还可能依赖于成员变量，全局变量，还有其他类的状态（而这些状态又依赖于类似的变量）。FP中的函数只依赖于传给它的参数，而这些参数就在眼前！还有，对指令式程序中函数返回值的检查并不能保证这个函数是正确运行的。还要逐一检查若干作用域以外的对象以确保这个函数没有对这些牵连的对象做出什么越轨的行为（译者：好吧，翻译到这里我自己已经有点激动了）。对于一个FP程序，你要做的仅仅是看一下函数的返回值。&lt;/p>
&lt;p>把栈上的数据过一遍就可以得知有哪些参数传给了什么函数，这些函数又返回了什么值。当一个返回值看起来不对头的那一刻，跳进这个函数看看里面发生了什么。一直重复跟进下去就可以找到bug的源头！&lt;/p>
&lt;h4 id="并发执行">并发执行
&lt;/h4>&lt;p>不需要任何改动，所有FP程序都是可以并发执行的。由于根本不需要采用锁机制，因此完全不需要担心死锁或是并发竞争的发生。在FP程序中没有哪个线程可以修改任何数据，更不用说多线程之间了。这使得我们可以轻松的添加线程，至于那些祸害并发程序的老问题，想都不用想！&lt;/p>
&lt;p>既然是这样，为什么没有人在那些高度并行的那些应用程序中采用FP编程呢？事实上，这样的例子并不少见。爱立信开发了一种FP语言，名叫Erlang，并应用在他们的电信交换机上，而这些交换机不仅容错度高而且拓展性强。许多人看到了Erlang的这些优势也纷纷开始使用这一语言。在这里提到的电信交换控制系统远远要比华尔街上使用的系统具有更好的扩展性也更可靠。事实上，用Erlang搭建的系统并不具备可扩展性和可靠性，而Java可以提供这些特性。Erlang只是像岩石一样结实不容易出错而已。&lt;/p>
&lt;p>FP关于并行的优势不仅于此。就算某个FP程序本身只是单线程的，编译器也可以将其优化成可以在多CPU上运行的并发程序。以下面的程序为例：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="n">String&lt;/span> &lt;span class="n">s1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">somewhatLongOperation1&lt;/span>&lt;span class="o">();&lt;/span>
&lt;span class="n">String&lt;/span> &lt;span class="n">s2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">somewhatLongOperation2&lt;/span>&lt;span class="o">();&lt;/span>
&lt;span class="n">String&lt;/span> &lt;span class="n">s3&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">concatenate&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">s1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">s2&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>如果是函数式程序，编译器就可以对代码进行分析，然后可能分析出生成字符串s1和s2的两个函数可能会比较耗时，进而安排它们并行运行。这在指令式编程中是无法做到的，因为每一个函数都有可能修改其外部状态，然后接下来的函数又可能依赖于这些状态的值。在函数式编程中，自动分析代码并找到适合并行执行的函数十分简单，和分析C的内联函数没什么两样。从这个角度来说用FP风格编写的程序是“永不过时”的（虽然我一般不喜欢说大话空话，不过这次就算个例外吧）。硬件厂商已经没办法让CPU运行得再快了。他们只能靠增加CPU核的数量然后用并行来提高运算的速度。这些厂商故意忽略一个事实：只有可以并行的软件才能让你花大价钱买来的这些硬件物有所值。指令式的软件中只有很小一部分能做到跨核运行，而所有的函数式软件都能实现这一目标，因为FP的程序从一开始就是可以并行运行的。&lt;/p>
&lt;h4 id="热部署">热部署
&lt;/h4>&lt;p>在Windows早期，如果要更新系统那可是要重启电脑的，而且还要重启很多次。哪怕只是安装一个新版本的播放器。到了XP的时代这种情况得到比较大的改善，尽管还是不理想（我工作的时候用的就是Windows，就在现在，我的系统托盘上就有个讨厌的图标，我不重启机子就不消失）。这一方面Unix好一些，曾经。只需要暂停一些相关的部件而不是整个操作系统，就可以安装更新了。虽然是要好一些了，对很多服务器应用来说这也还是不能接受的。电信系统要求的是100%的在线率，如果一个救急电话因为系统升级而无法拨通，成千上万的人就会因此丧命。同样的，华尔街的那些公司怎么也不能说要安装软件而在整个周末停止他们系统的服务。&lt;/p>
&lt;p>最理想的情况是更新相关的代码而不用暂停系统的其他部件。对指令性程序来说是不可能的。想想看，试着在系统运行时卸载掉一个Java的类然后再载入这个类的新的实现，这样做的话系统中所有该类的实例都会立刻不能运行，因为该类的相关状态已经丢失了。这种情况下可能需绞尽脑汁设计复杂的版本控制代码，需要将所有这种类正在运行的实例&lt;a class="link" href="http://zh.wikipedia.org/wiki/%E5%BA%8F%E5%88%97%E5%8C%96" target="_blank" rel="noopener"
>序列化&lt;/a>，逐一销毁它们，然后创建新类的实例，将现有数据也序列化后装载到这些新的实例中，最后希望负责装载的程序可以正确的把这些数据移植到新实例中并正常的工作。这种事很麻烦，每次有新的改动都需要手工编写装载程序来完成更新，而且这些装载程序还要很小心，以免破坏了现有对象之间的联系。理论上是没问题，可是实际上完全行不通。&lt;/p>
&lt;p>FP的程序中所有状态就是传给函数的参数，而参数都是储存在栈上的。这一特性让软件的热部署变得十分简单。只要比较一下正在运行的代码以及新的代码获得一个diff，然后用这个diff更新现有的代码，新代码的热部署就完成了。其它的事情有FP的语言工具自动完成！如果还有人认为这只存在于科幻小说中，他需要再想想：多年来Erlang工程师已经使用这种技术对它们的系统进行升级而完全不用暂停运行了。&lt;/p>
&lt;h4 id="机器辅助优化及证明">机器辅助优化及证明
&lt;/h4>&lt;p>FP语言有一个特性很有意思，那就是它们是可以用数学方法来分析的。FP语言本身就是形式系统的实现，只要是能在纸上写出来的数学运算就可以用这种语言表述出来。于是只要能够用数学方法证明两段代码是一致的，编译器就可以把某段代码解析成在数学上等同的但效率又更高的另外一段代码&lt;sup>7&lt;/sup>。 关系数据库已经用这种方法进行优化很多年了。没有理由在常规的软件行业就不能应用这种技术。&lt;/p>
&lt;p>另外，还可以用这种方法来证明代码的正确性，甚至可以设计出能够自动分析代码并为单元测试自动生成边缘测试用例的工具出来！对于那些对缺陷零容忍的系统来说，这一功能简直就是无价之宝。例如心脏起搏器，例如飞行管控系统，这几乎就是必须满足的需求。哪怕你正在开发的程序不是为了完成什么重要核心任务，这些工具也可以帮助你写出更健壮的程序，直接甩竞争对手n条大街。&lt;/p>
&lt;h3 id="高阶函数">高阶函数
&lt;/h3>&lt;p>我还记得在了解到FP以上的各种好处后想到：“这些优势都很吸引人，可是，如果必须非要用这种所有变量都是final的蹩脚语言，估计还是不怎么实用吧”。其实这样的想法是不对的。对于Java这样的指令式语言来说，如果所有的变量都是必须是final的，那么确实很束手束脚。然而对函数式语言来说，情况就不一样了。函数式语言提供了一种特别的抽象工具，这种工具将帮助使用者编写FP代码，让他们甚至都没想到要修改变量的值。高阶函数就是这种工具之一。&lt;/p>
&lt;p>FP语言中的函数有别于Java或是C。可以说这种函数是一个&lt;a class="link" href="http://zh.wikipedia.org/wiki/%E5%85%A8%E9%9B%86" target="_blank" rel="noopener"
>全集&lt;/a>：Java函数可以做到的它都能做，同时它还有更多的能力。首先，像在C里写程序那样创建一个函数：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="nf">add&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>看起来和C程序没什么区别，但是很快你就可以看出区别来。接下来我们扩展Java的编译器以便支持这种代码，也就是说，当我们写下以上的程序编译器会把它转化成下面的Java程序（别忘了，所有的变量都是final的）：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">add_function_t&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">add&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="n">add_function_t&lt;/span> &lt;span class="n">add&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">add_function_t&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>在这里，符号add并不是一个函数，它是只有一个函数作为其成员的简单的类。这样做有很多好处，可以在程序中把add当成参数传给其他的函数，也可以把add赋给另外一个符号，还可以在运行时创建add_function_t的实例然后在不再需要这些实例的时候由系统回收机制处理掉。这样做使得函数成为和integer或是string这样的&lt;a class="link" href="http://zh.wikipedia.org/zh/%E7%AC%AC%E4%B8%80%E9%A1%9E%E7%89%A9%E4%BB%B6" target="_blank" rel="noopener"
>第一类对象&lt;/a>。对其他函数进行操作（比如说把这些函数当成参数）的函数，就是所谓的高阶函数。别让这个看似高深的名字吓倒你（译者：好死不死起个这个名字，初一看还准备搬出已经尘封的高数教材……），它和Java中操作其他类（也就是把一个类实例传给另外的类）的类没有什么区别。可以称这样的类为“高阶类”，但是没人会在意，因为Java圈里就没有什么很强的学术社团。（译者：这是高级黑吗？）&lt;/p>
&lt;p>那么什么时候该用高阶函数，又怎样用呢？我很高兴有人问这个问题。设想一下，你写了一大堆程序而不考虑什么类结构设计，然后发现有一部分代码重复了几次，于是你就会把这部分代码独立出来作为一个函数以便多次调用（所幸学校里至少会教这个）。如果你发现这个函数里有一部分逻辑需要在不同的情况下实现不同的行为，那么你可以把这部分逻辑独立出来作为一个高阶函数。搞晕了？下面来看看我工作中的一个真实的例子。&lt;/p>
&lt;p>假设有一段Java的客户端程序用来接收消息，用各种方式对消息做转换，然后发给一个服务器。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">MessageHandler&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">handleMessage&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Message&lt;/span> &lt;span class="n">msg&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="c1">// ...&lt;/span>
&lt;span class="n">msg&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">setClientCode&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">"ABCD_123"&lt;/span>&lt;span class="o">);&lt;/span>
&lt;span class="c1">// ...&lt;/span>
&lt;span class="n">sendMessage&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">msg&lt;/span>&lt;span class="o">);&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="c1">// ...&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>再进一步假设，整个系统改变了，现在需要发给两个服务器而不再是一个了。系统其他部分都不变，唯独客户端的代码需要改变：额外的那个服务器需要用另外一种格式发送消息。应该如何处理这种情况呢？我们可以先检查一下消息要发送到哪里，然后选择相应的格式把这个消息发出去：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">MessageHandler&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">handleMessage&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Message&lt;/span> &lt;span class="n">msg&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="c1">// ...&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">msg&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getDestination&lt;/span>&lt;span class="o">().&lt;/span>&lt;span class="na">equals&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">"server1"&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="n">msg&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">setClientCode&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">"ABCD_123"&lt;/span>&lt;span class="o">);&lt;/span>
&lt;span class="o">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="n">msg&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">setClientCode&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">"123_ABC"&lt;/span>&lt;span class="o">);&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="c1">// ...&lt;/span>
&lt;span class="n">sendMessage&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">msg&lt;/span>&lt;span class="o">);&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="c1">// ...&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>可是这样的实现是不具备扩展性的。如果将来需要增加更多的服务器，上面函数的大小将呈线性增长，使得维护这个函数最终变成一场噩梦。面向对象的编程方法告诉我们，可以把MessageHandler变成一个基类，然后将针对不同格式的消息编写相应的子类。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="kd">abstract&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">MessageHandler&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">handleMessage&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Message&lt;/span> &lt;span class="n">msg&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="c1">// ...&lt;/span>
&lt;span class="n">msg&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">setClientCode&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">getClientCode&lt;/span>&lt;span class="o">());&lt;/span>
&lt;span class="c1">// ...&lt;/span>
&lt;span class="n">sendMessage&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">msg&lt;/span>&lt;span class="o">);&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="kd">abstract&lt;/span> &lt;span class="n">String&lt;/span> &lt;span class="nf">getClientCode&lt;/span>&lt;span class="o">();&lt;/span>
&lt;span class="c1">// ...&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="kd">class&lt;/span> &lt;span class="nc">MessageHandlerOne&lt;/span> &lt;span class="kd">extends&lt;/span> &lt;span class="n">MessageHandler&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="n">String&lt;/span> &lt;span class="nf">getClientCode&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="s">"ABCD_123"&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="kd">class&lt;/span> &lt;span class="nc">MessageHandlerTwo&lt;/span> &lt;span class="kd">extends&lt;/span> &lt;span class="n">MessageHandler&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="n">String&lt;/span> &lt;span class="nf">getClientCode&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="s">"123_ABCD"&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>这样一来就可以为每一个接收消息的服务器生成一个相应的类对象，添加服务器就变得更加容易维护了。可是，这一个简单的改动引出了很多的代码。仅仅是为了支持不同的客户端行为代码，就要定义两种新的类型！现在来试试用我们刚才改造的语言来做同样的事情，注意，这种语言支持高阶函数：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">MessageHandler&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">handleMessage&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">Message&lt;/span> &lt;span class="n">msg&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">Function&lt;/span> &lt;span class="n">getClientCode&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="c1">// ...&lt;/span>
&lt;span class="n">Message&lt;/span> &lt;span class="n">msg1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">msg&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">setClientCode&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">getClientCode&lt;/span>&lt;span class="o">());&lt;/span>
&lt;span class="c1">// ...&lt;/span>
&lt;span class="n">sendMessage&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">msg1&lt;/span>&lt;span class="o">);&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="c1">// ...&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="n">String&lt;/span> &lt;span class="nf">getClientCodeOne&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="s">"ABCD_123"&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="n">String&lt;/span> &lt;span class="nf">getClientCodeTwo&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="s">"123_ABCD"&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="n">MessageHandler&lt;/span> &lt;span class="n">handler&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">MessageHandler&lt;/span>&lt;span class="o">();&lt;/span>
&lt;span class="n">handler&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">handleMessage&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">someMsg&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">getClientCodeOne&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>在上面的程序里，我们没有创建任何新的类型或是多层类的结构。仅仅是把相应的函数作为参数进行传递，就做到了和用面向对象编程一样的事情，而且还有额外的好处：一是不再受限于多层类的结构。这样做可以做运行时传递新的函数，可以在任何时候改变这些函数，而且这些改变不仅更加精准而且触碰的代码更少。这种情况下编译器其实就是在替我们编写面向对象的“粘合”代码（译者：又称胶水代码，粘接代码）！除此之外我们还可以享用FP编程的其他所有优势。函数式编程能提供的抽象服务还远不止于此。高阶函数只不过是个开始。&lt;/p>
&lt;h3 id="currying">Currying
&lt;/h3>&lt;p>我遇见的大多数码农都读过“&lt;a class="link" href="http://baike.baidu.com/view/66964.htm#2" target="_blank" rel="noopener"
>四人帮&lt;/a>”的那本《设计模式》。任何稍有自尊心的码农都会说这本书和语言无关，因此无论你用什么编程语言，当中提到的那些模式大体上适用于所有软件工程。听起来很厉害，然而事实却不是这样。&lt;/p>
&lt;p>函数式语言的表达能力很强。用这种语言编程的时候基本不需要设计模式，因为这种语言层次已经足够高，使得使用者可以以概念编程，从而完全不需要设计模式了。以&lt;a class="link" href="http://zh.wikipedia.org/wiki/%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F" target="_blank" rel="noopener"
>适配器模式&lt;/a>为例（有人知道这个模式和&lt;a class="link" href="http://zh.wikipedia.org/wiki/%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F" target="_blank" rel="noopener"
>外观模式&lt;/a>有什么区别吗？怎么觉得有人为了出版合同的要求而硬生生凑页数？）（译者：您不愧是高级黑啊）。对于一个支持currying技术的语言来说，这个模式就是多余的。&lt;/p>
&lt;p>在Java中最有名的适配器模式就是在其“默认”抽象单元中的应用：类。在函数式语言中这种模式其实就是函数。在这个模式中，一个接口被转换成另外一个接口，让不同的用户代码调用。接下来就有一个适配器模式的例子：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="nf">pow&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">);&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">square&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">)&lt;/span>
&lt;span class="o">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">pow&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">);&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>上面的代码中square函数计算一个整数的平方，这个函数的接口被转换成计算一个整数的任意整数次幂。在学术圈里这种简单的技术就被叫做currying（因为逻辑学家&lt;a class="link" href="http://zh.wikipedia.org/wiki/%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F" target="_blank" rel="noopener"
>哈斯凯尔·加里&lt;/a>用其数学技巧将这种技术描述出来，于是就以他的名字来命名了）。在一个FP语言中函数（而不是类）被作为参数进行传递，currying常常用于转化一个函数的接口以便于其他代码调用。函数的接口就是它的参数，于是currying通常用于减少函数参数的数量（见前例）。&lt;/p>
&lt;p>函数式语言生来就支持这一技术，于是没有必要为某个函数手工创建另外一个函数去包装并转换它的接口，这些函数式语言已经为你做好了。我们继续拓展Java来支持这一功能。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="n">square&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="nf">pow&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>上面的语句实现了一个平方计算函数，它只需要一个参数。它会继而调用pow函数并且把第二个参数置为2。编译过后将生成以下Java代码：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">square_function_t&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">square&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">pow&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">);&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="n">square_function_t&lt;/span> &lt;span class="n">square&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">square_function_t&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>从上面的例子可以看到，很简单的，函数pow的封装函数就创建出来了。在FP语言中currying就这么简单：一种可以快速且简单的实现函数封装的捷径。我们可以更专注于自己的设计，编译器则会为你编写正确的代码！什么时候使用currying呢？很简单，当你想要用适配器模式（或是封装函数）的时候，就是用currying的时候。&lt;/p>
&lt;h3 id="惰性求值">&lt;a class="link" href="http://zh.wikipedia.org/zh/%E6%83%B0%E6%80%A7%E6%B1%82%E5%80%BC" target="_blank" rel="noopener"
>惰性求值&lt;/a>
&lt;/h3>&lt;p>惰性求值（或是延迟求值）是一种有趣的技术，而当我们投入函数式编程的怀抱后这种技术就有了得以实现的可能。前面介绍并发执行的时候已经提到过如下代码：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="n">String&lt;/span> &lt;span class="n">s1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">somewhatLongOperation1&lt;/span>&lt;span class="o">();&lt;/span>
&lt;span class="n">String&lt;/span> &lt;span class="n">s2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">somewhatLongOperation2&lt;/span>&lt;span class="o">();&lt;/span>
&lt;span class="n">String&lt;/span> &lt;span class="n">s3&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">concatenate&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">s1&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">s2&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>在指令式语言中以上代码执行的顺序是显而易见的。由于每个函数都有可能改动或者依赖于其外部的状态，因此必须顺序执行。先是计算somewhatLongOperation1，然后到somewhatLongOperation2，最后执行concatenate。函数式语言就不一样了。&lt;/p>
&lt;p>在前面讨论过，somewhatLongOperation1和somewhatLongOperation2是可以并发执行的，因为函数式语言保证了一点：没有函数会影响或者依赖于全局状态。可是万一我们不想要这两个函数并发执行呢？这种情况下是不是也还是要顺序执行这些函数？答案是否定的。只有到了执行需要s1、s2作为参数的函数的时候，才真正需要执行这两个函数。于是在concatenate这个函数没有执行之前，都没有需要去执行这两个函数：这些函数的执行可以一直推迟到concatenate()中需要用到s1和s2的时候。假如把concatenate换成另外一个函数，这个函数中有条件判断语句而且实际上只会需要两个参数中的其中一个，那么就完全没有必要执行计算另外一个参数的函数了！Haskell语言就是一个支持惰性求值的例子。Haskell不能保证任何语句会顺序执行（甚至完全不会执行到），因为Haskell的代码只有在需要的时候才会被执行到。&lt;/p>
&lt;p>除了这些优点，惰性求值也有缺点。这里介绍了它的优点，我们将在下一章节介绍这些缺点以及如何克服它们。&lt;/p>
&lt;h4 id="代码优化">代码优化
&lt;/h4>&lt;p>惰性求值使得代码具备了巨大的优化潜能。支持惰性求值的编译器会像数学家看待代数表达式那样看待函数式程序：抵消相同项从而避免执行无谓的代码，安排代码执行顺序从而实现更高的执行效率甚至是减少错误。在此基础上优化是不会破坏代码正常运行的。严格使用形式系统的基本元素进行编程带来的最大的好处，是可以用数学方法分析处理代码，因为这样的程序是完全符合数学法则的。&lt;/p>
&lt;h4 id="抽象化控制结构">抽象化控制结构
&lt;/h4>&lt;p>惰性求值技术提供了更高阶的抽象能力，这提供了实现程序设计独特的方法。比如说下面的控制结构：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="n">unless&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">stock&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">isEuropean&lt;/span>&lt;span class="o">())&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="n">sendToSEC&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">stock&lt;/span>&lt;span class="o">);&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>程序中只有在stock为European的时候才执行sendToSEC。如何实现例子中的unless？如果没有惰性求值就需要求助于某种形式的宏（译者：用if不行么？），不过在像Haskell这样的语言中就不需要那么麻烦了。直接实现一个unless函数就可以！&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="nf">void&lt;/span> &lt;span class="n">unless&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">boolean&lt;/span> &lt;span class="n">condition&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">List&lt;/span> &lt;span class="n">code&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="kr">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">condition&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">code&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>请注意，如果condition值为真，那就不会计算code。在其他严格语言（见&lt;a class="link" href="http://zh.wikipedia.org/wiki/%E6%B1%82%E5%80%BC%E7%AD%96%E7%95%A5#.E4.B8.A5.E6.A0.BC.E6.B1.82.E5.80.BC_.28Strict_evaluation.29" target="_blank" rel="noopener"
>严格求值&lt;/a>）中这种行为是做不到的，因为在进入unless这个函数之前，作为参数的code已经被计算过了。&lt;/p>
&lt;h4 id="无穷数据结构">无穷数据结构
&lt;/h4>&lt;p>惰性求值技术允许定义无穷数据结构，这要在严格语言中实现将非常复杂。例如一个储存Fibonacci数列数字的列表。很明显这样一个列表是无法在有限的时间内计算出这个无穷的数列并存储在内存中的。在像Java这样的严格语言中，可以定义一个Fibonacci函数，返回这个序列中的某个数。而在Haskell或是类似的语言中，可以把这个函数进一步抽象化并定义一个Fibonacci数列的无穷列表结构。由于语言本身支持惰性求值，这个列表中只有真正会被用到的数才会被计算出来。这让我们可以把很多问题抽象化，然后在更高的层面上解决它们（比如可以在一个列表处理函数中处理无穷多数据的列表）。&lt;/p>
&lt;h4 id="不足之处">不足之处
&lt;/h4>&lt;p>俗话说天下没有免费的午餐™。惰性求值当然也有其缺点。其中最大的一个就是，嗯，惰性。现实世界中很多问题还是需要严格求值的。比如说下面的例子：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">"Please enter your name: "&lt;/span>&lt;span class="o">);&lt;/span>
&lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">in&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">readLine&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>在惰性语言中没人能保证第一行会中第二行之前执行！这也就意味着我们不能处理IO，不能调用系统函数做任何有用的事情（这些函数需要按照顺序执行，因为它们依赖于外部状态），也就是说不能和外界交互了！如果在代码中引入支持顺序执行的代码原语，那么我们就失去了用数学方式分析处理代码的优势（而这也意味着失去了函数式编程的所有优势）。幸运的是我们还不算一无所有。数学家们研究了不同的方法用以保证代码按一定的顺序执行（in a functional setting?）。这一来我们就可以同时利用到函数式和指令式编程的优点了！这些方法有continuations，monads以及uniqueness typing。这篇文章仅仅介绍了continuations，以后再讨论monads和uniqueness typing。有意思的是呢，coutinuations处理强制代码以特定顺序执行之外还有其他很多出处，这些我们在后面也会提及。&lt;/p>
&lt;h3 id="continuation">Continuation
&lt;/h3>&lt;p>continuation对于编程，就像是达芬奇密码对于人类历史一样：它揭开了人类有史以来最大的谜团。好吧，也许没有那么夸张，不过它们的影响至少和当年发现负数有平方根不相上下。&lt;/p>
&lt;p>我们对函数的理解只有一半是正确的，因为这样的理解基于一个错误的假设：函数一定要把其返回值返回给调用者。按照这样的理解，continuation就是更加广义的函数。这里的函数不一定要把返回值传回给调用者，相反，它可以把返回值传给程序中的任意代码。continuation就是一种特别的参数，把这种参数传到函数中，函数就能够根据continuation将返回值传递到程序中的某段代码中。说得很高深，实际上没那么复杂。直接来看看下面的例子好了：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">add&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="o">);&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">square&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>add这个函数将返回15然后这个值会赋给i，这也是add被调用的地方。接下来i的值又会被用于调用square。请注意支持惰性求值的编译器是不能打乱这段代码执行顺序的，因为第二个函数的执行依赖于第一个函数成功执行并返回结果。这段代码可以用Continuation Pass Style（CPS）技术重写，这样一来add的返回值就不是传给其调用者，而是直接传到square里去了。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">add&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">square&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>在上例中，add多了一个参数：一个函数，add必须在完成自己的计算后，调用这个函数并把结果传给它。这时square就是add的一个continuation。上面两段程序中j的值都是225。&lt;/p>
&lt;p>这样，我们学习到了强制惰性语言顺序执行两个表达式的第一个技巧。再来看看下面IO程序（是不是有点眼熟？）：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">"Please enter your name: "&lt;/span>&lt;span class="o">);&lt;/span>
&lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">in&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">readLine&lt;/span>&lt;span class="o">();&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>这两行代码彼此之间没有依赖关系，因此编译器可以随意的重新安排它们的执行顺序。可是只要用CPS重写它，编译器就必须顺序执行了，因为重写后的代码存在依赖关系了。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">"Please enter your name: "&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">in&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">readLine&lt;/span>&lt;span class="o">);&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>这段新的代码中println需要结合其计算结果调用readLine，然后再返回readLine的返回值。这使得两个函数得以保证按顺序执行而且readLine总被执行（这是由于整个运算需要它的返回值作为最终结果）。Java的println是没有返回值的，但是如果它可以返回一个能被readnLine接受的抽象值，问题就解决了！（译者：别忘了，这里作者一开始就在Java的基础上修改搭建自己的语言）当然，如果一直把函数按照这种方法串下去，代码很快就变得不可读了，可是没有人要求你一定要这样做。可以通过在语言中添加&lt;a class="link" href="http://zh.wikipedia.org/wiki/%E8%AF%AD%E6%B3%95%E7%B3%96" target="_blank" rel="noopener"
>语法糖&lt;/a>的方式来解决这个问题，这样程序员只要按照顺序写代码，编译器负责自动把它们串起来就好了。于是就可以任意安排代码的执行顺序而不用担心会失去FP带来的好处了（包括可以用数学方法来分析我们的程序）！如果到这里还有人感到困惑，可以这样理解，函数只是有唯一成员的类的实例而已。试着重写上面两行程序，让println和readLine编程这种类的实例，所有问题就都搞清楚了。&lt;/p>
&lt;p>到这里本章基本可以结束了，而我们仅仅了解到continuation的一点皮毛，对它的用途也知之甚少。我们可以用CPS完成整个程序，程序里所有的函数都有一个额外的continuation作为参数接受其他函数的返回值。还可以把任何程序转换为CPS的，需要做的只是把当中的函数看作是特殊的continuation（总是将返回值传给调用者的continuation）就可以了，简单到完全可以由工具自动完成（史上很多编译器就是这样做的）。&lt;/p>
&lt;p>一旦将程序转为CPS的风格，有些事情就变得显而易见了：每一条指令都会有一些continuation，都会将它的计算结果传给某一个函数并调用它，在一个普通的程序中这个函数就是该指令被调用并且返回的地方。随便找个之前提到过的代码，比如说add(5,10)好了。如果add属于一个用CPS风格写出的程序，add的continuation很明显就是当它执行结束后要调用的那个函数。可是在一个非CPS的程序中，add的continuation又是什么呢？当然我们还是可以把这段程序转成CPS的，可是有必要这样做吗？&lt;/p>
&lt;p>事实上没有必要。注意观察整个CPS转换过程，如果有人尝试要为CPS程序写编译器并且认真思考过就会发现：CPS的程序是不需要栈的！在这里完全没有函数需要做传统意义上的“返回”操作，函数执行完后仅需要接着调用另外一个函数就可以了。于是就不需要在每次调用函数的时候把参数压栈再将它们从中取出，只要把这些参数存放在一片内存中然后使用跳转指令就解决问题了。也完全不需要保留原来的参数：因为这种程序里的函数都不返回，所以它们不会被用第二次！&lt;/p>
&lt;p>简单点说呢，用CPS风格写出来的程序不需要栈，但是每次调用函数的时候都会要多加一个参数。非CPS风格的程序不需要额外的参数但又需要栈才能运行。栈里面存的是什么？仅仅是参数还有一个供函数运行结束后返回的程序指针而已。这个时候你是不是已经恍然大悟了？对啊，栈里面的数据实际上就是continuation的信息！栈上的程序返回指针实质上就是CPS程序中需要调用的下一个函数！想要知道add(5, 10)的continuation是什么？只要看它运行时栈的内容就可以了。&lt;/p>
&lt;p>接下来就简单多了。continuation和栈上指示函数返回地址的指针其实是同一样东西，只是continuation是显式的传递该地址并且因此代码就不局限于只能返回到函数被调用的地方了。前面说过，continuation就是函数，而在我们特制的语言中函数就是类的实例，那么可以得知栈上指向函数返回地址的指针和continuation的参数是一样的，因为我们所谓的函数（就像类的一个实例）其实就是指针。这也意味着在程序运行的任何时候，你都可以得到当前的continuation（就是栈上的信息）。&lt;/p>
&lt;p>好了，我们已经搞清楚当前的continuation是什么了。接下来要弄明白它的存在有什么意义。只要得到了当前的continuation并将它保存起来，就相当于保存了程序的当前状态：在时间轴上把它冻结起来了。这有点像操作系统进入休眠状态。continuation对象保存了足够的信息随时可以从指定的某个状态继续运行程序。在切换线程的时候操作系统也是这样做的。唯一的区别在于它保留了所有的控制权利。当请求某个continuation对象时（在Scheme语言中是通过调用call-with-current-continuation函数实现的）得到的是一个存有当前continuation的对象，也就是栈对象（在CPS中也就是下一个要执行的函数）。可以把这个对象保存做一个变量中（或者是存在磁盘上）。当以该continuation对象“重启”该程序时，程序的状态就会立即“转换”为该对象中保存的状态。这一点和切换回一个被暂停的线程或是从系统休眠中唤醒很相像，唯一不同的是continuatoin对象可以反复的这样使用。当系统唤醒后，休眠前保存的信息就会销毁，否则你也可以反复的从该点唤醒系统，就像乘时光机回到过去一样。有了continuation你就可以做到这一点！&lt;/p>
&lt;p>那么continuation在什么情况下有用呢？有一些应用程序天生就没有状态，如果要在这样的系统中模拟出状态以简化工作的时候，就可以用到continuation。最合适的应用场合之一就是网页应用程序。微软的ASP.NET为了让程序员更轻松的编写应用程序，花了大量的精力去模拟各种状态。假如C#支持continuation的话，那么ASP.NET的复杂度将减半：因为只要把某一时刻的continuation保存起来，下次用户再次发起同样请求的时候，重新载入这个continuation即可。对于网络应用的程序员来说就再也没有中断了：轻轻松松程序就从下一行开始继续运行了！对于一些实际问题来说，continuation是一种非常有用的抽象工具。如今大量的传统胖客户端（见&lt;a class="link" href="http://zh.wikipedia.org/wiki/%E7%98%A6%E5%AE%A2%E6%88%B7%E7%AB%AF" target="_blank" rel="noopener"
>瘦客户端&lt;/a>）正纷纷走进网络，continuation在未来将扮演越来越重要的角色。&lt;/p>
&lt;h3 id="模式匹配">模式匹配
&lt;/h3>&lt;p>模式匹配并不是什么新功能。而事实上它和函数式编程也没有什么太大的关系。它之所以常常被认为是FP的一个特性，是因为在函数式语言已经支持模式匹配很长一段时间后的今天，指令式语言是还没有这个功能。&lt;/p>
&lt;p>还是直接用例子来看看什么是模式匹配吧，这是一个用Java写的Fibonacci函数：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="nf">fib&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">n&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">n&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">fib&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">n&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">fib&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">n&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">);&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>再看看用我们基于Java修改过的新语言写出来的Fibonacci函数，这种新语言就支持模式匹配：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="nf">fib&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">fib&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">fib&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">fib&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">n&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">fib&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">n&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">);&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>区别在哪里呢？在于后者的编译器替我们实现了程序的分支。&lt;/p>
&lt;p>这有什么了不起的？确实也没什么。只是有人注意到很多函数中有非常复杂的switch结构（对于函数式程序而言更是如此），于是想到如果能把这层结构也抽象化就更好了。然后就把这个复杂的函数拆分成若干新的函数，并在这些函数的某些参数中应用模式（这和&lt;a class="link" href="http://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B0%E9%87%8D%E8%BD%BD" target="_blank" rel="noopener"
>重载&lt;/a>有点类似）。这样依赖当这个函数被调用的时候，编译器会在运行时将调用者传入的参数与各个新函数的参数定义进行比较，找出合适的那个函数来执行。合适的函数往往是参数定义上最具体最接近传入参数的那个函数。在这个例子中，当n为1时，可以用函数int fib(int n)，不过真正调用的是int fib(1)因为这个函数更具体更接近调用者的要求。&lt;/p>
&lt;p>模式匹配一般来说要比这里举的例子更加复杂。比如说，高级模式匹配系统可以支持下面的操作：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="nf">f&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="o">...&lt;/span> &lt;span class="o">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">f&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="o">...&lt;/span> &lt;span class="o">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>那么什么情况下模式匹配会有用呢？在需要处理一大堆程序分支的时候！每当需要实现复杂的嵌套if语句的时候，模式匹配可以帮助你用更少的代码更好的完成任务。我所知道的一个这样的函数是标准的WndProc函数，该函数是所有Win32应用程序必须具备的（尽管它经常会被抽象化）。模式匹配系统一般都可以像匹配简单数值一样匹配数据集合。举个例子，对于一个接受数组作为参数的函数，可以通过模式匹配数组中第一个数字为1并且第三个数字大于3的输入。&lt;/p>
&lt;p>模式匹配的另外一个好处是每当需要添加或者修改程序分支时，再也不用面对那个庞大臃肿的函数了。只要添加（或者修改）相关的函数定义即可。有了模式匹配就不再需要四人帮的很多设计模式了。程序分支越多越复杂，模式匹配就越有用。而在习惯使用这一技术之后，你可能会怀疑没有它你一天都过不下去了。&lt;/p>
&lt;h3 id="closure">Closure
&lt;/h3>&lt;p>目前为止关于函数式编程各种功能的讨论都只局限在“纯”函数式语言范围内：这些语言都是lambda演算的实现并且都没有那些和阿隆佐形式系统相冲突的特性。然而，很多函数式语言的特性哪怕是在lambda演算框架之外都是很有用的。确实，如果一个公理系统的实现可以用数学思维来看待程序，那么这个实现还是很有用的，但这样的实现却不一定可以付诸实践。很多现实中的语言都选择吸收函数式编程的一些元素，却又不完全受限于函数式教条的束缚。很多这样的语言（比如Common Lisp）都不要求所有的变量必须为final，可以修改他们的值。也不要求函数只能依赖于它们的参数，而是可以读写函数外部的状态。同时这些语言又包含了FP的特性，如高阶函数。与在lambda演算限制下将函数作为参数传递不同，在指令式语言中要做到同样的事情需要支持一个有趣的特性，人们常把它称为lexical closure。还是来看看例子。要注意的是，这个例子中变量不是final，而且函数也可以读写其外部的变量：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span> &lt;span class="n">Function&lt;/span> &lt;span class="nf">makePowerFn&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">power&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">powerFn&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">base&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">pow&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">base&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">power&lt;/span>&lt;span class="o">);&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">powerFn&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="n">Function&lt;/span> &lt;span class="n">square&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">makePowerFn&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">);&lt;/span>
&lt;span class="n">square&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="o">);&lt;/span> &lt;span class="c1">// returns 9&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>makePowerFn函数返回另一个函数，这个新的函数需要一个整数参数然后返回它的平方值。执行square(3)的时候具体发生了什么事呢？变量power并不在powerFn的域内，因为makePowerFn早就运行结束返回了，所以它的栈也已经不存在了。那么square又是怎么正常工作的呢？这个时候需要语言通过某种方式支持继续存储power的值，以便square后面继续使用。那么如果再定义一个函数，cube，用来计算立方，又应该怎么做呢？那么运行中的程序就必须存储两份power的值，提供给makePowerFn生成的两个函数分别使用。这种保存变量值的方法就叫做closure。closure不仅仅保存宿主函数的参数值，还可以用在下例的用法中：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="n">Function&lt;/span> &lt;span class="nf">makeIncrementer&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">increment&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="n">Function&lt;/span> &lt;span class="n">inc1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">makeIncrementer&lt;/span>&lt;span class="o">();&lt;/span>
&lt;span class="n">Function&lt;/span> &lt;span class="n">inc2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">makeIncrementer&lt;/span>&lt;span class="o">();&lt;/span>
&lt;span class="n">inc1&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="c1">// returns 1;&lt;/span>
&lt;span class="n">inc1&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="c1">// returns 2;&lt;/span>
&lt;span class="n">inc1&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="c1">// returns 3;&lt;/span>
&lt;span class="n">inc2&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="c1">// returns 1;&lt;/span>
&lt;span class="n">inc2&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="c1">// returns 2;&lt;/span>
&lt;span class="n">inc2&lt;/span>&lt;span class="o">();&lt;/span> &lt;span class="c1">// returns 3;&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>运行中的程序负责存储n的值，以便incrementer稍后可以访问它。与此同时，程序还会保存多份n的拷贝，虽然这些值应该在makeIncrementer返回后就消失，但在这个情况下却继续保留下来给每一个incrementer对象使用。这样的代码编译之后会是什么样子？closure幕后的真正工作机理又是什么？这次运气不错，我们有一个后台通行证，可以一窥究竟。&lt;/p>
&lt;p>一点小常识往往可以帮大忙。乍一看这些本地变量已经不再受限于基本的域限制并拥有无限的生命周期了。于是可以得出一个很明显的结论：它们已经不是存在栈上，而是堆上了&lt;sup>8&lt;/sup>。这么说来closure的实现和前面讨论过的函数差不多，只不过closure多了一个额外的引用指向其外部的变量而已：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">some_function_t&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="n">SymbolTable&lt;/span> &lt;span class="n">parentScope&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="c1">// ...&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>当closure需要访问不在它本地域的变量时，就可以通过这个引用到更外一层的父域中寻找该变量。谜底揭开了！closure将函数编程与面向对象的方法结合了起来。下一次为了保存并传递某些状态而创建类的时候，想想closure。它能在运行时从相应的域中获得变量，从而可以把该变量当初“成员变量”来访问，也因为这样，就不再需要去创建一个成员变量了。&lt;/p>
&lt;h3 id="路在何方">路在何方？
&lt;/h3>&lt;p>这篇文章仅仅涉及到函数式编程的一些皮毛。考虑到有时候星星之火可以燎原，所以如果它能给你一些帮助那就再好不过了。接下来我计划就&lt;a class="link" href="http://zh.wikipedia.org/wiki/%E8%8C%83%E7%95%B4%E8%AE%BA" target="_blank" rel="noopener"
>范畴论&lt;/a>、monads、函数式编程数据结构、函数式语言中的&lt;a class="link" href="http://zh.wikipedia.org/wiki/%E9%A1%9E%E5%9E%8B%E7%B3%BB%E7%B5%B1" target="_blank" rel="noopener"
>类型系统&lt;/a>、并行函数式编程、数据库的函数式编程以及更多的话题写些类似的文章。如果我可以写出（在我学习的同时）以上清单的一半，我的人生就完整了。于此同时，Google将是我们的良师益友。&lt;/p>
&lt;h3 id="欢迎联系">欢迎联系
&lt;/h3>&lt;p>如果您有任何问题，评价或者建议，请发邮件到coffeemug@gmail.com（译者：如果翻译方面的问题／建议请发到yang.huang@ymail.com:)）。期待您的回复。&lt;/p>
&lt;p>注：&lt;/p>
&lt;p>&lt;sup>1&lt;/sup>当我在2005年求职时的的确确经常问别人这个问题。看着那些茫然的面孔实在是很好玩的事情。你们这些年薪30万美金的家伙，至少应该对自己可以利用的工具有个起码的理解嘛。&lt;/p>
&lt;p>&lt;sup>2&lt;/sup>这是个有争议的问题。物理学家和数学家不得不承认目前还无法确定宇宙万物是不是都遵从可以用数学方法描述的各种法则。&lt;/p>
&lt;p>&lt;sup>3&lt;/sup>我一直一来都很讨厌在历史课上罗列一堆枯燥无味的时间、人名、事件。对我来说历史就是关于那些改变世界的人们活生生的故事，是他们行为背后的个人动机，是那些他们用以影响芸芸众生的方法和工具。从这个角度来说，接下来的这堂历史课是不完整的，很遗憾。只有那些非常相关的人和事会被提及。&lt;/p>
&lt;p>&lt;sup>4&lt;/sup>在我学习函数式编程的时候，“lambda”这个术语搞得我很烦，因为我不知道它到底是什么意思。在这里lambda就是一个函数，在数学符号中用这个希腊字母只是因为它更容易写。所以以后在谈及函数式编程的时候只要你听到lambda，把它在脑中翻译为“函数”就可以了。&lt;/p>
&lt;p>&lt;sup>5&lt;/sup>有意思的是不论如何Java中的字符串总是不可修改的。讨论这种背叛Java的设计背后的原因会很有意思，可惜这样会让我们跑题的。&lt;/p>
&lt;p>&lt;sup>6&lt;/sup>大部分函数式语言的编译器都会尽量将迭代函数转换为对等的循环语句。这种做法叫做&lt;a class="link" href="http://zh.wikipedia.org/wiki/%E5%B0%BE%E8%B0%83%E7%94%A8" target="_blank" rel="noopener"
>尾调用优化&lt;/a>。&lt;/p>
&lt;p>&lt;sup>7&lt;/sup>反之则不一定成立。尽管有时候可以证明两段代码是等价的，但不是在所有的情况下都可以得出这样的结论。&lt;/p>
&lt;p>&lt;sup>8&lt;/sup>实际上这样做并不比栈上存储要慢，因为在引入&lt;a class="link" href="http://zh.wikipedia.org/wiki/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6_%28%E8%A8%88%E7%AE%97%E6%A9%9F%E7%A7%91%E5%AD%B8%29" target="_blank" rel="noopener"
>垃圾回收机制&lt;/a>后，内存分配操作的时间代价仅为O(1)。&lt;/p></description></item><item><title>安腾Linux下使用笔记.md</title><link>https://svtter.cn/p/%E5%AE%89%E8%85%BElinux%E4%B8%8B%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0.md/</link><pubDate>Thu, 24 Mar 2016 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%AE%89%E8%85%BElinux%E4%B8%8B%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0.md/</guid><description>&lt;p>在Linux下是没有一个合适的安腾客户端的（烟大）&lt;/p>
&lt;p>因此利用虚拟机来实现这个问题&lt;/p>
&lt;h2 id="需要的环境">需要的环境
&lt;/h2>&lt;ul>
&lt;li>win7 iso&lt;/li>
&lt;li>virtualbox&lt;/li>
&lt;li>wproxy&lt;/li>
&lt;/ul>
&lt;h2 id="安装">安装
&lt;/h2>&lt;p>安装好win7以后（设置什么，自己百度吧），设置网络为桥接。然后查询一下自己网卡的Mac地址（Linux下），点高级设置，将高级设置的Mac地址更改为Linux的Mac地址。&lt;/p>
&lt;p>进入以后，安装安腾客户端。&lt;/p>
&lt;h2 id="方法">方法
&lt;/h2>&lt;ul>
&lt;li>打开wproxy，代理设置中，选择ip为本机的ip（Windows下），打开代理。&lt;/li>
&lt;li>然后在Linux中，将代理服务器设置为Windows的ip即可&lt;/li>
&lt;/ul>
&lt;h2 id="原理">原理
&lt;/h2>&lt;p>桥接（Bridge）模式可以这样理解，主机和虚拟机都作为一个独立的机器在互联网中。因此，仅仅是虚拟机上网，主机也是无法连接到网络的，因此需要在Win上安装代理服务器，提供网络服务。这里其实还可以用ss等著名的代理软件，wproxy并不是必须的。本人也不保证wproxy的安全性。&lt;/p></description></item><item><title>Leanote – theme_API优化</title><link>https://svtter.cn/p/leanote-theme_api%E4%BC%98%E5%8C%96/</link><pubDate>Thu, 10 Mar 2016 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/leanote-theme_api%E4%BC%98%E5%8C%96/</guid><description>&lt;p>我本身不是应该前端的Hacker（当然我自己也不知自己属于什么Hacker)，于是决定在&lt;code>themeAPI&lt;/code>上参见一下&lt;code>hexo&lt;/code>的做法。&lt;/p>
&lt;p>但是再此之前，想要首先将&lt;code>leanote&lt;/code>的&lt;code>markdown&lt;/code>渲染API加入到&lt;code>themeAPI&lt;/code>里面去，所以首先研究一下官方的主题是如何运作的。&lt;/p></description></item><item><title>Leanote – 源码阅读</title><link>https://svtter.cn/p/leanote-%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/</link><pubDate>Thu, 10 Mar 2016 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/leanote-%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/</guid><description>&lt;p>写一下如何阅读Leanote的源代码。&lt;/p>
&lt;hr>
&lt;p>上面的go的框架我是没有仔细看，感觉似乎用到了很多开源项目？整体来说，leanote应该是一个伟大的项目。&lt;/p>
&lt;h2 id="熟悉gulpfile">熟悉gulpfile
&lt;/h2>&lt;p>这里有一篇日志 &lt;a class="link" href="https://segmentfault.com/a/1190000000372547" target="_blank" rel="noopener"
>https://segmentfault.com/a/1190000000372547&lt;/a>&lt;/p>
&lt;p>基本读完以后就懂了。&lt;code>cnpm install -g gulp&lt;/code>安装一下。&lt;/p>
&lt;p>大体上读一读可以发现，&lt;code>gulpfile&lt;/code>用于构造&lt;code>leanote&lt;/code>的前端内容。&lt;/p>
&lt;h2 id="后记20171211">后记2017.12.11
&lt;/h2>&lt;p>这篇博文后来我没有写下去，因为后面不再使用leanote——读代码这件事情，其实不需要耗费太多时间，就可以做的不错。&lt;/p></description></item><item><title>编程相关的文章</title><link>https://svtter.cn/p/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3%E7%9A%84%E6%96%87%E7%AB%A0/</link><pubDate>Thu, 10 Mar 2016 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E7%BC%96%E7%A8%8B%E7%9B%B8%E5%85%B3%E7%9A%84%E6%96%87%E7%AB%A0/</guid><description>&lt;p>保存在这里&lt;/p></description></item><item><title>Python – 批量重命名</title><link>https://svtter.cn/p/python-%E6%89%B9%E9%87%8F%E9%87%8D%E5%91%BD%E5%90%8D/</link><pubDate>Wed, 09 Mar 2016 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/python-%E6%89%B9%E9%87%8F%E9%87%8D%E5%91%BD%E5%90%8D/</guid><description>&lt;p>要用酷狗音乐听一下听力，顺带着lrc文件，但是酷狗只认krc。料想也没什么区别，单个修改下，考入以后发现并不好用，于是决定改回。但是一个个改实在太笨拙。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="ch">#!/usr/bin/env python&lt;/span>
&lt;span class="c1"># authour: svtter&lt;/span>
&lt;span class="c1"># coding: utf-8&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">os&lt;/span>
&lt;span class="n">files&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">listdir&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;.&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="n">filename&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">files&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">portion&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">splitext&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">filename&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">portion&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s1">&amp;#39;.krc&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">newname&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">portion&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s2">".lrc"&lt;/span>
&lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">rename&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">filename&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">newname&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>塞尔网吐槽</title><link>https://svtter.cn/p/%E5%A1%9E%E5%B0%94%E7%BD%91%E5%90%90%E6%A7%BD/</link><pubDate>Wed, 09 Mar 2016 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%A1%9E%E5%B0%94%E7%BD%91%E5%90%90%E6%A7%BD/</guid><description>&lt;hr>
&lt;blockquote>
&lt;p>说真的，我真是有些受够了这该死的赛尔网了。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>—— 沃·兹基硕德&lt;/p>&lt;/blockquote>
&lt;p>要知道windows的cmd何其难用，就算是安装了cmder也是难逃大量环境配置问题，脚本执行问题。该死的赛尔网没有Linux版的客户端，何其尴尬。以我个人认为，开发一个Linux的客户端，并不是难事 —— 有人说有啊的确有Linux版的客户端啊。但是请问能用吗。压根不能用。&lt;/p>
&lt;p>这就不得不讨论到今年提速降费的问题上了。终于不绑定ip了，所谓提速就是从2M提高到了3M，降费就是从40降到30。但是很明显这依然满足不了需求不是吗？&lt;/p></description></item><item><title>如何正确的使用Powerline</title><link>https://svtter.cn/p/%E5%A6%82%E4%BD%95%E6%AD%A3%E7%A1%AE%E7%9A%84%E4%BD%BF%E7%94%A8powerline/</link><pubDate>Sun, 06 Mar 2016 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%A6%82%E4%BD%95%E6%AD%A3%E7%A1%AE%E7%9A%84%E4%BD%BF%E7%94%A8powerline/</guid><description>&lt;p>最近终于研究清楚了&lt;code>Powerline&lt;/code>的使用方法。也是之前没有好好的阅读文档的缘故。&lt;/p>
&lt;p>无论&lt;code>Windows&lt;/code>还是&lt;code>Linux&lt;/code>最简单的方法都是下载&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/powerline/fonts" target="_blank" rel="noopener"
>https://github.com/powerline/fonts&lt;/a>&lt;/p>
&lt;p>下载以后，Linux运行install.sh，Windows运行install.ps1，即可安装。&lt;/p></description></item><item><title>最近的吐槽</title><link>https://svtter.cn/p/%E6%9C%80%E8%BF%91%E7%9A%84%E5%90%90%E6%A7%BD/</link><pubDate>Sat, 05 Mar 2016 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E6%9C%80%E8%BF%91%E7%9A%84%E5%90%90%E6%A7%BD/</guid><description>&lt;p>这几天考研复试准备的不咋地。。没有听听力。。&lt;/p>
&lt;h2 id="关于leanote">关于leanote
&lt;/h2>&lt;p>&lt;code>leanote&lt;/code>兄最近是不更新了吗。。项目一点进展也没有啊。。120多个&lt;code>issues&lt;/code>了，看的我心里那个急啊。Go并不是很难，但是我这里本身调试环境不是很好，加上就算是我提交了&lt;code>pull request&lt;/code>，是否能够马上反应到&lt;code>leanote.com&lt;/code>呢? 真是令人相当的苦闷啊…&lt;/p>
&lt;h2 id="生活">生活
&lt;/h2>&lt;p>今天算是过的不错的一天，看了黑客与画家，看的我真是相当的感动。真是有种知音的感觉。于是乎也并不在意那么多，只要代码在手里，任自由也好。开心就好。反正目前也是不需要特别定下自己究竟要去往哪个方向。既然都喜欢，那么我就按照都喜欢的学好了。&lt;/p>
&lt;p>囚徒健身也已经开始，大体上已经按照计划行事。论文看的很快，今天大约看了3篇，目测不出两天就看完了，可喜可贺，看完以后讨论相关的内容，与老师说话也是有了一番底气。&lt;/p>
&lt;p>明天一定要开始英语听力了不然真是来不及了。。&lt;/p>
&lt;h2 id="下一步">下一步
&lt;/h2>&lt;p>至于怎么样也不想去想了。其实也没什么好想的，努力做好自己，顺其自然就好，非要强求什么也不是个办法。考研那些慢慢来吧，如果今年不幸没有通过国家线，那也是这个学年没有好好学习的后果，自己要慢慢的补偿。我觉得即便是能过，书单，计划也要像从前一样。在新的地方，继续努力磨练自己。&lt;/p></description></item><item><title>Git一记</title><link>https://svtter.cn/p/git%E4%B8%80%E8%AE%B0/</link><pubDate>Fri, 04 Mar 2016 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/git%E4%B8%80%E8%AE%B0/</guid><description>&lt;p>在windows上，无论我怎么&lt;code>git init&lt;/code>，他永远初始化一个这么神奇的目录。我就看不懂了。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>Reinitialized existing Git repository in C:/Program Files/Git/cmd/
&lt;/pre>
&lt;/div>
&lt;p>后来仔细找了一下，发现变量里面有个很神奇的&lt;code>GIT_DIR&lt;/code>，改了以后发现&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>Initialized empty Git repository in D:/Program Files/Git/cmd/
&lt;/pre>
&lt;/div>
&lt;p>尼玛，真是到位了。&lt;/p>
&lt;p>删除试试。&lt;/p>
&lt;p>&lt;img src="http://leanote.com/api/file/getImage?fileId=56d9152aab64417fb1003c7b"
loading="lazy"
alt="title"
>&lt;/p>
&lt;p>感动。&lt;/p></description></item><item><title>关于hexo主题到leanote主题的移植</title><link>https://svtter.cn/p/%E5%85%B3%E4%BA%8Ehexo%E4%B8%BB%E9%A2%98%E5%88%B0leanote%E4%B8%BB%E9%A2%98%E7%9A%84%E7%A7%BB%E6%A4%8D/</link><pubDate>Wed, 24 Feb 2016 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%85%B3%E4%BA%8Ehexo%E4%B8%BB%E9%A2%98%E5%88%B0leanote%E4%B8%BB%E9%A2%98%E7%9A%84%E7%A7%BB%E6%A4%8D/</guid><description>&lt;p>似乎是个辛苦的差事。&lt;/p>
&lt;blockquote>
&lt;p>首先，hexo使用的ejs模板引擎，也就是说，整个代码的构建是要利用ejs的。然而hexo使用的则是golang模板引擎，这两个引擎我都不了解，ejs我是略微有所接触，并不深入，因此整个任务可以说是困难重重。但是面对这个令人万分讨厌的默认主题以及字体，我必须要做点什么了。&lt;/p>&lt;/blockquote>
&lt;h2 id="思路">思路
&lt;/h2>&lt;p>clone了两个代码看了看，分析了几条思路。&lt;/p>
&lt;h3 id="思路一直接在ejs的基础上修改">思路一：直接在ejs的基础上修改
&lt;/h3>&lt;p>既然ejs是一个模板引擎，那么从中寻找相同点，手写一个可以读取ejs的工具，重新构建成golang模板，即自动化生成工具。可以应对多种主题，一劳永逸，在自动生成的基础上对新生成的代码再加工。&lt;/p>
&lt;ul>
&lt;li>实现方法：了解ejs模板，golang模板，需要利用编译器知识，对原本的ejs文件进行重新编译，编译成golang的模板。（是否已经有类似的成品？）&lt;/li>
&lt;li>优点：一劳永逸&lt;/li>
&lt;li>缺点：实现难度较高，需要分析&lt;/li>
&lt;/ul>
&lt;h3 id="思路二使用hexo生成html文件后手动修改">思路二：使用hexo生成html文件后，手动修改
&lt;/h3>&lt;p>这种方法相对第一种来讲，实现较为简单。即：利用hexo生成的静态文件，在&lt;code>public&lt;/code>生成的文件进行分析修改。利用此方法，如果生成的html文件不复杂且结构清晰可用。&lt;/p>
&lt;ul>
&lt;li>实现方法：直接生成出接近成品的html文件，手动修改。&lt;/li>
&lt;li>优点：简单粗暴&lt;/li>
&lt;li>缺点：只能针对单一主题，且人工活动量较大。&lt;/li>
&lt;/ul>
&lt;h3 id="思路三登录leanote论坛多叫几声">思路三：登录leanote论坛多叫几声。
&lt;/h3>&lt;h2 id="结语">结语
&lt;/h2>&lt;p>综上所述，个人决定首先手动修改一次，凑合着使用。然后再利用编译原理知识进行进一步修改，实现思路一。好的程序员是给自己出问题的= =。&lt;/p>
&lt;p>成品稍后奉上。&lt;/p>
&lt;p>半成品:&lt;/p></description></item><item><title>入了输入法的新坑Rime..</title><link>https://svtter.cn/p/%E5%85%A5%E4%BA%86%E8%BE%93%E5%85%A5%E6%B3%95%E7%9A%84%E6%96%B0%E5%9D%91rime../</link><pubDate>Wed, 24 Feb 2016 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%85%A5%E4%BA%86%E8%BE%93%E5%85%A5%E6%B3%95%E7%9A%84%E6%96%B0%E5%9D%91rime../</guid><description>&lt;h2 id="简单介绍一下rime">简单介绍一下Rime
&lt;/h2>&lt;p>摘自项目简介&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/rime/home/wiki/Introduction" target="_blank" rel="noopener"
>https://github.com/rime/home/wiki/Introduction&lt;/a>&lt;/p>
&lt;p>= =直接复制粘贴总感觉不是很好。读完整个简介感觉作者逼格很高。个人对ibus的印象非常之好，远胜于fcitx。可能是因为某狗的印象所致。某狗做的还是很好的。&lt;/p>
&lt;h2 id="如何在ubuntu下开始">如何在ubuntu下开始
&lt;/h2>&lt;blockquote>
&lt;p>题外话：反复来回，仗着网速10M搞了好多发行版，这几天换了启动模式UEFI，感觉已经不是自己的那台老家伙了，加上AHCI，感觉流畅不少。换成了Gnome以后整体使用感觉相当舒畅。KDE总感觉分外杂乱，个人更喜欢被限制在一个区域来拘束我放荡不羁的灵魂。&lt;/p>&lt;/blockquote>
&lt;p>似乎ubuntu在12.04已经在其软件仓库内置了Rime。&lt;/p>
&lt;p>安装时只需要&lt;code>sudo apt-get install ibus-rime&lt;/code>即可。&lt;/p>
&lt;p>如果从&lt;code>input method&lt;/code>里无法添加，从终端输入&lt;code>ibus-setup&lt;/code>添加一次。&lt;/p>
&lt;p>然后如果还不行，建议&lt;code>reboot&lt;/code>来试试。重启完成以后应该就可以添加了。&lt;/p>
&lt;p>&lt;code>ctrl+`&lt;/code>用于呼出各种配置。其他的参加官网吧。&lt;/p>
&lt;h2 id="后记">后记
&lt;/h2>&lt;p>私以为作者是个湾湾，结果不是。= =。&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/lotem" target="_blank" rel="noopener"
>https://github.com/lotem&lt;/a>&lt;/p>
&lt;p>嗷，大神。&lt;/p></description></item><item><title>Python – 复入坑</title><link>https://svtter.cn/p/python-%E5%A4%8D%E5%85%A5%E5%9D%91/</link><pubDate>Tue, 23 Feb 2016 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/python-%E5%A4%8D%E5%85%A5%E5%9D%91/</guid><description>&lt;p>= =亲爱的Python再次拿起来。。&lt;/p>
&lt;h2 id="检测python进入参数的类型">检测Python进入参数的类型
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="k">def&lt;/span> &lt;span class="nf">my_abs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="nb">isinstance&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nb">int&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">float&lt;/span>&lt;span class="p">)):&lt;/span>
&lt;span class="k">raise&lt;/span> &lt;span class="ne">TypeError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;bad operand type&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">x&lt;/span>
&lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">x&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h2 id="默认参数陷阱">默认参数陷阱
&lt;/h2>&lt;p>&lt;code>L=[]&lt;/code>会一直都是原来的值，因此初始值需要为&lt;code>None&lt;/code>&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="k">def&lt;/span> &lt;span class="nf">add_end&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">L&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="bp">None&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">L&lt;/span> &lt;span class="ow">is&lt;/span> &lt;span class="bp">None&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">L&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[]&lt;/span>
&lt;span class="n">L&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;END&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">L&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h2 id="利用可变参数">利用可变参数
&lt;/h2>&lt;p>利用可变参数，可以一次传递多个值给函数。此外，还可以利用&lt;code>*&lt;/code>把原来的&lt;code>list&lt;/code>变成多个参数传入&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="k">def&lt;/span> &lt;span class="nf">calc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">numbers&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="nb">sum&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">numbers&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="nb">sum&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">sum&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">n&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="nb">sum&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>结果：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="o">&amp;gt;&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">calc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="mi">5&lt;/span>
&lt;span class="o">&amp;gt;&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">calc&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="mi">&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>此外:&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="o">&amp;gt;&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">nums&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="o">&amp;gt;&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">calc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">nums&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">nums&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">nums&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="mi">14&lt;/span>
&lt;span class="c1"># 这种写法当然是可行的，问题是太繁琐，所以Python允许你在list或tuple前面加一个*号，把list或tuple的元素变成可变参数传进去：&lt;/span>
&lt;span class="o">&amp;gt;&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">nums&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="o">&amp;gt;&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">calc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">nums&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="mi">14&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h2 id="关键字参数">关键字参数
&lt;/h2>&lt;p>可变参数允许你传入0个或任意个参数，这些可变参数在函数调用时自动组装为一个tuple。而关键字参数允许你传入0个或任意个含参数名的参数，这些关键字参数在函数内部自动组装为一个dict。请看示例：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="k">def&lt;/span> &lt;span class="nf">person&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">age&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">**&lt;/span>&lt;span class="n">kw&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="k">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;name:&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;age:&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">age&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;other:&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">kw&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1"># &amp;gt;&amp;gt;&amp;gt; person(&amp;#39;Michael&amp;#39;, 30)&lt;/span>
&lt;span class="c1"># name: Michael age: 30 other: {}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>也可以传入任意个数的关键字参数：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="o">&amp;gt;&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">person&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Bob&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">35&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">city&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;Beijing&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Bob&lt;/span> &lt;span class="n">age&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">35&lt;/span> &lt;span class="n">other&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="s1">&amp;#39;city&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s1">&amp;#39;Beijing&amp;#39;&lt;/span>&lt;span class="p">}&lt;/span>
&lt;span class="o">&amp;gt;&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">person&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Adam&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">45&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">gender&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;M&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">job&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;Engineer&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Adam&lt;/span> &lt;span class="n">age&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">45&lt;/span> &lt;span class="n">other&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="s1">&amp;#39;gender&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s1">&amp;#39;M&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;job&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s1">&amp;#39;Engineer&amp;#39;&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>关键字参数有什么用？它可以扩展函数的功能。&lt;/p>
&lt;p>和可变参数类似，也可以先组装出一个dict，然后，把该dict转换为关键字参数传进去：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&amp;gt;&amp;gt;&amp;gt; extra = {&amp;#39;city&amp;#39;: &amp;#39;Beijing&amp;#39;, &amp;#39;job&amp;#39;: &amp;#39;Engineer&amp;#39;}
&amp;gt;&amp;gt;&amp;gt; person(&amp;#39;Jack&amp;#39;, 24, city=extra[&amp;#39;city&amp;#39;], job=extra[&amp;#39;job&amp;#39;])
name: Jack age: 24 other: {&amp;#39;city&amp;#39;: &amp;#39;Beijing&amp;#39;, &amp;#39;job&amp;#39;: &amp;#39;Engineer&amp;#39;}
&lt;/pre>
&lt;/div>
&lt;p>简化的写法：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&amp;gt;&amp;gt;&amp;gt; extra = {&amp;#39;city&amp;#39;: &amp;#39;Beijing&amp;#39;, &amp;#39;job&amp;#39;: &amp;#39;Engineer&amp;#39;}
&amp;gt;&amp;gt;&amp;gt; person(&amp;#39;Jack&amp;#39;, 24, **extra)
name: Jack age: 24 other: {&amp;#39;city&amp;#39;: &amp;#39;Beijing&amp;#39;, &amp;#39;job&amp;#39;: &amp;#39;Engineer&amp;#39;}
&lt;/pre>
&lt;/div>
&lt;p>&lt;code>**extra&lt;/code>表示把extra这个dict的所有key-value用关键字参数传入到函数的&lt;code>**kw&lt;/code>参数，kw将获得一个dict，注意kw获得的dict是extra的一份拷贝，对kw的改动不会影响到函数外的extra。&lt;/p>
&lt;h2 id="切片坑">切片坑
&lt;/h2>&lt;p>前10个数，每两个取一个：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="o">&amp;gt;&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">L&lt;/span>&lt;span class="p">[:&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="p">[&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>所有数，每5个取一个：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="o">&amp;gt;&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">L&lt;/span>&lt;span class="p">[::&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="p">[&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">15&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">25&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">30&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">35&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">40&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">45&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">50&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">55&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">60&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">65&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">70&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">75&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">80&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">85&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">90&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">95&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h2 id="列表生成式">列表生成式
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="c1"># -*- coding: utf-8 -*-&lt;/span>
&lt;span class="n">L1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;Hello&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;World&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">18&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;Apple&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="bp">None&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="n">L2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">lower&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">s&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">L1&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="nb">isinstance&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">]&lt;/span>
&lt;span class="c1"># 期待输出: [&amp;#39;hello&amp;#39;, &amp;#39;world&amp;#39;, &amp;#39;apple&amp;#39;]&lt;/span>
&lt;span class="k">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">L2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h2 id="参考">参考：
&lt;/h2>&lt;ol>
&lt;li>&lt;a class="link" href="http://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000" target="_blank" rel="noopener"
>廖雪峰的Python教程&lt;/a>&lt;/li>
&lt;/ol></description></item><item><title>格式化代码的快捷键</title><link>https://svtter.cn/p/%E6%A0%BC%E5%BC%8F%E5%8C%96%E4%BB%A3%E7%A0%81%E7%9A%84%E5%BF%AB%E6%8D%B7%E9%94%AE/</link><pubDate>Sun, 21 Feb 2016 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E6%A0%BC%E5%BC%8F%E5%8C%96%E4%BB%A3%E7%A0%81%E7%9A%84%E5%BF%AB%E6%8D%B7%E9%94%AE/</guid><description>&lt;p>随手记录快速整理代码的快捷键&lt;/p>
&lt;h2 id="webstorm">webstorm
&lt;/h2>&lt;blockquote>
&lt;p>ctrl+alt+l&lt;/p>&lt;/blockquote>
&lt;h2 id="eclipse">eclipse
&lt;/h2>&lt;blockquote>
&lt;p>ctrl+shift+f&lt;/p>&lt;/blockquote></description></item><item><title>如何处理perl</title><link>https://svtter.cn/p/%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86perl/</link><pubDate>Sat, 20 Feb 2016 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86perl/</guid><description>&lt;p>perl: warning: Falling back to the standard locale (“C”) 此类问题？&lt;/p>
&lt;p>&lt;img src="http://leanote.com/api/file/getImage?fileId=56c875e1ab64413c8b001464"
loading="lazy"
alt="图片标题"
>&lt;/p></description></item><item><title>饥荒搭建教程收集</title><link>https://svtter.cn/p/%E9%A5%A5%E8%8D%92%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B%E6%94%B6%E9%9B%86/</link><pubDate>Tue, 26 Jan 2016 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E9%A5%A5%E8%8D%92%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B%E6%94%B6%E9%9B%86/</guid><description>&lt;blockquote>
&lt;p>don’t starve together 饥荒正版，专用服务器搭建收集。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>如果没有学过CS以及相关专业就没有看的必要了。。&lt;/p>&lt;/blockquote>
&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="http://ju.outofmemory.cn/entry/185291" target="_blank" rel="noopener"
>Linux&lt;/a>&lt;/p>
&lt;blockquote>
&lt;p>搭建教程。对于mod的配置没有细说。&lt;/p>&lt;/blockquote>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="https://github.com/coolya/dnst-server-docker" target="_blank" rel="noopener"
>docker&lt;/a>&lt;/p>
&lt;blockquote>
&lt;p>docker一键配置应该是最简单的方法，但是我目前对于docker的了解实在是垃圾。。明天买个阿里云测试一下docker。&lt;/p>&lt;/blockquote>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="http://steamcommunity.com/sharedfiles/filedetails/?id=382584094&amp;amp;searchtext=dedicated" target="_blank" rel="noopener"
>steamCommunity上的教程&lt;/a>&lt;/p>
&lt;blockquote>
&lt;p>比较靠谱，但是针对Windows，一般人也不会通宵达旦的开着自己的电脑吧。。大概。&lt;/p>&lt;/blockquote>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="http://www.cnblogs.com/mchina/archive/2013/01/30/2880680.html" target="_blank" rel="noopener"
>Linux Screen命令&lt;/a>&lt;/p>
&lt;blockquote>
&lt;p>用于保持持续运行。。不过似乎可以用别的方法，例如作为系统服务运行。&lt;/p>&lt;/blockquote>
&lt;/li>
&lt;/ul>
&lt;p>顺便发现了一个BUG就是使用sh启动的时候，lua似乎会按照../的方式向上层目录寻找导致mod读取失败。所以还是老老实实进入游戏文件start吧。&lt;/p>
&lt;h2 id="饥荒linux服务器自动更新脚本">饥荒Linux服务器自动更新脚本
&lt;/h2>&lt;p>国外有人制作了docker，不过仔细看看，似乎难度也不是很高。打算自己羞羞的写个自动更新脚本，不过感觉过于简单，没有写出来的必要。给个思路即可，利用crontab在合适的时间干掉dont…，然后走steamcmd更新下，再重新启动即可。奈何自己从未认真研究过一本小书 ，说来惭愧。不过感觉对于Linux还是有一定的了解，也算是充分利用了知识。&lt;/p>
&lt;p>PS：steam官方提供了更新脚本，但是有时候不是很好用，有时候会提示缺少token起不来。不过总体没有问题。&lt;/p>
&lt;h2 id="docker">Docker
&lt;/h2>&lt;p>可以在daocloud上找到写好dockfile的DST，但是此类配置需要另外再书写教程，如果我单纯的推广不知道是否对daocloud的口。&lt;/p>
&lt;p>&lt;strong>后来&lt;/strong>看了看daocloud容器数量上，社区版大概x3，但是想要一个2048需要x16，花费有些大。。所以只能放弃了。&lt;/p>
&lt;h2 id="总结">总结
&lt;/h2>&lt;p>如果没有财力，不打算赚钱，做DST真是有些费力。DST优点可能在于没有图形界面，资源方面不会有问题。但是现在的本本，最少也要4G内存，一般是不会出现资源问题，然而DST服务器，如果想要不花很多钱搞一个，还是比较困难的。&lt;/p></description></item><item><title>创建VLAN，和你的朋友玩局域网游戏吧！</title><link>https://svtter.cn/p/%E5%88%9B%E5%BB%BAvlan%E5%92%8C%E4%BD%A0%E7%9A%84%E6%9C%8B%E5%8F%8B%E7%8E%A9%E5%B1%80%E5%9F%9F%E7%BD%91%E6%B8%B8%E6%88%8F%E5%90%A7/</link><pubDate>Sat, 23 Jan 2016 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%88%9B%E5%BB%BAvlan%E5%92%8C%E4%BD%A0%E7%9A%84%E6%9C%8B%E5%8F%8B%E7%8E%A9%E5%B1%80%E5%9F%9F%E7%BD%91%E6%B8%B8%E6%88%8F%E5%90%A7/</guid><description>&lt;p>探索了一下，Shadowsocks仅仅是作为一个代理，并不提供VLAN服务，其他的例如openvpn（Windows上配置有些麻烦，卸载程序做的不彻底，换了安装路径出现问题），Gamer’s Internet Tunnel（好东西，但是并不易于小白操作）。&lt;/p>
&lt;p>最后发现了一款日本人写的开源软件。（其实也是不易于小白操作。。）&lt;/p>
&lt;h3 id="softether-vpnserver">【softether-vpnserver】
&lt;/h3>&lt;ul>
&lt;li>
&lt;p>具体的搭建教程：&lt;/p>
&lt;blockquote>
&lt;p>&lt;a class="link" href="http://bluereader.org/article/6875396" target="_blank" rel="noopener"
>http://bluereader.org/article/6875396&lt;/a>&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>非常简单粗暴地是，不少简单的互联系统采取拆包挖洞的方法，因此需要分析各种协议，例如IPX等，但是此软件直接粗暴地在vpn基础上加上个dhcp服务器，也就是加入这个vpnserver，就加入了一个远程局域网。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>因此，我们可以利用此特点，不做坏坏的事情，只是单纯的和朋友们建立私人通道，玩玩游戏。。&lt;/p>&lt;/blockquote>
&lt;/li>
&lt;li>
&lt;p>下载&lt;/p>
&lt;blockquote>
&lt;p>&lt;a class="link" href="https://www.softether.org/" target="_blank" rel="noopener"
>https://www.softether.org/&lt;/a>&lt;/p>&lt;/blockquote>
&lt;/li>
&lt;/ul>
&lt;h3 id="pptp">【pptp】
&lt;/h3>&lt;ul>
&lt;li>&lt;a class="link" href="http://ju.outofmemory.cn/entry/195240" target="_blank" rel="noopener"
>http://ju.outofmemory.cn/entry/195240&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://bbs.aliyun.com/read/162297.html" target="_blank" rel="noopener"
>https://bbs.aliyun.com/read/162297.html&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>对于对战平台不知道是怎么做的， 应该是从协议方面入手吧&lt;/p>
&lt;hr>
&lt;h1 id="后记">后记
&lt;/h1>&lt;p>现在看来，网络编程方面做得十分欠缺，写出这种博客也只能反应出自己的知识匮乏不足。继续修行。&lt;/p></description></item><item><title>2016-01-02 近日事</title><link>https://svtter.cn/p/2016-01-02-%E8%BF%91%E6%97%A5%E4%BA%8B/</link><pubDate>Sat, 02 Jan 2016 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/2016-01-02-%E8%BF%91%E6%97%A5%E4%BA%8B/</guid><description>&lt;h2 id="终于考研结束了">终于考研结束了
&lt;/h2>&lt;p>这段时间考研也是发现了很多问题，比如自己不得不承认的面对压力的无措等等。学习一段时间就会走小差等等。但是这些问题我都能认识到并且自己寻找方法改正，一旦被别人揪着说就很不爽。学习上一段时间就不由自主的浮躁，内容多而枯燥。但是现在反过来想，这次考研考试的打脸是不是也说明了一个问题，不应该公式化的学习考研数学，发现真是自己证明贯通研究的东西，才是真正的掌握并且能够临危不乱的。在专业课等方面亦是如此。&lt;/p>
&lt;p>这次考研有后悔吗？有，很多。但是有收获吗？考之前我不认为自己有什么收获，但是现在回头想想，是必然有的。认识了自己的不足，以及学习的东西的不扎实，没有深度。其实在大学学习的过程中每次都对我有所提示，只是我一直忽略了这些提示，导致自己直到这次考研才吃了个苦头。也不知这次结果究竟如何，已经没有心思，没有勇气去比对答案，自己对自己的斤两也是清楚的很。无论怎么临场发挥，最终决定你能否考上的还是你平时的努力程度，我认为自己的努力程度不够自己上研究生。&lt;/p>
&lt;p>目前为止，我是想为此再奋斗一年的。&lt;/p>
&lt;p>看了看github上空的一大段：&lt;/p>
&lt;p>&lt;img src="https://leanote.com/api/file/getImage?fileId=5695bd0aab64415d490032d2"
loading="lazy"
alt="title"
>&lt;/p>
&lt;p>这就是考研的一段时间。其实考研我并没有抽出太多在学习上，中间放松的时间也完全可以学点技术啊自己的喜欢的东西，但是我也没那么做。感觉好像耽搁时间。事实上，也并没有耽搁很多时间。&lt;/p>
&lt;p>猛然想起与学弟约好讲讲经验。不过目前为止，应该都是失败的经验了吧。细细想来，都有点不大敢去实验室，怕面对恩师，也是觉得丢了ACM实验室这个优秀团体的脸。相当愧疚。想起当时学弟庆功宴上老师说的一句话，也着实打脸：快手未必就好，快手可能不够扎实。也是直击了我的命脉。&lt;/p>
&lt;p>考完之后马上浮现的想法是，在数学上面再多读些书。专业课纯粹是按照应试的方法学习，感觉没什么意思，的确应该是课本为主，在课本的基础上拓展才是正确。我考的不是408，不过做了很多408的题目，感觉还是那样，课本通了，很多自然就通了，否则花费大量的时间，收获还不会很多。专业课这个东西，就得靠平时积累。&lt;/p>
&lt;p>此外，想要整几本国外的教材看看，从另一个角度看看问题，也是提高自己的英文水平，可能要比这直接来的更加优秀一些。参考书目可以从考研参考中选。&lt;/p>
&lt;h2 id="考研之后">考研之后
&lt;/h2>&lt;p>考研的时候，可能被迫于每天重复做同样的事情，整的想着考完之后要做什么，看这个看那个，现在考完了，反而看看，基本上没有什么是真的能够好好做的。也可能是受了“应该要二战”的思想制约，目前感觉做啥也不那么回事儿。想图个新鲜打个游戏主播玩，但是仔细一想客观上没有条件，主观上又有点受不务正业的思想制约，于是作罢。微信公共账号，现在来看，做出来似乎价值也不是很大，也不知做点什么，一头雾水。只剩下一个网站可以做做。网站近来考虑使用什么技术来做。感觉自己虽然学习的不算少，但是特别精通的着实不多。Python做总感觉距离有些遥远，开发起来也比较麻烦（也是学的不到家），PHP是一个很好的选择，Javascript总感觉有些不伦不类，函数式编程自己掌握的不好，是学习下去还是拿来使用，感觉不太好。反正不是很喜欢这个语言，也纯粹是个人喜好。&lt;/p></description></item><item><title>aecium Ubuntu 使用赛尔网</title><link>https://svtter.cn/p/aecium-ubuntu-%E4%BD%BF%E7%94%A8%E8%B5%9B%E5%B0%94%E7%BD%91/</link><pubDate>Fri, 09 Oct 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/aecium-ubuntu-%E4%BD%BF%E7%94%A8%E8%B5%9B%E5%B0%94%E7%BD%91/</guid><description>&lt;p>１，先把aecium的下载地址贴出来&lt;/p>
&lt;p>２，下载后首先解压，把它复制到bin文件夹下作为指令来使用。具体命令为：&lt;/p>
&lt;p>&lt;code>$sudo cp aecium /usr/bin/program_name&lt;/code>&lt;/p>
&lt;p>３，然后打开你的网卡设置，把赛尔分配给你的ip等信息填上再执行&lt;/p>
&lt;p>&lt;code>$program_name -h IP -u username -p password -d eth0 -f&lt;/code>&lt;/p>
&lt;p>　(program_name为上一步你给程序起的名字，IP为学校计费服务器的IP地址，鲁东大学计　　费服务器为10.0.2.5 ,username和password分别为上网验证用的用户名和密码，eth0为　　你　接网线的网卡，一般默认都是eth0）&lt;/p>
&lt;p>　　运行后，如图所示&lt;/p>
&lt;p>４，鲁大校园网赛尔验证成功通过&lt;/p>
&lt;p>５，如果你想下线的话，可以使用如下命令&lt;/p>
&lt;p>　　$program_name -l&lt;/p>
&lt;p>　（我感觉此功能一般没用）&lt;/p>
&lt;p>其它的使用方法见下：&lt;/p>
&lt;blockquote>
&lt;p>Usage 1:&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>./aecium &lt;/p>
\[-h Host] -u Username -p Password [-d Device\]&lt;p> &lt;/p>
\[-f\]&lt;/blockquote>
&lt;blockquote>
&lt;p>-h Host attestation host IP address.&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>-u Username your user name.&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>-p Password your user password.&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>-d Device your network card interface.&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>-f find server type.&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>Usage 2:&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>./aecium -l&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>-l Leave leave Internet.&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>Usage 3:&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>./aecium -v&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>-v Version show program version.&lt;/p>&lt;/blockquote>
&lt;p>如无说明即为原创文章，转载请注明： 转载自DoMyself（DM）&lt;/p></description></item><item><title>将GNU代入Windows！</title><link>https://svtter.cn/p/%E5%B0%86gnu%E4%BB%A3%E5%85%A5windows/</link><pubDate>Thu, 10 Sep 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%B0%86gnu%E4%BB%A3%E5%85%A5windows/</guid><description>&lt;p>GNU is an operating system that is free software.&lt;/p>
&lt;p>下载&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/bmatzelle/gow/releases/download/v0.8.0/Gow-0.8.0.exe" target="_blank" rel="noopener"
>https://github.com/bmatzelle/gow/releases/download/v0.8.0/Gow-0.8.0.exe&lt;/a>&lt;/p>
&lt;p>正如项目介绍所说：&lt;/p>
&lt;p>Gow – The lightweight alternative to Cygwin&lt;/p>
&lt;h2 id="win32-utilities-overview">Win32 Utilities Overview
&lt;/h2>&lt;p>Below are just a few of the 100+ applications found in Gow.&lt;/p>
&lt;p>Shell scripting: bash, zsh&lt;/p>
&lt;p>Compression: gzip, zip, bzip2, compress&lt;/p>
&lt;p>SSH: putty, psftp, pscp, pageant, plink&lt;/p>
&lt;p>Download/upload: cURL, wget&lt;/p>
&lt;p>FTP: NcFTP&lt;/p>
&lt;p>Editing: vim, nano&lt;/p>
&lt;p>Text search/view: grep, agrep, less, cat, tail, head&lt;/p>
&lt;p>File system: mv, cp, du, ls, pwd, rmdir, whereis&lt;/p>
&lt;p>Development: make, diff, diff3, sleep, cvs, dos2unix, unix2dos&lt;/p>
&lt;p>带来了许多非常有用的工具，打包的非常完全。&lt;/p></description></item><item><title>那些年有趣的API</title><link>https://svtter.cn/p/%E9%82%A3%E4%BA%9B%E5%B9%B4%E6%9C%89%E8%B6%A3%E7%9A%84api/</link><pubDate>Wed, 09 Sep 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E9%82%A3%E4%BA%9B%E5%B9%B4%E6%9C%89%E8%B6%A3%E7%9A%84api/</guid><description>&lt;p>图灵机器人： &lt;a class="link" href="http://www.tuling123.com/" target="_blank" rel="noopener"
>http://www.tuling123.com/&lt;/a>&lt;/p></description></item><item><title>Webstorm安装Vim插件+Vim配置</title><link>https://svtter.cn/p/webstorm%E5%AE%89%E8%A3%85vim%E6%8F%92%E4%BB%B6-vim%E9%85%8D%E7%BD%AE/</link><pubDate>Mon, 07 Sep 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/webstorm%E5%AE%89%E8%A3%85vim%E6%8F%92%E4%BB%B6-vim%E9%85%8D%E7%BD%AE/</guid><description>&lt;h2 id="webstorm">Webstorm
&lt;/h2>&lt;blockquote>
&lt;p>使用webstorm进行前端开发&lt;/p>&lt;/blockquote>
&lt;p>最近使用webstorm进行了简单小游戏的开发，感觉十分强大。&lt;/p>
&lt;h2 id="插件安装">插件安装
&lt;/h2>&lt;ul>
&lt;li>ideavim&lt;/li>
&lt;/ul>
&lt;p>使用&lt;code>Ctrl+Alt+s&lt;/code>召唤Settings，输入Plugin，Browse，找到ideavim，安装。此时提示重启webstorm，先不必重启，打开&lt;code>C:\User\&amp;quot;当前用户&amp;quot;&lt;/code>，建立&lt;code>_ideavim&lt;/code>，加上&lt;code>source _vimrc&lt;/code>读入自己的vim配置文件即可。根本停不下来。&lt;/p>
&lt;p>早知道有如此工具在下也不至于在web上如此痛苦。个人认为，比起配置原生态Vim，这样开发更加好用，节省博主本来就不多的脑细胞。&lt;/p></description></item><item><title>ChinaUnicom的高速连接方法</title><link>https://svtter.cn/p/chinaunicom%E7%9A%84%E9%AB%98%E9%80%9F%E8%BF%9E%E6%8E%A5%E6%96%B9%E6%B3%95/</link><pubDate>Thu, 27 Aug 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/chinaunicom%E7%9A%84%E9%AB%98%E9%80%9F%E8%BF%9E%E6%8E%A5%E6%96%B9%E6%B3%95/</guid><description>&lt;p>找到网关在浏览器中输入即可。&lt;/p></description></item><item><title>近日事项</title><link>https://svtter.cn/p/%E8%BF%91%E6%97%A5%E4%BA%8B%E9%A1%B9/</link><pubDate>Thu, 27 Aug 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E8%BF%91%E6%97%A5%E4%BA%8B%E9%A1%B9/</guid><description>&lt;p>最近因为考研准备一直都没有更新blog。考研复习进度已经非常糟糕了，但愿别出什么差错。。&lt;/p>
&lt;h2 id="宿舍直播视频网络搭建">宿舍直播视频网络搭建
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>宿舍的网络实在是太坑爹，赛尔垄断也就不多说了，联通这个传说中4M的网络平均速度200K/s也真是让人醉了。于是弄了个信号接收器直接收校园WLAN，效果不错。没错就是小盘子。型号是3070，买的时候也没有多做考虑，来了以后才发现能适配win10，也是吓尿了，等了5天没有网络着实太痛苦了。来了以后通过猎豹wifi共享多次不成，不是无法建立热点，就是建立好了，密码死活不对。后来尽管建立成功加入成功了，视频共享功能又不能愉快地使用。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>尽管远程操作十分诱人，但是明显不足以弥补这缺陷，于是换成了wifi链接精灵。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>其实win10本身也是自带软AP的，但是windows命令行操作，我并不是很熟悉，所以暂时没有用，毕竟我们要考研学习啊！&lt;/p>
&lt;p>–&lt;img src="http://leanote.com/api/file/getImage?fileId=55decf5b38f4115bf2002b40"
loading="lazy"
alt="握拳"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>视频播放软件一直都没有明确。最一开始的使用Samba（网上邻居）+ 一些samba播放器。小视频用起来还可以，大视频就不行了（你懂得）。研究了一下应该不是路由器的限制（当时还是通过宿舍路由进行共享的），感觉应该是windows本身smb的限制，加上ios上面除了威动播放器以外，其他的播放器使用samba都需要收费，就没有继续使用下去。后来身为开源软件脑残粉的我在使用VLC的过程中发现有plex media这个选项，于是开心的google+百度云盘下载了一个plex server，使用起来感觉比网上邻居要流畅。配置方面非常简单，直接安装即可，然后添加媒体文件夹，更新下数据库即可。仔细观察下后端还是我大Python = =。lol。ios上官方的客户端只能看1min的电影，不是，考研视频。所以还是建议使用开源的vlc。android就无所谓了，简单搜索下发现有破解版，也就没有仔细看了。此外，Plex还有Linux版本，性能应该差不多 — 因为后面都是Python。总而言之是能看了。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>后来又倒弄了一下，因为宿舍的宽带不能使用了，路由器就成了玩具 — 仔细观察发现路由器的系统就是嵌入式的Linux啊。。当初还以为是特别开发的什么什么系统，按照赵老师所说，思科的大型路由器路由表都固化成硬件了等等。然而，小小的tp-link是没有那么大的本事的。就是个简单的嵌入型linux。其实一开始脑洞开的时候，想通过刷个开源的openwrt到路由器中，来共享WLAN作为全宿舍上网的桥梁，但是研究后发现愚蠢的WR875不能刷openwrt。悲伤。其他的什么扩展系统就更别提了。因为本身不是学习嵌入式的，自己制作感觉不现实。驱动什么的就弄不好。（问题应该就在驱动上，拆了tplink的官方包？反正我是没有去做过。。看硬件配置应该是可以的）。再后来动心思到我的小小树莓派上，但是我没有无线网卡。。我的小米随身WIFI还因为下海挂掉了。所以只得作罢。如果有时间倒是真的可以考虑下搞个无线网卡，给树莓派刷个openwrt或者更加粗暴的Debian来提供网络。说了这么多我想大家也是明白了小米路由的大体原理了。我觉得八九不离十就是个小的设备，搞了个高大上的路由系统。当然也只是我个人认为，没有什么依据，毕竟我没钱玩小米路由（微笑）。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>后来在自己的电脑上搭建了一个非常简单的DHCP服务器，准备利用win10自带的桥接功能，给路由器的WAN口插上，直接把路由器当成外置WIFI使用，发现的确可以。有兴趣的同学可以试试。bing搜索 dhcp for windows.即可。路由设置我就不说了。路由器又愉快地利用起来了。。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>毕竟我们要考研学习啊！&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;img src="http://leanote.com/api/file/getImage?fileId=55decf5a38f4115bf2002b3f"
loading="lazy"
alt="握拳"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>不过把电脑当做视频服务器似乎会减少硬盘寿命。。= =。我的天。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="最近的吐槽">最近的吐槽
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>昨天简单的看了看坚果手机发布会后的新闻报道。看见一个支持开源项目等等等。不知道小米等公司支持了没说还是怎的，锤子拿出来我就感觉很有逼格，瞬间路转粉。当然粉也没什么用处。坚果手机应该分期12个月是买的起的，但是手里有着粑粑买的肾6，再买个坚果纯粹是作。所以暂时作罢。估计坚果很讲究情怀的话，也没什么可以玩的地方吧。要是能刷ubuntu那也是屌屌哒。SSD存储的话就不担心坏道了= =。&lt;/p>
&lt;/li>
&lt;li>&lt;/li>
&lt;/ul></description></item><item><title>软件设计模式 — 简单工厂模式</title><link>https://svtter.cn/p/%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/</link><pubDate>Tue, 14 Jul 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/</guid><description/></item><item><title>Python – 数据结构</title><link>https://svtter.cn/p/python-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/</link><pubDate>Thu, 09 Jul 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/python-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/</guid><description>&lt;ul>
&lt;li>&lt;a class="link" href="http://blog.jobbole.com/65218/" target="_blank" rel="noopener"
>http://blog.jobbole.com/65218/&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="http://blog.csdn.net/column/details/wklken4ds-alg-py.html" target="_blank" rel="noopener"
>http://blog.csdn.net/column/details/wklken4ds-alg-py.html&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>UML – 学习笔记</title><link>https://svtter.cn/p/uml-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</link><pubDate>Tue, 30 Jun 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/uml-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</guid><description>&lt;h2 id="用例图">用例图
&lt;/h2>&lt;p>扩展和包含：&lt;/p>
&lt;ul>
&lt;li>
&lt;p>扩展(extend)： extend关系是对基用例的扩展，&lt;strong>基用例是一个完整的用例，即使没有子用例的参与，也可以完成一个完整的功能&lt;/strong>。extend的基用例中将存在一个扩展点，只有当扩展点被激活时，子用例才会被执行。 extend关系在用例图中使用带箭头的虚线表示(在线上标注&amp;laquo;extend&amp;raquo;)，&lt;strong>箭头从子用例指向基用例&lt;/strong>。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>包含(include)： include为包含关系，当两个或多个用例中共用一组相同的动作，这时可以将这组相同的动作抽出来作为一个独立的子用例，供多个基用例所共享。因为子用例被抽出，基用例并非一个完整的用例，所以&lt;strong>include关系中的基用例必须和子用例一起使用才够完整，子用例也必然被执行&lt;/strong>。include关系在用例图中使用带箭头的虚线表示(在线上标注&amp;laquo;include&amp;raquo;)，箭头&lt;strong>从基用例指向子用例&lt;/strong>。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="设计模式">设计模式
&lt;/h2>&lt;p>&lt;strong>参考的学习资料：&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="http://peterwei.iteye.com/blog/958803" target="_blank" rel="noopener"
>http://peterwei.iteye.com/blog/958803&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="http://design-patterns.readthedocs.org/zh_CN/latest/creational_patterns/creational.html" target="_blank" rel="noopener"
>图说设计模式&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>About ElementaryOS</title><link>https://svtter.cn/p/about-elementaryos/</link><pubDate>Mon, 15 Jun 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/about-elementaryos/</guid><description>&lt;p>Obviously, it’s a beautiful operating system but basing on Ubuntu make it so weak that cannot afford simple change, like add other ppa.&lt;/p>
&lt;p>Otherwise, all ubuntu based OS just like that. It’s unaffordrable, itn’t?&lt;/p></description></item><item><title>Ubuntu – 常用问题整理</title><link>https://svtter.cn/p/ubuntu-%E5%B8%B8%E7%94%A8%E9%97%AE%E9%A2%98%E6%95%B4%E7%90%86/</link><pubDate>Sun, 14 Jun 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/ubuntu-%E5%B8%B8%E7%94%A8%E9%97%AE%E9%A2%98%E6%95%B4%E7%90%86/</guid><description>&lt;h2 id="uml">UML
&lt;/h2>&lt;ul>
&lt;li>StarUML &lt;a class="link" href="https://launchpad.net/ubuntu/&amp;#43;source/libgcrypt11" target="_blank" rel="noopener"
>15.04 lost package:&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="system-speed-up">System Speed up
&lt;/h2>&lt;ul>
&lt;li>readahead (systemd)&lt;/li>
&lt;/ul>
&lt;h2 id="system-beauty">System beauty
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>powerline&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>arc-theme&lt;/code> search from github&lt;/p>
&lt;/li>
&lt;li>
&lt;p>infinality字体配置: &lt;a class="link" href="http://askubuntu.com/questions/527349/font-rendering-problem-in-ubuntu" target="_blank" rel="noopener"
>http://askubuntu.com/questions/527349/font-rendering-problem-in-ubuntu&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>除非能够解决添加源ppa，否则尽量不要添加。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="vpn">VPN
&lt;/h2>&lt;p>&lt;a class="link" href="http://www.youhuima.cc/bandwagonhost%E5%92%8Cbandwagonhost%E4%BC%98%E6%83%A0%E7%A0%81.html" target="_blank" rel="noopener"
>http://www.youhuima.cc/bandwagonhost%E5%92%8Cbandwagonhost%E4%BC%98%E6%83%A0%E7%A0%81.html&lt;/a>&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="http://www.tennfy.com/2020.html" target="_blank" rel="noopener"
>http://www.tennfy.com/2020.html&lt;/a>&lt;/li>
&lt;li>一键安装s &lt;a class="link" href="http://www.tennfy.com/2136.html" target="_blank" rel="noopener"
>http://www.tennfy.com/2136.html&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="字体渲染-lcd屏幕">字体渲染-LCD屏幕
&lt;/h2>&lt;p>&lt;a class="link" href="http://leaeasy.blog.163.com/blog/static/1164291542010118052686/" target="_blank" rel="noopener"
>http://leaeasy.blog.163.com/blog/static/1164291542010118052686/&lt;/a>&lt;/p></description></item><item><title>来自2015-06-14的吐槽</title><link>https://svtter.cn/p/%E6%9D%A5%E8%87%AA2015-06-14%E7%9A%84%E5%90%90%E6%A7%BD/</link><pubDate>Sun, 14 Jun 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E6%9D%A5%E8%87%AA2015-06-14%E7%9A%84%E5%90%90%E6%A7%BD/</guid><description>&lt;p>好久没有更新blog了。其实就是没干什么事情，这段时间。&lt;/p>
&lt;p>昨天的占座撕逼真心让人心力憔悴，为了个占座考研真是太拼了，这个学期真是感觉没有做好什么事情，省赛三等。。其实现在回过头来想想，自己训练的时候计划有问题，本来差不多就那么忙吧= =&lt;/p>
&lt;p>剩下的时间我再也不跟你们撕逼了-.-，座位我给你们，请你们随意，我真心承受不了这一波了。我在宿舍看书还不行。&lt;/p>
&lt;p>昨天四六级考试之后那个气势我真是怕了。但是问题就在眼前，偏偏就是没人处理。说句难听的，出了事儿问责，还是会找到管理层的。早晚的事儿。&lt;/p></description></item><item><title>Python的高精度计算</title><link>https://svtter.cn/p/python%E7%9A%84%E9%AB%98%E7%B2%BE%E5%BA%A6%E8%AE%A1%E7%AE%97/</link><pubDate>Sun, 31 May 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/python%E7%9A%84%E9%AB%98%E7%B2%BE%E5%BA%A6%E8%AE%A1%E7%AE%97/</guid><description>&lt;p>关于浮点数: &lt;a class="link" href="http://www.cnblogs.com/herbert/p/3402245.html" target="_blank" rel="noopener"
>http://www.cnblogs.com/herbert/p/3402245.html&lt;/a>&lt;/p>
&lt;p>大整数python计算是没有问题的。&lt;/p>
&lt;h2 id="math">math
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>math.cos()
math.sin()
&lt;/pre>
&lt;/div></description></item><item><title>数值分析计算，C++实现</title><link>https://svtter.cn/p/%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E8%AE%A1%E7%AE%97c-%E5%AE%9E%E7%8E%B0/</link><pubDate>Sun, 31 May 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E6%95%B0%E5%80%BC%E5%88%86%E6%9E%90%E8%AE%A1%E7%AE%97c-%E5%AE%9E%E7%8E%B0/</guid><description>&lt;p>&lt;a class="link" href="https://github.com/Svtter/numerical_analysis" target="_blank" rel="noopener"
>https://github.com/Svtter/numerical_analysis&lt;/a>&lt;/p></description></item><item><title>Python建立简单的http服务器</title><link>https://svtter.cn/p/python%E5%BB%BA%E7%AB%8B%E7%AE%80%E5%8D%95%E7%9A%84http%E6%9C%8D%E5%8A%A1%E5%99%A8/</link><pubDate>Fri, 29 May 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/python%E5%BB%BA%E7%AB%8B%E7%AE%80%E5%8D%95%E7%9A%84http%E6%9C%8D%E5%8A%A1%E5%99%A8/</guid><description>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>python -m SimpleHTTPServer 8080
可以通过Python快速测试代码= =
&lt;/pre>
&lt;/div></description></item><item><title>关于误差的一些总结</title><link>https://svtter.cn/p/%E5%85%B3%E4%BA%8E%E8%AF%AF%E5%B7%AE%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%BB%E7%BB%93/</link><pubDate>Fri, 29 May 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%85%B3%E4%BA%8E%E8%AF%AF%E5%B7%AE%E7%9A%84%E4%B8%80%E4%BA%9B%E6%80%BB%E7%BB%93/</guid><description>&lt;blockquote>
&lt;p>来自于老师的课堂，觉得受益特此记录&lt;/p>&lt;/blockquote>
&lt;h2 id="1-四则运算的稳定性">1. 四则运算的稳定性
&lt;/h2>&lt;ul>
&lt;li>加法&lt;/li>
&lt;/ul>
&lt;p>防止大数吃掉小数&lt;/p>
&lt;ul>
&lt;li>减法&lt;/li>
&lt;/ul>
&lt;p>避免相近数相减&lt;/p>
&lt;ul>
&lt;li>乘法除法&lt;/li>
&lt;/ul>
&lt;p>避免小数作除数和大数作乘数&lt;/p>
&lt;h2 id="2-提高算法的效率数值算法">2. 提高算法的效率（数值算法）
&lt;/h2>&lt;p>(1) 尽量减少运算次数，多项式可使用秦九韶算法&lt;/p>
&lt;p>(2) 使用耗时少的运算。&lt;/p>
&lt;p>排在前面的耗时少&lt;/p>
&lt;p>|运算1|运算2|&lt;/p>
&lt;p>|:—–:|:—–:|&lt;/p>
&lt;p>|x+x|2x|&lt;/p>
&lt;p>|x_x|$x^2$|&lt;/p>
&lt;p>|x_0.25|x/4|&lt;/p>
&lt;p>计算机中的除法也是利用迭代法求解的。&lt;/p>
&lt;p>(3) 充分利用存储空间。&lt;/p></description></item><item><title>Windows中的终端cmder</title><link>https://svtter.cn/p/windows%E4%B8%AD%E7%9A%84%E7%BB%88%E7%AB%AFcmder/</link><pubDate>Thu, 28 May 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/windows%E4%B8%AD%E7%9A%84%E7%BB%88%E7%AB%AFcmder/</guid><description>&lt;p>因为一些神奇的缘故不得不停留在windows，但是为低效垃圾的cmd与一直让人心烦，于是下载了cmder。&lt;/p>
&lt;p>这是官方：http://gooseberrycreative.com/cmder/&lt;/p>
&lt;p>给没有梯子的同学= = 带有msysgit&lt;/p>
&lt;p>&lt;a class="link" href="http://pan.baidu.com/s/1mgDt32g" target="_blank" rel="noopener"
>http://pan.baidu.com/s/1mgDt32g&lt;/a>&lt;/p>
&lt;p>但是安装以后提示缺少某个神奇的dll，需要安装2015库。&lt;/p>
&lt;p>详细见这个issue：https://github.com/bliker/cmder/issues/501&lt;/p>
&lt;p>坑爹的是cmder在github上的源代码clone下来也是不能用的，这算啥啊- –&lt;/p>
&lt;p>反正安装就到这里了= =怎么用请自己继续探索吧。。&lt;/p></description></item><item><title>前端效果mark</title><link>https://svtter.cn/p/%E5%89%8D%E7%AB%AF%E6%95%88%E6%9E%9Cmark/</link><pubDate>Thu, 28 May 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%89%8D%E7%AB%AF%E6%95%88%E6%9E%9Cmark/</guid><description>&lt;ul>
&lt;li>&lt;a class="link" href="http://www.baidufe.com/item/df906a985d9d9d6acd60.html" target="_blank" rel="noopener"
>alien&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="http://www.iteye.com/news/28656" target="_blank" rel="noopener"
>http://www.iteye.com/news/28656&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="http://www.csdn.net/article/2013-02-25/2814245-20-best-front-end-framework" target="_blank" rel="noopener"
>http://www.csdn.net/article/2013-02-25/2814245-20-best-front-end-framework&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="http://www.open-lib.com/Type/166-1.jsp" target="_blank" rel="noopener"
>http://www.open-lib.com/Type/166-1.jsp&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="http://maroslaw.github.io/rainyday.js/" target="_blank" rel="noopener"
>http://maroslaw.github.io/rainyday.js/&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/maroslaw/rainyday.js" target="_blank" rel="noopener"
>https://github.com/maroslaw/rainyday.js&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>最近</title><link>https://svtter.cn/p/%E6%9C%80%E8%BF%91/</link><pubDate>Thu, 28 May 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E6%9C%80%E8%BF%91/</guid><description>&lt;p>最近被数值分析算法整的我是焦头烂额= =然后发现原来ACM中的一些算法也是来自数值分析 — 分段插值。&lt;/p>
&lt;p>然后打算以后每天星期六晚上依然做下bc = = 也算是作死。最近因为占的座位和新找的座位全部都是各种吵，基本上都停滞了，最近才是重新开始背单词，但是长难句没有什么进展，已然欠下又是一个月TAT。&lt;/p>
&lt;p>近期因为要做一些礼物，打算晚上回来利用这段时间每天简单的学一点前端效果然后做个礼物= =，过了这段时间依然是算法的节奏吧。这届大一看了看真是已经在正轨上了，以后烟大的ACM出名了自己也可以说我也曾经是元老级别的人物之一啊哈哈哈哈。&lt;/p></description></item><item><title>Ubuntu – samba_server</title><link>https://svtter.cn/p/ubuntu-samba_server/</link><pubDate>Sat, 23 May 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/ubuntu-samba_server/</guid><description>&lt;p>原来发了一篇博文说遇到问题先查Ubuntu的docs。但是docs没有怎么办呢？还是查鸟哥私房菜或者archwiki吧。。。&lt;/p>
&lt;p>比如说samba配置，ubuntu给的文档就比较差劲。&lt;/p>
&lt;p>&lt;a class="link" href="http://wiki.ubuntu.com.cn/Samba" target="_blank" rel="noopener"
>http://wiki.ubuntu.com.cn/Samba&lt;/a>&lt;/p>
&lt;p>卸载以后systemctl直接启动不起来了。&lt;/p>
&lt;p>&lt;strong>samba服务可以提供打印，视频流，文件共享等服务。&lt;/strong>&lt;/p>
&lt;p>解决方法是&lt;code>dpkg-reconfigure samba-common&lt;/code>，或者&lt;code>cp /usr/share/samba/smb.conf&lt;/code>来解决没有conf的问题。&lt;/p>
&lt;p>今天因为要传考研视频觉得有些麻烦顺便搞搞这个。哎，什么时候才能有个考研座位啊！！我想复习啊！！！&lt;/p>
&lt;p>对了，ubuntu的问题还可以到这里http://askubuntu.com/&lt;/p>
&lt;p>但是很讨厌的是，国内的访问速度并不怎么样。&lt;/p>
&lt;p>/ &lt;em>当个运维也是很不错啊= =。hacker是不是很多都会个运维啊。&lt;/em>/&lt;/p>
&lt;p>配置文件搞的不太行，直接贴一个askubuntu上比较好用的：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="k">[global]&lt;/span>
&lt;span class="na">workgroup&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">WORKGROUP&lt;/span>
&lt;span class="s"> server string = %h server (Samba, Ubuntu)&lt;/span>
&lt;span class="s"> dns proxy = no&lt;/span>
&lt;span class="s"> log file = /var/log/samba/log.%m&lt;/span>
&lt;span class="s"> max log size = 1000&lt;/span>
&lt;span class="s"> syslog = 0&lt;/span>
&lt;span class="s"> panic action = /usr/share/samba/panic-action %d&lt;/span>
&lt;span class="s"> encrypt passwords = true&lt;/span>
&lt;span class="s"> passdb backend = tdbsam&lt;/span>
&lt;span class="s"> obey pam restrictions = yes&lt;/span>
&lt;span class="s"> unix password sync = yes&lt;/span>
&lt;span class="s"> passwd program = /usr/bin/passwd %u&lt;/span>
&lt;span class="s"> passwd chat = *Enter\snew\s*\spassword:* %n\n *Retype\snew\s*\spassword:* %n\n *password\supdated\ssuccessfully* .&lt;/span>
&lt;span class="s"> pam password change = yes&lt;/span>
&lt;span class="s"> map to guest = bad user&lt;/span>
&lt;span class="s"> usershare allow guests = yes&lt;/span>
&lt;span class="s"> username map = /etc/samba/smbusers&lt;/span>
&lt;span class="s"> security = user&lt;/span>
&lt;span class="s"> guest ok = yes&lt;/span>
&lt;span class="s"> guest account = nobody&lt;/span>
&lt;span class="s"> usershare max shares = 100&lt;/span>
&lt;span class="s"> usershare owner only = False&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>博客一谈</title><link>https://svtter.cn/p/%E5%8D%9A%E5%AE%A2%E4%B8%80%E8%B0%88/</link><pubDate>Thu, 21 May 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%8D%9A%E5%AE%A2%E4%B8%80%E8%B0%88/</guid><description>&lt;p>从最初的csdn到博客园到wordpress到hexo，一直到现在的leanote。&lt;/p>
&lt;p>中间的一些小众博客平台就不谈了。&lt;/p>
&lt;p>现在用leanote的主要原因是csdn页面太丑。&lt;/p>
&lt;ul>
&lt;li>
&lt;p>中间国产的几个博客配置系统也使用过，对markdown的支持惨不忍睹。当然其中也不缺乏不错的产品，只是一个好的前端太重要。。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>wordpress在我半年前配置的时候也总是不顺畅。之前使用sae搭建的实在不怎么样，但是自己上传慢慢安装之后心中对空间的使用始终存在芥蒂。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>leanote除了限制流量以外没有什么，不过我就是一小弱渣，肯定不会有什么问题。&lt;/p></description></item><item><title>关于软件设计与体系结构的学习</title><link>https://svtter.cn/p/%E5%85%B3%E4%BA%8E%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E4%B8%8E%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E7%9A%84%E5%AD%A6%E4%B9%A0/</link><pubDate>Thu, 21 May 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%85%B3%E4%BA%8E%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E4%B8%8E%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E7%9A%84%E5%AD%A6%E4%B9%A0/</guid><description>&lt;p>存在问题，比如进行UML学习的时候，发现简单的设计我也做不出，对UML图掌握程度比较差。&lt;/p>
&lt;p>此外，设计模式并没有好好地敲代码，理解的也不够透彻。&lt;/p></description></item><item><title>软件设计模式 — 行为型模式</title><link>https://svtter.cn/p/%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A1%8C%E4%B8%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F/</link><pubDate>Thu, 21 May 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A1%8C%E4%B8%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F/</guid><description>&lt;p>代码全部贴在github。因为UML图挂在processon上了，不过没有加连接。等写完全文就把链接加上。&lt;/p>
&lt;p>首先是对象的行为模式：&lt;/p>
&lt;h2 id="1-策略模式">1. 策略模式
&lt;/h2>&lt;p>针对一组算法，将每个算法封装到具有共同接口的独立类中，从而使得他们可以相互替换。&lt;/p>
&lt;h2 id="2-状态模式">2. 状态模式
&lt;/h2>&lt;p>改变类中的状态。&lt;/p>
&lt;p>策略模式和状态模式很像，不同在：状态模式解决内在状态的改变，策略模式解决内部算法的改变。感觉上没什么特别大的区别。- -。&lt;/p>
&lt;h2 id="3-命令模式">3. 命令模式
&lt;/h2>&lt;hr>
&lt;p>类的行为模式：&lt;/p>
&lt;h2 id="1-模板方法模式">1. 模板方法模式
&lt;/h2></description></item><item><title>第六届山东省ACM总结</title><link>https://svtter.cn/p/%E7%AC%AC%E5%85%AD%E5%B1%8A%E5%B1%B1%E4%B8%9C%E7%9C%81acm%E6%80%BB%E7%BB%93/</link><pubDate>Sat, 16 May 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E7%AC%AC%E5%85%AD%E5%B1%8A%E5%B1%B1%E4%B8%9C%E7%9C%81acm%E6%80%BB%E7%BB%93/</guid><description>&lt;blockquote>
&lt;p>拖了好久才写这份总结，中间考试，聚会，等等都推迟了这事儿。写的过程中一度想要不写了，可能是觉得结果有些不尽人意吧。&lt;/p>&lt;/blockquote>
&lt;h2 id="赛程">赛程
&lt;/h2>&lt;p>早上6点多起床，然后吃了个早饭，大概7点钟出发，路上前面的两位都在听歌，我因为耳机找不到，也没有下电影，思想神游了4个小时，也是挺佩服自己的 — 或者是刷微博？&lt;/p>
&lt;p>到了以后大体上逛了下山科的校园，挺大，环境也不错，但是明显能够感觉出年轻，没有岁月的味道，心情一直是比较平静的。下午热身赛，没有特别出彩，已经不记得当时在个什么名次上 — 反正也不是很重要= =&lt;/p>
&lt;p>然后就是正式比赛，拿了铜牌。&lt;/p>
&lt;blockquote>
&lt;p>不想空洞的描述这场比赛，还是随意一点，然后再简单整理一下吧。&lt;/p>&lt;/blockquote>
&lt;p>比赛之前的晚上发现自己博弈部分没有掌握好，图论部分也是没有完全看完重点，但是因为第五届的比赛的原因，觉得无妨，图论题目应该出了也做不出来（的确，没做出来，笑），博弈因为去年有一个（后来想到可能是记错了），所以也是没有很在意，觉得应该不至于不幸的一次就搞到我不擅长的地方吧！&lt;/p>
&lt;p>结果正式比赛正好考到博弈和图论，博弈费了好些力才推理出来，图论一开始搞错了题目的意思，最后分析题目计算时间复杂度的时候就已经发现可能超时间，但是没有找出合理的办法 — 其实在当时看看，也的确应该是去试试，因为感觉可能比较简单，AC的人并不少。&lt;/p>
&lt;p>当然赛后发现如果有那个知识，那么这道题目还是比较简单的，哈哈。&lt;/p>
&lt;p>GH题目就是比较简单的质因子分解+哈希，但是糟糕的是当时虽然想到质因子分解，但是没有具体的细想，去探究，深度不够。 — 也是因为受了之前比赛的影响，很多时候因为我自己想得太深方向还不对结果浪费了时间。&lt;/p>
&lt;h2 id="总结">总结
&lt;/h2></description></item><item><title>近期算法笔记</title><link>https://svtter.cn/p/%E8%BF%91%E6%9C%9F%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/</link><pubDate>Fri, 08 May 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E8%BF%91%E6%9C%9F%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/</guid><description>&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="http://argcv.com/articles/72.c" target="_blank" rel="noopener"
>算法书籍&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>莫队算法&lt;/p>
&lt;/li>
&lt;li>
&lt;p>最大团&lt;/p>
&lt;/li>
&lt;li>
&lt;p>最短路&lt;/p>
&lt;/li>
&lt;li>
&lt;p>A _搜索算法——图形搜索算法，从给定起点到给定终点计算出路径。其中使用了一种启发式的估算，为每个节点估算通过该节点的最佳路径，并以之为各个地点排定次序。算法以得到的次序访问这些节点。因此，A_搜索算法是最佳优先搜索的范例。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>集束搜索（又名定向搜索，Beam Search）——最佳优先搜索算法的优化。使用启发式函数评估它检查的每个节点的能力。不过，集束搜索只能在每个深度中发现最前面的m个最符合条件的节点，m是固定数字——集束的宽度。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>二分查找（Binary Search）——在线性数组中找特定值的算法，每个步骤去掉一半不符合要求的数据。&lt;/p>
&lt;p>分支界定算法（Branch and Bound）——在多种最优化问题中寻找特定最优化解决方案的算法，特别是针对离散、组合的最优化。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Buchberger算法——一种数学算法，可将其视为针对单变量最大公约数求解的欧几里得算法和线性系统中高斯消元法的泛化。&lt;/p>
&lt;p>数据压缩——采取特定编码方案，使用更少的字节数（或是其他信息承载单元）对信息编码的过程，又叫来源编码。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Diffie-Hellman密钥交换算法——一种加密协议，允许双方在事先不了解对方的情况下，在不安全的通信信道中，共同建立共享密钥。该密钥以后可与一个对称密码一起，加密后续通讯。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Dijkstra算法——针对没有负值权重边的有向图，计算其中的单一起点最短算法。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>离散微分算法（Discrete differentiation）&lt;/p>
&lt;/li>
&lt;li>
&lt;p>动态规划算法（Dynamic Programming）——展示互相覆盖的子问题和最优子架构算法&lt;/p>
&lt;/li>
&lt;li>
&lt;p>欧几里得算法（Euclidean algorithm）——计算两个整数的最大公约数。最古老的算法之一，出现在公元前300前欧几里得的《几何原本》。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>期望-最大算法（Expectation-maximization algorithm，又名EM-Training）——在统计计算中，期望-最大算法在概率模型中寻找可能性最大的参数估算值，其中模型依赖于未发现的潜在变量。EM在两个步骤中交替计算，第一步是计算期望，利用对隐藏变量的现有估计值，计算其最大可能估计值；第二步是最大化，最大化在第一步上求得的最大可能值来计算参数的值。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>快速傅里叶变换（Fast Fourier transform，FFT）——计算离散的傅里叶变换（DFT）及其反转。该算法应用范围很广，从数字信号处理到解决偏微分方程，到快速计算大整数乘积。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>梯度下降（Gradient descent）——一种数学上的最优化算法。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>哈希算法（Hashing）&lt;/p>
&lt;/li>
&lt;li>
&lt;p>堆排序（Heaps）&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Karatsuba乘法——需要完成上千位整数的乘法的系统中使用，比如计算机代数系统和大数程序库，如果使用长乘法，速度太慢。该算法发现于1962年。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>LLL算法（Lenstra-Lenstra-Lovasz lattice reduction）——以格规约（lattice）基数为输入，输出短正交向量基数。LLL算法在以下公共密钥加密方法中有大量使用：背包加密系统（knapsack）、有特定设置的RSA加密等等。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>最大流量算法（Maximum flow）——该算法试图从一个流量网络中找到最大的流。它优势被定义为找到这样一个流的值。最大流问题可以看作更复杂的网络流问题的特定情况。最大流与网络中的界面有关，这就是最大流-最小截定理（Max-flow min-cut theorem）。Ford-Fulkerson 能找到一个流网络中的最大流。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>合并排序（Merge Sort）&lt;/p>
&lt;/li>
&lt;li>
&lt;p>牛顿法（Newton’s method）——求非线性方程（组）零点的一种重要的迭代法。&lt;/p>
&lt;p>Q-learning学习算法——这是一种通过学习动作值函数（action-value function）完成的强化学习算法，函数采取在给定状态的给定动作，并计算出期望的效用价值，在此后遵循固定的策略。Q-leanring的优势是，在不需要环境模型的情况下，可以对比可采纳行动的期望效用。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>两次筛法（Quadratic Sieve）——现代整数因子分解算法，在实践中，是目前已知第二快的此类算法（仅次于数域筛法Number Field Sieve）。对于110位以下的十位整数，它仍是最快的，而且都认为它比数域筛法更简单。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>RANSAC——是“RANdom SAmple Consensus”的缩写。该算法根据一系列观察得到的数据，数据中包含异常值，估算一个数学模型的参数值。其基本假设是：数据包含非异化值，也就是能够通过某些模型参数解释的值，异化值就是那些不符合模型的数据点。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>RSA——公钥加密算法。首个适用于以签名作为加密的算法。RSA在电商行业中仍大规模使用，大家也相信它有足够安全长度的公钥。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Schönhage-Strassen算法——在数学中，Schönhage-Strassen算法是用来完成大整数的乘法的快速渐近算法。其算法复杂度为：O(N log(N) log(log(N)))，该算法使用了傅里叶变换。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>单纯型算法（Simplex Algorithm）——在数学的优化理论中，单纯型算法是常用的技术，用来找到线性规划问题的数值解。线性规划问题包括在一组实变量上的一系列线性不等式组，以及一个等待最大化（或最小化）的固定线性函数。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>奇异值分解（Singular value decomposition，简称SVD）——在线性代数中，SVD是重要的实数或复数矩阵的分解方法，在信号处理和统计中有多种应用，比如计算矩阵的伪逆矩阵（以求解最小二乘法问题）、解决超定线性系统（overdetermined linear systems）、矩阵逼近、数值天气预报等等。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>求解线性方程组（Solving a system of linear equations）——线性方程组是数学中最古老的问题，它们有很多应用，比如在数字信号处理、线性规划中的估算和预测、数值分析中的非线性问题逼近等等。求解线性方程组，可以使用高斯—约当消去法（Gauss-Jordan elimination），或是柯列斯基分解（ Cholesky decomposition）。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Strukturtensor算法——应用于模式识别领域，为所有像素找出一种计算方法，看看该像素是否处于同质区域（ homogenous region），看看它是否属于边缘，还是是一个顶点。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>合并查找算法（Union-find）——给定一组元素，该算法常常用来把这些元素分为多个分离的、彼此不重合的组。不相交集（disjoint-set）的数据结构可以跟踪这样的切分方法。合并查找算法可以在此种数据结构上完成两个有用的操作：&lt;/p>
&lt;p>查找：判断某特定元素属于哪个组。&lt;/p>
&lt;p>合并：联合或合并两个组为一个组。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>维特比算法（Viterbi algorithm）——寻找隐藏状态最有可能序列的动态规划算法，这种序列被称为维特比路径，其结果是一系列可以观察到的事件，特别是在隐藏的Markov模型中。&lt;/p>
&lt;/li>
&lt;/ul></description></item><item><title>ACM – 浙江省赛F – 图论</title><link>https://svtter.cn/p/acm-%E6%B5%99%E6%B1%9F%E7%9C%81%E8%B5%9Bf-%E5%9B%BE%E8%AE%BA/</link><pubDate>Thu, 07 May 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/acm-%E6%B5%99%E6%B1%9F%E7%9C%81%E8%B5%9Bf-%E5%9B%BE%E8%AE%BA/</guid><description>&lt;ul>
&lt;li>
&lt;p>浙江省赛题目，分析后直接暴力即可，奈何场上脑子里全是floyd，WA无数次。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>做题一定要先分析时间复杂问题，采取暴力方法，然后再考虑复杂问题解决方法。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>此外今天开始使用赛用vimrc才发现出现不少问题，还好提前使用了。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;string.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">m&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">maxn&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">100&lt;/span> &lt;span class="o">+&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">g&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">maxn&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">maxn&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">debug&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">j&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">j&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">g&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="c1">//freopen("input", "r", stdin);&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">cin&lt;/span> &lt;span class="o">&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">u&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">v&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">memset&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">g&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">g&lt;/span>&lt;span class="p">));&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d%d%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">m&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">m&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">u&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">v&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">g&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">u&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">v&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">g&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">v&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">u&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">ans&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">pre&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">ans&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">pre&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pre&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">ans&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="n">pre&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ans&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">j&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="c1">// itself&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="n">g&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="k">continue&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">s&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">s&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">s&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;&amp;&lt;/span> &lt;span class="n">s&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">&amp;&amp;&lt;/span> &lt;span class="n">g&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;&amp;&lt;/span> &lt;span class="n">g&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="n">count&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">count&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="n">ans&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">g&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">g&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ans&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>ACM – Uva10047 – 图论</title><link>https://svtter.cn/p/acm-uva10047-%E5%9B%BE%E8%AE%BA/</link><pubDate>Tue, 05 May 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/acm-uva10047-%E5%9B%BE%E8%AE%BA/</guid><description>&lt;p>隐式图搜索，多个状态然后减枝。。没看懂李大大所说可以承受是个啥意思。。&lt;/p>
&lt;p>做起来实在太累了。。减枝的部分看了别人的代码，发现着实麻烦，不如用优先队列来的痛快=- =还有用优先队列做的= =&lt;/p>
&lt;p>主要是$vis&lt;/p>
\[x\]\[y\]\[p\]\[c\]&lt;p>$这组状态比较难搞，但是给了优先级（时间短的先出队），事情就好办了。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;bits/stdc++.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="cp">#define INF 0x3f3f3f3f&lt;/span>
&lt;span class="cp">#define ll long long int&lt;/span>
&lt;span class="cp">#define MEM(a) memset(a, 0, sizeof(a))&lt;/span>
&lt;span class="cp">#define MEMM(a) memset(a, -1, sizeof(a))&lt;/span>
&lt;span class="cp">#define DEB(x, n) cout &amp;lt;&amp;lt; (x) &amp;lt;&amp;lt; " " &amp;lt;&amp;lt; (n) &amp;lt;&amp;lt; endl&lt;/span>
&lt;span class="cp">#define FOR(i, s, e) for(int (i) = (s); (i) &amp;lt; (e); (i)++)&lt;/span>
&lt;span class="cp">#define CR printf("\n")&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">double&lt;/span> &lt;span class="n">PI&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">acos&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">1.0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">maxn&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">30&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">char&lt;/span> &lt;span class="n">g&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">maxn&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">maxn&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="c1">// c, 0, 1, 2, 3, 4&lt;/span>
&lt;span class="c1">// blue,w,g,black,r;&lt;/span>
&lt;span class="k">struct&lt;/span> &lt;span class="n">Node&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">Node&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">){}&lt;/span>
&lt;span class="n">Node&lt;/span>&lt;span class="p">(){}&lt;/span>
&lt;span class="kt">bool&lt;/span> &lt;span class="n">operator&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">Node&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">t&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">};&lt;/span>
&lt;span class="n">Node&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">m&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kr">inline&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="nf">judge&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="mi">&lt;/span> &lt;span class="o">&amp;&amp;&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">m&lt;/span> &lt;span class="o">&amp;&amp;&lt;/span> &lt;span class="n">y&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="mi">&lt;/span> &lt;span class="o">&amp;&amp;&lt;/span> &lt;span class="n">y&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">bool&lt;/span> &lt;span class="n">vis&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">maxn&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">maxn&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">test&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">m&lt;/span> &lt;span class="p">;&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">++&lt;/span> &lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%2c"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">g&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">dx&lt;/span>&lt;span class="p">[]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">};&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">dy&lt;/span>&lt;span class="p">[]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">};&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">bfs&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">priority_queue&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Node&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">Node&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">next&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">ans&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">INF&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">empty&lt;/span>&lt;span class="p">())&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">t&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">top&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">pop&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="n">vis&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span> &lt;span class="o">&amp;&amp;&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">y&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">y&lt;/span> &lt;span class="o">&amp;&amp;&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">c&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">next&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">dx&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="n">next&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">y&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">dy&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="n">next&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">next&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">next&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">t&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">abs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">next&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">t&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">else&lt;/span>
&lt;span class="n">next&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">t&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">g&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="sc">&amp;#39;#&amp;#39;&lt;/span> &lt;span class="o">&amp;&amp;&lt;/span> &lt;span class="o">!&lt;/span>&lt;span class="n">vis&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="o">&amp;&amp;&lt;/span> &lt;span class="n">judge&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">next&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">ans&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="cp">#ifdef DEBUG&lt;/span>
&lt;span class="n">freopen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"input"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"r"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">stdin&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">//从input文件中读入&lt;/span>
&lt;span class="c1">// freopen("output", "w", stdout); //输出到output文件&lt;/span>
&lt;span class="cp">#endif&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">kase&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">m&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">EOF&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">MEM&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">vis&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">&lt;/span> &lt;span class="o">&amp;&amp;&lt;/span> &lt;span class="n">m&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">m&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%s"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">g&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="c1">// read &lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">m&lt;/span> &lt;span class="p">;&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">j&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">g&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="sc">&amp;#39;S&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">s&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Node&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">g&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="sc">&amp;#39;T&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">e&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Node&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">ans&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">bfs&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">kase&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">CR&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"Case #%d&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">kase&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ans&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">INF&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">puts&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"destination not reachable"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"minimum time = %d sec&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ans&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>ACM – Uva10054 – 欧拉回路</title><link>https://svtter.cn/p/acm-uva10054-%E6%AC%A7%E6%8B%89%E5%9B%9E%E8%B7%AF/</link><pubDate>Tue, 05 May 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/acm-uva10054-%E6%AC%A7%E6%8B%89%E5%9B%9E%E8%B7%AF/</guid><description>&lt;p>问能不能拼接一条项链，条件是首尾相同构成环。&lt;/p>
&lt;p>这个题的坑在：&lt;/p>
&lt;ol>
&lt;li>
&lt;p>虽然保证连通，但是不一定每个颜色都有，所以单纯的暴力euler(1)是很愚蠢的。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>题目本身是要求顺序输出的，也就是dfs不能回溯，如果回溯，为了保证准确性，需要交换uv的位置来保证。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>通过统计出度入度判断是否满足欧拉回路。&lt;/p>
&lt;/li>
&lt;/ol>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;bits/stdc++.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="cp">#define INF 0x3f3f3f3f&lt;/span>
&lt;span class="cp">#define ll long long int&lt;/span>
&lt;span class="cp">#define MEM(a) memset(a, 0, sizeof(a))&lt;/span>
&lt;span class="cp">#define MEMM(a) memset(a, -1, sizeof(a))&lt;/span>
&lt;span class="cp">#define DEB(x, n) cout &amp;lt;&amp;lt; (x) &amp;lt;&amp;lt; " " &amp;lt;&amp;lt; (n) &amp;lt;&amp;lt; endl&lt;/span>
&lt;span class="cp">#define FOR(i, s, e) for(int (i) = (s); (i) &amp;lt; (e); (i)++)&lt;/span>
&lt;span class="cp">#define CR printf("\n")&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">double&lt;/span> &lt;span class="n">PI&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">acos&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">1.0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">maxn&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">g&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">60&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="mi">60&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">euler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">u&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">v&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">v&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="mi">50&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">v&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">g&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">u&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">v&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">g&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">u&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">v&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">g&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">v&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">u&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">euler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">v&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d %d&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">v&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">u&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">degree&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">60&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">bool&lt;/span> &lt;span class="nf">check&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="mi">50&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">degree&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="nb">false&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="nb">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="cp">#ifdef DEBUG&lt;/span>
&lt;span class="n">freopen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"input"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"r"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">stdin&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">//从input文件中读入&lt;/span>
&lt;span class="c1">// freopen("output", "w", stdout); //输出到output文件&lt;/span>
&lt;span class="cp">#endif&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">cin&lt;/span> &lt;span class="o">&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">kase&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">kase&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">kase&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">memset&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">g&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">g&lt;/span>&lt;span class="p">));&lt;/span>
&lt;span class="n">memset&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">degree&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">degree&lt;/span>&lt;span class="p">));&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">f&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">g&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">f&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">g&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">f&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">degree&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">f&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">degree&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"Case #%d&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">kase&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">check&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">&amp;lt;=&lt;/span>&lt;span class="mi">50&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">euler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="n">puts&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"some beads may be lost"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">kase&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">CR&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>一些vim的想法</title><link>https://svtter.cn/p/%E4%B8%80%E4%BA%9Bvim%E7%9A%84%E6%83%B3%E6%B3%95/</link><pubDate>Tue, 05 May 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E4%B8%80%E4%BA%9Bvim%E7%9A%84%E6%83%B3%E6%B3%95/</guid><description>&lt;h2 id="插件管理方面">插件管理方面
&lt;/h2>&lt;ol>
&lt;li>对于Vundle，可以给每个插件添加一个简单的配置文件，针对不同的插件进行不同的载入，有时间可以实现一下。&lt;/li>
&lt;li>或者可以重新造轮子，自己写一个插件管理器，实现功能。&lt;/li>
&lt;li>莫非已经实现了功能而我没有发现？= =&lt;/li>
&lt;/ol>
&lt;h2 id="mapvim">Map.vim
&lt;/h2>&lt;ol>
&lt;li>/tmp/tmp.cpp&lt;/li>
&lt;/ol>
&lt;h2 id="acmvim">ACM.vim
&lt;/h2>&lt;ol>
&lt;li>添加gdb调试脚本功能。&lt;/li>
&lt;li>添加一键比对功能。&lt;/li>
&lt;/ol>
&lt;h2 id="另外">另外
&lt;/h2>&lt;p>可以将一部分相关的func转移。&lt;/p></description></item><item><title>灭火</title><link>https://svtter.cn/p/%E7%81%AD%E7%81%AB/</link><pubDate>Mon, 04 May 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E7%81%AD%E7%81%AB/</guid><description>&lt;p>火会蔓延，人被火追着跑，能否跑出边界的问题。&lt;/p>
&lt;p>bfs火之后bfs人，或火和人放在一个队列里面bfs&lt;/p>
&lt;p>坑是没有火的情况，如果从0更新火势图而不是inf开始，那么可能造成没火不能跑的情况。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cm">/*=============================================================================&lt;/span>
&lt;span class="cm">#&lt;/span>
&lt;span class="cm"># Author: svtter - svtter@qq.com&lt;/span>
&lt;span class="cm">#&lt;/span>
&lt;span class="cm"># QQ : 57180160&lt;/span>
&lt;span class="cm">#&lt;/span>
&lt;span class="cm"># Last modified: 2015-05-04 09:50&lt;/span>
&lt;span class="cm">#&lt;/span>
&lt;span class="cm"># Filename: 11634.cpp&lt;/span>
&lt;span class="cm">#&lt;/span>
&lt;span class="cm"># Description: &lt;/span>
&lt;span class="cm">#&lt;/span>
&lt;span class="cm">=============================================================================*/&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;string.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;assert.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cmath&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;queue&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="cp">#define INF 0x3f3f3f3f&lt;/span>
&lt;span class="cp">#define ll long long int&lt;/span>
&lt;span class="cp">#define MEM(a) memset(a, 0, sizeof(a))&lt;/span>
&lt;span class="cp">#define MEMM(a) memset(a, -1, sizeof(a))&lt;/span>
&lt;span class="cp">#define DEB(x, n) cout &amp;lt;&amp;lt; (x) &amp;lt;&amp;lt; " " &amp;lt;&amp;lt; (n) &amp;lt;&amp;lt; endl&lt;/span>
&lt;span class="cp">#define FOR(i, s, e) for(int (i) = (s); (i) &amp;lt; (e); (i)++)&lt;/span>
&lt;span class="cp">#define CR printf("\n")&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">double&lt;/span> &lt;span class="n">PI&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">acos&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">1.0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">maxn&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1010&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">char&lt;/span> &lt;span class="n">g&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">maxn&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">maxn&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">gex&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">maxn&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">maxn&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">bool&lt;/span> &lt;span class="n">vis&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">maxn&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">maxn&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">dx&lt;/span>&lt;span class="p">[]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">};&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">dy&lt;/span>&lt;span class="p">[]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">};&lt;/span>
&lt;span class="k">struct&lt;/span> &lt;span class="n">Node&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">Node&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;span class="n">Node&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">){}&lt;/span>
&lt;span class="p">};&lt;/span>
&lt;span class="kr">inline&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="nf">judge&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="mi">&lt;/span> &lt;span class="o">&amp;&amp;&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">r&lt;/span> &lt;span class="o">&amp;&amp;&lt;/span> &lt;span class="n">y&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="mi">&lt;/span> &lt;span class="o">&amp;&amp;&lt;/span> &lt;span class="n">y&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">init&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">queue&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Node&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">q&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="n">Node&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">next&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">nx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ny&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">empty&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="n">temp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">front&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">pop&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="n">temp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="n">nx&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">dx&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="n">ny&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">j&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">dy&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">g&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">nx&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">ny&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="sc">&amp;#39;#&amp;#39;&lt;/span> &lt;span class="o">&amp;&amp;&lt;/span> &lt;span class="n">judge&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">nx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ny&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;&amp;&lt;/span> &lt;span class="n">gex&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">nx&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">ny&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="n">next&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">nx&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">next&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ny&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">next&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">t&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">gex&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">nx&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">ny&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">next&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">bfs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">queue&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Node&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">q&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="n">Node&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">nx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ny&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">empty&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="n">t&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">front&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">pop&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">j&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">j&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">t&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">nx&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">dx&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="n">ny&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">j&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">dy&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">vis&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">nx&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">ny&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;&amp;&lt;/span> &lt;span class="n">gex&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">nx&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">ny&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">t&lt;/span> &lt;span class="o">&amp;&amp;&lt;/span> &lt;span class="n">judge&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">nx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ny&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">n&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">nx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ny&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">t&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">vis&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">nx&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">ny&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="cp">#ifdef DEBUG&lt;/span>
&lt;span class="n">freopen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"input"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"r"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">stdin&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">//从input文件中读入&lt;/span>
&lt;span class="c1">// freopen("output", "w", stdout); //输出到output文件&lt;/span>
&lt;span class="cp">#endif&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">queue&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">Node&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">empty&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">pop&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">r&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">MEM&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">vis&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="n">Node&lt;/span> &lt;span class="n">joe&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">memset&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">gex&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">INF&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">gex&lt;/span>&lt;span class="p">));&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%s"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">g&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">j&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">j&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">g&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="sc">&amp;#39;F&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">vis&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">gex&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Node&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">));&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">g&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="sc">&amp;#39;J&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">vis&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">joe&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Node&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">g&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="sc">&amp;#39;#&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">vis&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">init&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">q&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">joe&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">ans&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">bfs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">q&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ans&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">puts&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"IMPOSSIBLE"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ans&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>ACM – Uva10294 – 置换</title><link>https://svtter.cn/p/acm-uva10294-%E7%BD%AE%E6%8D%A2/</link><pubDate>Sun, 03 May 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/acm-uva10294-%E7%BD%AE%E6%8D%A2/</guid><description>&lt;p>项链和手镯。&lt;/p>
&lt;p>项链的问题在于不可以翻转，因此少了一种置换，而手镯则可以反转。然后我们计算旋转的置换。&lt;/p>
&lt;p>旋转的步长可以是0,i,2i…然后我们可以得出循环一共有n/gcd(i,n)个元素，因此，我们可以计算出一共有gcd(i,n)个循环。则不定点的个数为&lt;/p>
&lt;p>$a = \Sigma t^{gcd(i,n)}$。&lt;/p>
&lt;p>翻转。翻转奇数情况和偶数情况是不一样的，因为奇数情况会多一个不定点，这个不定点就是在轴上的点。剩余的不定点的个数就是$n/2$，总共不定点的个数就是$nt^{(n+1)/2}$。偶数的情况下，如果正好切在两个珠子上，那么循环长度为2的点有$n/2-1$个，长度为1的循环有2个，所以总共$n/2+1$个。如果没有切在珠子上，不定点的个数为$n/2$，和为$b = n/2*(t^{n/2+1} + t^{n/2})$。&lt;/p>
&lt;p>然后我们可以计算出项链的个数$a/n$，手镯的个数$(a+b)/2n$&lt;/p>
&lt;p>列出式子以后代码就方便了。记得求pow的时候可以顺手打表&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cm">/*=============================================================================&lt;/span>
&lt;span class="cm">#&lt;/span>
&lt;span class="cm"># Author: svtter - svtter@qq.com&lt;/span>
&lt;span class="cm">#&lt;/span>
&lt;span class="cm"># QQ : 57180160&lt;/span>
&lt;span class="cm">#&lt;/span>
&lt;span class="cm"># Last modified: 2015-05-03 18:48&lt;/span>
&lt;span class="cm">#&lt;/span>
&lt;span class="cm"># Filename: 10294.cpp&lt;/span>
&lt;span class="cm">#&lt;/span>
&lt;span class="cm"># Description: &lt;/span>
&lt;span class="cm">#&lt;/span>
&lt;span class="cm">=============================================================================*/&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;bits/stdc++.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="cp">#define INF 0x3f3f3f3f&lt;/span>
&lt;span class="cp">#define ll long long int&lt;/span>
&lt;span class="cp">#define MEM(a) memset(a, 0, sizeof(a))&lt;/span>
&lt;span class="cp">#define MEMM(a) memset(a, -1, sizeof(a))&lt;/span>
&lt;span class="cp">#define DEB(x, n) cout &amp;lt;&amp;lt; (x) &amp;lt;&amp;lt; " " &amp;lt;&amp;lt; (n) &amp;lt;&amp;lt; endl&lt;/span>
&lt;span class="cp">#define FOR(i, s, e) for(int (i) = (s); (i) &amp;lt; (e); (i)++)&lt;/span>
&lt;span class="cp">#define CR printf("\n")&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">double&lt;/span> &lt;span class="n">PI&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">acos&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">1.0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">gcd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">b&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="nl">a&lt;/span> &lt;span class="p">:&lt;/span> &lt;span class="n">gcd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">maxn&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">60&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">ll&lt;/span> &lt;span class="n">po&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">maxn&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="cp">#ifdef DEBUG&lt;/span>
&lt;span class="c1">// freopen("input", "r", stdin); //从input文件中读入&lt;/span>
&lt;span class="c1">// freopen("output", "w", stdout); //输出到output文件&lt;/span>
&lt;span class="cp">#endif&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">ll&lt;/span> &lt;span class="n">ans&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ans2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">EOF&lt;/span> &lt;span class="o">&amp;&amp;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">po&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">ans&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">po&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">po&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">ans&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">po&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">gcd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">)];&lt;/span>
&lt;span class="n">ans2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ans&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span> &lt;span class="o">&amp;&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">ans2&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">po&lt;/span>&lt;span class="p">[(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="n">ans2&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">po&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">po&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%lld %lld&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ans&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ans2&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">));&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>ACM – 置换</title><link>https://svtter.cn/p/acm-%E7%BD%AE%E6%8D%A2/</link><pubDate>Sun, 03 May 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/acm-%E7%BD%AE%E6%8D%A2/</guid><description>&lt;p>终于搞明白置换了，可喜可贺。建议不要看屈的离散数学，看白书即可，通俗易懂。&lt;/p>
&lt;p>我在这里简单阐述一下，当然也是依据李大大的书。&lt;/p>
&lt;h2 id="置换">置换
&lt;/h2>&lt;p>置换就是把n个元素全排列，置换可以定义乘法。&lt;/p>
&lt;p>循环就是置换的移位。例如：&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>1&lt;/th>
&lt;th>2&lt;/th>
&lt;th>3&lt;/th>
&lt;th>4&lt;/th>
&lt;th>5&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>3&lt;/td>
&lt;td>5&lt;/td>
&lt;td>1&lt;/td>
&lt;td>4&lt;/td>
&lt;td>2&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>即为(1 3)(2 5)(4)&lt;/p>
&lt;p>其中，(1 3)通过这个置换发现形成一个循环，(2 5)通过这个置换形成一个循环，(4)本身构成一个循环。&lt;/p>
&lt;h2 id="不动点">不动点
&lt;/h2>&lt;p>对于一个置换f，若一个着色方案s经过置换后不变，则称s为f的不动点，将f的不动点记录为C(f)，则可证明等价类数目为所有C(f)的平均值，成为Burnside引理。&lt;/p>
&lt;h2 id="polya定理">Polya定理
&lt;/h2>&lt;p>一般的，如果f分解成m(f)个循环的乘积，那么每个循环的所有格子的颜色必须相同。（&lt;strong>因为这样才是一个不动点&lt;/strong>）。&lt;/p>
&lt;p>假设涂k种颜色，则有&lt;/p>
$$C(f) = k^{m(f)}$$&lt;p>（乘法原理。循环内相同，循环间可以不同）。&lt;/p>
&lt;p>代入Burnside引理之后得到Polya定理：等价类的个数等于所有置换f的$k^{m(f)}$的平均数。&lt;/p></description></item><item><title>ACM – UVa10023 – 开平方</title><link>https://svtter.cn/p/acm-uva10023-%E5%BC%80%E5%B9%B3%E6%96%B9/</link><pubDate>Sat, 02 May 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/acm-uva10023-%E5%BC%80%E5%B9%B3%E6%96%B9/</guid><description>&lt;p>本题目计算开根号数字，给出Y求X。X = sqrt(Y)，主要问题在Y的超大数据。&lt;/p>
&lt;p>时间限制是3s。我使用的大数模板中没有一个大数除大数的算法，因此直接借用Java来搞一搞。&lt;/p>
&lt;p>利用公式&lt;/p>
$$(5/x+x)/2 = x$$&lt;p>递归逼近求解。这个公式比较好推，移项即可。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="kn">import&lt;/span> &lt;span class="nn">java.util.*&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">java.math.*&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">java.util.HashSet&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">Main&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="kd">static&lt;/span> &lt;span class="n">Set&lt;/span> &lt;span class="n">set&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="n">BigInteger&lt;/span> &lt;span class="nf">cal&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">BigInteger&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">BigInteger&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="n">BigInteger&lt;/span> &lt;span class="n">ans&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">divide&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">.&lt;/span>&lt;span class="na">add&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="o">)).&lt;/span>&lt;span class="na">divide&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="k">new&lt;/span> &lt;span class="n">BigInteger&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">"2"&lt;/span>&lt;span class="o">));&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">set&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">contains&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">ans&lt;/span>&lt;span class="o">))&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">ans&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="n">set&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">add&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">ans&lt;/span>&lt;span class="o">);&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">cal&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">ans&lt;/span>&lt;span class="o">);&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span> &lt;span class="o">[]&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="n">Scanner&lt;/span> &lt;span class="n">cin&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Scanner&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">in&lt;/span>&lt;span class="o">);&lt;/span>
&lt;span class="n">BigInteger&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="n">String&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">T&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">cin&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">nextInt&lt;/span>&lt;span class="o">();&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">T&lt;/span>&lt;span class="o">--&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="n">set&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">HashSet&lt;/span>&lt;span class="o">();&lt;/span>
&lt;span class="n">s&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">cin&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">next&lt;/span>&lt;span class="o">();&lt;/span>
&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">BigInteger&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="o">);&lt;/span>
&lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">cal&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="o">));&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">T&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="o">)&lt;/span>
&lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">();&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>参考他人代码，不需要用set，直接判断是否和前一个相等即可= =。&lt;/p>
&lt;p>再一个就是模拟手算。手算法有些麻烦。。注意第二个除数开始余数*20即可。&lt;/p></description></item><item><title>ACM – Uva10105 – 组合数</title><link>https://svtter.cn/p/acm-uva10105-%E7%BB%84%E5%90%88%E6%95%B0/</link><pubDate>Sat, 02 May 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/acm-uva10105-%E7%BB%84%E5%90%88%E6%95%B0/</guid><description>&lt;p>基本上是组合数裸题。。&lt;/p>
&lt;p>给出$(x_1+x_2+x_3….x_k)^n$，要求计算$x_1^{n_1}x_2^{n_2}…x_k^{n_k}$的系数。&lt;/p>
&lt;p>思想就是从一个算式中取出$n_k$，即$C_n^{n_k}$，然后减去$n_k$，如果直接相乘则会重复。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;bits/stdc++.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// 大数，内存处理&lt;/span>
&lt;span class="cp">#define INF 0x3f3f3f3f&lt;/span>
&lt;span class="cp">#define ll long long int&lt;/span>
&lt;span class="cp">#define MEM(a) memset(a, 0, sizeof(a))&lt;/span>
&lt;span class="cp">#define MEMM(a) memset(a, -1, sizeof(a))&lt;/span>
&lt;span class="cp">#define DEB(x, n) cout &amp;lt;&amp;lt; (x) &amp;lt;&amp;lt; " " &amp;lt;&amp;lt; (n) &amp;lt;&amp;lt; endl&lt;/span>
&lt;span class="cp">#define FOR(i, s, e) for(int (i) = (s); (i) &amp;lt; (e); (i)++)&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">double&lt;/span> &lt;span class="n">PI&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">acos&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">1.0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="cp">#define CR printf("\n")&lt;/span>
&lt;span class="c1">// 调试用&lt;/span>
&lt;span class="n">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">class&lt;/span> &lt;span class="n">Type&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="n">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Type&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">len&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">len&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">" "&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">maxn&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">15&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">maxn&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">C&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">maxn&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">maxn&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">init&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">maxn&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">C&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">C&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">C&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">C&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">C&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="cp">#ifdef DEBUG&lt;/span>
&lt;span class="c1">// freopen("input", "r", stdin); //从input文件中读入&lt;/span>
&lt;span class="c1">// freopen("output", "w", stdout); //输出到output文件&lt;/span>
&lt;span class="cp">#endif&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">init&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">~&lt;/span>&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">ans&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="n">ans&lt;/span> &lt;span class="o">*=&lt;/span> &lt;span class="n">C&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]];&lt;/span>
&lt;span class="n">n&lt;/span> &lt;span class="o">-=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ans&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>ACM – UVA10308 – 无根树转有根树</title><link>https://svtter.cn/p/acm-uva10308-%E6%97%A0%E6%A0%B9%E6%A0%91%E8%BD%AC%E6%9C%89%E6%A0%B9%E6%A0%91/</link><pubDate>Sat, 02 May 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/acm-uva10308-%E6%97%A0%E6%A0%B9%E6%A0%91%E8%BD%AC%E6%9C%89%E6%A0%B9%E6%A0%91/</guid><description>&lt;p>比较莫名奇妙的题目，明明是搜索题目居然放在了数学分类，完全找不到数学的影子。。&lt;/p>
&lt;p>利用vector，遍历树，找出最大的子树路径，然后与次大的子树路径相加即为答案。&lt;/p>
&lt;p>因为图表示这方面太渣，基本上抄袭了别人的代码= =&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;bits/stdc++.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// 大数，内存处理&lt;/span>
&lt;span class="cp">#define INF 0x3f3f3f3f&lt;/span>
&lt;span class="cp">#define ll long long int&lt;/span>
&lt;span class="cp">#define MEM(a) memset(a, 0, sizeof(a))&lt;/span>
&lt;span class="cp">#define MEMM(a) memset(a, -1, sizeof(a))&lt;/span>
&lt;span class="cp">#define DEB(x, n) cout &amp;lt;&amp;lt; (x) &amp;lt;&amp;lt; " " &amp;lt;&amp;lt; (n) &amp;lt;&amp;lt; endl&lt;/span>
&lt;span class="cp">#define FOR(i, s, e) for(int (i) = (s); (i) &amp;lt; (e); (i)++)&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">double&lt;/span> &lt;span class="n">PI&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">acos&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">1.0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="cp">#define CR printf("\n")&lt;/span>
&lt;span class="c1">// 调试用&lt;/span>
&lt;span class="n">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">class&lt;/span> &lt;span class="n">Type&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="n">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Type&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">len&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">len&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">" "&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">maxn&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">1e5&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">vector&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">pair&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">node&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">maxn&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">ans&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">ds&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">to&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">from&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">lmax&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">lans&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">lto&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">node&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">to&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">size&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">lto&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">node&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">to&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">at&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="n">first&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">lto&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">from&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">lans&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ds&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">lto&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">to&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">node&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">to&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">at&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="n">second&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">ans&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">max&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ans&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">lans&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">lmax&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">lmax&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">max&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">lmax&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">lans&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">lmax&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="cp">#ifdef DEBUG&lt;/span>
&lt;span class="c1">// freopen("input", "r", stdin); //从input文件中读入&lt;/span>
&lt;span class="c1">// freopen("output", "w", stdout); //输出到output文件&lt;/span>
&lt;span class="cp">#endif&lt;/span>
&lt;span class="kt">char&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">20&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">bool&lt;/span> &lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">u&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">v&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">l&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">maxn&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">node&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">clear&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">gets&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">false&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">sscanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"%d%d%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">u&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">v&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">l&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">node&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">u&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">push_back&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">make_pair&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">v&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">l&lt;/span>&lt;span class="p">));&lt;/span>
&lt;span class="n">node&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">v&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">push_back&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">make_pair&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">u&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">l&lt;/span>&lt;span class="p">));&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">ans&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">ds&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ans&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>ACM – Uva10375 – 组合数公式</title><link>https://svtter.cn/p/acm-uva10375-%E7%BB%84%E5%90%88%E6%95%B0%E5%85%AC%E5%BC%8F/</link><pubDate>Sat, 02 May 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/acm-uva10375-%E7%BB%84%E5%90%88%E6%95%B0%E5%85%AC%E5%BC%8F/</guid><description>&lt;p>有些匪夷所思的题目。。注释部分加上就WA，不加就AC。。&lt;/p>
&lt;p>推公式，因为&lt;/p>
$$C(n,k) = C(n,k-1) * (n-k+1)/k$$&lt;p>所以&lt;/p>
$$ans = \frac{C(n, k)}{C(r, s)}\qquad$$&lt;p>改成递推即可。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;bits/stdc++.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// 大数，内存处理&lt;/span>
&lt;span class="cp">#define INF 0x3f3f3f3f&lt;/span>
&lt;span class="cp">#define ll long long int&lt;/span>
&lt;span class="cp">#define MEM(a) memset(a, 0, sizeof(a))&lt;/span>
&lt;span class="cp">#define MEMM(a) memset(a, -1, sizeof(a))&lt;/span>
&lt;span class="cp">#define DEB(x, n) cout &amp;lt;&amp;lt; (x) &amp;lt;&amp;lt; " " &amp;lt;&amp;lt; (n) &amp;lt;&amp;lt; endl&lt;/span>
&lt;span class="cp">#define FOR(i, s, e) for(int (i) = (s); (i) &amp;lt; (e); (i)++)&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">double&lt;/span> &lt;span class="n">PI&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">acos&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">1.0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="cp">#define CR printf("\n")&lt;/span>
&lt;span class="c1">// 调试用&lt;/span>
&lt;span class="n">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">class&lt;/span> &lt;span class="n">Type&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="n">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Type&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">len&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">len&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">" "&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="cp">#ifdef DEBUG&lt;/span>
&lt;span class="n">freopen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"input"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"r"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">stdin&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">//从input文件中读入&lt;/span>
&lt;span class="c1">// freopen("output", "w", stdout); //输出到output文件&lt;/span>
&lt;span class="cp">#endif&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">double&lt;/span> &lt;span class="n">ans&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">1.0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d%d%d%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">q&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">r&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">EOF&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">ans&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">1.0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// if(p - q &amp;gt; q) q = p - q;&lt;/span>
&lt;span class="c1">// if(r - s &amp;gt; s) s = r - s;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">q&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">ans&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ans&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">ans&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ans&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">r&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%.5lf&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ans&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>ACM – UVA11029 – 快速幂，快速前幂</title><link>https://svtter.cn/p/acm-uva11029-%E5%BF%AB%E9%80%9F%E5%B9%82%E5%BF%AB%E9%80%9F%E5%89%8D%E5%B9%82/</link><pubDate>Sat, 02 May 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/acm-uva11029-%E5%BF%AB%E9%80%9F%E5%B9%82%E5%BF%AB%E9%80%9F%E5%89%8D%E5%B9%82/</guid><description>&lt;p>后面的三位快速幂即可，但是前面三位不好求。经过分析，每一位都有可能牵扯到前三位的值，因此无法具体的作出判断。&lt;/p>
&lt;p>如果使用模方法省去后面的部分，必定会造成误差，随着省略的部分增多，误差积累势必会越来越大。（错了一组数据）&lt;/p>
&lt;p>最佳的方法还是数学分析（参考了题解）：&lt;/p>
&lt;p>分析n，$a = log_{10}^n$，则$n = a ^ {10}$。分解a = i + d，i为正数部分，d为小数部分。那么i影响的仅仅是位数，d影响的则是具体的数字。&lt;/p>
&lt;p>这样得到的值是准确的。另外对浮点数取余&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="n">fmod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">double&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">mod&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/pre>
&lt;/div>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstdio&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstring&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;set&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;vector&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;map&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;algorithm&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;queue&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cmath&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;bitset&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// 大数，内存处理&lt;/span>
&lt;span class="cp">#define INF 0x3f3f3f3f&lt;/span>
&lt;span class="cp">#define ll unsigned long long int&lt;/span>
&lt;span class="cp">#define MEM(a) memset(a, 0, sizeof(a))&lt;/span>
&lt;span class="cp">#define MEMM(a) memset(a, -1, sizeof(a))&lt;/span>
&lt;span class="cp">#define DEB(x, n) cout &amp;lt;&amp;lt; (x) &amp;lt;&amp;lt; " " &amp;lt;&amp;lt; (n) &amp;lt;&amp;lt; endl&lt;/span>
&lt;span class="cp">#define FOR(i, s, e) for(int (i) = (s); (i) &amp;lt; (e); (i)++)&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">double&lt;/span> &lt;span class="n">PI&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">acos&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">1.0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="cp">#define CR printf("\n")&lt;/span>
&lt;span class="c1">// 调试用&lt;/span>
&lt;span class="n">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">class&lt;/span> &lt;span class="n">Type&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="n">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Type&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">len&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">len&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">" "&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">pow_mod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">ans&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">x&lt;/span> &lt;span class="o">%=&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="o">&amp;&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">ans&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ans&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">k&lt;/span> &lt;span class="o">&amp;gt;&amp;gt;=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">ans&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">solve&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">double&lt;/span> &lt;span class="n">d&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">log10&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mf">1.0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">ans&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="n">pow&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">fmod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">d&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">));&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">ans&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="cp">#ifdef DEBUG&lt;/span>
&lt;span class="c1">// freopen("input", "r", stdin); //从input文件中读入&lt;/span>
&lt;span class="c1">// freopen("output", "w", stdout); //输出到output文件&lt;/span>
&lt;span class="cp">#endif&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">T&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">cin&lt;/span> &lt;span class="o">&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">T&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">T&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">ans2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pow_mod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">ans1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">solve&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d...%03d&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ans1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ans2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>ACM – UVA10820 – 欧拉函数</title><link>https://svtter.cn/p/acm-uva10820-%E6%AC%A7%E6%8B%89%E5%87%BD%E6%95%B0/</link><pubDate>Fri, 01 May 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/acm-uva10820-%E6%AC%A7%E6%8B%89%E5%87%BD%E6%95%B0/</guid><description>&lt;p>给出一个Answer(x,y)函数，x,y属于[1,N]，$Answer(k_x, k_y)$可以由Answer(x,y)得出，目的是求需要计算多少Answer(x,y)。&lt;/p>
&lt;p>就是求1,N范围的欧拉函数的加和。欧拉函数的定义是与N互质的数的个数，所以需要如此计算。一开始没有发现就是求欧拉惭愧惭愧。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstdio&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstring&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;set&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;vector&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;map&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;algorithm&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;queue&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cmath&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;bitset&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// 大数，内存处理&lt;/span>
&lt;span class="cp">#define INF 0x3f3f3f3f&lt;/span>
&lt;span class="cp">#define ll long long int&lt;/span>
&lt;span class="cp">#define MEM(a) memset(a, 0, sizeof(a))&lt;/span>
&lt;span class="cp">#define MEMM(a) memset(a, -1, sizeof(a))&lt;/span>
&lt;span class="cp">#define DEB(x, n) cout &amp;lt;&amp;lt; (x) &amp;lt;&amp;lt; " " &amp;lt;&amp;lt; (n) &amp;lt;&amp;lt; endl&lt;/span>
&lt;span class="cp">#define FOR(i, s, e) for(int (i) = (s); (i) &amp;lt; (e); (i)++)&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">double&lt;/span> &lt;span class="n">PI&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">acos&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">1.0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="cp">#define CR printf("\n")&lt;/span>
&lt;span class="c1">// 调试用&lt;/span>
&lt;span class="n">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">class&lt;/span> &lt;span class="n">Type&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="n">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Type&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">len&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">len&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">" "&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">maxn&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">1e5&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">phi&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">maxn&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">phi_table&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">memset&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">phi&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">phi&lt;/span>&lt;span class="p">));&lt;/span>
&lt;span class="n">phi&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">phi&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">j&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">phi&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="n">phi&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">phi&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">phi&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="cp">#ifdef DEBUG&lt;/span>
&lt;span class="c1">// freopen("input", "r", stdin); //从input文件中读入&lt;/span>
&lt;span class="c1">// freopen("output", "w", stdout); //输出到output文件&lt;/span>
&lt;span class="cp">#endif&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">N&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">phi_table&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">maxn&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">ll&lt;/span> &lt;span class="n">ans&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">N&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">N&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">ans&lt;/span> &lt;span class="o">=&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">N&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">ans&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">phi&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="n">ans&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ans&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="mi">2&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%lld&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ans&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>ACM – UVA571 – 模方程</title><link>https://svtter.cn/p/acm-uva571-%E6%A8%A1%E6%96%B9%E7%A8%8B/</link><pubDate>Fri, 01 May 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/acm-uva571-%E6%A8%A1%E6%96%B9%E7%A8%8B/</guid><description>&lt;p>一开始在扩展gcd上想了许久没有办法将得出的数字直接转换成为相应的输出，后来发现就是模方程。&lt;/p>
&lt;p>因为不求最佳解，所以直接使用ca*x = n (mod cb)即可。这个方程的解可以覆盖全部的n，因为该方程如果有解，则n是gcd(ca, cb)的倍数。因为ca, cb互质 gcd (ca, cb) = 1，所以明显通过单纯的加满B，向A中倒，然后清空A就可以遍历所有n的解（尽管可能不是最佳解）。&lt;/p>
&lt;p>&lt;strong>不能是cb*x = n (mod ca)，因为n可能大于ca.&lt;/strong>&lt;/p>
&lt;p>如果求最佳解，显然是bfs。当然这到题目也可以dfs来做，不过明显要复杂很多。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstdio&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstring&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;set&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;vector&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;map&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;algorithm&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;queue&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cmath&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;bitset&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// 大数，内存处理&lt;/span>
&lt;span class="cp">#define INF 0x3f3f3f3f&lt;/span>
&lt;span class="cp">#define ll long long int&lt;/span>
&lt;span class="cp">#define MEM(a) memset(a, 0, sizeof(a))&lt;/span>
&lt;span class="cp">#define MEMM(a) memset(a, -1, sizeof(a))&lt;/span>
&lt;span class="cp">#define DEB(x, n) cout &amp;lt;&amp;lt; (x) &amp;lt;&amp;lt; " " &amp;lt;&amp;lt; (n) &amp;lt;&amp;lt; endl&lt;/span>
&lt;span class="cp">#define FOR(i, s, e) for(int (i) = (s); (i) &amp;lt; (e); (i)++)&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">double&lt;/span> &lt;span class="n">PI&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">acos&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">1.0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="cp">#define CR printf("\n")&lt;/span>
&lt;span class="c1">// 调试用&lt;/span>
&lt;span class="n">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">class&lt;/span> &lt;span class="n">Type&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="n">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Type&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">len&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">len&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">" "&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="cp">#ifdef DEBUG&lt;/span>
&lt;span class="c1">// freopen("input", "r", stdin); //从input文件中读入&lt;/span>
&lt;span class="c1">// freopen("output", "w", stdout); //输出到output文件&lt;/span>
&lt;span class="cp">#endif&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">ca&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">cb&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d%d%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">ca&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">cb&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">EOF&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="c1">//解模方程 ax = n(mod b)&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">b&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">puts&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"fill A"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ca&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">b&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">cb&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">puts&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"empty B"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">cb&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">cb&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">cb&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">else&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">b&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">puts&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"pour A B"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">puts&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"success"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>ACM – Uva10717 – lcm+dfs</title><link>https://svtter.cn/p/acm-uva10717-lcm-dfs/</link><pubDate>Wed, 29 Apr 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/acm-uva10717-lcm-dfs/</guid><description>&lt;p>今天不适合刷题。。。&lt;/p>
&lt;p>题意：一个桌子4条腿，每条腿由一种硬币构成，四条腿必须一样长，请问如何最接近给出的标准桌子高度，输出两个最接近的值。&lt;/p>
&lt;p>更新两个值的时候错误的判断如果lcm大于h就不再更新了，却没有想到高于h的部分依然可以更新，只是不能更新小于h的部分了。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstdio&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstring&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;set&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;vector&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;map&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;algorithm&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;queue&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cmath&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;bitset&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// 大数，内存处理&lt;/span>
&lt;span class="cp">#define INF 0x3f3f3f3f&lt;/span>
&lt;span class="cp">#define ll long long int&lt;/span>
&lt;span class="cp">#define MEM(a) memset(a, 0, sizeof(a))&lt;/span>
&lt;span class="cp">#define MEMM(a) memset(a, -1, sizeof(a))&lt;/span>
&lt;span class="cp">#define DEB(x, n) cout &amp;lt;&amp;lt; (x) &amp;lt;&amp;lt; " " &amp;lt;&amp;lt; (n) &amp;lt;&amp;lt; endl&lt;/span>
&lt;span class="cp">#define FOR(i, s, e) for(int (i) = (s); (i) &amp;lt; (e); (i)++)&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">double&lt;/span> &lt;span class="n">PI&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">acos&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">1.0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="cp">#define CR printf("\n")&lt;/span>
&lt;span class="c1">// 调试用&lt;/span>
&lt;span class="n">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">class&lt;/span> &lt;span class="n">Type&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="n">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Type&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">len&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">len&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">" "&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">gcd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">b&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="o">?&lt;/span> &lt;span class="nl">a&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">gcd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">maxn&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">50&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">maxn&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">table&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">15&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">ans1&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">15&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">ans2&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">15&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">output&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d %d&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ans1&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">ans2&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="c1">// 寻找边界&lt;/span>
&lt;span class="kt">bool&lt;/span> &lt;span class="nf">findmax&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">lcm&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">num&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">mint&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">maxt&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="c1">// if(lcm &amp;gt; num)&lt;/span>
&lt;span class="c1">// return false;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">t&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">num&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="n">lcm&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">lcm&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">t&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">num&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">mint&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">num&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">maxt&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">num&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">else&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">mint&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">maxt&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">t&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">lcm&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="c1">// return 1;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="c1">// 检查&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">check&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">lcm&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">mint&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">maxt&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">findmax&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">lcm&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">table&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">mint&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">maxt&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ans1&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="n">mint&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">ans1&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="n">ans1&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">mint&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ans2&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="n">maxt&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">ans2&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="n">ans2&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">maxt&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="c1">// 枚举四个腿&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">fs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">num&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">lcm&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">num&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">check&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">lcm&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">return&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">temp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">lcm&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">lcm&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">lcm&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="n">gcd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">lcm&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">];&lt;/span> &lt;span class="c1">// 可能溢出&lt;/span>
&lt;span class="n">fs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">num&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">lcm&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">lcm&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="cp">#ifdef DEBUG&lt;/span>
&lt;span class="n">freopen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"input"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"r"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">stdin&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">//从input文件中读入&lt;/span>
&lt;span class="c1">// freopen("output", "w", stdout); //输出到output文件&lt;/span>
&lt;span class="cp">#endif&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">~&lt;/span>&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;&amp;&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">table&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="n">ans1&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">ans2&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">fs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">output&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>ACM – UVa10791 – divide prime</title><link>https://svtter.cn/p/acm-uva10791-divide-prime/</link><pubDate>Wed, 29 Apr 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/acm-uva10791-divide-prime/</guid><description>&lt;p>谢天谢地终于过了。&lt;/p>
&lt;p>就是求分解质因数后的和，如果是质数那么返回1+n本身。&lt;/p>
&lt;blockquote>
&lt;ol>
&lt;li>一开始直接暴力求两个质因数的情况，铁定不对啊。。&lt;/li>
&lt;li>第二次发现策略有问题，转为使用枚举质因数，然后发现仅仅是质因数LCM有问题啊。。&lt;/li>
&lt;li>第三次没有考虑质数&lt;/li>
&lt;li>第四次没有考虑Case&lt;/li>
&lt;li>第五次不记得了。&lt;/li>
&lt;li>第七次AC，哭了真是。。一定要先分析好题目啊。&lt;/li>
&lt;/ol>&lt;/blockquote>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstdio&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstring&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;vector&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;map&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;algorithm&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;queue&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cmath&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;bitset&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// 大数，内存处理&lt;/span>
&lt;span class="cp">#define inf 0x3f3f3f3f&lt;/span>
&lt;span class="cp">#define ll long long int&lt;/span>
&lt;span class="cp">#define mem(a) memset(a, 0, sizeof(a))&lt;/span>
&lt;span class="cp">#define memm(a) memset(b, -1, sizeof(b))&lt;/span>
&lt;span class="cp">#define deb(x, n) cout &amp;lt;&amp;lt; (x) &amp;lt;&amp;lt; " " &amp;lt;&amp;lt; (n) &amp;lt;&amp;lt; endl&lt;/span>
&lt;span class="cp">#define cr printf("\n")&lt;/span>
&lt;span class="c1">// 调试用&lt;/span>
&lt;span class="n">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">class&lt;/span> &lt;span class="n">type&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="n">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">type&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">len&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">len&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">" "&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">ll&lt;/span> &lt;span class="n">solve&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">ll&lt;/span> &lt;span class="n">ans&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">ll&lt;/span> &lt;span class="n">sq&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">sqrt&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">cnt&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">pf&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ll&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">sq&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">cnt&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">cnt&lt;/span> &lt;span class="o">*=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">n&lt;/span> &lt;span class="o">/=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">pf&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">ans&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">cnt&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">ans&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">pf&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="c1">// n为质数&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pf&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">ans&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">ans&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="cp">#ifdef debug&lt;/span>
&lt;span class="c1">// freopen("input", "r", stdin);&lt;/span>
&lt;span class="cp">#endif&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// const int maxn = pow(2, 31) -1;&lt;/span>
&lt;span class="c1">// printf("%d\n", maxn);&lt;/span>
&lt;span class="n">ll&lt;/span> &lt;span class="n">ans&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;&amp;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">ans&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">solve&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"Case %d: "&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%lld&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ans&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>ACM一个队伍的建成之我见</title><link>https://svtter.cn/p/acm%E4%B8%80%E4%B8%AA%E9%98%9F%E4%BC%8D%E7%9A%84%E5%BB%BA%E6%88%90%E4%B9%8B%E6%88%91%E8%A7%81/</link><pubDate>Wed, 29 Apr 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/acm%E4%B8%80%E4%B8%AA%E9%98%9F%E4%BC%8D%E7%9A%84%E5%BB%BA%E6%88%90%E4%B9%8B%E6%88%91%E8%A7%81/</guid><description>&lt;p>今天刷题数论题目的时候有所感想。&lt;/p>
&lt;ol>
&lt;li>首先建立一支比较强悍的ACM队伍第一点就是保证刷题量，看再多的书，不做练习肯定是不行的。&lt;/li>
&lt;li>选一本正确的指导教材，比如说李汝佳的白皮书，简单易懂，快捷粗暴，按照给出的分类进行训练，效果更佳。&lt;/li>
&lt;li>正确的分类。ACM/ICPC的题目各个方向等等都有，各个都很精通对于大学才刚开始培养的acmer恐怕不是很现实，不如巩固共同部分，着重培养较为偏门的部分。最简单的方法也是通过分类，给学生一个兴趣方向，数论的可以顺带研究密码学等学科，对于以后的长远发展也是有很大的好处 — 反而，样样精通可能造成的结果就是样样不精通。当然，如果敏而好学，那么不局限于这一点。&lt;/li>
&lt;/ol>
&lt;p>想想去年这个时间在刷一份简单的模板，感觉用处实在是不大，问题都没有好好的理解。&lt;/p></description></item><item><title>ACM – Uva106 – 勾股定理</title><link>https://svtter.cn/p/acm-uva106-%E5%8B%BE%E8%82%A1%E5%AE%9A%E7%90%86/</link><pubDate>Tue, 28 Apr 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/acm-uva106-%E5%8B%BE%E8%82%A1%E5%AE%9A%E7%90%86/</guid><description>&lt;p>從維基百科的勾股數條目參考來的通解：&lt;/p>
&lt;p>給一個任意數對(X,Y)，用以下公式代替&lt;/p>
&lt;blockquote>
&lt;p>$A = X^2 – Y^2$&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>$B = 2XY$&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>$C = X^2 + Y^2$&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>得出的A,B,C就是一組勾股數。&lt;/p>&lt;/blockquote>
&lt;p>若 (X,Y) 恰好互質而且一奇一偶，那麼會得到一組(A,B,C)互質的勾股數。&lt;/p>
&lt;p>知道通解後，雙層迴圈跑 (X,Y) 就能找出所有互質勾股數。&lt;/p>
&lt;p>按照台湾同胞的题解。 — 勾股数公式也是很神奇的啊。。。&lt;/p>
&lt;p>此外还学习了bitset，因为是按位存储，所以比一般的bool来的更加迅速，也更加节省时间。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstdio&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstring&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;set&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;vector&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;map&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;algorithm&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;queue&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cmath&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;bitset&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// 大数，内存处理&lt;/span>
&lt;span class="cp">#define INF 0x3f3f3f3f&lt;/span>
&lt;span class="cp">#define ll long long int&lt;/span>
&lt;span class="cp">#define MEM(a) memset(a, 0, sizeof(a))&lt;/span>
&lt;span class="cp">#define MEMM(a) memset(b, -1, sizeof(b))&lt;/span>
&lt;span class="cp">#define DEB(x, n) cout &amp;lt;&amp;lt; (x) &amp;lt;&amp;lt; " " &amp;lt;&amp;lt; (n) &amp;lt;&amp;lt; endl&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">double&lt;/span> &lt;span class="n">PI&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">acos&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">1.0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="cp">#define CR printf("\n")&lt;/span>
&lt;span class="c1">// 调试用&lt;/span>
&lt;span class="n">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">class&lt;/span> &lt;span class="n">Type&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="n">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Type&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">len&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">len&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">" "&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">gcd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="n">b&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="nl">b&lt;/span> &lt;span class="p">:&lt;/span> &lt;span class="n">gcd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">odd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="mi">2&lt;/span> &lt;span class="o">&amp;&amp;&lt;/span> &lt;span class="o">!&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="mi">2&lt;/span> &lt;span class="o">&amp;&amp;!&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">));&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">judge&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">gcd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="o">&amp;&amp;&lt;/span> &lt;span class="n">odd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">));&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">double&lt;/span> &lt;span class="n">eps&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">1e-15&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">N&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">1e6&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">bitset&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">N&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="cp">#ifdef DEBUG&lt;/span>
&lt;span class="c1">// freopen("input", "r", stdin); //从input文件中读入&lt;/span>
&lt;span class="c1">// freopen("output", "w", stdout); //输出到output文件&lt;/span>
&lt;span class="cp">#endif&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">~&lt;/span>&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">p&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">set&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">cnt&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="n">y&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">judge&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">y&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">y&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">c&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">cnt&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">ta&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">tb&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">tc&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">tc&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">p&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">ta&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">tb&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">tc&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">ta&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">tb&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">tc&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">c2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="n">c2&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d %d&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">cnt&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">c2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>ACM – Uva10673 – 扩展gcd</title><link>https://svtter.cn/p/acm-uva10673-%E6%89%A9%E5%B1%95gcd/</link><pubDate>Tue, 28 Apr 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/acm-uva10673-%E6%89%A9%E5%B1%95gcd/</guid><description>&lt;p>水题一发。。直接使用floor和ceil函数，然后暴力即可。。。&lt;/p>
&lt;p>如果使用快速的方法，就是扩展gcd。其中d的初始值没有关系，最后返回的是gcd(a,b).&lt;/p>
&lt;h2 id="暴力算法">暴力算法
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstdio&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstring&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;set&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;vector&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;map&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;algorithm&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;queue&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cmath&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;bitset&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// 大数，内存处理&lt;/span>
&lt;span class="cp">#define INF 0x3f3f3f3f&lt;/span>
&lt;span class="cp">#define ll long long int&lt;/span>
&lt;span class="cp">#define MEM(a) memset(a, 0, sizeof(a))&lt;/span>
&lt;span class="cp">#define MEMM(a) memset(b, -1, sizeof(b))&lt;/span>
&lt;span class="cp">#define DEB(x, n) cout &amp;lt;&amp;lt; (x) &amp;lt;&amp;lt; " " &amp;lt;&amp;lt; (n) &amp;lt;&amp;lt; endl&lt;/span>
&lt;span class="cp">#define FOR(i, s, e) for(int (i) = (s); (i) &amp;lt; (e); (i)++)&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">double&lt;/span> &lt;span class="n">PI&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">acos&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">1.0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="cp">#define CR printf("\n")&lt;/span>
&lt;span class="c1">// 调试用&lt;/span>
&lt;span class="n">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">class&lt;/span> &lt;span class="n">Type&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="n">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Type&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">len&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">len&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">" "&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="c1">// ax + by = d&lt;/span>
&lt;span class="c1">// 扩展gcd&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="n">gcd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ll&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ll&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ll&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">d&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ll&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ll&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">d&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">gcd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="o">-=&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="cp">#ifdef DEBUG&lt;/span>
&lt;span class="c1">// freopen("input", "r", stdin); //从input文件中读入&lt;/span>
&lt;span class="c1">// freopen("output", "w", stdout); //输出到output文件&lt;/span>
&lt;span class="cp">#endif&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">T&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">cin&lt;/span> &lt;span class="o">&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">T&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">ll&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">T&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%lld%lld"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="kt">double&lt;/span> &lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">double&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">ll&lt;/span> &lt;span class="n">fl&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">floor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">ll&lt;/span> &lt;span class="n">ce&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ceil&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="c1">// printf("%lld %lld\n", a, b);&lt;/span>
&lt;span class="kt">bool&lt;/span> &lt;span class="n">find&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ll&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="o">!&lt;/span>&lt;span class="n">find&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ll&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">fl&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">ce&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">fl&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">ce&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%lld %lld&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">find&lt;/span> &lt;span class="o">=&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h2 id="扩展gcd算法">扩展gcd算法
&lt;/h2>&lt;p>速度更快，0.012&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstdio&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstring&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;set&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;vector&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;map&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;algorithm&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;queue&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cmath&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;bitset&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// 大数，内存处理&lt;/span>
&lt;span class="cp">#define INF 0x3f3f3f3f&lt;/span>
&lt;span class="cp">#define ll long long int&lt;/span>
&lt;span class="cp">#define MEM(a) memset(a, 0, sizeof(a))&lt;/span>
&lt;span class="cp">#define MEMM(a) memset(b, -1, sizeof(b))&lt;/span>
&lt;span class="cp">#define DEB(x, n) cout &amp;lt;&amp;lt; (x) &amp;lt;&amp;lt; " " &amp;lt;&amp;lt; (n) &amp;lt;&amp;lt; endl&lt;/span>
&lt;span class="cp">#define FOR(i, s, e) for(int (i) = (s); (i) &amp;lt; (e); (i)++)&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">double&lt;/span> &lt;span class="n">PI&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">acos&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">1.0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="cp">#define CR printf("\n")&lt;/span>
&lt;span class="c1">// 调试用&lt;/span>
&lt;span class="n">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">class&lt;/span> &lt;span class="n">Type&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="n">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Type&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">len&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">len&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">" "&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="c1">// ax + by = d&lt;/span>
&lt;span class="c1">// 扩展gcd&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="n">gcd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ll&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ll&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ll&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">d&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ll&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ll&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">d&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">gcd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="o">-=&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="cp">#ifdef DEBUG&lt;/span>
&lt;span class="c1">// freopen("input", "r", stdin); //从input文件中读入&lt;/span>
&lt;span class="c1">// freopen("output", "w", stdout); //输出到output文件&lt;/span>
&lt;span class="cp">#endif&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">T&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">cin&lt;/span> &lt;span class="o">&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">T&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">ll&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">T&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%lld%lld"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="kt">double&lt;/span> &lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">double&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">ll&lt;/span> &lt;span class="n">fl&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">floor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">ll&lt;/span> &lt;span class="n">ce&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ceil&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">ll&lt;/span> &lt;span class="n">a1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">g&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">gcd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">fl&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ce&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">g&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">a1&lt;/span> &lt;span class="o">*=&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">g&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">a2&lt;/span> &lt;span class="o">*=&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">g&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%lld %lld&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>ACM – UVA11121 – 进制</title><link>https://svtter.cn/p/acm-uva11121-%E8%BF%9B%E5%88%B6/</link><pubDate>Tue, 28 Apr 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/acm-uva11121-%E8%BF%9B%E5%88%B6/</guid><description>&lt;p>题意是由10进制转换成-2进制，但是明显我分析错了，所以写了调了接近一下午的bug。。。&lt;/p>
&lt;p>有时间再写正常的题解。&lt;/p>
&lt;p>题解：&lt;/p>
&lt;hr>
&lt;p>如果当前数位和输入n符号相同，那么不做处理，如果不同且为1，那么下一位（即左边一位）做+1处理 — 因为下一位是上一位的2倍，就相当于做一个变号处理。&lt;/p></description></item><item><title>ACM – 莫比乌斯反演</title><link>https://svtter.cn/p/acm-%E8%8E%AB%E6%AF%94%E4%B9%8C%E6%96%AF%E5%8F%8D%E6%BC%94/</link><pubDate>Mon, 27 Apr 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/acm-%E8%8E%AB%E6%AF%94%E4%B9%8C%E6%96%AF%E5%8F%8D%E6%BC%94/</guid><description>&lt;p>昨天卡了这道题目，今天特意来看看莫比乌斯反演。&lt;/p>
&lt;p>&lt;img src="http://leanote.com/api/file/getImage?fileId=553e576c38f4115a430008a1"
loading="lazy"
alt="title"
>&lt;/p>
&lt;p>其中，$∑_{d|n}$含义为整除.&lt;/p>
&lt;hr>
&lt;p>&lt;a class="link" href="http://blog.csdn.net/acdreamers/article/details/8542292" target="_blank" rel="noopener"
>ACdreamer大大的讲解&lt;/a>&lt;/p>
&lt;hr>
&lt;p>看了这篇文章即可= =&lt;/p>
&lt;h2 id="wikipedia的公式">wikipedia的公式:
&lt;/h2>&lt;p>&lt;img src="http://leanote.com/api/file/getImage?fileId=553e6bf138f4115a430008ea"
loading="lazy"
alt="title"
>&lt;/p>
&lt;p>&lt;img src="http://leanote.com/api/file/getImage?fileId=553e6be938f4115a430008e8"
loading="lazy"
alt="title"
>&lt;/p>
&lt;p>以上就是具体的公式，此外，还有线性筛法:&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="kt">void&lt;/span> &lt;span class="nf">Init&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">memset&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">vis&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">vis&lt;/span>&lt;span class="p">));&lt;/span>
&lt;span class="n">mu&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">cnt&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">N&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">vis&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">prime&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">cnt&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">mu&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">cnt&lt;/span>&lt;span class="o">&amp;&amp;&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">prime&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">N&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">vis&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">prime&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="n">prime&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="n">mu&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">prime&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">mu&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="k">else&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">mu&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">prime&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>这段代码也是摘自AC大大。我们得到这个东西有什么用？&lt;/p>
&lt;p>简单来说，就是简化计算数论函数和的计算的过程，进行加速。&lt;/p>
&lt;p>在HDU5212中，给出的题解是：&lt;/p>
&lt;blockquote>
&lt;p>这道题需要一些莫比乌斯反演、线性筛的知识&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>定义$f(x)=x∗(x−1)$&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>题目所求即为$\Sigma(f(gcd(ai,aj)|i!=j,1≤i,j≤n)$&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>先用线性筛求出miu在[1,10000]的函数值&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>利用莫比乌斯反演公式我们可以$O(vlogv)$暴力求解出函数g（就是$f(n)/miu$）在[1,10000]的函数值，其中g满足：&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>$\Sigma(g(d)|x)$&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>这样所求答案即为：&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>$\Sigma(g(d)∗cnt(d)∗cnt(d)|1≤d≤10000)$，其中cnt函数满足：&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>cnt(x)=在a1,a2,..,an中是x的倍数的个数&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>而cnt的取值也可以$O(vlogv)$暴力计算出&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>所以总的时间复杂度就是$O(vlogv)$的&lt;/p>&lt;/blockquote>
&lt;p>就是这样。&lt;/p></description></item><item><title>Bestcoder 2 题目</title><link>https://svtter.cn/p/bestcoder-2-%E9%A2%98%E7%9B%AE/</link><pubDate>Mon, 27 Apr 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/bestcoder-2-%E9%A2%98%E7%9B%AE/</guid><description>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstdio&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstring&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;set&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;vector&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;map&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;algorithm&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;queue&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cmath&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;bitset&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// 大数，内存处理&lt;/span>
&lt;span class="cp">#define INF 0x3f3f3f3f&lt;/span>
&lt;span class="cp">#define ll long long int&lt;/span>
&lt;span class="cp">#define MEM(a) memset(a, 0, sizeof(a))&lt;/span>
&lt;span class="cp">#define MEMM(a) memset(b, -1, sizeof(b))&lt;/span>
&lt;span class="cp">#define DEB(x, n) cout &amp;lt;&amp;lt; (x) &amp;lt;&amp;lt; " " &amp;lt;&amp;lt; (n) &amp;lt;&amp;lt; endl&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">double&lt;/span> &lt;span class="n">PI&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">acos&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">1.0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="cp">#define CR printf("\n")&lt;/span>
&lt;span class="c1">// 调试用&lt;/span>
&lt;span class="n">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">class&lt;/span> &lt;span class="n">Type&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="n">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Type&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">len&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">len&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">" "&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="cp">#ifdef DEBUG&lt;/span>
&lt;span class="c1">// freopen("input", "r", stdin); //从input文件中读入&lt;/span>
&lt;span class="c1">// freopen("output", "w", stdout); //输出到output文件&lt;/span>
&lt;span class="cp">#endif&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">record&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">10010&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">10010&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">EOF&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">memset&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">record&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">record&lt;/span>&lt;span class="p">));&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">record&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="c1">// debug(record, n+1);&lt;/span>
&lt;span class="n">ll&lt;/span> &lt;span class="n">res&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">res&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">record&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%lld&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">res&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>ACM – UVa10006 – 快速幂</title><link>https://svtter.cn/p/acm-uva10006-%E5%BF%AB%E9%80%9F%E5%B9%82/</link><pubDate>Sat, 25 Apr 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/acm-uva10006-%E5%BF%AB%E9%80%9F%E5%B9%82/</guid><description>&lt;p>水题一发。无奈自己没有好好审清题意，另外快速幂居然写错了- =&lt;/p>
&lt;p>快速幂在过程中修改a的值，但是我却计算成了在偶数时相乘，调试半天。看来还是咩有好好理解啊。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstdio&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstring&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;set&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;vector&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;map&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;algorithm&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;queue&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cmath&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;bitset&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// 大数，内存处理&lt;/span>
&lt;span class="cp">#define INF 0x3f3f3f3f&lt;/span>
&lt;span class="cp">#define ll long long int&lt;/span>
&lt;span class="cp">#define MEM(a) memset(a, 0, sizeof(a))&lt;/span>
&lt;span class="cp">#define MEMM(a) memset(b, -1, sizeof(b))&lt;/span>
&lt;span class="cp">#define DEB(x, n) cout &amp;lt;&amp;lt; (x) &amp;lt;&amp;lt; " " &amp;lt;&amp;lt; (n) &amp;lt;&amp;lt; endl&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">double&lt;/span> &lt;span class="n">PI&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">acos&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">1.0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="cp">#define CR printf("\n")&lt;/span>
&lt;span class="c1">// 调试用&lt;/span>
&lt;span class="n">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">class&lt;/span> &lt;span class="n">Type&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="n">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Type&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">len&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">len&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">" "&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">ll&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">ll&lt;/span> &lt;span class="nf">pow_mod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ll&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ll&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">ll&lt;/span> &lt;span class="n">ans&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">a&lt;/span> &lt;span class="o">%=&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span> &lt;span class="o">&amp;&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">ans&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ans&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">n&lt;/span> &lt;span class="o">&amp;gt;&amp;gt;=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">ans&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="c1">// 3.&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">maxn&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">10000000&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">maxp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">700000&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">vis&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">maxn&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">prime&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">maxp&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="c1">// 筛素数&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">sieve&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">m&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">sqrt&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mf">0.5&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">memset&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">vis&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">vis&lt;/span>&lt;span class="p">));&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">m&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">vis&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">+=&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">vis&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="c1">// 生成素数表&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">gen_primes&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">sieve&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">vis&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="n">prime&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="cp">#ifdef DEBUG&lt;/span>
&lt;span class="c1">// freopen("input", "r", stdin); //从input文件中读入&lt;/span>
&lt;span class="c1">// freopen("output", "w", stdout); //输出到output文件&lt;/span>
&lt;span class="cp">#endif&lt;/span>
&lt;span class="n">ll&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">bound&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">65000&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">gen_primes&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">bound&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%lld"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;&amp;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="o">!=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="c1">// p is mod&lt;/span>
&lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">vis&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%lld is normal.&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">else&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">bool&lt;/span> &lt;span class="n">find&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ll&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pow_mod&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">find&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">find&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"The number %lld is a Carmichael number.&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%lld is normal.&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>ACM – UVa138 – 数学基础</title><link>https://svtter.cn/p/acm-uva138-%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/</link><pubDate>Fri, 24 Apr 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/acm-uva138-%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80/</guid><description>&lt;p>这道题目其实就是推个公式，主要还是考验编程技巧。。&lt;/p>
&lt;p>首先double的精度范围是15-16位，浮点数运算还是最快的，依据最后一个答案（总共10组），平方为16位刚好够用。&lt;/p>
&lt;p>如果想要最精确的结果，当然还是使用long double或者long long来来保证精度问题。不过计算速度就会有所损失，采取二分的方法加速比较好。&lt;/p>
&lt;hr>
&lt;p>利用double的代码：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="kt">double&lt;/span> &lt;span class="n">eps&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">1e-10&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">double&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">maxn&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">double&lt;/span> &lt;span class="n">res&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">ll&lt;/span> &lt;span class="n">ans&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">sqrt&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">res&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">res&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">ans&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">ans&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">eps&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%10lld %10lf&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ans&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"done"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>利用long long的代码:&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span> &lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ull&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">maxn&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">ull&lt;/span> &lt;span class="n">res&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">ull&lt;/span> &lt;span class="n">l&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">r&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">ull&lt;/span> &lt;span class="n">mid&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ans&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">bool&lt;/span> &lt;span class="n">find&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// bsearch&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">l&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">mid&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">l&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">r&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">ans&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">mid&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">mid&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ans&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">res&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">find&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ans&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">res&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">r&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">mid&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">else&lt;/span>
&lt;span class="n">l&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">mid&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">find&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%10lld %10lld&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">mid&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"done"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/pre>
&lt;/div>
&lt;hr>
&lt;p>不过有一点就是无论怎么个快法，不使用打表肯定是会超时的，所以算出来直接上交即可。= =。这在大赛中应该也是允许的吧。&lt;/p></description></item><item><title>软件设计模式 — 单例模式</title><link>https://svtter.cn/p/%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/</link><pubDate>Thu, 23 Apr 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/</guid><description>&lt;p>单例模式确保某个类只有一个实例，而且自行实例化，并向整个系统提供者个实例，提供一个访问它的全局访问点。&lt;/p>
&lt;p>&lt;strong>核心是：创造私有的构造函数&lt;/strong>&lt;/p>
&lt;p>例如：只有一个实例的东西。&lt;/p>
&lt;h2 id="singletonjava">Singleton.java
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="kn">package&lt;/span> &lt;span class="nn">singleton&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">Singleton&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="kd">private&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kd">final&lt;/span> &lt;span class="n">Singleton&lt;/span> &lt;span class="n">singleton&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Singleton&lt;/span>&lt;span class="o">();&lt;/span>
&lt;span class="kd">private&lt;/span> &lt;span class="nf">Singleton&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="c1">// 限制产生多个对象&lt;/span>
&lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">"已产生对象实例"&lt;/span>&lt;span class="o">);&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="n">Singleton&lt;/span> &lt;span class="nf">getInstance&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="c1">// 通过该方法获得实例对象&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">singleton&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">operation&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="c1">// 类中其他方法，尽量是static&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h2 id="client">Client
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="kn">package&lt;/span> &lt;span class="nn">singleton&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">Client&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="o">[]&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">"Start."&lt;/span>&lt;span class="o">);&lt;/span>
&lt;span class="n">Singleton&lt;/span> &lt;span class="n">obj1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Singleton&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getInstance&lt;/span>&lt;span class="o">();&lt;/span>
&lt;span class="n">Singleton&lt;/span> &lt;span class="n">obj2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Singleton&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">getInstance&lt;/span>&lt;span class="o">();&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="n">obj1&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">obj2&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">"obj1和obj2是同一对象实例"&lt;/span>&lt;span class="o">);&lt;/span>
&lt;span class="o">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">"obj1和obj2并非同一对象实例"&lt;/span>&lt;span class="o">);&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">"End."&lt;/span>&lt;span class="o">);&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>软件设计模式 — 适配器模式</title><link>https://svtter.cn/p/%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F/</link><pubDate>Thu, 23 Apr 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E8%BD%AF%E4%BB%B6%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F/</guid><description>&lt;p>4该模式的目标是，通过一个代理(Adapter)，在原来的类(Adaptee)和客户(Client)之间进行协调，从而达到兼容的目的。&lt;/p>
&lt;p>例如：我的项目中Davinci中使用的模式，将整体的游戏类作为Adapter，把用于通讯的Server类作为成员变量（也就是ObjectAdapter）。&lt;/p>
&lt;h1 id="示意代码">示意代码
&lt;/h1>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="kn">package&lt;/span> &lt;span class="nn">adapter&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="kd">interface&lt;/span> &lt;span class="nc">Target&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="kd">public&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">request&lt;/span>&lt;span class="o">();&lt;/span>
&lt;span class="kd">public&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">specRequest&lt;/span>&lt;span class="o">();&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="kd">class&lt;/span> &lt;span class="nc">Adaptee&lt;/span> &lt;span class="o">{&lt;/span> &lt;span class="c1">//适配者&lt;/span>
&lt;span class="kd">public&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">specRequest&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">"this is specRequest."&lt;/span>&lt;span class="o">);&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="kd">class&lt;/span> &lt;span class="nc">ClassAdapter&lt;/span> &lt;span class="kd">extends&lt;/span> &lt;span class="n">Adaptee&lt;/span> &lt;span class="kd">implements&lt;/span> &lt;span class="n">Target&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="kd">public&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">request&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">"This is request in ClassAdapter."&lt;/span>&lt;span class="o">);&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="kd">class&lt;/span> &lt;span class="nc">ObjectAdapter&lt;/span> &lt;span class="kd">implements&lt;/span> &lt;span class="n">Target&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="kd">private&lt;/span> &lt;span class="n">Adaptee&lt;/span> &lt;span class="n">adaptee&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">Adaptee&lt;/span>&lt;span class="o">();&lt;/span>
&lt;span class="kd">public&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">request&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="n">System&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="s">"this. is request in ObjectAdapter."&lt;/span>&lt;span class="o">);&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="kd">public&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">specRequest&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="n">adaptee&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">specRequest&lt;/span>&lt;span class="o">();&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="kd">public&lt;/span> &lt;span class="kd">class&lt;/span> &lt;span class="nc">Client&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="kd">private&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="n">Target&lt;/span> &lt;span class="n">ctarget&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">ClassAdapter&lt;/span>&lt;span class="o">();&lt;/span>
&lt;span class="kd">private&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="n">Target&lt;/span> &lt;span class="n">otarget&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="n">ObjectAdapter&lt;/span>&lt;span class="o">();&lt;/span>
&lt;span class="kd">public&lt;/span> &lt;span class="kd">static&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="n">String&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="o">[])&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="n">ctarget&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">request&lt;/span>&lt;span class="o">();&lt;/span>
&lt;span class="n">ctarget&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">specRequest&lt;/span>&lt;span class="o">();&lt;/span>
&lt;span class="n">otarget&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">request&lt;/span>&lt;span class="o">();&lt;/span>
&lt;span class="n">otarget&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">specRequest&lt;/span>&lt;span class="o">();&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>山东省第五届省赛 Circle</title><link>https://svtter.cn/p/%E5%B1%B1%E4%B8%9C%E7%9C%81%E7%AC%AC%E4%BA%94%E5%B1%8A%E7%9C%81%E8%B5%9B-circle/</link><pubDate>Tue, 21 Apr 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%B1%B1%E4%B8%9C%E7%9C%81%E7%AC%AC%E4%BA%94%E5%B1%8A%E7%9C%81%E8%B5%9B-circle/</guid><description>&lt;p>首先一点什么是高斯消元？&lt;/p>
&lt;p>高斯消元其实就是一种求行列式的值的方法。&lt;/p>
&lt;p>例如&lt;/p>
&lt;p>|a&lt;/p>
\[0\]\[0\]&lt;p>_x1 + a&lt;/p>
\[0\]\[1\]&lt;p>_x2+ … a&lt;/p>
\[0\]\[n-1\]&lt;p>_xn = a&lt;/p>
\[0\]\[n\]&lt;p>|&lt;/p>
&lt;p>|a&lt;/p>
\[1\]\[0\]&lt;p>_x1 + a&lt;/p>
\[1\]\[1\]&lt;p>_x2+ … a&lt;/p>
\[1\]\[n-1\]&lt;p>_xn = a&lt;/p>
\[1\]\[n\]&lt;p>|&lt;/p>
&lt;p>|a&lt;/p>
\[2\]\[0\]&lt;p>_x1 + a&lt;/p>
\[2\]\[1\]&lt;p>_x2+ … a&lt;/p>
\[2\]\[n-1\]&lt;p>_xn = a&lt;/p>
\[2\]\[n\]&lt;p>|&lt;/p>
&lt;p>|a&lt;/p>
\[3\]\[0\]&lt;p>_x1 + a&lt;/p>
\[3\]\[1\]&lt;p>_x2+ … a&lt;/p>
\[3\]\[n-1\]&lt;p>_xn = a&lt;/p>
\[3\]\[n\]&lt;p>|&lt;/p>
&lt;p>…&lt;/p>
&lt;p>|a&lt;/p>
\[n-1\]\[0\]&lt;p>_x1 + a&lt;/p>
\[n-1\]\[1\]&lt;p>_x2+ … a&lt;/p>
\[n-1\]\[n-1\]&lt;p>*xn = a&lt;/p>
\[n-1\]\[n\]&lt;p>|&lt;/p>
&lt;p>已知a&lt;/p>
\[x\]\[y\]&lt;p>，求x1, x2 .. xn的值。这个时候就可以使用高斯消元。&lt;/p>
&lt;p>本题目就是高斯消元求解的一道题目。&lt;/p>
&lt;p>依据题意，可以列出方程：&lt;/p>
$$E[x] = 0.5_(E[x-1]+1) + 0.5_(E[x+1]+1)$$&lt;p>其中E代表期望，利用高斯消元我们可以得到x1-xn的值，输出我们需要的E[x]即可。&lt;/p>
&lt;p>高斯消元其实就是我们所说的消元，但是针对于大型的矩阵。&lt;/p>
&lt;p>倒是很简单的题目。&lt;/p></description></item><item><title>山东省第五届省赛 Hearthstone II</title><link>https://svtter.cn/p/%E5%B1%B1%E4%B8%9C%E7%9C%81%E7%AC%AC%E4%BA%94%E5%B1%8A%E7%9C%81%E8%B5%9B-hearthstone-ii/</link><pubDate>Tue, 21 Apr 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%B1%B1%E4%B8%9C%E7%9C%81%E7%AC%AC%E4%BA%94%E5%B1%8A%E7%9C%81%E8%B5%9B-hearthstone-ii/</guid><description>&lt;h2 id="斯特林数stirling">斯特林数stirling
&lt;/h2>&lt;ul>
&lt;li>第一类 stirling数 s(n, k)&lt;/li>
&lt;/ul>
&lt;p>n个人分成k组，组内再按特定顺序围圈&lt;/p>
&lt;p>也就是分成了k组，组内就像是项链颜色一样，&lt;/p>
&lt;ol>
&lt;li>( {A, B}, {C, D} )&lt;/li>
&lt;li>( {B, A}, {C, D} )&lt;/li>
&lt;/ol>
&lt;p>属于一组&lt;/p>
&lt;ol>
&lt;li>({A}, {B, C, D})&lt;/li>
&lt;li>({A}, {B, D, C})&lt;/li>
&lt;/ol>
&lt;p>不属于一组&lt;/p>
&lt;p>给定 $s(n,0)=0,s(1,1)=1$，有递归关系$s(n,k)=s(n-1,k-1) + (n-1) s(n-1,k)$&lt;/p>
&lt;ul>
&lt;li>第二类 stirling数&lt;/li>
&lt;/ul>
&lt;p>S(n, k) 是把p元素集合划分到k个不可区分的盒子里且没有空盒的划分个数。&lt;/p>
&lt;p>公式:&lt;/p>
$$ S(n, n) = 1 (n >= 0) $$$$ S(n, 0) = 0 (n >= 1) $$$$ S(n,k)=k*S(n-1,k)+S(n-1,k-1),\text (1&lt;=k&lt;=n-1) $$&lt;p>这样题目就好解决了。第五届省赛题目神经病。&lt;/p>
&lt;p>因为每个桌子是不同的，所以还要利用乘法原理，$ans*m!$&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstdio&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstring&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;vector&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;map&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;algorithm&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;queue&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cmath&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;bitset&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// 大数，内存处理&lt;/span>
&lt;span class="cp">#define INF 0x3f3f3f3f&lt;/span>
&lt;span class="cp">#define lln long long int&lt;/span>
&lt;span class="cp">#define MEM(a) memset(a, 0, sizeof(a))&lt;/span>
&lt;span class="cp">#define MEMM(a) memset(b, -1, sizeof(b))&lt;/span>
&lt;span class="cp">#define DEB(x, n) cout &amp;lt;&amp;lt; (x) &amp;lt;&amp;lt; " " &amp;lt;&amp;lt; (n) &amp;lt;&amp;lt; endl&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">double&lt;/span> &lt;span class="n">PI&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">acos&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">1.0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="cp">#define CR printf("\n")&lt;/span>
&lt;span class="c1">// 调试用&lt;/span>
&lt;span class="n">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">class&lt;/span> &lt;span class="n">Type&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="n">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Type&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">len&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">len&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">" "&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="cp">#define mod 1000000007&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">maxn&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">100&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">lln&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">maxn&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">maxn&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">init&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">101&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="p">}&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">101&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">k&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">k&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">s&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">((&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">])&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="n">mod&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="n">mod&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">%&lt;/span>&lt;span class="n">mod&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">readinput&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">m&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">m&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">EOF&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">else&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">lln&lt;/span> &lt;span class="n">ans&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">m&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">m&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">ans&lt;/span> &lt;span class="o">*=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">ans&lt;/span> &lt;span class="o">%=&lt;/span> &lt;span class="n">mod&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%lld&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ans&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="cp">#ifdef DEBUG&lt;/span>
&lt;span class="c1">// freopen("input", "r", stdin); //从input文件中读入&lt;/span>
&lt;span class="c1">// freopen("output", "w", stdout); //输出到output文件&lt;/span>
&lt;span class="cp">#endif&lt;/span>
&lt;span class="n">init&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">readinput&lt;/span>&lt;span class="p">());&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>山东省第五届ACM省赛 Weighted Median</title><link>https://svtter.cn/p/%E5%B1%B1%E4%B8%9C%E7%9C%81%E7%AC%AC%E4%BA%94%E5%B1%8Aacm%E7%9C%81%E8%B5%9B-weighted-median/</link><pubDate>Sun, 19 Apr 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%B1%B1%E4%B8%9C%E7%9C%81%E7%AC%AC%E4%BA%94%E5%B1%8Aacm%E7%9C%81%E8%B5%9B-weighted-median/</guid><description>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstdio&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstring&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;vector&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;map&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;algorithm&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;queue&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cmath&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;bitset&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// 大数，内存处理&lt;/span>
&lt;span class="cp">#define inf 0x3f3f3f3f&lt;/span>
&lt;span class="cp">#define lln long long int&lt;/span>
&lt;span class="cp">#define mem(a) memset(a, 0, sizeof(a))&lt;/span>
&lt;span class="cp">#define memm(a) memset(b, -1, sizeof(b))&lt;/span>
&lt;span class="cp">#define deb(x, n) cout &amp;lt;&amp;lt; (x) &amp;lt;&amp;lt; " " &amp;lt;&amp;lt; (n) &amp;lt;&amp;lt; endl&lt;/span>
&lt;span class="cp">#define cr printf("\n")&lt;/span>
&lt;span class="c1">// 调试用&lt;/span>
&lt;span class="n">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">class&lt;/span> &lt;span class="n">type&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="n">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">type&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">len&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">len&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">" "&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">maxn&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">10000000&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">lln&lt;/span> &lt;span class="n">sum&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">maxn&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="k">struct&lt;/span> &lt;span class="n">ele&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">lln&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">w&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">};&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">cmp&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ele&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ele&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">ele&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">maxn&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="cp">#ifdef debug&lt;/span>
&lt;span class="c1">// freopen("input", "r", stdin);&lt;/span>
&lt;span class="cp">#endif&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">eof&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%lld"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%lld"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">w&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">sort&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">cmp&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">sum&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">w&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">sum&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">w&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">sum&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">double&lt;/span> &lt;span class="n">sm&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">sum&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mf">2.0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">bool&lt;/span> &lt;span class="n">flag&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">ti&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">tj&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">ti&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">tj&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">ti&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">x&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">ti&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">ti&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="n">ti&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">tj&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">x&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">tj&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">tj&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="n">tj&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">flag&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// wi &amp;lt;= s/2&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ti&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sum&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">ti&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">sm&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="n">flag&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// wi &amp;lt; s/2&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">tj&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">sum&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">sum&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">tj&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">sm&lt;/span>&lt;span class="p">){}&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="n">flag&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">flag&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">tj&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%lld&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">e&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>bestcoder#2-1</title><link>https://svtter.cn/p/bestcoder%232-1/</link><pubDate>Sat, 18 Apr 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/bestcoder%232-1/</guid><description>&lt;p>一开始直接使用结构体搞结果wrong了，随后查看了某牛的代码发现应该直接在区间上累加 — 得出结论不要直接使用复杂的结构体，转变成简单的数据形式未尝不是一个好方法&lt;/p>
&lt;p>原题:&lt;/p>
&lt;p>&lt;a class="link" href="http://bestcoder.hdu.edu.cn/contests/contest_showproblem.php?cid=526&amp;amp;pid=1001" target="_blank" rel="noopener"
>http://bestcoder.hdu.edu.cn/contests/contest_showproblem.php?cid=526&amp;pid=1001&lt;/a>&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstdio&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstring&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;vector&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;map&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;algorithm&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;queue&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cmath&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;bitset&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// 大数，内存处理&lt;/span>
&lt;span class="cp">#define INF 0x3f3f3f3f&lt;/span>
&lt;span class="cp">#define lln long long int&lt;/span>
&lt;span class="cp">#define MEM(a) memset(a, 0, sizeof(a))&lt;/span>
&lt;span class="cp">#define MEMM(a) memset(b, -1, sizeof(b))&lt;/span>
&lt;span class="cp">#define DEB(x, n) cout &amp;lt;&amp;lt; (x) &amp;lt;&amp;lt; " " &amp;lt;&amp;lt; (n) &amp;lt;&amp;lt; endl&lt;/span>
&lt;span class="cp">#define CR printf("\n")&lt;/span>
&lt;span class="c1">// 调试用&lt;/span>
&lt;span class="n">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">class&lt;/span> &lt;span class="n">Type&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="n">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Type&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">len&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">len&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">" "&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">maxn&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">10000&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="cp">#ifdef DEBUG&lt;/span>
&lt;span class="c1">// freopen("input", "r", stdin);&lt;/span>
&lt;span class="cp">#endif&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">T&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// 24 * 60 + 60 = 1500&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">2000&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">s1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">s2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">e1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">e2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">num&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">T&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">T&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">maxx&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">memset&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">));&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d%d:%d%d:%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">num&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">s1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">s2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">e1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">e2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">sum1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">s1&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mi">60&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">s2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">sum2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">e1&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mi">60&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">e2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">sum1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">sum2&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">num&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">maxx&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">max&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">maxx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">maxx&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>蓝桥杯基础练习</title><link>https://svtter.cn/p/%E8%93%9D%E6%A1%A5%E6%9D%AF%E5%9F%BA%E7%A1%80%E7%BB%83%E4%B9%A0/</link><pubDate>Fri, 10 Apr 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E8%93%9D%E6%A1%A5%E6%9D%AF%E5%9F%BA%E7%A1%80%E7%BB%83%E4%B9%A0/</guid><description>&lt;h2 id="数列排序">数列排序
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstdio&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstring&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;set&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;vector&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;map&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;algorithm&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;queue&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cmath&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;bitset&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// 大数，内存处理&lt;/span>
&lt;span class="cp">#define INF 0x3f3f3f3f&lt;/span>
&lt;span class="cp">#define lln long long &lt;/span>
&lt;span class="cp">#define MEM(a) memset(a, 0, sizeof(a))&lt;/span>
&lt;span class="cp">#define MEMM(a) memset(b, -1, sizeof(b))&lt;/span>
&lt;span class="cp">#define DEB(x, n) cout &amp;lt;&amp;lt; (x) &amp;lt;&amp;lt; " " &amp;lt;&amp;lt; (n) &amp;lt;&amp;lt; endl&lt;/span>
&lt;span class="cp">#define CR printf("\n")&lt;/span>
&lt;span class="c1">// 调试用&lt;/span>
&lt;span class="n">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">class&lt;/span> &lt;span class="n">Type&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="n">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Type&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">len&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">len&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">" "&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="cp">#ifdef DEBUG&lt;/span>
&lt;span class="c1">// freopen("input", "r", stdin); //从input文件中读入&lt;/span>
&lt;span class="c1">// freopen("output", "w", stdout); //输出到output文件&lt;/span>
&lt;span class="cp">#endif&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">maxn&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">200&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">maxn&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">cin&lt;/span> &lt;span class="o">&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">cin&lt;/span> &lt;span class="o">&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="n">sort&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d%c"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">?&lt;/span> &lt;span class="sc">&amp;#39;\n&amp;#39;&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="sc">&amp;#39; &amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h2 id="十六进制转八进制">十六进制转八进制
&lt;/h2>&lt;p>转换的时候，先转换成二进制，再转换成十六进制。&lt;/p>
&lt;p>这道题目还是比较有意思的，使用string只需要78ms，使用char*则超时。可能strcat每次都需要从头遍历数组，但是string则不需要。&lt;/p>
&lt;p>当然，如果是数字没有这么大，完全可以这样处理&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="n">lln&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%x"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%o"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>是不是很精髓= =&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstdio&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstring&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;set&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;vector&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;map&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;algorithm&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;queue&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cmath&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;bitset&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// 大数，内存处理&lt;/span>
&lt;span class="cp">#define INF 0x3f3f3f3f&lt;/span>
&lt;span class="cp">#define lln long long &lt;/span>
&lt;span class="cp">#define MEM(a) memset(a, 0, sizeof(a))&lt;/span>
&lt;span class="cp">#define MEMM(a) memset(b, -1, sizeof(b))&lt;/span>
&lt;span class="cp">#define DEB(x, n) cout &amp;lt;&amp;lt; (x) &amp;lt;&amp;lt; " " &amp;lt;&amp;lt; (n) &amp;lt;&amp;lt; endl&lt;/span>
&lt;span class="cp">#define CR printf("\n")&lt;/span>
&lt;span class="c1">// 调试用&lt;/span>
&lt;span class="n">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">class&lt;/span> &lt;span class="n">Type&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="n">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Type&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">len&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">len&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">" "&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">char&lt;/span> &lt;span class="n">t2&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">16&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="mi">9&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="s">"0000"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"0001"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"0010"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"0011"&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="s">"0100"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"0101"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"0110"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"0111"&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="s">"1000"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"1001"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"1010"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"1011"&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="s">"1100"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"1101"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"1110"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"1111"&lt;/span>
&lt;span class="p">};&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">char&lt;/span> &lt;span class="n">t8&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">8&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="mi">8&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="s">"000"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"001"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"010"&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="s">"011"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"100"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"101"&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="s">"110"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"111"&lt;/span>
&lt;span class="p">};&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">maxn&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">400000&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">trans&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">char&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">num&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">string&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// char temp[maxn] = {&amp;#39;\0&amp;#39;};&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">len&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">strlen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">num&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">len2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">len&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">num&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="sc">&amp;#39;0&amp;#39;&lt;/span> &lt;span class="o">&amp;&amp;&lt;/span> &lt;span class="n">num&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="sc">&amp;#39;9&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">t&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">num&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="sc">&amp;#39;0&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">else&lt;/span>
&lt;span class="n">t&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">num&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="sc">&amp;#39;A&amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// strcat(temp, t2[t]);&lt;/span>
&lt;span class="n">temp&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">t2&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">cnt&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">len&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">length&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="c1">// len = strlen(temp);&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">len&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">-=&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">bool&lt;/span> &lt;span class="n">test&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">k&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">k&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">t8&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">test&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">test&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">num&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">cnt&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="sc">&amp;#39;0&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">7&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">j&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">bool&lt;/span> &lt;span class="n">test&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">t8&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">test&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">test&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">num&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">cnt&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="sc">&amp;#39;0&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">7&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">j&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">t8&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">num&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">cnt&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="sc">&amp;#39;0&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">num&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">cnt&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="sc">&amp;#39;\0&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="cp">#ifdef DEBUG&lt;/span>
&lt;span class="c1">// freopen("input", "r", stdin); //从input文件中读入&lt;/span>
&lt;span class="c1">// freopen("output", "w", stdout); //输出到output文件&lt;/span>
&lt;span class="cp">#endif&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">cin&lt;/span> &lt;span class="o">&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">char&lt;/span> &lt;span class="n">num&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">maxn&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%s"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">num&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">trans&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">num&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">len&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">strlen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">num&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">len&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">num&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="sc">&amp;#39;0&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(;&lt;/span>&lt;span class="n">j&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">num&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h2 id="十六进制转十进制">十六进制转十进制
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstdio&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstring&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;set&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;vector&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;map&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;algorithm&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;queue&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cmath&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;bitset&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// 大数，内存处理&lt;/span>
&lt;span class="cp">#define INF 0x3f3f3f3f&lt;/span>
&lt;span class="cp">#define lln long long int&lt;/span>
&lt;span class="cp">#define MEM(a) memset(a, 0, sizeof(a))&lt;/span>
&lt;span class="cp">#define MEMM(a) memset(b, -1, sizeof(b))&lt;/span>
&lt;span class="cp">#define DEB(x, n) cout &amp;lt;&amp;lt; (x) &amp;lt;&amp;lt; " " &amp;lt;&amp;lt; (n) &amp;lt;&amp;lt; endl&lt;/span>
&lt;span class="cp">#define CR printf("\n")&lt;/span>
&lt;span class="c1">// 调试用&lt;/span>
&lt;span class="n">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">class&lt;/span> &lt;span class="n">Type&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="n">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Type&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">len&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">len&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">" "&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="cp">#ifdef DEBUG&lt;/span>
&lt;span class="c1">// freopen("input", "r", stdin); //从input文件中读入&lt;/span>
&lt;span class="c1">// freopen("output", "w", stdout); //输出到output文件&lt;/span>
&lt;span class="cp">#endif&lt;/span>
&lt;span class="n">lln&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%I64X"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">EOF&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%I64d&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h2 id="十进制转十六进制">十进制转十六进制
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstdio&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstring&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;set&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;vector&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;map&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;algorithm&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;queue&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cmath&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;bitset&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// 大数，内存处理&lt;/span>
&lt;span class="cp">#define INF 0x3f3f3f3f&lt;/span>
&lt;span class="cp">#define lln long long int&lt;/span>
&lt;span class="cp">#define MEM(a) memset(a, 0, sizeof(a))&lt;/span>
&lt;span class="cp">#define MEMM(a) memset(b, -1, sizeof(b))&lt;/span>
&lt;span class="cp">#define DEB(x, n) cout &amp;lt;&amp;lt; (x) &amp;lt;&amp;lt; " " &amp;lt;&amp;lt; (n) &amp;lt;&amp;lt; endl&lt;/span>
&lt;span class="cp">#define CR printf("\n")&lt;/span>
&lt;span class="c1">// 调试用&lt;/span>
&lt;span class="n">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">class&lt;/span> &lt;span class="n">Type&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="n">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Type&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">len&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">len&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">" "&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="cp">#ifdef DEBUG&lt;/span>
&lt;span class="c1">// freopen("input", "r", stdin); //从input文件中读入&lt;/span>
&lt;span class="c1">// freopen("output", "w", stdout); //输出到output文件&lt;/span>
&lt;span class="cp">#endif&lt;/span>
&lt;span class="n">lln&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%I64d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">EOF&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%I64X&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>由此也可以想到，如果是二进制的相关转换（数值范围允许的情况），我们可以写一个简单二进制转十六进制，然后利用sscanf来做进一步转换。&lt;/p>
&lt;p>当然，正规的做法还是除二取余，逆序排列。&lt;/p>
&lt;h2 id="特殊回文数">特殊回文数
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;queue&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">cin&lt;/span> &lt;span class="o">&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">k&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">k&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(((&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d%d%d%d%d&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">k&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">k&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">==&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d%d%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d%d%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h2 id="回文数">回文数
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d%d%d%d&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>特殊的数字&lt;/p>
&lt;hr>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">k&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">k&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">ans&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">k&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">k&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">k&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">ans&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ans&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>只要读题不出问题就没有问题了。。。不刷了&lt;/p></description></item><item><title>蓝桥杯入门训练题目</title><link>https://svtter.cn/p/%E8%93%9D%E6%A1%A5%E6%9D%AF%E5%85%A5%E9%97%A8%E8%AE%AD%E7%BB%83%E9%A2%98%E7%9B%AE/</link><pubDate>Fri, 10 Apr 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E8%93%9D%E6%A1%A5%E6%9D%AF%E5%85%A5%E9%97%A8%E8%AE%AD%E7%BB%83%E9%A2%98%E7%9B%AE/</guid><description>&lt;p>蓝桥的系统需要I64d这种输入格式。无力吐槽。&lt;/p>
&lt;h2 id="fibonacci数列">Fibonacci数列
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstdio&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstring&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;set&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;vector&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;map&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;algorithm&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;queue&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cmath&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;bitset&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// 大数，内存处理&lt;/span>
&lt;span class="cp">#define INF 0x3f3f3f3f&lt;/span>
&lt;span class="cp">#define lln long long int&lt;/span>
&lt;span class="cp">#define MEM(a) memset(a, 0, sizeof(a))&lt;/span>
&lt;span class="cp">#define MEMM(a) memset(b, -1, sizeof(b))&lt;/span>
&lt;span class="cp">#define DEB(x, n) cout &amp;lt;&amp;lt; (x) &amp;lt;&amp;lt; " " &amp;lt;&amp;lt; (n) &amp;lt;&amp;lt; endl&lt;/span>
&lt;span class="cp">#define CR printf("\n")&lt;/span>
&lt;span class="c1">// 调试用&lt;/span>
&lt;span class="n">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">class&lt;/span> &lt;span class="n">Type&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="n">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Type&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">len&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">len&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">" "&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="cp">#ifdef DEBUG&lt;/span>
&lt;span class="c1">// freopen("input", "r", stdin); //从input文件中读入&lt;/span>
&lt;span class="c1">// freopen("output", "w", stdout); //输出到output文件&lt;/span>
&lt;span class="cp">#endif&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">EOF&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">pre&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">mid&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="n">puts&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"1"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">continue&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">temp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pre&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">mid&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">temp&lt;/span> &lt;span class="o">%=&lt;/span> &lt;span class="mi">10007&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">pre&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">mid&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">mid&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h2 id="圆的面积">圆的面积
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstdio&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstring&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;set&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;vector&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;map&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;algorithm&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;queue&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cmath&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;bitset&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// 大数，内存处理&lt;/span>
&lt;span class="cp">#define INF 0x3f3f3f3f&lt;/span>
&lt;span class="cp">#define lln long long int&lt;/span>
&lt;span class="cp">#define MEM(a) memset(a, 0, sizeof(a))&lt;/span>
&lt;span class="cp">#define MEMM(a) memset(b, -1, sizeof(b))&lt;/span>
&lt;span class="cp">#define DEB(x, n) cout &amp;lt;&amp;lt; (x) &amp;lt;&amp;lt; " " &amp;lt;&amp;lt; (n) &amp;lt;&amp;lt; endl&lt;/span>
&lt;span class="cp">#define CR printf("\n")&lt;/span>
&lt;span class="c1">// 调试用&lt;/span>
&lt;span class="n">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">class&lt;/span> &lt;span class="n">Type&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="n">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Type&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">len&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">len&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">" "&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="cp">#ifdef DEBUG&lt;/span>
&lt;span class="c1">// freopen("input", "r", stdin); //从input文件中读入&lt;/span>
&lt;span class="c1">// freopen("output", "w", stdout); //输出到output文件&lt;/span>
&lt;span class="cp">#endif&lt;/span>
&lt;span class="kt">double&lt;/span> &lt;span class="n">PI&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">acos&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mf">1.0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">r&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">EOF&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">double&lt;/span> &lt;span class="n">res&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">PI&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">r&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">r&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%.7lf&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">res&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h2 id="序列求和">序列求和
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstdio&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstring&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;set&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;vector&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;map&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;algorithm&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;queue&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cmath&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;bitset&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// 大数，内存处理&lt;/span>
&lt;span class="cp">#define INF 0x3f3f3f3f&lt;/span>
&lt;span class="cp">#define lln long long int&lt;/span>
&lt;span class="cp">#define MEM(a) memset(a, 0, sizeof(a))&lt;/span>
&lt;span class="cp">#define MEMM(a) memset(b, -1, sizeof(b))&lt;/span>
&lt;span class="cp">#define DEB(x, n) cout &amp;lt;&amp;lt; (x) &amp;lt;&amp;lt; " " &amp;lt;&amp;lt; (n) &amp;lt;&amp;lt; endl&lt;/span>
&lt;span class="cp">#define CR printf("\n")&lt;/span>
&lt;span class="c1">// 调试用&lt;/span>
&lt;span class="n">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">class&lt;/span> &lt;span class="n">Type&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="n">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Type&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">len&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">len&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">" "&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="cp">#ifdef DEBUG&lt;/span>
&lt;span class="c1">// freopen("input", "r", stdin); //从input文件中读入&lt;/span>
&lt;span class="c1">// freopen("output", "w", stdout); //输出到output文件&lt;/span>
&lt;span class="cp">#endif&lt;/span>
&lt;span class="n">lln&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%I64d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">EOF&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%I64d&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h2 id="ab">A+B
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstdio&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstring&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;set&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;vector&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;map&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;algorithm&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;queue&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cmath&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;bitset&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// 大数，内存处理&lt;/span>
&lt;span class="cp">#define INF 0x3f3f3f3f&lt;/span>
&lt;span class="cp">#define lln long long int&lt;/span>
&lt;span class="cp">#define MEM(a) memset(a, 0, sizeof(a))&lt;/span>
&lt;span class="cp">#define MEMM(a) memset(b, -1, sizeof(b))&lt;/span>
&lt;span class="cp">#define DEB(x, n) cout &amp;lt;&amp;lt; (x) &amp;lt;&amp;lt; " " &amp;lt;&amp;lt; (n) &amp;lt;&amp;lt; endl&lt;/span>
&lt;span class="cp">#define CR printf("\n")&lt;/span>
&lt;span class="c1">// 调试用&lt;/span>
&lt;span class="n">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">class&lt;/span> &lt;span class="n">Type&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="n">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Type&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">len&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">len&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">" "&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="cp">#ifdef DEBUG&lt;/span>
&lt;span class="c1">// freopen("input", "r", stdin); //从input文件中读入&lt;/span>
&lt;span class="c1">// freopen("output", "w", stdout); //输出到output文件&lt;/span>
&lt;span class="cp">#endif&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">EOF&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>正方形是否是长方形的子类？</title><link>https://svtter.cn/p/%E6%AD%A3%E6%96%B9%E5%BD%A2%E6%98%AF%E5%90%A6%E6%98%AF%E9%95%BF%E6%96%B9%E5%BD%A2%E7%9A%84%E5%AD%90%E7%B1%BB/</link><pubDate>Thu, 09 Apr 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E6%AD%A3%E6%96%B9%E5%BD%A2%E6%98%AF%E5%90%A6%E6%98%AF%E9%95%BF%E6%96%B9%E5%BD%A2%E7%9A%84%E5%AD%90%E7%B1%BB/</guid><description>&lt;p>依据&lt;strong>里氏代换原则&lt;/strong>，子类型必须能够替换掉它们的父类型，子类继承了父类，那么子类可以以父类的身份出现 — 在软件中，把父类都替换成它的子类，程序的行为没有变化。&lt;/p>
&lt;p>所以从这个角度而言，正方形并非是长方形的子类。&lt;/p>
&lt;p>举个例子，如果长方形中存在一个方法，目的是改变长宽的值，但是正方形只有一个边长，那么就可能出现问题。例如如下代码。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="kd">interface&lt;/span> &lt;span class="nc">Conic&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="kd">public&lt;/span> &lt;span class="kt">long&lt;/span> &lt;span class="nf">getMajor_axis&lt;/span>&lt;span class="o">();&lt;/span>
&lt;span class="kd">public&lt;/span> &lt;span class="kt">long&lt;/span> &lt;span class="nf">getShort_axis&lt;/span>&lt;span class="o">();&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="kd">class&lt;/span> &lt;span class="nc">Ellipse&lt;/span> &lt;span class="kd">implements&lt;/span> &lt;span class="n">Conic&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="kd">private&lt;/span> &lt;span class="kt">long&lt;/span> &lt;span class="n">major_axis&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="kd">private&lt;/span> &lt;span class="kt">long&lt;/span> &lt;span class="n">short_axis&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="kd">public&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">setMajor_axis&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kt">long&lt;/span> &lt;span class="n">major_axis&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">major_axis&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">major_axis&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="kd">public&lt;/span> &lt;span class="kt">long&lt;/span> &lt;span class="nf">getMajor_axis&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">major_axis&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="kd">public&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">setShort_axis&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kt">long&lt;/span> &lt;span class="n">short_axis&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">short_axis&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">short_axis&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="kd">public&lt;/span> &lt;span class="kt">long&lt;/span> &lt;span class="nf">getShort_axis&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">short_axis&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="kd">class&lt;/span> &lt;span class="nc">Circle&lt;/span> &lt;span class="kd">implements&lt;/span> &lt;span class="n">Conic&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="kd">private&lt;/span> &lt;span class="kt">long&lt;/span> &lt;span class="n">radius&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="kd">public&lt;/span> &lt;span class="kt">void&lt;/span> &lt;span class="nf">setRadius&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="kt">long&lt;/span> &lt;span class="n">radius&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="k">this&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">radius&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">radius&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="kd">public&lt;/span> &lt;span class="kt">long&lt;/span> &lt;span class="nf">getRadius&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">radius&lt;/span>&lt;span class="o">;&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="kd">public&lt;/span> &lt;span class="kt">long&lt;/span> &lt;span class="nf">getMajor_axis&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">getRadius&lt;/span>&lt;span class="o">();&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="kd">public&lt;/span> &lt;span class="kt">long&lt;/span> &lt;span class="nf">getShort_axis&lt;/span>&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">getRadius&lt;/span>&lt;span class="o">();&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>上面是椭圆形的代码。可以改写成矩形来解释这个问题，不过太麻烦我还是先做后面的题目了。&lt;/p></description></item><item><title>ACM – 快速生成测试数据</title><link>https://svtter.cn/p/acm-%E5%BF%AB%E9%80%9F%E7%94%9F%E6%88%90%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE/</link><pubDate>Wed, 08 Apr 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/acm-%E5%BF%AB%E9%80%9F%E7%94%9F%E6%88%90%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE/</guid><description>&lt;p>比赛的时候出现了100 * 100组数据的情况，但是当时使用freopen忘记了具体的步骤，特意重新写一下，也是属于基础的内容。&lt;/p>
&lt;p>生成一百行数据，每行100个数据，每个数据为100。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;`enter code here`&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">freopen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"input"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"r"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">stdin&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">freopen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"output"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"w"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">stdout&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d%c"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">99&lt;/span>&lt;span class="o">?&lt;/span> &lt;span class="sc">&amp;#39;\n&amp;#39;&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="sc">&amp;#39; &amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">fclose&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">stdin&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">fclose&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">stdout&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>运行过后生成的数据（本来应该输出在屏幕上，此时不会输出到屏幕，而是输出到文件）会保存到&lt;code>output&lt;/code>文件中。如果需要使用直接更改&lt;code>output&lt;/code>的文件名，再使用一次&lt;code>freopen('r')&lt;/code>即可。&lt;/p></description></item><item><title>ACM – 三道统计题目</title><link>https://svtter.cn/p/acm-%E4%B8%89%E9%81%93%E7%BB%9F%E8%AE%A1%E9%A2%98%E7%9B%AE/</link><pubDate>Wed, 08 Apr 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/acm-%E4%B8%89%E9%81%93%E7%BB%9F%E8%AE%A1%E9%A2%98%E7%9B%AE/</guid><description>&lt;p>基本上就是按照大白学习的，基本上都是计数方法的运用。&lt;/p>
&lt;p>这是的大体的对组合数学的学习导图。&lt;/p>
&lt;h2 id="指导">指导
&lt;/h2>&lt;p>&lt;img src="http://leanote.com/api/file/getImage?fileId=5524f9fd38f411636b00069d"
loading="lazy"
alt="enter image description here"
>&lt;/p></description></item><item><title>大白刷题录</title><link>https://svtter.cn/p/%E5%A4%A7%E7%99%BD%E5%88%B7%E9%A2%98%E5%BD%95/</link><pubDate>Thu, 12 Mar 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%A4%A7%E7%99%BD%E5%88%B7%E9%A2%98%E5%BD%95/</guid><description>&lt;h2 id="uva-11729">UVa 11729
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstdio&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cmath&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;algorithm&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="k">using&lt;/span> &lt;span class="k">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">struct&lt;/span> &lt;span class="n">Ant&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">id&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">bool&lt;/span> &lt;span class="k">operator&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">Ant&lt;/span>&lt;span class="o">&amp;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">p&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">};&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">MAXN&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">10010&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">char&lt;/span> &lt;span class="n">dirName&lt;/span>&lt;span class="p">[][&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="s">"L"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"Turning"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"R"&lt;/span>&lt;span class="p">};&lt;/span>
&lt;span class="n">Ant&lt;/span> &lt;span class="n">before&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">MAXN&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">after&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">MAXN&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">order&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">MAXN&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">argc&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="kt">char&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">argv&lt;/span>&lt;span class="p">[])&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">freopen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"input"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"r"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">stdin&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">L&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">T&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">char&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">kase&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">kase&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">kase&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"Case #%d:&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">kase&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d%d%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">L&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">T&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d %c"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">d&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">c&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="sc">&amp;#39;L&amp;#39;&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">before&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">Ant&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">};&lt;/span>
&lt;span class="n">after&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">Ant&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">T&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">d&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">};&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">sort&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">before&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">before&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span> &lt;span class="p">;&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">order&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">before&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">sort&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">after&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">after&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">after&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">after&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">after&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">after&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">order&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">after&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="n">after&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">L&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">puts&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"Fell off"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d %s&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">after&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">dirName&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">after&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">d&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstdio&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cmath&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;algorithm&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="k">using&lt;/span> &lt;span class="k">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">struct&lt;/span> &lt;span class="n">Ant&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">id&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">bool&lt;/span> &lt;span class="k">operator&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">Ant&lt;/span>&lt;span class="o">&amp;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">p&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">};&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">MAXN&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">10010&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">char&lt;/span> &lt;span class="n">dirName&lt;/span>&lt;span class="p">[][&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="s">"L"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"Turning"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"R"&lt;/span>&lt;span class="p">};&lt;/span>
&lt;span class="n">Ant&lt;/span> &lt;span class="n">before&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">MAXN&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">after&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">MAXN&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">order&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">MAXN&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">argc&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="kt">char&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">argv&lt;/span>&lt;span class="p">[])&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">freopen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"input"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"r"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">stdin&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">L&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">T&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">char&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">kase&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">kase&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">kase&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"Case #%d:&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">kase&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d%d%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">L&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">T&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d %c"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">d&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">c&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="sc">&amp;#39;L&amp;#39;&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">before&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">Ant&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">};&lt;/span>
&lt;span class="n">after&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">Ant&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">T&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">d&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">};&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">sort&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">before&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">before&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span> &lt;span class="p">;&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">order&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">before&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">sort&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">after&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">after&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">after&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">after&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">after&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">after&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">order&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">after&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="n">after&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">L&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">puts&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"Fell off"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d %s&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">after&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">dirName&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">after&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">d&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h2 id="uva-11292-勇士斗恶龙">UVa 11292 勇士斗恶龙
&lt;/h2>&lt;p>排序，贪心&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;algorithm&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="c1">// freopen("input", "r", stdin);&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">MAXN&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">20010&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">dra&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">MAXN&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">sol&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">MAXN&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">m&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">m&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">m&lt;/span> &lt;span class="o">&amp;&amp;&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">dra&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">m&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">sol&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="n">sort&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">dra&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">dra&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="n">sort&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sol&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">sol&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">m&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">cost&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">cost&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(;;)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">m&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">dra&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">sol&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">else&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">cost&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">sol&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">cost&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="n">puts&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"Loowater is doomed!"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h2 id="uva-11300">UVa 11300
&lt;/h2>&lt;p>这个题目很有价值。&lt;/p>
&lt;p>一方面通过数学推导得出结论。&lt;/p>
&lt;p>编号为i的人初始有$A_i$枚金币。对于1号，给了4号$x_1$枚金币，自己还有$A_1-x_1$枚。然后从2号拿走$x_2$枚金币，现在有$A_1-x_1+x_2$枚金币，另外，设平均金币值为$A_1-x_1+x_2=M$。&lt;/p>
&lt;p>由此可类推得到&lt;/p>
&lt;p>$A_n-x_n+x_1 \Rightarrow x_n=M-A_n+x_1=x_n-C_n$&lt;/p>
&lt;p>我们可以得到类推公式&lt;/p>
$$C\_i = C\_{i-1} + A_i &amp;#8211; M $$&lt;p>证明:&lt;/p>
$$x\_2 = x\_1 &amp;#8211; C_1$$$$x\_3 = M-A\_2+x\_2 =2M-A\_1-A\_2+x\_1=x\_1-C\_2$$&lt;p>\&lt;/p>
&lt;p>以此类推。&lt;/p>
&lt;p>可以求得，需要求的结果为:&lt;/p>
$$|x\_1|+|x\_1-C\_1|+|x\_1-C\_2|&amp;#8230;.|x\_1-C_n-1|$$&lt;p>即求这个式子值最小，即求$C_1, C_2, …C_n$的中位数。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;algorithm&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;math.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#define lln long long&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">MAXN&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1000000&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">lln&lt;/span> &lt;span class="n">gold&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">MAXN&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">C&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">MAXN&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="c1">// freopen("input", "r", stdin);&lt;/span>
&lt;span class="n">lln&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">sum&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">per&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">cnt&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">~&lt;/span>&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%lld"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">sum&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%lld"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">gold&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="n">sum&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">gold&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">per&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">sum&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">C&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">C&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">C&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">gold&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">per&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">sort&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">C&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">C&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">cnt&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">lln&lt;/span> &lt;span class="n">x1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">C&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">cnt&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">abs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x1&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">C&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%lld&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">cnt&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h2 id="la-3708">LA 3708
&lt;/h2>&lt;p>这个题目也是比较有水平&lt;/p>
&lt;p>使用了按比例缩小的技巧。其中，按逆时针编号，固定一个点作为原点，建立新坐标。原来的位置呈现在新坐标的位置为$pos = i/n*(n+m)$，如此，求移动距离则是$fabs(pos – floor(pos+0.5))/(n+m)$&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstdio&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cmath&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;algorithm&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="c1">// freopen("input", "r", stdin);&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">m&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">double&lt;/span> &lt;span class="n">pos&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ans&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">m&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">EOF&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">ans&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">pos&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">double&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">m&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">ans&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">fabs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pos&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">floor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pos&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mf">0.5&lt;/span>&lt;span class="p">))&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">m&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%.4lf&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ans&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mi">10000&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h2 id="uva-10881">UVa 10881
&lt;/h2>&lt;p>蓝桥杯去年山东省的初赛题目，的确有点意思= =&lt;/p>
&lt;p>转换方向可以不必在意，因为最终看到的结果已经不知道最初的蚂蚁是哪一只了，所以不用纠结方向的问题。主要要考虑的是最终的位置，以及最初蚂蚁位置的存储，before，after的对应关系。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstdio&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cmath&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;algorithm&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">struct&lt;/span> &lt;span class="n">Ant&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">id&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">bool&lt;/span> &lt;span class="n">operator&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">Ant&lt;/span>&lt;span class="o">&amp;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">p&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">};&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">MAXN&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">10010&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">char&lt;/span> &lt;span class="n">dirName&lt;/span>&lt;span class="p">[][&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="s">"L"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"Turning"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"R"&lt;/span>&lt;span class="p">};&lt;/span>
&lt;span class="n">Ant&lt;/span> &lt;span class="n">before&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">MAXN&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">after&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">MAXN&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">order&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">MAXN&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">argc&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="kt">char&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">argv&lt;/span>&lt;span class="p">[])&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">freopen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"input"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"r"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">stdin&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">L&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">T&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">char&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">t&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">kase&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">kase&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">kase&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"Case #%d:&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">kase&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d%d%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">L&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">T&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d %c"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">d&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">c&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="sc">&amp;#39;L&amp;#39;&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">before&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">Ant&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">};&lt;/span>
&lt;span class="n">after&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">Ant&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">T&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">d&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">d&lt;/span>&lt;span class="p">};&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">sort&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">before&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">before&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span> &lt;span class="p">;&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">order&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">before&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">sort&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">after&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">after&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">after&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">after&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">after&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">after&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">order&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">after&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="n">after&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">L&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">puts&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"Fell off"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d %s&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">after&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">dirName&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">after&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">d&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>Leanote - 一个极简风格的笔记</title><link>https://svtter.cn/p/leanote-%E4%B8%80%E4%B8%AA%E6%9E%81%E7%AE%80%E9%A3%8E%E6%A0%BC%E7%9A%84%E7%AC%94%E8%AE%B0/</link><pubDate>Sat, 14 Feb 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/leanote-%E4%B8%80%E4%B8%AA%E6%9E%81%E7%AE%80%E9%A3%8E%E6%A0%BC%E7%9A%84%E7%AC%94%E8%AE%B0/</guid><description>&lt;blockquote>
&lt;p>本文出自 &lt;a class="link" href="http://svtter.github.io" target="_blank" rel="noopener"
>http://svtter.github.io&lt;/a>&lt;/p>&lt;/blockquote>
&lt;p>本文可以随意转载，但是转载请保留本信息.&lt;/p>&lt;/p>
&lt;p>&lt;a class="link" href="https://leanote.com/" target="_blank" rel="noopener"
>leanote&lt;/a> 这个项目很不错,然后看到了免费的套餐十分诱人,已经很久没有更新自己的站了,大部分的更新都在 &lt;a class="link" href="" >segmentfault&lt;/a> 上面,另外,很多配置等等leanote的blog做的的确都不错,感觉上要优于hexo,有兴趣的朋友可以看一下.&lt;/p>
&lt;h2 id="update-at-20230829">update at 20230829
&lt;/h2>&lt;p>原来2015年就在看 leanote 了。leanote 似乎还活着，每个月10元续费，大概是为很多老用户服务的。
看了看&lt;a class="link" href="https://github.com/leanote/leanote" target="_blank" rel="noopener"
>github&lt;/a>，已经有 2年没有更新了。大概是死掉了。&lt;/p></description></item><item><title>关于这次校赛</title><link>https://svtter.cn/p/%E5%85%B3%E4%BA%8E%E8%BF%99%E6%AC%A1%E6%A0%A1%E8%B5%9B/</link><pubDate>Sat, 14 Feb 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%85%B3%E4%BA%8E%E8%BF%99%E6%AC%A1%E6%A0%A1%E8%B5%9B/</guid><description>&lt;p>这次校赛很糟糕，第七名，二等奖。&lt;/p>
&lt;p>回宿舍以后心里就很不是滋味。本来结束的时候并不觉得非常糟糕，可是这个情绪在仔细思考之后就有些爆炸了。&lt;/p>
&lt;p>这次校赛为啥失利呢？原因如下：&lt;/p>
&lt;h2 id="模板">模板
&lt;/h2>&lt;p>开始准备工作做的不够充分，早上去了以后才急急忙忙的打印模板，以至于一些知识点都没有好好翻看。&lt;/p>
&lt;p>此外，这次使用模板才发现模板中有些内容是不好用的，使用的过程中会出现问题，比如&lt;code>init.cpp&lt;/code>中的&lt;code>template &amp;lt;class Type&amp;gt;&lt;/code>明显存在问题，但是在之前的审查中没有审查出来，以至于在比赛的过程中一开始我还使用初始模板，到了后面直接从最裸的开始写起了。这在一定程度上耽误了做题速度。当然不仅仅如此，居然连&lt;code>cstring&lt;/code>头文件我都没有加入，实在是不应该。&lt;/p>
&lt;p>校赛之前的时间应该好好准备一下，把应该做的事情做完，&lt;strong>给自己提出问题&lt;/strong>，然后自己解决好。&lt;/p>
&lt;h2 id="粗心以及考试中的心态">粗心，以及考试中的心态
&lt;/h2>&lt;p>说是粗心，倒不如说是没有&lt;strong>养成一个良好的模式&lt;/strong>。本次这次比赛我又重新犯了之前在bestcoder上的错误，就是使用鼠标中键打开之后，我直接阅读了相邻最近的题目，但是明显是最后一道题目，于是在比赛的初期造成了巨大的心里压力 — 我发现周围的人已经做出题目了，但是我却没有。回头一看榜单，wyp都已经刷出两道题目了，着实让我有些紧张。&lt;/p>
&lt;p>然后这个地方可以夸奖自己一下 — 这个时候我调整好了心态，首先发现了自己做的第一道题目是H题，找到思路以后我就暂时放下了这道题目，重新从A题开始做，迅速AC了前两道题目，然后重新看榜单，依据榜单来刷题目，发现后面的题目又很快的被A出，于是采取了跟随战术。等到我跟随了基本上所有题目的时候，把H题的思路重新敲上，提交AC，此时我是榜单第一的。&lt;/p>
&lt;p>这个时候我的心态又有所变化 — 从一开始的紧张，到中途的不迫，到最后的无惧，恰恰是这最后的无惧导致我这场比赛最终的失利。在我到达榜单第一名的时候，我就放松了下来，开始简简单单的冲击D题 — 这道题目最后我提交了17次，但是直到最后一次提交11:29:46我依然没有AC。在这之间我一直都在想，只要A出这道题目，冠军就稳了。&lt;/p>
&lt;p>不幸的是就是这道题目我没有做出来。&lt;strong>因为狂妄，不假思索&lt;/strong>。做出题目的时候我狂妄的认为题目很简单对我而言不是问题，然后不加思索的使用了dfs，bfs方法，都超时了 — 然后通过更改STL为简单的数据结构进行时间优化完全没有效果 — 然后醒悟使用dp的方法，或者说递推 — 思路应该是没有问题的，但是在代码中我无数次的找到bug，却都不是导致我程序WA的原因。&lt;/p>
&lt;p>D题的代码我重构了6次。dfs，bfs，bfs简单数据结构，dp，（long long）dp，（bign）dp。&lt;/p>
&lt;p>没有好好思考，没有重视题目，结果导致如此惨烈。由此也是联想到了去年蓝桥杯决赛的时候，被初赛题目的程度迷了心窍，导致最后决赛的狂妄和不假思索。稍微有点成就就容易不思进取，这就是我这个人的尿性，也是一个致命的弱点。再回头看看，因为我是一个不善于隐藏自己内心想法的人，&lt;strong>一件事往往我在开始的时候装逼，最后的结果一定是被极爽的打脸。&lt;/strong>&lt;/p>
&lt;p>&lt;a class="link" href="http://blog.leanote.com/post/551b4896d066ef278c000000" target="_blank" rel="noopener"
>你没有变强，是因为你一直很舒服&lt;/a>&lt;/p>
&lt;h2 id="赛后">赛后
&lt;/h2>&lt;p>赛后了解到有一道题目是东方学长出的，简单的贪心，题目难度适中，但是没有人去做。也是应证了那句，越是长难的题目可能越简单，只不过你被吓住了。&lt;/p>
&lt;p>后来仔细回想一番，自己也是因为觉得没有人做，也就没有再去仔细的看其他的题目。&lt;/p>
&lt;h2 id="卡题">卡题
&lt;/h2>&lt;p>对于卡题以及各种bug这次我所犯的。&lt;/p>
&lt;ol>
&lt;li>scanf忘记了EOF&lt;/li>
&lt;li>for循环循环控制出现了错误&lt;/li>
&lt;li>数组下标错误&lt;/li>
&lt;li>如果一道题目重构仍然无法AC，那么就是算法的问题。&lt;/li>
&lt;li>如果卡题超过30分钟，那么我便可以认为这道题目我就是做不出来。起码在比赛上是这样。&lt;/li>
&lt;/ol>
&lt;h2 id="总结写给自己的话">总结，写给自己的话
&lt;/h2>&lt;p>暂且就总结这么多，我需要记住的是：&lt;/p>
&lt;ol>
&lt;li>
&lt;p>题目没有那么难，也没有那么简单。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>戒骄戒躁&lt;/p>
&lt;/li>
&lt;li>
&lt;p>稳定心态，培养良好的做题模式&lt;/p>
&lt;/li>
&lt;li>
&lt;p>在平时就要检验模板，不要等到考场上发现模板有问题。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>一件事情就算是有十分的把握也不能装逼，更别提三分强行打自己脸，这样不会减压，反而会增大自己的压力。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>不要稍微有点成就，进步就不思进取。&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>&lt;strong>后来发现自己死活水不过题目居然是霞姐数据给错了- -。&lt;/strong>&lt;/p></description></item><item><title>ACM-数据结构</title><link>https://svtter.cn/p/acm-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/</link><pubDate>Fri, 30 Jan 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/acm-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/</guid><description>&lt;p _="%" endblockquote="endblockquote">{% blockquote 本文出自 http://svtter.github.io svtter.github.io %}
&lt;p>本文可以随意转载，但是转载请保留本信息.&lt;/p>&lt;/p>
&lt;p>Uvaoj的判题效率不是很高。。所以直接开下一章节。题目慢慢刷，先过一遍书，不然书都看不完了TAT。。&lt;/p>
&lt;h2 id="61-栈和队列">6.1 栈和队列
&lt;/h2>&lt;p>卡片游戏，回顾了下队列和STL&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;queue&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">maxn&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">maxn&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">ace&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="n">ace2&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="c1">//init&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">front&lt;/span> &lt;span class="p">,&lt;/span> &lt;span class="n">rear&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">front&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">rear&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// 队列不为空&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">front&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">rear&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d "&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">front&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="n">q&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">rear&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">front&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">ace2&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="c1">// STL &lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">ace2&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">queue&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">empty&lt;/span>&lt;span class="p">())&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d "&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">front&lt;/span>&lt;span class="p">());&lt;/span>
&lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">pop&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">front&lt;/span>&lt;span class="p">());&lt;/span>
&lt;span class="n">q&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">pop&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">argc&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="kt">char&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">argv&lt;/span>&lt;span class="p">[])&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">ace&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h2 id="612栈的stl">6.1.2栈的STL
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stack&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kr">const&lt;/span> &lt;span class="kr">int&lt;/span> &lt;span class="n">maxn&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">200&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kr">int&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">maxn&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kr">void&lt;/span> &lt;span class="nf">ace&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kr">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kr">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">maxn&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kr">int&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">top&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kr">int&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">set&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">~&lt;/span>&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">top&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">set&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">temp&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="c1">// 如果无法完成序列，只吸收输入值&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">set&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">continue&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">temp&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">top&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="o">&amp;&amp;&lt;/span> &lt;span class="n">temp&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">top&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="n">top&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">temp&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">s&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="n">top&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="n">p&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">set&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">set&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"Yes"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"No"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kr">void&lt;/span> &lt;span class="nf">ace2&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kr">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kr">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">maxn&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kr">int&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">set&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">~&lt;/span>&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">stack&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="kr">int&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">set&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">temp&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="c1">// 如果无法完成序列，只吸收输入值&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">set&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">continue&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">temp&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">empty&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">&amp;&amp;&lt;/span> &lt;span class="n">temp&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">top&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">pop&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">temp&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">s&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="n">p&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">set&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">set&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"Yes"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"No"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kr">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">ace2&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h2 id="62-链表和随机数发生器">6.2 链表和随机数发生器
&lt;/h2>&lt;p>链表的相关部分就不在赘述了。主要是随机数发生器。&lt;/p>
&lt;p>很多人喜欢用&lt;code>rand()%N&lt;/code>得到一个随即整数，但是n大于&lt;code>RAND_MAX&lt;/code>的时候，就不好用了。&lt;/p>
&lt;p>于是使用&lt;code>(double)rand()/RAND_MAX&lt;/code>，然后在扩大&lt;code>n-1&lt;/code>倍以后四舍五入，再+1&lt;/p>
&lt;p>例如这样&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="c1">// 获取1~m的随即整数&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">random&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">m&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">double&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">double&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="n">rand&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="n">RAND_MAX&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">m&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mf">0.5&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h2 id="63-二叉树">6.3 二叉树
&lt;/h2></description></item><item><title>博客重新开始更新</title><link>https://svtter.cn/p/%E5%8D%9A%E5%AE%A2%E9%87%8D%E6%96%B0%E5%BC%80%E5%A7%8B%E6%9B%B4%E6%96%B0/</link><pubDate>Tue, 27 Jan 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%8D%9A%E5%AE%A2%E9%87%8D%E6%96%B0%E5%BC%80%E5%A7%8B%E6%9B%B4%E6%96%B0/</guid><description>&lt;p _="%" endblockquote="endblockquote">{% blockquote 本文出自 http://svtter.github.io svtter.github.io %}
&lt;p>本文可以随意转载，但是转载请保留本信息.&lt;/p>&lt;/p>
&lt;p>重新开始更新自己的blog了，之前一段时间的文章都在 &lt;a class="link" href="http://segmentfault.com/blog/svtter" target="_blank" rel="noopener"
>http://segmentfault.com/blog/svtter&lt;/a>&lt;/p>
&lt;p>segmentfault感觉着实不错= =&lt;/p>
&lt;p>以后blog中各种发解题报告各种发思路各种发知识。&lt;/p>
&lt;p>坦白说之前的blog真心是懒得更新= =&lt;/p></description></item><item><title>悲剧了</title><link>https://svtter.cn/p/%E6%82%B2%E5%89%A7%E4%BA%86/</link><pubDate>Wed, 21 Jan 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E6%82%B2%E5%89%A7%E4%BA%86/</guid><description>&lt;p _="%" endblockquote="endblockquote">{% blockquote 本文出自 http://svtter.github.io svtter.github.io %}
&lt;p>本文可以随意转载，但是转载请保留本信息.&lt;/p>&lt;/p>
&lt;p>手贱删除了windows的注册表，因为之前装arch的时候硬盘有些位置没有对齐，造成我重装win7的时候把&lt;/p>
&lt;p>archlinux也弄没了TAT最惨的莫过于一些文章都没有了。操作系统网络等资源倒是还能从github上找回，&lt;/p>
&lt;p>但是似乎不是最新的。虽然是考完了，但是看到大把大把的总结资料没了也着实心疼。&lt;/p>
&lt;p>不管啦，没了就没了吧。&lt;/p>
&lt;p>这次同步更新！在segmentfault和我自己的博客上同步更新，一般segmentfault会更快一点。哎，一定&lt;/p>
&lt;p>要及时备份数据，不然很容易就悲剧了。&lt;/p>
&lt;p>因为hexo的主题神马的我没有备份（也有一个，不过比较老了）。所以有时间的时候再弄把。&lt;/p></description></item><item><title>Java-如何使用vim开发Java</title><link>https://svtter.cn/p/java-%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8vim%E5%BC%80%E5%8F%91java/</link><pubDate>Thu, 01 Jan 2015 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/java-%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8vim%E5%BC%80%E5%8F%91java/</guid><description>&lt;p _="%" endblockquote="endblockquote">{% blockquote 本文出自 http://svtter.github.io svtter.github.io %}
&lt;p>本文可以随意转载，但是转载请保留本信息.&lt;/p>&lt;/p>
&lt;p>在网上搜索一番，大部分此类文章都是在说配置，而且配置讲的一看就是没有深入的撸vim。这个时候就&lt;/p>
&lt;p>需要我来深刻的讲讲这个问题了 — 国外也有一些开发者写过类似的文章，不过国外的开发者没有深层&lt;/p>
&lt;p>的讲讲具体如何配置，仅仅是比较简单的说了一下应该用什么。&lt;/p>
&lt;p>闲话少说，我们开始吧。&lt;/p>
&lt;blockquote>
&lt;p>本文的作者认为，本文的读者已经学会使用vim的初步，至于安装，启动之类的东西作者不再赘述，&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>望读者海涵。&lt;/p>&lt;/blockquote>
&lt;h2 id="vimrc的配置">Vimrc的配置
&lt;/h2>&lt;p>如果想要用Vim撸Java，首先一个问题就是许多IDE自带的查错功能，这个笔者希望使用Syntastic来实现。&lt;/p>
&lt;p>具体的方法是，安装Vundle（vim的插件配置工具，用于安装组合各类插件）。其实这个地方也可以不用&lt;/p>
&lt;p>Vundle，但是笔者认为，vimer配置大量插件的最佳方法就是使用vunlde，或者patheon等等。总之，一&lt;/p>
&lt;p>定需要一个插件管理。&lt;/p>
&lt;p>安装Vundle还是比较轻松的，在github上搜索一下，经过一系列步骤即可。然后同样是位于github，搜&lt;/p>
&lt;p>索Syntastic安装即可。&lt;/p>
&lt;p>Syntastic是一个检查语法的vim插件，不仅仅支持Java，各种都支持，具体可以看看Syntastic的wiki&lt;/p>
&lt;h2 id="学习ant">学习Ant
&lt;/h2>&lt;p>Ant是什么东西？简单来说，就是java的makefile。Syntastic的wiki对ant和maven均有支持，但是我个人&lt;/p>
&lt;p>学习了Ant，另外eclipse里面的ant等等 — 如果想要探究一下，可以查看一下这篇文章&lt;/p>
&lt;p>这里面说了一点笔者在ant上面的一点东西，还有ant学习的链接。&lt;/p>
&lt;h2 id="配置syntastic">配置Syntastic
&lt;/h2>&lt;blockquote>
&lt;p>PS: 期末周这么悠闲的写博客真的好吗！！&lt;/p>&lt;/blockquote>
&lt;p>说是配置Syntastic，更不如说是配置Syntastic的Java配置文件。&lt;/p>
&lt;ol>
&lt;li>首先你需要在你的&lt;code>.vimrc&lt;/code>中，添加 &lt;code>let g:syntastic_java_javac_config_file_enabled = 1&lt;/code>&lt;/li>
&lt;/ol>
&lt;pre>&lt;code>用于使Syntastic读取配置文件生效。
&lt;/code>&lt;/pre>
&lt;ol start="2">
&lt;li>选择&lt;code>build.xml&lt;/code>，使用命令&lt;code>:SyntasticJavacEditConfig&lt;/code>，输入:&lt;/li>
&lt;/ol>
&lt;pre>&lt;code>`let g:syntastic_java_javac_custom_classpath_command =&amp;lt;br /&amp;gt;
\ &amp;quot;ant -q build | grep echo | cut -f2- -d] | tr -d ' ' | tr ':' '\n'&amp;quot;`
&lt;/code>&lt;/pre>
&lt;ol start="3">
&lt;li>重启Vim，语法检查就完成了。&lt;/li>
&lt;/ol>
&lt;h2 id="其他的插件">其他的插件
&lt;/h2>&lt;ul>
&lt;li>Bundle ‘vim-scripts/javacomplete’&lt;/li>
&lt;li>Bundle ‘vim-scripts/javaDoc.vim’&lt;/li>
&lt;li>&lt;/li>
&lt;li>” Bundle ‘vim-scripts/Java-Syntax-und-Folding’&lt;/li>
&lt;li>” Bundle ‘vim-javacompleteex’ “更好的 Java 补全插件&lt;/li>
&lt;/ul>
&lt;p>以上插件均可以考虑使用，安装方法可能有所不同 — 但是个人认为最大的语法检查问题已经搞定了，&lt;/p>
&lt;p>其他的问题应该都不是问题了吧 = =&lt;/p></description></item><item><title>网络-CDMA接受检验</title><link>https://svtter.cn/p/%E7%BD%91%E7%BB%9C-cdma%E6%8E%A5%E5%8F%97%E6%A3%80%E9%AA%8C/</link><pubDate>Wed, 31 Dec 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E7%BD%91%E7%BB%9C-cdma%E6%8E%A5%E5%8F%97%E6%A3%80%E9%AA%8C/</guid><description>&lt;p _="%" endblockquote="endblockquote">{% blockquote 本文出自 http://svtter.github.io svtter.github.io %}
&lt;p>本文可以随意转载，但是转载请保留本信息.&lt;/p>&lt;/p>
&lt;p>做CDMA简单的接收处理。&lt;/p>
&lt;h2 id="文件">文件
&lt;/h2>&lt;p>input:&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>-1 -1 -1 1 1 -1 1 1
-1 -1 1 -1 1 1 1 -1
-1 1 -1 1 1 1 -1 -1
-1 1 -1 -1 -1 -1 -1 1
&lt;/pre>
&lt;/div>
&lt;p>new.c:&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;math.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#define M 8&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">[]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">};&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">show&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[])&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">M&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%5d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="n">puts&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">""&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">M&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">freopen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">&amp;#39;&lt;/span>&lt;span class="n">input&lt;/span>&lt;span class="err">&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="sc">&amp;#39;r&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">stdin&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">M&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">show&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">sum&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">M&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">sum&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">sum&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">M&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>Java-Ant文件和Synastic-Vim支持</title><link>https://svtter.cn/p/java-ant%E6%96%87%E4%BB%B6%E5%92%8Csynastic-vim%E6%94%AF%E6%8C%81/</link><pubDate>Mon, 29 Dec 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/java-ant%E6%96%87%E4%BB%B6%E5%92%8Csynastic-vim%E6%94%AF%E6%8C%81/</guid><description>&lt;p _="%" endblockquote="endblockquote">{% blockquote 本文出自 http://svtter.github.io svtter.github.io %}
&lt;p>本文可以随意转载，但是转载请保留本信息.&lt;/p>&lt;/p>
&lt;p>本文已经更新，请看 — 如何使用vim开发Java.&lt;/p>
&lt;p>本来想把本文命名为使用Vim写Java-Project的，但是个人认为这样并没有很高的开发效率，所以只是提&lt;/p>
&lt;p>供一个部分的解决方案，剩下的就由大家努力探索吧。。&lt;/p>
&lt;p>Java有个自己构建工程的工具叫做Ant, 全名&lt;code>Apache Ant&lt;/code>，好东西，最通俗的解释就是Java的&lt;/p>
&lt;p>&lt;code>makefile&lt;/code>，这里提供的方案，就是使用Ant或者maven来构建工程，然后通过Synastic的设置，来完成&lt;/p>
&lt;p>Java的代码检查。另外，java代码补全设置其实也是有的，但是具体的设置我没有好好研究过，主要是&lt;/p>
&lt;p>已经陪不起那个时间了。&lt;/p>
&lt;p>另外，Eclipse导出Java项目的时候，一个不错的方法就是&lt;code>Export Ant Buildfiles&lt;/code>，这就是ant文件。&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="http://www.blogjava.net/amigoxie/archive/2007/11/09/159413.html" target="_blank" rel="noopener"
>Ant学习简单教程&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>Maven我没有好好学，但是看wiki似乎Synastic对maven的支持比ant的支持更加优秀，也可能是mvn的构&lt;/p>
&lt;p>建方法上存在优势？这个我不清楚。有时间写一篇文章来好好的研究下。&lt;/p>
&lt;p>Ant这个东西构建的包有时候检查会出现问题，（如果采用目录编译的方法，那么就无法检查）。&lt;/p>
&lt;p>另外，需要不停的在目录下建立&lt;code>.synastic_javac_config&lt;/code>，着实烦人。但是如果使用了全局设置，改&lt;/p>
&lt;p>变了配置文件的根目录，也是极为不妥当的（不可能只有一个项目在编辑吧？另外改来改去，也是太麻&lt;/p>
&lt;p>烦了。）&lt;/p>
&lt;p>就是这样。。更多的是吐槽吧。&lt;/p>
&lt;p>对于上一篇文章提到的问题可以用设置classpath来解决。具体方法是将classpath添加到syntastic。&lt;/p>
&lt;p>&lt;code>use :SyntasticJavacEditClasspath and add workpath.&lt;/code>&lt;/p></description></item><item><title>Java-import和package的用法</title><link>https://svtter.cn/p/java-import%E5%92%8Cpackage%E7%9A%84%E7%94%A8%E6%B3%95/</link><pubDate>Sun, 28 Dec 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/java-import%E5%92%8Cpackage%E7%9A%84%E7%94%A8%E6%B3%95/</guid><description>&lt;blockquote>
&lt;p>本文出自&lt;a class="link" href="http://svtter.github.io" target="_blank" rel="noopener"
>svtter.github.io&lt;/a>
本文可以随意转载，但是转载请保留本信息.&lt;/p>&lt;/blockquote>
&lt;p>之前一直都是用eclipse开发Java，Vim修炼到今日，本来想要拉出来溜溜Java，奈何package和import的机制以及 synastic[自动检查代码的插件] 没有对于eclipse对java包类似的支持，所以只得滚回eclipse，然后使用vrapper了。&lt;/p>
&lt;p>闲话少说，听我细细道来package和import;&lt;/p>
&lt;p>这篇文章主要是说明类似这种情况，即不同包但是文件路径一部分相同，即:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> * /temp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> * temp.java
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> * tests/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> * joking.java
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="贴出源代码">贴出源代码:
&lt;/h2>&lt;ul>
&lt;li>test.java:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kn">package&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">temp&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kn">import&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">temp.tests.joking&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">test&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">static&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">main&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">String&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">args&lt;/span>&lt;span class="o">[]&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">joking&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">new&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">joking&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">test&lt;/span>&lt;span class="p">();&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>joking.java&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-java" data-lang="java">&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kn">package&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nn">temp.tests&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kd">class&lt;/span> &lt;span class="nc">joking&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kt">int&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">1&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="kd">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kt">void&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nf">test&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">System&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">out&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="na">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="一种编译方法">一种编译方法
&lt;/h2>&lt;p>这个时候打开test.java是没有办法通过拼写验证[synastic]，需要这样:&lt;/p>
&lt;p>&lt;code>javac -d . /tests/joking.java&lt;/code>&lt;/p>
&lt;p>然后再打开test.java, 可以了。但是这个时候有个很别扭的问题，我们发现这个时候生成了一个文件&lt;/p>
&lt;p>&lt;code>temp/temp/tests/joking.class&lt;/code>，也就是说我们的目录现在变成了这个样子:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> * /temp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> * temp.java
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> * tests/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> * joking.java
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> * temp/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> * test/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> * joking.class
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>请不要告诉我你很爽，因为这个目录给我的感觉很不爽- -试想，如果我们在别的目录下引用这个包，我&lt;/p>
&lt;p>们就需要做很多这样的操作，造成的后果就是各个包里面出现无数个&lt;code>temp/test/joking.class&lt;/code>…&lt;/p>
&lt;p>对我而言这是难以忍受的，我也想不太清楚为什么当初java这么设计 — 可能是为了避免耦合等问题？&lt;/p>
&lt;p>软件工程这个地方学得不够好，先mark一下，或者有读者可以给我解释一下这个设计。或者说，下面这&lt;/p>
&lt;p>个才是正确的。&lt;/p>
&lt;h2 id="另一种编译方法">另一种编译方法
&lt;/h2>&lt;p>退出到temp的上级目录，然后进行编译&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>javac -d . temp/tests/joking.class
javac -d . temp/test.java
&lt;/pre>
&lt;/div>
&lt;p>然后这样运行:&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>java temp.test
&lt;/pre>
&lt;/div>
&lt;p>可是这个时候我们打开temp.java, 利用synastic检查，报错。&lt;/p>
&lt;h2 id="总结">总结
&lt;/h2>&lt;p>最后还是自己对synastic依赖性太强了。但是自己不会写= =，也是无奈了。开个issue求支持吧= =&lt;/p>
&lt;h2 id="后记">后记
&lt;/h2>&lt;p>找到方法了 — 使用ant来构建项目。不过synastic的官方文档并没有说的很清楚，issue看起来又比较&lt;/p>
&lt;blockquote>
&lt;p>费劲，饿死了，吃饭去。。&lt;/p>&lt;/blockquote></description></item><item><title>Linux-makefile写法</title><link>https://svtter.cn/p/linux-makefile%E5%86%99%E6%B3%95/</link><pubDate>Wed, 24 Dec 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/linux-makefile%E5%86%99%E6%B3%95/</guid><description>&lt;blockquote>
&lt;p>本文出自&lt;a class="link" href="http://svtter.github.io" target="_blank" rel="noopener"
>svtter.github.io&lt;/a>&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>本文可以随意转载，但是转载请保留本信息.&lt;/p>&lt;/blockquote>
&lt;p>makefile写法有复杂的有简单的，我这里提到的主要为了做一些简单的开发，所以还是说些简单的事情。&lt;/p>
&lt;p>&lt;strong>使用makefile之前，要学会使用bash的一些东西。鸟哥的私房菜虽然说是介绍Linux，但是总感觉很多都是介绍bash，以及和&lt;/strong>&lt;/p>
&lt;p>&lt;strong>bash配合使用的一些命令。。。&lt;/strong>&lt;/p>
&lt;h2 id="变量的写法">变量的写法
&lt;/h2>&lt;ul>
&lt;li>定义的时候直接使用&lt;code>VAR = main.o&lt;/code>即可这种格式即可&lt;/li>
&lt;li>使用的时候使用&lt;code>${VAR}&lt;/code>这种形式来使用，类似于php中的变量。&lt;/li>
&lt;/ul>
&lt;p>另外， 位于&lt;code>makefile&lt;/code>外面的变量也是可以使用的，使用的时候使用如下格式&lt;code>VAR = main.o make&lt;/code>即可，这样就相当于在makefile&lt;/p>
&lt;p>定义了一个VAR变量。在外定义的变量是优先于makefile里面的变量的，就像是一个预订义的函数一般。&lt;/p>
&lt;p>此外，&lt;code>$@&lt;/code>表示当前的目标。如果在clean那里面，&lt;code>$@&lt;/code>指的是&lt;code>clean&lt;/code>&lt;/p>
&lt;h2 id="make--命令写法">&lt;code>make + 命令&lt;/code>写法
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>比如make clean的写法，就是在makefile文件中添加&lt;/p>
&lt;blockquote>
&lt;p>clean:&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>rm .. (类似bash的使用方法，这个地方也可以使用变量）&lt;/p>&lt;/blockquote>
&lt;/li>
&lt;/ul>
&lt;p>相对的，install等等的方法就类似于这个上面的写法了。&lt;/p>
&lt;p>写到这里也是明白了为什么vim里面有个make命令，却没有各种编译命令了= =&lt;/p>
&lt;p>然后附加一个自己写的第一个&lt;code>makefile&lt;/code>:（为了读者更加容易理解，我没有使用变量）&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="n">run&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">t2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">o&lt;/span> &lt;span class="n">test&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">o&lt;/span>
&lt;span class="n">cc&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">o&lt;/span> &lt;span class="n">run&lt;/span> &lt;span class="n">test&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">o&lt;/span> &lt;span class="n">t2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">o&lt;/span>
&lt;span class="o">./&lt;/span>&lt;span class="n">run&lt;/span>
&lt;span class="n">test&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">o&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">test&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">c&lt;/span>
&lt;span class="n">cc&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">c&lt;/span> &lt;span class="n">test&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">c&lt;/span>
&lt;span class="n">t2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">o&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="n">t2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">c&lt;/span>
&lt;span class="n">cc&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">c&lt;/span> &lt;span class="n">t2&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="na">c&lt;/span>
&lt;span class="n">clean&lt;/span>&lt;span class="o">:&lt;/span>
&lt;span class="n">rm&lt;/span> &lt;span class="o">*.&lt;/span>&lt;span class="n">o&lt;/span>
&lt;span class="n">rm&lt;/span> &lt;span class="n">run&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>test.c:&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cm">/* #include "t2.h" */&lt;/span>
&lt;span class="k">typedef&lt;/span> &lt;span class="k">struct&lt;/span> &lt;span class="n">test&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>&lt;span class="n">test&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">test&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">argc&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="kt">char&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">argv&lt;/span>&lt;span class="p">[])&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">output&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="n">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">b&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d %d&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>t2.c:&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">output&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"This function is in t2.c&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>文件目录是：&lt;/p>
&lt;p>– file&lt;/p>
&lt;p>– makefile&lt;/p>
&lt;p>– test.c&lt;/p>
&lt;p>– t2.c&lt;/p>
&lt;ul>
&lt;li>使用make可以创建链接文件并且运行。&lt;/li>
&lt;li>使用&lt;code>make clean&lt;/code>可以删除生成的文件。&lt;/li>
&lt;/ul></description></item><item><title>Linux-软中断通信</title><link>https://svtter.cn/p/linux-%E8%BD%AF%E4%B8%AD%E6%96%AD%E9%80%9A%E4%BF%A1/</link><pubDate>Tue, 23 Dec 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/linux-%E8%BD%AF%E4%B8%AD%E6%96%AD%E9%80%9A%E4%BF%A1/</guid><description>&lt;blockquote>
&lt;p>本文出自&lt;a class="link" href="http://svtter.github.io" target="_blank" rel="noopener"
>svtter.github.io&lt;/a>&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>本文可以随意转载，但是转载请保留本信息.&lt;/p>&lt;/blockquote>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;unistd.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;signal.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;unistd.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;wait.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">waiting&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">stop&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">alarming&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">wait_mark&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">p1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">fork&lt;/span>&lt;span class="p">())&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">fork&lt;/span>&lt;span class="p">())&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">wait_mark&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">signal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SIGINT&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">stop&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">signal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SIGALRM&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">alarming&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">waiting&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="n">kill&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">16&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">kill&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">17&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">wait&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">wait&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"parent process is killed!&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">exit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">else&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">wait_mark&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">signal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">17&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">stop&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">signal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SIGINT&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">SIG_IGN&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">wait_mark&lt;/span>&lt;span class="o">!=&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">lockf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"child process2 is killed by parent!&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">lockf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">exit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">else&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">wait_mark&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">signal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">16&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">stop&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">signal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">SIGINT&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">SIG_IGN&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">wait_mark&lt;/span>&lt;span class="o">!=&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">lockf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"child process1 is killed by parent!&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">lockf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">exit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">waiting&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">sleep&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">wait_mark&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">kill&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">getpid&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">SIGALRM&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">alarming&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">wait_mark&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">stop&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">wait_mark&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h2 id="执行结果">执行结果
&lt;/h2>&lt;p>&lt;a class="link" href="" >e3.png&lt;/a>&lt;/p></description></item><item><title>生活-吐槽</title><link>https://svtter.cn/p/%E7%94%9F%E6%B4%BB-%E5%90%90%E6%A7%BD/</link><pubDate>Mon, 22 Dec 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E7%94%9F%E6%B4%BB-%E5%90%90%E6%A7%BD/</guid><description>&lt;blockquote>
&lt;p>本文出自&lt;a class="link" href="http://svtter.github.io" target="_blank" rel="noopener"
>svtter.github.io&lt;/a>&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>本文可以随意转载，但是转载请保留本信息.&lt;/p>&lt;/blockquote>
&lt;p>今天晚上终于感觉软件工程say goodbye了，这段时间撸了不少js和php，学习的深度以及对面向对象的理解可以说是更深一步。&lt;/p>
&lt;p>前端的东西丰富多彩，真是拦不住。从最初的Framework7到bootstrap，从jsp到php（仅仅只是我的学习曲线）。&lt;/p>
&lt;p>想起那天有个吐槽node的朋友，说node各种缺点等等。作者不也明确说了，适合大吞吐小计算么。&lt;/p>
&lt;p>然后在看hexo的主题，改了改颜色就成了一个新的主题了，还被放在hexo的theme里面了。。真是醉了。&lt;/p>
&lt;p>敢情主题就这么匮乏？&lt;/p>
&lt;p>大三了才发现有个&lt;a class="link" href="https://education.github.com/pack" target="_blank" rel="noopener"
>Student pack&lt;/a>，是否一切都已太晚 = =&lt;/p></description></item><item><title>计算机图形学-相关内容</title><link>https://svtter.cn/p/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E7%9B%B8%E5%85%B3%E5%86%85%E5%AE%B9/</link><pubDate>Sun, 21 Dec 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E7%9B%B8%E5%85%B3%E5%86%85%E5%AE%B9/</guid><description>&lt;blockquote>
&lt;p>本文出自&lt;a class="link" href="http://svtter.github.io" target="_blank" rel="noopener"
>svtter.github.io&lt;/a>&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>本文可以随意转载，但是转载请保留本信息.&lt;/p>&lt;/blockquote>
&lt;p>本身自己看这些东西没有很简单，但是李老师讲的的确深入浅出，使得同学们更加容易明白。&lt;/p>
&lt;h2 id="csg树">CSG树
&lt;/h2>&lt;p>画CSG树很简单，左边为原始元素，右边为变换。原始元素 + 变换 = T 变换, 叶子节点，都是画在图上，T节点也要画在图上。&lt;/p>
&lt;p>T变换下的节点不需要重画。U为求并。&lt;/p>
&lt;h2 id="四叉树">四叉树
&lt;/h2>&lt;p>如果满则为F[ull], 不满则为B[oundary], 空则为E[mpty].&lt;/p>
&lt;p>四叉树主要是就是划分，按照象限划分即可，把多重颜色递归的进行划分即可。&lt;/p>
&lt;h2 id="中点bresenham算法">中点bresenham算法
&lt;/h2>&lt;ul>
&lt;li>$ 0 &amp;lt;= k &amp;lt;= 1$&lt;/li>
&lt;/ul>
&lt;p>bresenham算法用于绘制直线，可以计算出直线的斜率。&lt;/p>
&lt;p>从起点开始，代入x的值，然后求$(2*y_1+1)/2$值。&lt;/p>
&lt;p>这个算法就是求两个点的中点，然后取距离中点近的那一个点来绘制直线&lt;/p>
&lt;p>下一个点的求法是$(x_1+1,y_1+1), (x_1+1,y_1)$然后求中点，重复过程&lt;/p>
&lt;p>以上是原理，下面是求解方法：&lt;/p>
&lt;ol>
&lt;li>输入直线两个端点$P_0(X_0, Y_0), P_1(X_1,Y_1)$&lt;/li>
&lt;li>首先计算$d = {\Delta}x – 2{\Delta}y$&lt;/li>
&lt;li>绘制点(x,y) 如果$d&amp;lt;0$, 则(x,y)更新为(x+1,y+1)，d更新为$d+2{\Delta}x-2{\Delta}y$;&lt;/li>
&lt;/ol>
&lt;pre>&lt;code>否则(x,y)更新为(x+1,y)，d更新为$d-2{\Delta}y$
&lt;/code>&lt;/pre>
&lt;ol start="4">
&lt;li>
&lt;p>直线没有画完，重复3。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>$ k &amp;gt; 1 $&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>对y的操作搞到x上即可&lt;/p>
&lt;h2 id="改进的有效边表算法">改进的有效边表算法
&lt;/h2>&lt;p>?&lt;/p>
&lt;table>
&lt;tr>
&lt;th align="center">
最小的x
&lt;/th>
&lt;pre>&lt;code>&amp;lt;th align=&amp;quot;center&amp;quot;&amp;gt;
最大的y
&amp;lt;/th&amp;gt;
&amp;lt;th align=&amp;quot;center&amp;quot;&amp;gt;
$1/k$
&amp;lt;/th&amp;gt;
&amp;lt;th align=&amp;quot;center&amp;quot;&amp;gt;
next
&amp;lt;/th&amp;gt;
&lt;/code>&lt;/pre>
&lt;/tr>
&lt;tr>
&lt;td>
&lt;/td>
&lt;pre>&lt;code>&amp;lt;td&amp;gt;
&amp;lt;/td&amp;gt;
&amp;lt;td&amp;gt;
&amp;lt;/td&amp;gt;
&amp;lt;td&amp;gt;
&amp;lt;/td&amp;gt;
&lt;/code>&lt;/pre>
&lt;/tr>
&lt;/table>
&lt;p>首先构造边表，然后再构造有效边表&lt;/p>
&lt;p>按照边数依次扫描&lt;/p>
&lt;h2 id="二维变换及二维观察三维变换以及三维观察">二维变换及二维观察，三维变换以及三维观察
&lt;/h2>&lt;p>无论是二维还是三维，补充一个1构成[x,y,z,1]矩阵，再对应乘变换矩阵即可。注意的要点是将变换点移动到坐标原点，然后进行&lt;/p>
&lt;p>比例变换等。&lt;/p></description></item><item><title>WEB开发收获</title><link>https://svtter.cn/p/web%E5%BC%80%E5%8F%91%E6%94%B6%E8%8E%B7/</link><pubDate>Wed, 17 Dec 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/web%E5%BC%80%E5%8F%91%E6%94%B6%E8%8E%B7/</guid><description>&lt;blockquote>
&lt;p>本文出自&lt;a class="link" href="http://svtter.github.io" target="_blank" rel="noopener"
>svtter.github.io&lt;/a>&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>本文可以随意转载，但是转载请保留本信息.&lt;/p>&lt;/blockquote>
&lt;p>虽然说很简单的项目还是各种头疼，使用git但是还是问题不断。。&lt;/p>
&lt;h2 id="编码的问题">编码的问题
&lt;/h2>&lt;p>文件的编码，传递数据的编码，数据库的编码都要格外注意才行。UTF-8才是王道啊。&lt;/p>
&lt;h2 id="弹出框式">弹出框式
&lt;/h2>&lt;p>bootstrap的弹出框还是不错的= =，另外amazeUI登录界面等做的不错哈哈= =，作业总算是交上了，差一分满分也是没有办法的事情&lt;/p>
&lt;p>啊。ajax方面的不足有时间或者这个假期再来填补吧～&lt;/p></description></item><item><title>生活-学习归学习，撸代码需谨慎</title><link>https://svtter.cn/p/%E7%94%9F%E6%B4%BB-%E5%AD%A6%E4%B9%A0%E5%BD%92%E5%AD%A6%E4%B9%A0%E6%92%B8%E4%BB%A3%E7%A0%81%E9%9C%80%E8%B0%A8%E6%85%8E/</link><pubDate>Sun, 14 Dec 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E7%94%9F%E6%B4%BB-%E5%AD%A6%E4%B9%A0%E5%BD%92%E5%AD%A6%E4%B9%A0%E6%92%B8%E4%BB%A3%E7%A0%81%E9%9C%80%E8%B0%A8%E6%85%8E/</guid><description>&lt;blockquote>
&lt;p>本文出自&lt;a class="link" href="http://svtter.github.io" target="_blank" rel="noopener"
>svtter.github.io&lt;/a>&lt;/p>&lt;/blockquote>
&lt;p>这么快就期末了，然而奖学金依然没有到帐，迟迟的健身费用无法归还亲爱的老爹。感受到一丝默默的蛋疼。&lt;/p>
&lt;p>然后这两个星期太悲剧了。。自从用了这个域名，居然一个评论都没有。。心塞。评论这个东西就是多了闲多，少了闲少。&lt;/p>
&lt;p>在那之后热伤风+感冒，多灾多难。&lt;/p>
&lt;h2 id="英语的问题">英语的问题
&lt;/h2>&lt;p>然后就到了今天的六级考试。虽然六级过了，但是刷分估计是别想了，学了些啥呀。今天在考场上着实有些郁闷，想了想这个学期&lt;/p>
&lt;p>英语方面的学习 — 着实有些屌了，听力什么的听得是一塌糊涂啊。和上一次裸考不同（说是裸考，但是上次ACM等等的各种方面都&lt;/p>
&lt;p>是用到英语的，另外我本身也是偶尔写个作文什么的，算是没有落下很多，也可能是因为上次的运气比较好，题目比较简单）。&lt;/p>
&lt;p>这次真心是不怎么样啊，也不奢望能够往上刷分了，就当是自己在英语上花钱（虽说不是很多，也是爹妈给的钱啊）买了个教训吧。&lt;/p>
&lt;p>对于日后的英语学习值得深思一番了，单词，阅读什么的都应该好好投入才是。这次吃亏就吃在之前一些单词因为不用不见，都忘记&lt;/p>
&lt;p>的差不多了。此外，在github上寻思做一下翻译，但是那些翻译专业性太强，对于六级以及考研的帮助上还是不大够的。奈何，暂且&lt;/p>
&lt;p>重新好好看看那些个扇贝新闻什么的吧。&lt;/p>
&lt;p>说到底，效率还是差强人意啊。&lt;/p>
&lt;h2 id="blog现在在github上了">blog现在在github上了
&lt;/h2>&lt;p>现在的blog重新托管到github上了，很多问题都不是问题。。非常感谢天朝没有墙github，否则个人认为在计算机这个学科上发展&lt;/p>
&lt;p>怎么也得再落后上几年甚至更多。当然国内gitcafe等等做的也是很不错的。。但是国外的大神有人用gitcafe吗？交流方面会存在&lt;/p>
&lt;p>一些问题吧。当然，这只是我自己的看法了。&lt;/p>
&lt;p>那段时间看了看大牛们的blog，也是增长了不少的见识等等。自己也是写不大出很有深度的文章，文采上也是不太够= =。&lt;/p>
&lt;p>所做的只能是耐下心来好好的学习了。今天溜去英明的blog看了看，这个小牛写了个编译器前端 — 挺不错的。我在学编译原理的&lt;/p>
&lt;p>怎么就没写呢？一方面觉得怪麻烦，另一方面也是那个时候在比赛等，时间实在是有些抽不出来了。如果有时间，真应该自己再写&lt;/p>
&lt;p>一次。&lt;/p>
&lt;h2 id="otd的编写">OTD的编写
&lt;/h2>&lt;p>之前自己写了一个很劣质的OTD，主要是利用了md和一些gitlab类型的网站来查看。但是后来觉得实用性太差了，之后就不怎么使用&lt;/p>
&lt;p>了 — 维护性等等方面自己做的还是不错的。。从bash到python的改写等等。只是太粗糙，实在不忍心拿出来献丑溜溜。也更象是&lt;/p>
&lt;p>父母对孩子的心态？怕别人说不好吧。&lt;/p>
&lt;p>自从学了软件工程又对这个项目进行了重新的规划，但是面向对象以及一些东西，自认为自己还是学习的不够深刻。简单的规划下，&lt;/p>
&lt;p>把课程的知识给了一份称不上文档的文档，但是迟迟不敢动手写 — python学得不到家，总是想用最简单，最好的代码来实现；C++&lt;/p>
&lt;p>这个核武器，怕是中间需要的东西太多；Java虽然写了很多，但是怕是半途而废（之前写了一个简单的游戏，写完之后勉强运行，&lt;/p>
&lt;p>还有之前一个购物管理系统，写完之后真心再也不想看代码了，恶心。真心恶心，自己写的都觉得恶心），这也是半途而废，以及完&lt;/p>
&lt;p>美主义的弊端。&lt;/p>
&lt;p>所以下一次写之前，一定要找一个好的软件工程的规划方法。&lt;/p>
&lt;h2 id="最后">最后
&lt;/h2>&lt;p>最后还是忍不住吐槽：真心不相信有些工具网站也会轻而易举的崩，而且每次都让我碰上。如果不是，那么框架的网站也墙，未免也&lt;/p>
&lt;p>太过分了，这还学习毛线啊？！&lt;/p></description></item><item><title>gitbook初探</title><link>https://svtter.cn/p/gitbook%E5%88%9D%E6%8E%A2/</link><pubDate>Thu, 11 Dec 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/gitbook%E5%88%9D%E6%8E%A2/</guid><description>&lt;blockquote>
&lt;p>本文出自&lt;a class="link" href="http://svtter.github.io" target="_blank" rel="noopener"
>svtter.github.io&lt;/a>&lt;/p>&lt;/blockquote>
&lt;p>&lt;strong>gitbook&lt;/strong>是在利用nodejs搭建的一个写书的平台，也可以用来做别的事情，比如说作为项目的文档。&lt;/p>
&lt;p>gitbook样式，编辑方式【markdown】都是比较不错的，有一个官方网站 &lt;a class="link" href="http://www.gitbook.com" target="_blank" rel="noopener"
>http://www.gitbook.com&lt;/a>，但是国内的访问速度不是很理想，所以直接挂上去可能体验不是很好，建议自己download下来然后重新部署。&lt;/p></description></item><item><title>Python-建立最简单的web服务器</title><link>https://svtter.cn/p/python-%E5%BB%BA%E7%AB%8B%E6%9C%80%E7%AE%80%E5%8D%95%E7%9A%84web%E6%9C%8D%E5%8A%A1%E5%99%A8/</link><pubDate>Thu, 11 Dec 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/python-%E5%BB%BA%E7%AB%8B%E6%9C%80%E7%AE%80%E5%8D%95%E7%9A%84web%E6%9C%8D%E5%8A%A1%E5%99%A8/</guid><description>&lt;blockquote>
&lt;p>本文出自&lt;a class="link" href="http://svtter.github.io" target="_blank" rel="noopener"
>svtter.github.io&lt;/a>&lt;/p>&lt;/blockquote>
&lt;p>有三个服务模块可以使用:&lt;/p>
&lt;ul>
&lt;li>BaseHTTPServer 最基础web服务.&lt;/li>
&lt;li>SimpleHTTPServer 可以处理GET和HEAD.&lt;/li>
&lt;li>CGIHTTPServer 可以处理POST请求和执行CGI.&lt;/li>
&lt;/ul>
&lt;p>只需要一行代码即可:&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>python -m SimpleHTTPServer 8080
&lt;/pre>
&lt;/div>
&lt;p>如果8080端口被占用，可以选择别的端口来使用.&lt;/p>
&lt;p>此处的 SimpleHTTPServer 可以使用以上三个服务模块替代&lt;/p></description></item><item><title>WEB攻击方式</title><link>https://svtter.cn/p/web%E6%94%BB%E5%87%BB%E6%96%B9%E5%BC%8F/</link><pubDate>Thu, 11 Dec 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/web%E6%94%BB%E5%87%BB%E6%96%B9%E5%BC%8F/</guid><description>&lt;blockquote>
&lt;p>本文出自&lt;a class="link" href="http://svtter.github.io" target="_blank" rel="noopener"
>svtter.github.io&lt;/a>&lt;/p>&lt;/blockquote>
&lt;h2 id="sql">SQL
&lt;/h2>&lt;ul>
&lt;li>sql注入攻击 &lt;a class="link" href="http://zh.wikipedia.org/wiki/SQL" target="_blank" rel="noopener"
>http://zh.wikipedia.org/wiki/SQL&lt;/a>資料隱碼攻擊&lt;/li>
&lt;/ul></description></item><item><title>ACM-白皮书3</title><link>https://svtter.cn/p/acm-%E7%99%BD%E7%9A%AE%E4%B9%A63/</link><pubDate>Wed, 10 Dec 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/acm-%E7%99%BD%E7%9A%AE%E4%B9%A63/</guid><description>&lt;blockquote>
&lt;p>本文出自&lt;a class="link" href="http://svtter.github.io" target="_blank" rel="noopener"
>svtter.github.io&lt;/a>&lt;/p>&lt;/blockquote>
&lt;h2 id="整数进制输出">整数进制输出
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>printf("%d %o %x\n", a);
&lt;/pre>
&lt;/div>
&lt;p>把整数按照十进制，八进制和十六进制输出.&lt;/p>
&lt;p>$2^32-n$补码表示法.&lt;/p>
&lt;h2 id="字符处理">字符处理
&lt;/h2>&lt;p>使用&lt;code>Ctrl+D&lt;/code>时, getchar()读到的是-1&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;string.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">argc&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="kt">char&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">argv&lt;/span>&lt;span class="p">[])&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">char&lt;/span> &lt;span class="n">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">getchar&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d%c&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>假设一个年份为&lt;code>1993/12/12&lt;/code>, 那么如何简单获取年月日？&lt;/p>
&lt;p>使用sscanf函数.&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;string.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">argc&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="kt">char&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">argv&lt;/span>&lt;span class="p">[])&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">year&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">month&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">day&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">char&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="p">[]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">"1993/12/12"&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">sscanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">s&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"%d/%d/%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">year&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">month&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">day&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d/%d/%d&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">year&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">month&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">day&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>可以使用&lt;code>fgets(s, MAXN, stdin)&lt;/code>来获取简单的输入. 一次读入一行，包括空格，遇到\n结束读入&lt;/p>
&lt;h2 id="简单习题">简单习题
&lt;/h2>&lt;ul>
&lt;li>分数统计&lt;/li>
&lt;/ul></description></item><item><title>archlinux-安装笔记2-常用软件转载</title><link>https://svtter.cn/p/archlinux-%E5%AE%89%E8%A3%85%E7%AC%94%E8%AE%B02-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E8%BD%AC%E8%BD%BD/</link><pubDate>Tue, 09 Dec 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/archlinux-%E5%AE%89%E8%A3%85%E7%AC%94%E8%AE%B02-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E8%BD%AC%E8%BD%BD/</guid><description>&lt;blockquote>
&lt;p>本文出自&lt;a class="link" href="http://svtter.github.io" target="_blank" rel="noopener"
>svtter.github.io&lt;/a>&lt;/p>&lt;/blockquote>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="nt">1&lt;/span> &lt;span class="nt">Installing&lt;/span> &lt;span class="nt">Arch&lt;/span> &lt;span class="nt">Linux&lt;/span>
&lt;span class="o">*&lt;/span> &lt;span class="nt">1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">1&lt;/span> &lt;span class="nt">Pre-Installation&lt;/span>
&lt;span class="nt">是i686&lt;/span> &lt;span class="nt">架构吗&lt;/span>&lt;span class="err">（&lt;/span>&lt;span class="nt">Pentium&lt;/span> &lt;span class="nt">II&lt;/span> &lt;span class="nt">or&lt;/span> &lt;span class="nt">AMD&lt;/span> &lt;span class="nt">K6-2以上&lt;/span>&lt;span class="err">）？&lt;/span>&lt;span class="nt">安装方式CD&lt;/span>&lt;span class="o">?&lt;/span> &lt;span class="nt">FTP&lt;/span>&lt;span class="err">？&lt;/span>
&lt;span class="o">*&lt;/span> &lt;span class="nt">1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">2&lt;/span> &lt;span class="nt">Acquiring&lt;/span> &lt;span class="nt">Arch&lt;/span> &lt;span class="nt">Linux&lt;/span>
&lt;span class="nt">从这里寻找速度最快的镜像&lt;/span>&lt;span class="err">：&lt;/span>
&lt;span class="nt">http&lt;/span>&lt;span class="o">://&lt;/span>&lt;span class="nt">wiki&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">archlinux&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">org&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">index&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">php&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">Mirror&lt;/span>
&lt;span class="o">*&lt;/span> &lt;span class="nt">1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">3&lt;/span> &lt;span class="nt">Preparing&lt;/span> &lt;span class="nt">Installation&lt;/span> &lt;span class="nt">Media&lt;/span>
&lt;span class="nt">MD5&lt;/span> &lt;span class="nt">校验&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">烧录&lt;/span>&lt;span class="err">。&lt;/span>
&lt;span class="o">*&lt;/span> &lt;span class="nt">1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">4&lt;/span> &lt;span class="nt">Using&lt;/span> &lt;span class="nt">the&lt;/span> &lt;span class="nt">CD-ROM&lt;/span>
&lt;span class="nt">设置好光驱启动&lt;/span>&lt;span class="err">。&lt;/span>
&lt;span class="o">*&lt;/span> &lt;span class="nt">1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">5&lt;/span> &lt;span class="nt">Common&lt;/span> &lt;span class="nt">Installation&lt;/span> &lt;span class="nt">Procedure&lt;/span>
&lt;span class="nt">o&lt;/span> &lt;span class="nt">1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">5&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">1&lt;/span> &lt;span class="nt">Loading&lt;/span> &lt;span class="nt">a&lt;/span> &lt;span class="nt">non-US&lt;/span> &lt;span class="nt">Keymap&lt;/span>
&lt;span class="nt">用km&lt;/span> &lt;span class="nt">工具选择非英语键盘&lt;/span>
&lt;span class="nt">o&lt;/span> &lt;span class="nt">1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">5&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">2&lt;/span> &lt;span class="nt">Running&lt;/span> &lt;span class="nt">Setup&lt;/span>
&lt;span class="err">#&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">archlinux&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">setup&lt;/span>
&lt;span class="nt">o&lt;/span> &lt;span class="nt">1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">5&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">3&lt;/span> &lt;span class="nt">Configure&lt;/span> &lt;span class="nt">Network&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="nt">FTP&lt;/span> &lt;span class="nt">Install&lt;/span> &lt;span class="nt">only&lt;/span>&lt;span class="o">)&lt;/span>
&lt;span class="nt">仅适用于FTP&lt;/span> &lt;span class="nt">安装方式&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">CD&lt;/span> &lt;span class="nt">安装没有必要配置好网络&lt;/span>&lt;span class="err">。&lt;/span>
&lt;span class="nt">o&lt;/span> &lt;span class="nt">1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">5&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">4&lt;/span> &lt;span class="nt">Prepare&lt;/span> &lt;span class="nt">Hard&lt;/span> &lt;span class="nt">Drive&lt;/span>
&lt;span class="nt">给磁盘分好区&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">root分区&lt;/span>&lt;span class="o">(/)&lt;/span>&lt;span class="nt">放在主分区比较好&lt;/span>&lt;span class="err">（&lt;/span>&lt;span class="nt">放到逻辑分区也可以&lt;/span>&lt;span class="err">），&lt;/span>
&lt;span class="nt">如果有&lt;/span> &lt;span class="nt">Windows&lt;/span> &lt;span class="nt">系统&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">那它也要占据一个主分区&lt;/span>&lt;span class="err">。&lt;/span>&lt;span class="nt">个人的250G硬盘是这样分区的&lt;/span>&lt;span class="err">：&lt;/span>
&lt;span class="err">#&lt;/span> &lt;span class="nt">cfdisk&lt;/span>
&lt;span class="nt">sda1&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">boot&lt;/span> &lt;span class="nt">150M&lt;/span> &lt;span class="nt">xfs&lt;/span>
&lt;span class="nt">sda2&lt;/span> &lt;span class="nt">Windows&lt;/span> &lt;span class="nt">18G&lt;/span> &lt;span class="nt">ntfs&lt;/span>
&lt;span class="nt">sda3&lt;/span> &lt;span class="nt">FreeBSD&lt;/span> &lt;span class="nt">32G&lt;/span> &lt;span class="nt">ufs&lt;/span>
&lt;span class="nt">sda5&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="nt">600M&lt;/span> &lt;span class="nt">xfs&lt;/span>
&lt;span class="nt">sda6&lt;/span> &lt;span class="nt">SWAP&lt;/span> &lt;span class="nt">2xRam&lt;/span> &lt;span class="nt">xfs&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="nt">SWAP分区的大小推荐为内存大小的2倍&lt;/span>&lt;span class="o">)&lt;/span>
&lt;span class="nt">sda7&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">var&lt;/span> &lt;span class="nt">20G&lt;/span> &lt;span class="nt">xfs&lt;/span>
&lt;span class="nt">sda8&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">tmp&lt;/span> &lt;span class="nt">5G&lt;/span> &lt;span class="nt">xfs&lt;/span>
&lt;span class="nt">sda9&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">opt&lt;/span> &lt;span class="nt">10G&lt;/span> &lt;span class="nt">xfs&lt;/span>
&lt;span class="nt">sda10&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">usr&lt;/span> &lt;span class="nt">20G&lt;/span> &lt;span class="nt">xfs&lt;/span>
&lt;span class="nt">sda11&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">home&lt;/span> &lt;span class="nt">105G&lt;/span> &lt;span class="nt">xfs&lt;/span>
&lt;span class="nt">sda12&lt;/span> &lt;span class="nt">Files&lt;/span> &lt;span class="nt">不大于32G&lt;/span> &lt;span class="nt">fat32&lt;/span>
&lt;span class="nt">如果需要加密磁盘&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">并启用开机验证&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">推荐使用luks&lt;/span> &lt;span class="err">：&lt;/span>
&lt;span class="nt">通常加密&lt;/span> &lt;span class="nt">root&lt;/span> &lt;span class="nt">分区和&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">home&lt;/span> &lt;span class="nt">分区&lt;/span>
&lt;span class="err">#&lt;/span> &lt;span class="nt">modprobe&lt;/span> &lt;span class="nt">dm-crypt&lt;/span>
&lt;span class="err">#&lt;/span> &lt;span class="nt">modprobe&lt;/span> &lt;span class="nt">aes-i586&lt;/span>
&lt;span class="err">#&lt;/span> &lt;span class="nt">cryptsetup&lt;/span> &lt;span class="err">–&lt;/span>&lt;span class="nt">y&lt;/span> &lt;span class="nt">luksFormat&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">dev&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">sda3&lt;/span>
&lt;span class="nt">输入密码&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">确认&lt;/span>&lt;span class="err">。&lt;/span>
&lt;span class="err">#&lt;/span> &lt;span class="nt">cryptsetup&lt;/span> &lt;span class="err">–&lt;/span>&lt;span class="nt">y&lt;/span> &lt;span class="nt">luksFormat&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">dev&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">sda10&lt;/span>
&lt;span class="nt">输入密码&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">确认&lt;/span>&lt;span class="err">。&lt;/span>
&lt;span class="err">#&lt;/span> &lt;span class="nt">cryptsetup&lt;/span> &lt;span class="nt">luksOpen&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">dev&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">sda3&lt;/span> &lt;span class="nt">root&lt;/span>
&lt;span class="nt">解开root&lt;/span> &lt;span class="nt">分区&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">并建立一个映射&lt;/span>&lt;span class="err">：&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">dev&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">mapping&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">root&lt;/span>
&lt;span class="err">#&lt;/span> &lt;span class="nt">cryptsetup&lt;/span> &lt;span class="nt">luksOpen&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">dev&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">sda10&lt;/span> &lt;span class="nt">home&lt;/span>
&lt;span class="nt">解开&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">home&lt;/span> &lt;span class="nt">分区&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">并建立一个映射&lt;/span>&lt;span class="err">：&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">dev&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">mapping&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">home&lt;/span>
&lt;span class="nt">参看&lt;/span>&lt;span class="err">：&lt;/span>&lt;span class="nt">http&lt;/span>&lt;span class="o">://&lt;/span>&lt;span class="nt">wiki&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">archlinux&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">org&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">index&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">php&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">LUKS_Encrypted_Root&lt;/span>
&lt;span class="nt">o&lt;/span> &lt;span class="nt">1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">5&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">5&lt;/span> &lt;span class="nt">Partition&lt;/span> &lt;span class="nt">Hard&lt;/span> &lt;span class="nt">Drives&lt;/span>
&lt;span class="nt">可以跳过了&lt;/span>&lt;span class="err">。&lt;/span>
&lt;span class="nt">o&lt;/span> &lt;span class="nt">1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">5&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">6&lt;/span> &lt;span class="nt">Set&lt;/span> &lt;span class="nt">Filesystem&lt;/span> &lt;span class="nt">Mountpoints&lt;/span>
&lt;span class="nt">如果用luks&lt;/span> &lt;span class="nt">加密了分区&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">那么&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="nt">分区需要挂载到&lt;/span>&lt;span class="err">：&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">dev&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">mapping&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">root&lt;/span>&lt;span class="err">；&lt;/span>
&lt;span class="o">/&lt;/span>&lt;span class="nt">home&lt;/span> &lt;span class="nt">需要挂载到&lt;/span>&lt;span class="err">：&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">dev&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">mapping&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">home&lt;/span>&lt;span class="o">.&lt;/span>
&lt;span class="nt">同时选择一个合适的文件系统&lt;/span>&lt;span class="err">（&lt;/span>&lt;span class="nt">JFS&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">XFS&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">Reiserfs&lt;/span>&lt;span class="o">...&lt;/span>&lt;span class="err">）。&lt;/span>
&lt;span class="nt">o&lt;/span> &lt;span class="nt">1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">5&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">7&lt;/span> &lt;span class="nt">Select&lt;/span> &lt;span class="nt">Packages&lt;/span>
&lt;span class="nt">至少选择&lt;/span> &lt;span class="nt">Base&lt;/span> &lt;span class="nt">安装&lt;/span>&lt;span class="err">。&lt;/span>&lt;span class="nt">如果需要一个可编译环境&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">要选上devel和lib&lt;/span>&lt;span class="err">；&lt;/span>&lt;span class="nt">如果需要ADSL拨号&lt;/span>
&lt;span class="nt">或WiFi支持&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">要选上support&lt;/span>&lt;span class="err">。&lt;/span>
&lt;span class="nt">确定后会看到所有将要安装的包&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">可以在这里去掉一些暂时不想安装的包&lt;/span>&lt;span class="err">。&lt;/span>&lt;span class="nt">要是不清楚就&lt;/span>
&lt;span class="nt">不管了&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">几个M的大小而已&lt;/span>&lt;span class="err">。&lt;/span>
&lt;span class="nt">o&lt;/span> &lt;span class="nt">1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">5&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">8&lt;/span> &lt;span class="nt">Install&lt;/span> &lt;span class="nt">Packages&lt;/span>
&lt;span class="nt">只要烧录的光碟不是太差&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">基本上都能正常安装的&lt;/span>&lt;span class="err">。&lt;/span>
&lt;span class="nt">o&lt;/span> &lt;span class="nt">1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">5&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">9&lt;/span> &lt;span class="nt">Configure&lt;/span> &lt;span class="nt">System&lt;/span>
&lt;span class="nt">配置系统是必须和关键的&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">应当允许hwdetect&lt;/span> &lt;span class="nt">script自动检测硬件&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">并生成相应配置&lt;/span>&lt;span class="err">。&lt;/span>
&lt;span class="nt">根据启动时的实际情况选择是否需要对RAID&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">LVM2&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">和encrypted&lt;/span> &lt;span class="nt">volumes的支持&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">以及&lt;/span>
&lt;span class="nt">其它必要的支持&lt;/span>&lt;span class="err">。&lt;/span>
&lt;span class="nt">选择熟悉的编辑器后&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">对&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">etc&lt;/span> &lt;span class="nt">下的生成的配置文件作适当的修正&lt;/span>&lt;span class="err">：&lt;/span>
&lt;span class="nt">rc&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">conf&lt;/span>&lt;span class="err">：&lt;/span>&lt;span class="nt">设置时区为Asia&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">Hong_Kong&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">检查eth0的配置是合适&lt;/span>
&lt;span class="nt">mkinitcpio&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">conf&lt;/span>&lt;span class="err">：&lt;/span>&lt;span class="nt">在最后一行的HOOKS&lt;/span> &lt;span class="nt">中去除不必要的支持&lt;/span>
&lt;span class="nt">hosts&lt;/span> &lt;span class="err">：&lt;/span>&lt;span class="nt">设置主机名和域名&lt;/span>
&lt;span class="nt">locale&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">gen&lt;/span>&lt;span class="err">：&lt;/span>&lt;span class="nt">设置本机要支持的locale&lt;/span> &lt;span class="err">（&lt;/span>&lt;span class="nt">zh_CN&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">utf8&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="nt">zh_CN&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">gbk&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">or&lt;/span> &lt;span class="nt">zh_TW&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">utf8&lt;/span>&lt;span class="err">）&lt;/span>
&lt;span class="nt">root&lt;/span> &lt;span class="nt">PassWord&lt;/span>&lt;span class="err">：&lt;/span>&lt;span class="nt">为root&lt;/span> &lt;span class="nt">设置管理密码&lt;/span>
&lt;span class="nt">pacman&lt;/span> &lt;span class="nt">Mirrors&lt;/span>&lt;span class="err">：&lt;/span>&lt;span class="nt">设置安装源&lt;/span>&lt;span class="err">。&lt;/span>&lt;span class="nt">找一个高速镜像站点&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">比如&lt;/span>&lt;span class="err">：&lt;/span>
&lt;span class="nt">http&lt;/span>&lt;span class="o">://&lt;/span>&lt;span class="nt">mirrors&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">lcuc&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">org&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">cn&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">archlinux&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="err">；&lt;/span>&lt;span class="nt">http&lt;/span>&lt;span class="o">://&lt;/span>&lt;span class="nt">ftp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">archlinux&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">org&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="err">；&lt;/span>
&lt;span class="nt">http&lt;/span>&lt;span class="o">://&lt;/span>&lt;span class="nt">ftp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">belnet&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">be&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">packages&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">archlinux&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="err">；&lt;/span>&lt;span class="nt">http&lt;/span>&lt;span class="o">://&lt;/span>&lt;span class="nt">ftp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">gigabit&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">nu&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="err">；&lt;/span>
&lt;span class="nt">http&lt;/span>&lt;span class="o">://&lt;/span>&lt;span class="nt">archlinux&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">puzzle&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">ch&lt;/span> &lt;span class="err">；&lt;/span>&lt;span class="nt">http&lt;/span>&lt;span class="o">://&lt;/span>&lt;span class="nt">mirror&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">cs&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">vt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">edu&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">pub&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">ArchLinux&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="err">；&lt;/span>
&lt;span class="nt">http&lt;/span>&lt;span class="o">://&lt;/span>&lt;span class="nt">ftp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">heanet&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">ie&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">mirrors&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">ftp&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">archlinux&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">org&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="err">；&lt;/span>
&lt;span class="nt">http&lt;/span>&lt;span class="o">://&lt;/span>&lt;span class="nt">distro&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">ibiblio&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">org&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">pub&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">linux&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">distributions&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">archlinux&lt;/span>&lt;span class="o">/&lt;/span>
&lt;span class="nt">o&lt;/span> &lt;span class="nt">1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">5&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">10&lt;/span> &lt;span class="nt">Install&lt;/span> &lt;span class="nt">Kernel&lt;/span>
&lt;span class="nt">略&lt;/span>
&lt;span class="nt">o&lt;/span> &lt;span class="nt">1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">5&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">11&lt;/span> &lt;span class="nt">Install&lt;/span> &lt;span class="nt">Bootloader&lt;/span>
&lt;span class="nt">推荐GRUB&lt;/span>&lt;span class="err">。&lt;/span>&lt;span class="nt">配置好menu&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">lst&lt;/span>&lt;span class="err">。&lt;/span>
&lt;span class="nt">如果root&lt;/span> &lt;span class="nt">分区用luks&lt;/span> &lt;span class="nt">加密过了&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">那么要把menu&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">lst&lt;/span> &lt;span class="nt">修正为&lt;/span>&lt;span class="err">：&lt;/span>
&lt;span class="err">#&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="nt">&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="nt">Arch&lt;/span> &lt;span class="nt">Linux&lt;/span>
&lt;span class="nt">title&lt;/span> &lt;span class="nt">Arch&lt;/span> &lt;span class="nt">Linux&lt;/span>
&lt;span class="nt">root&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="nt">hd0&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="nt">&lt;/span>&lt;span class="o">)&lt;/span>
&lt;span class="nt">kernel&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">vmlinuz26&lt;/span> &lt;span class="nt">root&lt;/span>&lt;span class="o">=/&lt;/span>&lt;span class="nt">dev&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">sda3&lt;/span> &lt;span class="nt">ro&lt;/span>
&lt;span class="nt">initrd&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">kernel26&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">img&lt;/span>
&lt;span class="nt">注意&lt;/span>&lt;span class="err">：&lt;/span>&lt;span class="nt">Bootloader&lt;/span> &lt;span class="nt">需要安装到MBR&lt;/span>&lt;span class="err">（&lt;/span>&lt;span class="nt">即&lt;/span> &lt;span class="nt">sda&lt;/span> &lt;span class="nt">下&lt;/span>&lt;span class="err">），&lt;/span>&lt;span class="nt">而不是&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">boot&lt;/span> &lt;span class="nt">所在的分区&lt;/span>&lt;span class="err">（&lt;/span>&lt;span class="nt">sda1&lt;/span>&lt;span class="err">）。&lt;/span>
&lt;span class="nt">o&lt;/span> &lt;span class="nt">1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">5&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">12&lt;/span> &lt;span class="nt">Exit&lt;/span> &lt;span class="nt">Install&lt;/span>
&lt;span class="nt">退出安装程式后&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">取出安装光盘&lt;/span>&lt;span class="err">。&lt;/span>
&lt;span class="err">#&lt;/span> &lt;span class="nt">head&lt;/span> &lt;span class="nt">-n&lt;/span> &lt;span class="nt">300&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">dev&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">urandom&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="nt">tail&lt;/span> &lt;span class="nt">-n&lt;/span> &lt;span class="nt">256&lt;/span> &lt;span class="o">&amp;gt;/&lt;/span>&lt;span class="nt">mnt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">home&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">key&lt;/span>
&lt;span class="err">#&lt;/span> &lt;span class="nt">cryptsetup&lt;/span> &lt;span class="nt">luksAddKey&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">dev&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">sda10&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">mnt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">home&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">key&lt;/span>
&lt;span class="nt">输入密码&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">确认&lt;/span>&lt;span class="err">。&lt;/span>
&lt;span class="err">#&lt;/span> &lt;span class="nt">echo&lt;/span> &lt;span class="nt">home&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">dev&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">sda10&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">home&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">key&lt;/span> &lt;span class="o">&amp;gt;&amp;gt;/&lt;/span>&lt;span class="nt">mnt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">crypttab&lt;/span>
&lt;span class="nt">开机时&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">用home&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">key&lt;/span> &lt;span class="nt">解开&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">dev&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">sda10&lt;/span>
&lt;span class="err">#&lt;/span> &lt;span class="nt">sed&lt;/span> &lt;span class="nt">-i&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">swap&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">d&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">mnt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">fstab&lt;/span> &lt;span class="err">（&lt;/span>&lt;span class="nt">删除fstab&lt;/span> &lt;span class="nt">文件中含有swap&lt;/span> &lt;span class="nt">的一栏&lt;/span>&lt;span class="err">）&lt;/span>
&lt;span class="p">#&lt;/span>&lt;span class="nn">echo&lt;/span> &lt;span class="nt">swap&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">dev&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">sda2&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">dev&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">urandom&lt;/span> &lt;span class="s2">"-c aes-cbc-essiv:sha256 -h sha256 -s 256"&lt;/span> &lt;span class="o">&amp;gt;&amp;gt;/&lt;/span>&lt;span class="nt">mnt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">crypttab&lt;/span>
&lt;span class="err">#&lt;/span> &lt;span class="nt">echo&lt;/span> &lt;span class="s2">"mkswap /dev/mapper/swap"&lt;/span> &lt;span class="o">&amp;gt;&amp;gt;/&lt;/span>&lt;span class="nt">mnt&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">rc&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">local&lt;/span>
&lt;span class="nt">以上两个命令是设置swap&lt;/span> &lt;span class="nt">加密分区&lt;/span>&lt;span class="err">。&lt;/span>
&lt;span class="nt">另外直接在&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">crypttab&lt;/span> &lt;span class="nt">中加入如下内容也起相同作用&lt;/span>&lt;span class="err">：&lt;/span>
&lt;span class="nt">swap&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">dev&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">sda2&lt;/span> &lt;span class="nt">SWAP&lt;/span> &lt;span class="nt">-c&lt;/span> &lt;span class="nt">aes-cbc-essiv&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nd">sha256&lt;/span> &lt;span class="nt">-h&lt;/span> &lt;span class="nt">sha256&lt;/span> &lt;span class="nt">-s&lt;/span> &lt;span class="nt">256&lt;/span>
&lt;span class="err">#&lt;/span> &lt;span class="nt">reboot&lt;/span>
&lt;span class="nt">2&lt;/span> &lt;span class="nt">基础配置&lt;/span>
&lt;span class="o">*&lt;/span> &lt;span class="nt">2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">1&lt;/span> &lt;span class="nt">Internet&lt;/span> &lt;span class="nt">Access&lt;/span>
&lt;span class="nt">如果是局域网&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">视讯宽等无需拨号的网络环境&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">只需要在&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">rc&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">conf中设置好&lt;/span>&lt;span class="err">：&lt;/span>
&lt;span class="nt">eth0&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">"dhcp"&lt;/span>
&lt;span class="nt">重启电脑后&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">即可正常上网了&lt;/span>&lt;span class="err">。&lt;/span>
&lt;span class="nt">如果是用PPPOE协议拨号上网&lt;/span>&lt;span class="err">（&lt;/span>&lt;span class="nt">如ADSL&lt;/span>&lt;span class="err">），&lt;/span>&lt;span class="nt">需安装rp-pppoe安装包&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">然后&lt;/span>&lt;span class="err">：&lt;/span>
&lt;span class="err">#&lt;/span> &lt;span class="nt">pppoe-setup&lt;/span>
&lt;span class="err">#&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">rc&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">d&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">adsl&lt;/span> &lt;span class="nt">start&lt;/span>
&lt;span class="err">#&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">rc&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">d&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">adsl&lt;/span> &lt;span class="nt">stop&lt;/span>
&lt;span class="nt">或者&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">使用更好的ppp&lt;/span> &lt;span class="nt">安装包&lt;/span>&lt;span class="err">（&lt;/span>&lt;span class="nt">参照WiKi&lt;/span> &lt;span class="err">）&lt;/span>
&lt;span class="o">*&lt;/span> &lt;span class="nt">2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">2&lt;/span> &lt;span class="nt">更新安装包列表&lt;/span>
&lt;span class="err">#&lt;/span> &lt;span class="nt">pacman&lt;/span> &lt;span class="err">–&lt;/span>&lt;span class="nt">Syu&lt;/span>
&lt;span class="nt">更新安装包列表&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">并升级已安装的包和内核&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">比自己make&lt;/span> &lt;span class="nt">world要快多了&lt;/span>
&lt;span class="err">#&lt;/span> &lt;span class="nt">reboot&lt;/span>
&lt;span class="err">#&lt;/span> &lt;span class="nt">pacman-optimize&lt;/span>
&lt;span class="nt">这是优化pacman系统&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">如果安装时仅选择了base安装&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">那么优化可能不会成功&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">因为缺少&lt;/span>
&lt;span class="nt">diffutils安装包&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nt">它在devel里面&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">安装它就可以了&lt;/span>&lt;span class="err">：&lt;/span>
&lt;span class="err">#&lt;/span> &lt;span class="nt">pacman&lt;/span> &lt;span class="nt">-S&lt;/span> &lt;span class="nt">diffutils&lt;/span>
&lt;span class="nt">安装AUR&lt;/span> &lt;span class="nt">工具&lt;/span>&lt;span class="err">（&lt;/span>&lt;span class="nt">建议安装&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">好软件多多&lt;/span>&lt;span class="err">）：&lt;/span>
&lt;span class="err">#&lt;/span> &lt;span class="nt">vi&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">pacman&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">conf&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="nt">加入&lt;/span>&lt;span class="o">:&lt;/span>
&lt;span class="cp">[&lt;/span>&lt;span class="nx">archlinuxfr&lt;/span>&lt;span class="cp">]&lt;/span>
&lt;span class="nt">Server&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nt">http&lt;/span>&lt;span class="o">://&lt;/span>&lt;span class="nt">repo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">archlinux&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">fr&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">i686&lt;/span>&lt;span class="o">/&lt;/span>
&lt;span class="err">#&lt;/span> &lt;span class="nt">pacman&lt;/span> &lt;span class="nt">-Sy&lt;/span> &lt;span class="nt">yaourt&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="nt">安装一个Pacman前端&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">如果碰到服务器调整&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">那就装不了啦&lt;/span>&lt;span class="err">）&lt;/span>
&lt;span class="err">#&lt;/span> &lt;span class="nt">yaourt&lt;/span> &lt;span class="nt">-S&lt;/span> &lt;span class="nt">tupac&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="nt">速度更快的Pacman前端&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">依赖于yaourt&lt;/span>&lt;span class="o">)&lt;/span>
&lt;span class="err">#&lt;/span> &lt;span class="nt">tupac&lt;/span> &lt;span class="nt">-S&lt;/span> &lt;span class="nt">aurvote&lt;/span>
&lt;span class="nt">可以通过aurvote对喜欢的AUR软件投票&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">如果票数够多了&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">该软件就会被加入Community&lt;/span>&lt;span class="err">。&lt;/span>
&lt;span class="nt">用&lt;/span>&lt;span class="err">“&lt;/span>&lt;span class="nt">aurvote&lt;/span> &lt;span class="nt">-h&lt;/span>&lt;span class="err">”&lt;/span>&lt;span class="nt">来查看使用帮助&lt;/span>&lt;span class="err">。&lt;/span>
&lt;span class="nt">如果要对yaourt和tupac这两个软件投票&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">可以这样做&lt;/span>&lt;span class="err">：&lt;/span>
&lt;span class="o">(&lt;/span>&lt;span class="nt">1&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="nt">到&lt;/span> &lt;span class="nt">http&lt;/span>&lt;span class="o">://&lt;/span>&lt;span class="nt">aur&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">archlinux&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">org&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">account&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">php&lt;/span> &lt;span class="nt">注册一个帐号&lt;/span>
&lt;span class="o">(&lt;/span>&lt;span class="nt">2&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="nt">vi&lt;/span> &lt;span class="o">~/&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">aruvote&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">加入&lt;/span>
&lt;span class="nt">user&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nt">YourName&lt;/span>
&lt;span class="nt">pass&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nt">YourPassWord&lt;/span>
&lt;span class="o">(&lt;/span>&lt;span class="nt">3&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="nt">aurvote&lt;/span> &lt;span class="nt">-v&lt;/span> &lt;span class="nt">yaourt&lt;/span> &lt;span class="nt">tupac&lt;/span>
&lt;span class="o">*&lt;/span> &lt;span class="nt">2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">3&lt;/span> &lt;span class="nt">安装多线程多协议的下载工具aria2&lt;/span>
&lt;span class="err">#&lt;/span> &lt;span class="nt">pacman&lt;/span> &lt;span class="nt">-S&lt;/span> &lt;span class="nt">aria2&lt;/span>
&lt;span class="err">#&lt;/span> &lt;span class="nt">echo&lt;/span> &lt;span class="s2">"XferCommand = /usr/bin/aria2c –s 3 %u"&lt;/span> &lt;span class="o">&amp;gt;&amp;gt;/&lt;/span>&lt;span class="nt">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">pacman&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">conf&lt;/span>
&lt;span class="nt">用aria2替换默认的wget来安装软件&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">如果带宽足够大&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">就不需要用aria2了&lt;/span>&lt;span class="err">。&lt;/span>
&lt;span class="o">*&lt;/span> &lt;span class="nt">2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">4&lt;/span> &lt;span class="nt">根据个人习惯安装其它Shell&lt;/span>&lt;span class="err">（&lt;/span>&lt;span class="nt">如zsh&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">ksh&lt;/span>&lt;span class="err">），&lt;/span>&lt;span class="nt">当然使用默认的Bash也很好&lt;/span>
&lt;span class="o">$&lt;/span> &lt;span class="nt">sudo&lt;/span> &lt;span class="nt">pacman&lt;/span> &lt;span class="nt">-S&lt;/span> &lt;span class="nt">zsh&lt;/span>
&lt;span class="nt">关于ZSH的介绍&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">可以参照Wiki&lt;/span>&lt;span class="o">:&lt;/span>
&lt;span class="nt">http&lt;/span>&lt;span class="o">://&lt;/span>&lt;span class="nt">wiki&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">archlinux&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">org&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">index&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">php&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">Zsh&lt;/span>
&lt;span class="nt">可从中获取配置好的&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nc">zshrc&lt;/span> &lt;span class="nt">文件&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">放入&lt;/span>&lt;span class="o">$&lt;/span>&lt;span class="nt">HOME中&lt;/span>&lt;span class="err">。&lt;/span>
&lt;span class="o">$&lt;/span> &lt;span class="nt">chsh&lt;/span> &lt;span class="nt">-s&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">bin&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">zsh&lt;/span>
&lt;span class="o">$&lt;/span> &lt;span class="nt">source&lt;/span> &lt;span class="o">~/&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">zshrc&lt;/span>
&lt;span class="o">*&lt;/span> &lt;span class="nt">2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">5&lt;/span> &lt;span class="nt">安装sudo&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">用普通用户进入系统&lt;/span>
&lt;span class="nt">创建一个账户&lt;/span>&lt;span class="err">：&lt;/span>
&lt;span class="err">#&lt;/span> &lt;span class="nt">useradd&lt;/span> &lt;span class="err">–&lt;/span>&lt;span class="nt">mG&lt;/span> &lt;span class="nt">users&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="nt">audio&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="nt">optical&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="nt">storage&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="nt">wheel&lt;/span> &lt;span class="nt">-s&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">bin&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">zsh&lt;/span> &lt;span class="nt">yourname&lt;/span>
&lt;span class="nt">创建一个限制用户&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">有声音支持&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">有HAL&lt;/span> &lt;span class="nt">支持&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">能切换到root&lt;/span> &lt;span class="nt">权限&lt;/span>
&lt;span class="err">#&lt;/span> &lt;span class="nt">passwd&lt;/span> &lt;span class="nt">yourname&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="nt">如果还没有为root创建密码&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">要先&lt;/span> &lt;span class="p">#&lt;/span>&lt;span class="nn">passwd&lt;/span> &lt;span class="nt">root&lt;/span>&lt;span class="o">)&lt;/span>
&lt;span class="err">#&lt;/span> &lt;span class="nt">cd&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">home&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">YOUNAME&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="o">&amp;&amp;&lt;/span> &lt;span class="nt">cp&lt;/span> &lt;span class="o">~/&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">zshrc&lt;/span> &lt;span class="o">./&lt;/span> &lt;span class="o">&amp;&amp;&lt;/span> &lt;span class="nt">chown&lt;/span> &lt;span class="nt">YOUENAME&lt;/span> &lt;span class="o">./&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">zshrc&lt;/span>
&lt;span class="err">#&lt;/span> &lt;span class="nt">pacman&lt;/span> &lt;span class="nt">-S&lt;/span> &lt;span class="nt">sudo&lt;/span>
&lt;span class="err">#&lt;/span> &lt;span class="nt">vi&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">sudoers&lt;/span>
&lt;span class="nt">加入&lt;/span>&lt;span class="err">：&lt;/span>&lt;span class="nt">yourname&lt;/span> &lt;span class="nt">ALL&lt;/span>&lt;span class="o">=(&lt;/span>&lt;span class="nt">ALL&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="nt">NOPASSWD&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nt">SETENV&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nt">ALL&lt;/span>
&lt;span class="nt">或直接对用户组作出相应设置&lt;/span>&lt;span class="err">。&lt;/span>
&lt;span class="nt">如果主机上会有多个终端同时在用&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">还要加入&lt;/span>&lt;span class="s2">"visudo"&lt;/span>&lt;span class="nt">到&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">sudoers&lt;/span>
&lt;span class="nt">sudo&lt;/span> &lt;span class="nt">命令补全&lt;/span>&lt;span class="err">（&lt;/span>&lt;span class="nt">注意&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">仅适用于Bash&lt;/span>&lt;span class="err">）：&lt;/span>
&lt;span class="err">#&lt;/span> &lt;span class="nt">pacman&lt;/span> &lt;span class="nt">-S&lt;/span> &lt;span class="nt">bash-completion&lt;/span>
&lt;span class="err">#&lt;/span> &lt;span class="nt">echo&lt;/span> &lt;span class="nt">source&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">bash_completion&lt;/span> &lt;span class="o">&amp;gt;&amp;gt;/&lt;/span>&lt;span class="nt">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">profile&lt;/span>
&lt;span class="err">#&lt;/span> &lt;span class="nt">source&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">profile&lt;/span> &lt;span class="err">（&lt;/span>&lt;span class="nt">或exit&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="nt">用普通用户重登录&lt;/span>&lt;span class="err">）&lt;/span>
&lt;span class="o">*&lt;/span> &lt;span class="nt">2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">6&lt;/span> &lt;span class="nt">开启控制台鼠标&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="nt">gpm&lt;/span> &lt;span class="nt">支持&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="err">，&lt;/span>&lt;span class="nt">方便控制台下浏览网页&lt;/span>
&lt;span class="nt">在控制台下浏览网页的工具有&lt;/span>&lt;span class="err">：&lt;/span>&lt;span class="nt">elinks&lt;/span>&lt;span class="o">(&lt;/span>&lt;span class="nt">英文网页&lt;/span>&lt;span class="o">),&lt;/span> &lt;span class="nt">w3m&lt;/span>&lt;span class="err">（&lt;/span>&lt;span class="nt">在CCE下可浏览中文网页&lt;/span>&lt;span class="err">）：&lt;/span>
&lt;span class="o">$&lt;/span> &lt;span class="nt">sudo&lt;/span> &lt;span class="nt">pacman&lt;/span> &lt;span class="nt">elinks&lt;/span> &lt;span class="nt">w3m&lt;/span> &lt;span class="nt">cce&lt;/span>
&lt;span class="nt">用elinks等工具&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">在控制台下浏览网页&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">如果没有鼠标支持&lt;/span>&lt;span class="err">，&lt;/span>&lt;span class="nt">实在是很郁闷的事情&lt;/span>&lt;span class="err">：&lt;/span>
&lt;span class="o">$&lt;/span> &lt;span class="nt">sudo&lt;/span> &lt;span class="nt">pacman&lt;/span> &lt;span class="nt">-S&lt;/span> &lt;span class="nt">gpm&lt;/span>
&lt;span class="o">$&lt;/span> &lt;span class="nt">sudo&lt;/span> &lt;span class="nt">vi&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">conf&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">d&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">gpm&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="nt">加入&lt;/span>&lt;span class="o">:&lt;/span>
&lt;span class="nt">GPM_ARGS&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">"-m /dev/misc/psaux -t ps2"&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="nt">PS&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">2&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="nt">or&lt;/span>
&lt;span class="nt">GPM_ARGS&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">"-m /dev/input/mice -t imps2"&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="nt">USB&lt;/span>&lt;span class="o">)&lt;/span>
&lt;span class="o">$&lt;/span> &lt;span class="nt">sudo&lt;/span> &lt;span class="nt">gpm&lt;/span> &lt;span class="nt">-m&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">dev&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">input&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">psaux&lt;/span> &lt;span class="nt">-t&lt;/span> &lt;span class="nt">ps2&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="nt">PS&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">2&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="nt">or&lt;/span>
&lt;span class="o">$&lt;/span> &lt;span class="nt">sudo&lt;/span> &lt;span class="nt">gpm&lt;/span> &lt;span class="nt">-m&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">dev&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">input&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">mice&lt;/span> &lt;span class="nt">-t&lt;/span> &lt;span class="nt">imps2&lt;/span>&lt;span class="s2">" (USB)&lt;/span>
&lt;span class="s2">如果已经正常工作，把gpm 加到rc.conf中的DAEMONS 数组中，让它开机自动运行。&lt;/span>
&lt;span class="s2">* 2.7 Post Installation Tips&lt;/span>
&lt;span class="s2">(1) Colorize your PS1 and Console&lt;/span>
&lt;span class="s2">编辑SHELL的配置文件（如 ~/.bashrc），加入：&lt;/span>
&lt;span class="s2">export LS_COLORS=&amp;#39;no=00:fi=00:di=01;37;44:ln=01;36:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=01;05;37;41:mi=01;05;37;41:ex=01;32:*.cmd=01;32:*.exe=01;32:*.com=01;32:*.btm=01;32:*.bat=01;32:*.sh=01;32:*.csh=01;32:*.tar=01;31:*.tgz=01;31:*.arj=01;31:*.taz=01;31:*.lzh=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.gz=01;31:*.bz2=01;31:*.bz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.rar=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.jpg=01;35:*.jpeg=01;35:*.gif=01;35:*.bmp=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.mng=01;35:*.xcf=01;35:*.pcx=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.avi=01;35:*.mkv=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.mov=01;35:*.qt=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.fli=01;35:*.gl=01;35:*.dl=01;35:*.pdf=00;32:*.ps=00;32:*.txt=00;32:*.patch=00;32:*.diff=00;32:*.log=00;32:*.tex=00;32:*.doc=00;32:*.mp3=01;32:*.wav=01;32:*.mid=01;32:*.midi=01;32:*.au=01;32:*.ogg=01;32:*.flac=01;32:*.aac=01;32:&amp;#39;;&lt;/span>
&lt;span class="s2">关于提示符的修改，参看一下：http://bbs.linuxsir.org/showthread.php?t=223.44&lt;/span>
&lt;span class="s2">(2) 实现彩色版的 Manpages&lt;/span>
&lt;span class="s2">$ sudo pacman -S most &lt;/span>
&lt;span class="s2">$ vi /etc/man.conf file， change the PAGER and BROWSER variable to: &lt;/span>
&lt;span class="s2">PAGER /usr/bin/most -s &lt;/span>
&lt;span class="s2">BROWSER /usr/bin/most –s &lt;/span>
&lt;span class="s2">$ vi ~/.mostrc，add: &lt;/span>
&lt;span class="s2">color normal brightwhite black&lt;/span>
&lt;span class="s2">color status yellow blue&lt;/span>
&lt;span class="s2">color underline white lightblue &lt;/span>
&lt;span class="s2">color overstrike brightcyan black&lt;/span>
&lt;span class="s2">不过用most是有一些不便之处的，这时可以试试下面的方法，真的挺不错：&lt;/span>
&lt;span class="s2">1. 在你的主目录创建 .terminfo 目录，并转到该目录：&lt;/span>
&lt;span class="s2">mkdir ~/.terminfo/ &amp;&amp; cd ~/.terminfo&lt;/span>
&lt;span class="s2">2. 从作者网站获取 terminfo 描述文件：&lt;/span>
&lt;span class="s2">wget http://nion.modprobe.de/mostlike.txt&lt;/span>
&lt;span class="s2">3. 使用 tic 命令编译 mostlike.txt 文件（编译后可删除）：&lt;/span>
&lt;span class="s2">tic mostlike.txt&lt;/span>
&lt;span class="s2">4. 在SHELL的配置文件中定义别名：&lt;/span>
&lt;span class="s2">alias man="&lt;/span>&lt;span class="nt">TERMINFO&lt;/span>&lt;span class="o">=~/&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">terminfo&lt;/span>&lt;span class="o">/&lt;/span> &lt;span class="nt">LESS&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nt">C&lt;/span> &lt;span class="nt">TERM&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nt">mostlike&lt;/span> &lt;span class="nt">PAGER&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nt">less&lt;/span> &lt;span class="nt">man&lt;/span>&lt;span class="s2">"&lt;/span>
&lt;span class="s2">现在使用 man 指令就可以读到彩色版的 Manpages 了。如果你需要修改 terminfo 文件，则可以使用 infocmp mostlike。&lt;/span>
&lt;span class="s2">(3) Timesaving Command-aliases&lt;/span>
&lt;span class="s2">编辑SHELL的配置文件（如 ~/.bashrc），加入： &lt;/span>
&lt;span class="s2">alias ls=&amp;#39;ls --color=auto&amp;#39; &lt;/span>
&lt;span class="s2">alias la=&amp;#39;ls -a --color=auto&amp;#39; &lt;/span>
&lt;span class="s2">alias ll=&amp;#39;ls -aoth --color=auto&amp;#39;&lt;/span>
&lt;span class="s2">alias p=&amp;#39;sudo pacman&amp;#39; &lt;/span>
&lt;span class="s2">alias t=&amp;#39;sudo tupac&amp;#39; &lt;/span>
&lt;span class="s2">alias x=&amp;#39;startx&amp;#39; &lt;/span>
&lt;span class="s2">alias pq=&amp;#39;pacman -Q |grep&amp;#39;&lt;/span>
&lt;span class="s2">alias pa=&amp;#39;sudo pacman -S&amp;#39; &lt;/span>
&lt;span class="s2">alias pas=&amp;#39;sudo pacman -Ss&amp;#39; &lt;/span>
&lt;span class="s2">alias pau=&amp;#39;sudo pacman -Syu&amp;#39; &lt;/span>
&lt;span class="s2">alias pay=&amp;#39;sudo pacman -Sy&amp;#39; &lt;/span>
&lt;span class="s2">alias pao=”sudo pacman-optimize” &lt;/span>
&lt;span class="s2">alias pasch=&amp;#39;pacman -Sl | cut -d&amp;#39; &amp;#39; -f2 | grep &amp;#39; &lt;/span>
&lt;span class="s2">alias tp=&amp;#39;sudo tupac -S&amp;#39; &lt;/span>
&lt;span class="s2">alias tps=&amp;#39;sudo tupac -Ss&amp;#39; &lt;/span>
&lt;span class="s2">alias tpu=&amp;#39;sudo tupac -Syu&amp;#39; &lt;/span>
&lt;span class="s2">alias tpy=&amp;#39;sudo tupac -Sy&amp;#39; &lt;/span>
&lt;span class="s2">alias vi=&amp;#39;vim&amp;#39; &lt;/span>
&lt;span class="s2">alias v=&amp;#39;sudo vim&amp;#39; &lt;/span>
&lt;span class="s2">alias ps=&amp;#39;ps ax&amp;#39;&lt;/span>
&lt;span class="s2">alias m=&amp;#39;less –s&amp;#39;&lt;/span>
&lt;span class="s2">3 安装一个桌面&lt;/span>
&lt;span class="s2">* 3.1 xorg&lt;/span>
&lt;span class="s2">$ sudo pacman -S xorg&lt;/span>
&lt;span class="s2">$ sudo X –configure &lt;/span>
&lt;span class="s2">$ sudo vi xorg.conf.new (作出适当的修正) &lt;/span>
&lt;span class="s2">$ X -config xorg.conf.new (测试一下配置文件是否能正常工作，用Ctrl+Alt+Backspace退出X)&lt;/span>
&lt;span class="s2">$ cp xorg.conf.new /etc/X11/xorg.conf&lt;/span>
&lt;span class="s2">如果发现“X -configure”不能正确配置某些硬件（比如鼠标），可以试试hwd命令：&lt;/span>
&lt;span class="s2">$ sudo pacman -S hwd &amp;&amp; sudo hwd -xa&lt;/span>
&lt;span class="s2">它会在/etc/X11/自动生成一个xorg.conf，并备份原有的文件。&lt;/span>
&lt;span class="s2">* 3.2 安装显卡驱动&lt;/span>
&lt;span class="s2">装完Xorg后，就已经有了一个通用的VESA驱动了。不过对图形加速支持得不太好。&lt;/span>
&lt;span class="s2">一般显卡的开源驱动可以用：pacman -Ss xf86-video 来搜索到。不过要想较好的支持3D&lt;/span>
&lt;span class="s2">性能，还需要使用厂商提供的驱动：&lt;/span>
&lt;span class="s2">ATI显示芯片：tupac -S catalyst ，参考http://wiki.archlinux.org/index.php/ATI&lt;/span>
&lt;span class="s2">Nvidia显示芯片可用：tupac -Ss nvidia 来搜索，并参考：http://wiki.archlinux.org/index.php/NVIDIA&lt;/span>
&lt;span class="s2">不过个人认为，对于Nvidia的显卡，最好是直接使用其官方网站上的驱动，下载地址是：&lt;/span>
&lt;span class="s2">http://www.nvidia.cn/Download/index.aspx?lang=cn&lt;/span>
&lt;span class="s2">下载最新的Linux驱动(当前是NVIDIA-Linux-x86-169.09-pkg1.run)，然后：&lt;/span>
&lt;span class="s2">$ sudo sh NVIDIA-Linux-x86-169.09-pkg1.run&lt;/span>
&lt;span class="s2">*3.3 安装字体&lt;/span>
&lt;span class="s2">$ sudo pacman –Sy ttf ｜less （从安装包列表中查找可用的字体包） &lt;/span>
&lt;span class="s2">$ sudo pacman –S sdl_ttf font-bh-ttf ttf-dejavu ttf-fireflysung ttf-ms-fonts&lt;/span>
&lt;span class="s2">当前的开源字体已经相当不错了，尤其是文泉驿字体。&lt;/span>
&lt;span class="s2">安装文泉驿点阵宋体和正黑体。当前已经进入Community 了。&lt;/span>
&lt;span class="s2">$ tupac -S wqy-bitmapfont wqy-zenhei&lt;/span>
&lt;span class="s2">$ sudo vi /etc/X11/xorg.conf ，增加字体路径 &lt;/span>
&lt;span class="s2">如果没有安装 fontconfig ，就用 pacman 安装一下，然后，&lt;/span>
&lt;span class="s2">下载本文附件：fonts.conf.tar.gz ，并解压到 $HOME下：&lt;/span>
&lt;span class="s2">$ tar zxf fonts.conf.tar.gz -C ~/&lt;/span>
&lt;span class="s2">这会在 $HOME下产生一个 .fonts.conf 文件，可以优化中文显示。&lt;/span>
&lt;span class="s2">如果磁盘上有Windows系统，也可以：&lt;/span>
&lt;span class="s2">$ sudo mkdir /usr/share/fonts/msfonts &lt;/span>
&lt;span class="s2">复制一些Windows 字体到此目录下，如：msyh, simhei, simyou &lt;/span>
&lt;span class="s2">并自行编辑.fonts.conf 文件。当然了，最好不要使用Windows字体，因为是有版权的。&lt;/span>
&lt;span class="s2">*3.4 安装一个顺手的整合桌面环境或窗口管理器&lt;/span>
&lt;span class="s2">o 3.4.1 gnome&lt;/span>
&lt;span class="s2">$ sudo pacman -S gnome （gnome-extra是附加软件，自行选择安装）&lt;/span>
&lt;span class="s2">o 3.4.2 kde&lt;/span>
&lt;span class="s2">$ sudo pacman -S kde&lt;/span>
&lt;span class="s2">o 3.4.3 xfce + idesk&lt;/span>
&lt;span class="s2">$ sudo pacman -S xfce4 idesk (xfce4-goodies是附加软件，自行选择安装)&lt;/span>
&lt;span class="s2">o 3.4.4 e17 + idesk&lt;/span>
&lt;span class="s2">$ sudo pacman -S e17 idesk&lt;/span>
&lt;span class="s2">o 3.4.5 fvwm + idesk&lt;/span>
&lt;span class="s2">$ sudo pacman -S fvwm idesk (如果要安装最新版本，需自行下载编译安装)&lt;/span>
&lt;span class="s2">o 3.4.6 openbox + rox-filer + lxpanel + idesk&lt;/span>
&lt;span class="s2">$ sudo pacman -S openbox rox lxpanel idesk&lt;/span>
&lt;span class="s2">o 3.4.7 windowmaker + rox-filer + *dockapp + idesk&lt;/span>
&lt;span class="s2">$ sudo pacman -S windowmaker rox lxpanel idesk&lt;/span>
&lt;span class="s2">$ pacman -Ss dock , 然后安装中意的dockapp&lt;/span>
&lt;span class="s2">安装上面任一桌面后，可能还要安装和启用一个顺手的登录管理器，主要有：&lt;/span>
&lt;span class="s2">XDM，GDM，KDM，Entrance, SLIM.&lt;/span>
&lt;span class="s2">如果要启用gdm，需注释掉/etc/inittab 中“x:5:respawn:/usr/bin/xdm –nodaemon” &lt;/span>
&lt;span class="s2">这一行，另在/etc/rc.conf 中的 DAEMONS行中加入 gdm，可使开机时自动运行。&lt;/span>
&lt;span class="s2">~/.profile 文件中的命令是gdm 登录时会默认调用的。其它与之相似。&lt;/span>
&lt;span class="s2">如果不用登录管理器，就配置好~/.xinitrc,用"&lt;/span>&lt;span class="nt">startx&lt;/span>&lt;span class="s2">"命令，直接从Console下进入。&lt;/span>
&lt;span class="s2">参考：&lt;/span>
&lt;span class="s2">http://wiki.archlinux.org/index.php/{Gnome,Kde,Xfce,E17,Openbox,GDM,KDM,SLIM}&lt;/span>
&lt;span class="s2">http://www.fvwm.org&lt;/span>
&lt;span class="s2">http://slim.berlios.de&lt;/span>
&lt;span class="s2">http://icculus.org/openbox/index.php/Main_Page&lt;/span>
&lt;span class="s2">http://www.windowmaker.info&lt;/span>
&lt;span class="s2">http://roscidus.com&lt;/span>
&lt;span class="s2">http://idesk.sourceforge.net&lt;/span>
&lt;span class="s2">* 3.5 安装中文输入法（fcitx,or scim）&lt;/span>
&lt;span class="s2">o 3.5.1 fcitx&lt;/span>
&lt;span class="s2">$ sudo pacman -S fcitx &lt;/span>
&lt;span class="s2">$ cat &amp;gt;&amp;gt;~/.profile &amp;lt;&amp;lt;EOF &lt;/span>
&lt;span class="s2">&amp;gt; LC_CTYPE="&lt;/span>&lt;span class="nt">zh_CN&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">utf8&lt;/span>&lt;span class="s2">" &lt;/span>
&lt;span class="s2">&amp;gt; export XMODIFIERS=@im=fcitx &lt;/span>
&lt;span class="s2">&amp;gt; export GTK_IM_MODULE=xim &lt;/span>
&lt;span class="s2">&amp;gt; export QT_IM_MODULE=xim &lt;/span>
&lt;span class="s2">&amp;gt; fcitx &amp; &lt;/span>
&lt;span class="s2">&amp;gt; EOF&lt;/span>
&lt;span class="s2">o 3.5.2 scim&lt;/span>
&lt;span class="s2">$ sudo pacman -S scim-tables (或安装scim-fcitx。要用拼音，安装scim-pinying)&lt;/span>
&lt;span class="s2">$ cat &amp;gt;&amp;gt;~/.profile &amp;lt;&amp;lt;EOF &lt;/span>
&lt;span class="s2">&amp;gt; LC_CTYPE="&lt;/span>&lt;span class="nt">zh_CN&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">utf8&lt;/span>&lt;span class="s2">" &lt;/span>
&lt;span class="s2">&amp;gt; export XMODIFIERS=@im=SCIM&lt;/span>
&lt;span class="s2">&amp;gt; export GTK_IM_MODULE="&lt;/span>&lt;span class="nt">scim&lt;/span>&lt;span class="s2">"&lt;/span>
&lt;span class="s2">&amp;gt; export QT_IM_MODULE="&lt;/span>&lt;span class="nt">scim&lt;/span>&lt;span class="s2">"&lt;/span>
&lt;span class="s2">&amp;gt; scim -f socket -c socket -d&lt;/span>
&lt;span class="s2">&amp;gt; EOF&lt;/span>
&lt;span class="s2"># cp ~/.profile ~/.xinitrc &lt;/span>
&lt;span class="s2"># echo exec gnome-session &amp;gt;&amp;gt;~/.xinitrc &lt;/span>
&lt;span class="s2">这是startx 调用的配置文件。用“&amp;gt;&amp;gt;”,确保了gnome-session是最后被执行的命令。 &lt;/span>
&lt;span class="s2"># startx&lt;/span>
&lt;span class="s2">4 安装常用软件&lt;/span>
&lt;span class="s2">* 4.1 X下的虚拟终端&lt;/span>
&lt;span class="s2">roxterm,tilda和yakuake都是相当棒的虚拟终端。&lt;/span>
&lt;span class="s2">toxterm同gnome-terminal相似，却要小巧得多。&lt;/span>
&lt;span class="s2">Tilda 可用于 GNOME、Xfce 桌面，而 Yakuake 主要用于 KDE 桌面。它们都具有热键控制，&lt;/span>
&lt;span class="s2">桌面嵌入，背景透明，动画效果，标签页功能和可定制性。&lt;/span>
&lt;span class="s2">个人偏好tilda，直接用Pacman命令安装：&lt;/span>
&lt;span class="s2"># pacman -S tilda （不过最近Gnome的MetaCity似乎对Tilda不太友好，老是找不到焦点）&lt;/span>
&lt;span class="s2">* 4.2 网络浏览&lt;/span>
&lt;span class="s2">使用经过优化的更小巧快速的 swiftfox 来代替Firefox。&lt;/span>
&lt;span class="s2">如果安装了elinks，可以先：&lt;/span>
&lt;span class="s2">$ elinks http://getswift.com/installer.htm&lt;/span>
&lt;span class="s2">看看有哪些版本可以下载，结合电脑处理器的类型下载，如Pentium 4的CPU：&lt;/span>
&lt;span class="s2">$ aria2c –s 4 http://getswiftfox.com/builds/installer/pentium4/install-swiftfox.sh -d /tmp &lt;/span>
&lt;span class="s2">$ vi /tmp/ install-swiftfox.sh （作出适当的修正，不作修正也可） &lt;/span>
&lt;span class="s2">$ sudo sh /tmp/install-swiftfox.sh&lt;/span>
&lt;span class="s2">也可以选择其他的网络浏览器，比如 Opera：&lt;/span>
&lt;span class="s2"># pacman -S opera&lt;/span>
&lt;span class="s2">* 4.3 图像编辑&lt;/span>
&lt;span class="s2">(1) Linux下的Photoshop: GIMP，要安装它可以执行命令：&lt;/span>
&lt;span class="s2"># pacman -S gimp&lt;/span>
&lt;span class="s2">你可以通过”应用程序 → 图像 → GIMP“来运行 GIMP。&lt;/span>
&lt;span class="s2">(2)矢量图形编辑软件可以使用 Inkscape：&lt;/span>
&lt;span class="s2"># pacman -S inkscape&lt;/span>
&lt;span class="s2">(3)命令行的可以装上 ImageMagick：&lt;/span>
&lt;span class="s2"># pacman -S imagemagick&lt;/span>
&lt;span class="s2">(4)用来捕获图像的 Scrot：&lt;/span>
&lt;span class="s2"># pacman -S scrot&lt;/span>
&lt;span class="s2">(5)轻量级的图像查看软件 GQview：&lt;/span>
&lt;span class="s2">pacman -S gqview&lt;/span>
&lt;span class="s2">或者 GNOME 默认的 Eog：&lt;/span>
&lt;span class="s2">pacman -S eog&lt;/span>
&lt;span class="s2">* 4.4 Linux下的Office软件&lt;/span>
&lt;span class="s2">(1) OpenOffice.org ：&lt;/span>
&lt;span class="s2"># pacman -S openoffice-base openoffice-zh_cn&lt;/span>
&lt;span class="s2">为了让 OpenOffice.org 运行于 GTK 2 模式，向SHELL的配置文件（如 ~/.bashrc） 添加：&lt;/span>
&lt;span class="s2">export OOO_FORCE_DESKTOP=gnome&lt;/span>
&lt;span class="s2">(2) 永中Office:&lt;/span>
&lt;span class="s2">国产软件，听说对MS Office文档格式的支持要比OpenOffice好，如果Word，Exel的文件较多，&lt;/span>
&lt;span class="s2">可以考虑这个，就是安装略显麻烦。&lt;/span>
&lt;span class="s2">$ cd ~&lt;/span>
&lt;span class="s2">$ aria2c -s 4 http://218.90.147.70/EverMore/EIOffice2007/EIO2007_Trial_ZH_Lin.tar.gz （电信）or:&lt;/span>
&lt;span class="s2">$ aria2c -s 4 http://218.104.51.66/EverMore/EIOffice2007/EIO2007_Trial_ZH_Lin.tar.gz (网通)&lt;/span>
&lt;span class="s2">$ tar zxf EIO2007_Trial_ZH_Lin.tar.gz&lt;/span>
&lt;span class="s2">用su命令登录root，再进入解压后文件夹（好像是4开头的）；&lt;/span>
&lt;span class="s2"># ./setup.sh （进入永中Office的图形界面安装，指定一下安装目录）&lt;/span>
&lt;span class="s2">安装完成后，要以root身份运行一下永中：&lt;/span>
&lt;span class="s2"># eio; exit&lt;/span>
&lt;span class="s2">$ cd ~ ; seteio (为普通用户配置下永中)&lt;/span>
&lt;span class="s2">$ eio (从终端运行永中Office，或者从菜单中运行也可以)&lt;/span>
&lt;span class="s2">* 4.5 即时通讯&lt;/span>
&lt;span class="s2">要与朋友即时聊天，我们可以选用 Pidgin，它支持 Gtalk、MSN、QQ 等多种协议：&lt;/span>
&lt;span class="s2">pacman -S pidgin&lt;/span>
&lt;span class="s2">当然，Skype 也不可错过：&lt;/span>
&lt;span class="s2">pacman -S skype-staticqt&lt;/span>
&lt;span class="s2">* 4.6 音影播放&lt;/span>
&lt;span class="s2">(1)音乐播放软件我选择 Quod Libet，你可以凭自己的喜好来安装：&lt;/span>
&lt;span class="s2"># pacman -S quodlibet&lt;/span>
&lt;span class="s2">其他的音乐播放器有 MPD、Audacious、Exaile、Amarok 等。&lt;/span>
&lt;span class="s2">(2)看电影的话，可用mplayer，同时也加上浏览器插件和常用解码器：&lt;/span>
&lt;span class="s2"># pacman -S mplayer mplayer-plugin codecs gstreamer0.10-bad gstreamer0.10-ugly gstreamer0.10-ffmpeg gstreamer0.10-mad gstreamer0.10-mpeg2dec&lt;/span>
&lt;span class="s2">如果需要 MPlayer 的前端，那么可以安装 SMPlayer：&lt;/span>
&lt;span class="s2"># pacman -S smplayer&lt;/span>
&lt;span class="s2">当然，另一个选择 VLC 也挺好：&lt;/span>
&lt;span class="s2"># pacman -S vlc&lt;/span>
&lt;span class="s2">* 4.7 下载工具&lt;/span>
&lt;span class="s2">命令行下载工具，有 wget。此外，aria2 也不错，它支持断点续传和多线程下载：&lt;/span>
&lt;span class="s2">pacman -S aria2&lt;/span>
&lt;span class="s2">BitTorrent 下载工具，我们选用 Deluge：&lt;/span>
&lt;span class="s2">pacman -S deluge&lt;/span>
&lt;span class="s2">其他的包括 Azureus、rTorrent 等。&lt;/span>
&lt;span class="s2">另外，我们把 aMule 也安装上：&lt;/span>
&lt;span class="s2">pacman -S amule&lt;/span>
&lt;span class="s2">为了能够让 aMule 直接从 Firefox 浏览器中处理 ed2k 链接，我们在 Firefox 的 &lt;/span>
&lt;span class="s2">about:config 中新建字符串 network.protocol-handler.app.ed2k，并将其设为 &lt;/span>
&lt;span class="s2">/usr/bin/ed2k。&lt;/span>
&lt;span class="s2">* 4.8 文本编辑与排版&lt;/span>
&lt;span class="s2">(1)如果要求简单的话，可以选用 Gedit：&lt;/span>
&lt;span class="s2">pacman -S gedit&lt;/span>
&lt;span class="s2">(2)安装 Vim，要图形界面的话，可以加上 Gvim：&lt;/span>
&lt;span class="s2">pacman -S vim gvim&lt;/span>
&lt;span class="s2">(3)Emacs 迷们可以执行：&lt;/span>
&lt;span class="s2">pacman -S emacs&lt;/span>
&lt;span class="s2">Emacs CVS 版本可在 community 中找到。&lt;/span>
&lt;span class="s2">(4)世界第一流的排版工具集 TexLive&lt;/span>
&lt;span class="s2">参看http://wiki.archlinux.org/index.php/Texlive&lt;/span>
&lt;span class="s2">也可额外安装 TeX 的集成编辑环境：Kile, or Lyx&lt;/span>
&lt;span class="s2">* 4.9 安装VirtualBox虚拟机&lt;/span>
&lt;span class="s2">$ sudo tupac -S virtualbox_bin (从AUR安装VirtualBox 的PUEL版本)&lt;/span>
&lt;span class="s2">$ sudo vbox_build_module (创建VirtualBox的内核)&lt;/span>
&lt;span class="s2">$ sudo gpasswd -a YourName vboxusers (将你的名字加入vboxusers用户组)&lt;/span>
&lt;span class="s2">$ sudo modprobe vboxdrv （如果要立刻开始用，需要加载vboxdrv模块）&lt;/span>
&lt;span class="s2">$ sudo vim /etc/rc.conf：&lt;/span>
&lt;span class="s2">MODULES中加入vboxdrv，使开机时加载vboxdrv模块.&lt;/span>
&lt;span class="s2">$ VirtalBox (从终端运行virtualbox，或从桌面的菜单中运行它)&lt;/span>
&lt;span class="s2">有时，会因为没有libstdc++5 这个库文件，而使virtualbox不能运行。安装它就是了：&lt;/span>
&lt;span class="s2">$ sudo pacman -S libstdc++5&lt;/span>
&lt;span class="s2">* 4.10 wine──在Unix/Linux系统上实现Windows API &lt;/span>
&lt;span class="s2">Wine用Unix的方式实现（或代替了）Windows API ，所以通过Wine可以在Unix-Like系统上运行 Windows 程序及游戏。&lt;/span>
&lt;span class="s2">Wine-Doors是一款基于Gnome桌面的Windows软件安装管理包，是Wine 的辅助工具，&lt;/span>
&lt;span class="s2">使用非常方便，只需在软件列表中选择要安装的软件，Wine-Doors就会帮你搞定一切，&lt;/span>
&lt;span class="s2">不再需要自己动手来配置Wine。什么Office 2003，Photoshop都不在话下了。&lt;/span>
&lt;span class="s2">$ sudo tupac -S wine wine-doors&lt;/span>
&lt;span class="s2">$ winecfg (配置好Wine)&lt;/span>
&lt;span class="s2">$ sudo wine iexplore http://www.winehq.org （安装Wine Gecko IE engine）&lt;/span>
&lt;span class="s2">$ cp /usr/share/fonts/wenquanyi/wqy-zenhei/wqy-zenhei.ttf ~/.wine/drive_c/windows/fonts&lt;/span>
&lt;span class="s2">给Wine提供一个中文字体：WenQuanYi Zen Hei&lt;/span>
&lt;span class="s2">$ vi ~/zh.reg, add: （编辑Wine中文字体支持的注册表文件，否则中文网页会乱码）&lt;/span>
&lt;span class="s2">REGEDIT4&lt;/span>
&lt;span class="cp">[&lt;/span>&lt;span class="nx">HKEY_LOCAL_MACHINE&lt;/span>&lt;span class="o">\&lt;/span>&lt;span class="nx">Software&lt;/span>&lt;span class="o">\&lt;/span>&lt;span class="nx">Microsoft&lt;/span>&lt;span class="o">\&lt;/span>&lt;span class="nx">Windows&lt;/span> &lt;span class="nx">NT&lt;/span>&lt;span class="o">\&lt;/span>&lt;span class="nx">CurrentVersion&lt;/span>&lt;span class="o">\&lt;/span>&lt;span class="nx">FontSubstitutes&lt;/span>&lt;span class="cp">]&lt;/span>&lt;span class="s2">&lt;/span>
&lt;span class="s2">"&lt;/span>&lt;span class="nt">Arial&lt;/span>&lt;span class="s2">"="&lt;/span>&lt;span class="nt">WenQuanYi&lt;/span> &lt;span class="nt">Zen&lt;/span> &lt;span class="nt">Hei&lt;/span>&lt;span class="s2">"&lt;/span>
&lt;span class="s2">"&lt;/span>&lt;span class="nt">Arial&lt;/span> &lt;span class="nt">CE&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="nt">238&lt;/span>&lt;span class="s2">"="&lt;/span>&lt;span class="nt">WenQuanYi&lt;/span> &lt;span class="nt">Zen&lt;/span> &lt;span class="nt">Hei&lt;/span>&lt;span class="s2">"&lt;/span>
&lt;span class="s2">"&lt;/span>&lt;span class="nt">Arial&lt;/span> &lt;span class="nt">CYR&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="nt">204&lt;/span>&lt;span class="s2">"="&lt;/span>&lt;span class="nt">WenQuanYi&lt;/span> &lt;span class="nt">Zen&lt;/span> &lt;span class="nt">Hei&lt;/span>&lt;span class="s2">"&lt;/span>
&lt;span class="s2">"&lt;/span>&lt;span class="nt">Arial&lt;/span> &lt;span class="nt">Greek&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="nt">161&lt;/span>&lt;span class="s2">"="&lt;/span>&lt;span class="nt">WenQuanYi&lt;/span> &lt;span class="nt">Zen&lt;/span> &lt;span class="nt">Hei&lt;/span>&lt;span class="s2">"&lt;/span>
&lt;span class="s2">"&lt;/span>&lt;span class="nt">Arial&lt;/span> &lt;span class="nt">TUR&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="nt">162&lt;/span>&lt;span class="s2">"="&lt;/span>&lt;span class="nt">WenQuanYi&lt;/span> &lt;span class="nt">Zen&lt;/span> &lt;span class="nt">Hei&lt;/span>&lt;span class="s2">"&lt;/span>
&lt;span class="s2">"&lt;/span>&lt;span class="nt">Courier&lt;/span> &lt;span class="nt">New&lt;/span>&lt;span class="s2">"="&lt;/span>&lt;span class="nt">WenQuanYi&lt;/span> &lt;span class="nt">Zen&lt;/span> &lt;span class="nt">Hei&lt;/span>&lt;span class="s2">"&lt;/span>
&lt;span class="s2">"&lt;/span>&lt;span class="nt">Courier&lt;/span> &lt;span class="nt">New&lt;/span> &lt;span class="nt">CE&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="nt">238&lt;/span>&lt;span class="s2">"="&lt;/span>&lt;span class="nt">WenQuanYi&lt;/span> &lt;span class="nt">Zen&lt;/span> &lt;span class="nt">Hei&lt;/span>&lt;span class="s2">"&lt;/span>
&lt;span class="s2">"&lt;/span>&lt;span class="nt">Courier&lt;/span> &lt;span class="nt">New&lt;/span> &lt;span class="nt">CYR&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="nt">204&lt;/span>&lt;span class="s2">"="&lt;/span>&lt;span class="nt">WenQuanYi&lt;/span> &lt;span class="nt">Zen&lt;/span> &lt;span class="nt">Hei&lt;/span>&lt;span class="s2">"&lt;/span>
&lt;span class="s2">"&lt;/span>&lt;span class="nt">Courier&lt;/span> &lt;span class="nt">New&lt;/span> &lt;span class="nt">Greek&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="nt">161&lt;/span>&lt;span class="s2">"="&lt;/span>&lt;span class="nt">WenQuanYi&lt;/span> &lt;span class="nt">Zen&lt;/span> &lt;span class="nt">Hei&lt;/span>&lt;span class="s2">"&lt;/span>
&lt;span class="s2">"&lt;/span>&lt;span class="nt">Courier&lt;/span> &lt;span class="nt">New&lt;/span> &lt;span class="nt">TUR&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="nt">162&lt;/span>&lt;span class="s2">"="&lt;/span>&lt;span class="nt">WenQuanYi&lt;/span> &lt;span class="nt">Zen&lt;/span> &lt;span class="nt">Hei&lt;/span>&lt;span class="s2">"&lt;/span>
&lt;span class="s2">"&lt;/span>&lt;span class="nt">FixedSys&lt;/span>&lt;span class="s2">"="&lt;/span>&lt;span class="nt">WenQuanYi&lt;/span> &lt;span class="nt">Zen&lt;/span> &lt;span class="nt">Hei&lt;/span>&lt;span class="s2">"&lt;/span>
&lt;span class="s2">"&lt;/span>&lt;span class="nt">Helv&lt;/span>&lt;span class="s2">"="&lt;/span>&lt;span class="nt">WenQuanYi&lt;/span> &lt;span class="nt">Zen&lt;/span> &lt;span class="nt">Hei&lt;/span>&lt;span class="s2">"&lt;/span>
&lt;span class="s2">"&lt;/span>&lt;span class="nt">Helvetica&lt;/span>&lt;span class="s2">"="&lt;/span>&lt;span class="nt">WenQuanYi&lt;/span> &lt;span class="nt">Zen&lt;/span> &lt;span class="nt">Hei&lt;/span>&lt;span class="s2">"&lt;/span>
&lt;span class="s2">"&lt;/span>&lt;span class="nt">MS&lt;/span> &lt;span class="nt">Sans&lt;/span> &lt;span class="nt">Serif&lt;/span>&lt;span class="s2">"="&lt;/span>&lt;span class="nt">WenQuanYi&lt;/span> &lt;span class="nt">Zen&lt;/span> &lt;span class="nt">Hei&lt;/span>&lt;span class="s2">"&lt;/span>
&lt;span class="s2">"&lt;/span>&lt;span class="nt">MS&lt;/span> &lt;span class="nt">Shell&lt;/span> &lt;span class="nt">Dlg&lt;/span>&lt;span class="s2">"="&lt;/span>&lt;span class="nt">WenQuanYi&lt;/span> &lt;span class="nt">Zen&lt;/span> &lt;span class="nt">Hei&lt;/span>&lt;span class="s2">"&lt;/span>
&lt;span class="s2">"&lt;/span>&lt;span class="nt">MS&lt;/span> &lt;span class="nt">Shell&lt;/span> &lt;span class="nt">Dlg&lt;/span> &lt;span class="nt">2&lt;/span>&lt;span class="s2">"="&lt;/span>&lt;span class="nt">WenQuanYi&lt;/span> &lt;span class="nt">Zen&lt;/span> &lt;span class="nt">Hei&lt;/span>&lt;span class="s2">"&lt;/span>
&lt;span class="s2">"&lt;/span>&lt;span class="nt">System&lt;/span>&lt;span class="s2">"="&lt;/span>&lt;span class="nt">WenQuanYi&lt;/span> &lt;span class="nt">Zen&lt;/span> &lt;span class="nt">Hei&lt;/span>&lt;span class="s2">"&lt;/span>
&lt;span class="s2">"&lt;/span>&lt;span class="nt">Tahoma&lt;/span>&lt;span class="s2">"="&lt;/span>&lt;span class="nt">WenQuanYi&lt;/span> &lt;span class="nt">Zen&lt;/span> &lt;span class="nt">Hei&lt;/span>&lt;span class="s2">"&lt;/span>
&lt;span class="s2">"&lt;/span>&lt;span class="nt">Times&lt;/span>&lt;span class="s2">"="&lt;/span>&lt;span class="nt">WenQuanYi&lt;/span> &lt;span class="nt">Zen&lt;/span> &lt;span class="nt">Hei&lt;/span>&lt;span class="s2">"&lt;/span>
&lt;span class="s2">"&lt;/span>&lt;span class="nt">Times&lt;/span> &lt;span class="nt">New&lt;/span> &lt;span class="nt">Roman&lt;/span> &lt;span class="nt">CE&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="nt">238&lt;/span>&lt;span class="s2">"="&lt;/span>&lt;span class="nt">WenQuanYi&lt;/span> &lt;span class="nt">Zen&lt;/span> &lt;span class="nt">Hei&lt;/span>&lt;span class="s2">"&lt;/span>
&lt;span class="s2">"&lt;/span>&lt;span class="nt">Times&lt;/span> &lt;span class="nt">New&lt;/span> &lt;span class="nt">Roman&lt;/span> &lt;span class="nt">CYR&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="nt">204&lt;/span>&lt;span class="s2">"="&lt;/span>&lt;span class="nt">WenQuanYi&lt;/span> &lt;span class="nt">Zen&lt;/span> &lt;span class="nt">Hei&lt;/span>&lt;span class="s2">"&lt;/span>
&lt;span class="s2">"&lt;/span>&lt;span class="nt">Times&lt;/span> &lt;span class="nt">New&lt;/span> &lt;span class="nt">Roman&lt;/span> &lt;span class="nt">Greek&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="nt">161&lt;/span>&lt;span class="s2">"="&lt;/span>&lt;span class="nt">WenQuanYi&lt;/span> &lt;span class="nt">Zen&lt;/span> &lt;span class="nt">Hei&lt;/span>&lt;span class="s2">"&lt;/span>
&lt;span class="s2">"&lt;/span>&lt;span class="nt">Times&lt;/span> &lt;span class="nt">New&lt;/span> &lt;span class="nt">Roman&lt;/span> &lt;span class="nt">TUR&lt;/span>&lt;span class="o">,&lt;/span>&lt;span class="nt">162&lt;/span>&lt;span class="s2">"="&lt;/span>&lt;span class="nt">WenQuanYi&lt;/span> &lt;span class="nt">Zen&lt;/span> &lt;span class="nt">Hei&lt;/span>&lt;span class="s2">"&lt;/span>
&lt;span class="s2">"&lt;/span>&lt;span class="nt">Tms&lt;/span> &lt;span class="nt">Rmn&lt;/span>&lt;span class="s2">"="&lt;/span>&lt;span class="nt">WenQuanYi&lt;/span> &lt;span class="nt">Zen&lt;/span> &lt;span class="nt">Hei&lt;/span>&lt;span class="s2">"&lt;/span>
&lt;span class="s2">$ regedit zh.reg (将中文字体配置写入Wine的注册表)&lt;/span>
&lt;span class="s2">$ wine iexplore http://www.126.com (试验一下中文效果)&lt;/span>
&lt;span class="s2">需要注意的是，如果从abs系统编译了并升级安装到了最新的Wine，一定要运行“wineprefixcreate” 来更新Wine的注册表。&lt;/span>
&lt;span class="s2">* 4.11 其他工具&lt;/span>
&lt;span class="s2">(1)光盘刻录&lt;/span>
&lt;span class="s2">KDE下建议选择 K3b，可以通过以下指令安装：&lt;/span>
&lt;span class="s2">pacman -S k3b dvd+rw-tools&lt;/span>
&lt;span class="s2">为了让当前用户能够使用光盘刻录设备，需要将其添加到 optical 用户组中：&lt;/span>
&lt;span class="s2">gpasswd -a YOURNAME optical&lt;/span>
&lt;span class="s2">如果是Gnome用户，建议安装gnomebaker，不亚于k3b:&lt;/span>
&lt;span class="s2">pacman -S gnomebaker&lt;/span>
&lt;span class="s2">(2) FTP上传&lt;/span>
&lt;span class="s2">可选择命令行的 Lftp：&lt;/span>
&lt;span class="s2">pacman -S lftp&lt;/span>
&lt;span class="s2">图形化的有 gFTP、FileZilla 等。&lt;/span>
&lt;span class="s2">FTP下载其实不必特意安装什么，因为wget，aria2都是支持FTP协议的。&lt;/span>
&lt;span class="s2">(3)文档查看&lt;/span>
&lt;span class="s2">查看 PDF 文档，可以安装 Evince：pacman -S evince&lt;/span>
&lt;span class="s2">也可以用Adobe公司的acroread：pacman -S acroread&lt;/span>
&lt;span class="s2">或轻量级的xpdf：pacman -S xpdf xpdf-chinese-simplified xpdf-chinese-traditional&lt;/span>
&lt;span class="s2">CHM 文档，可以选用kchmviewer&lt;/span>
&lt;span class="s2">(4)新闻阅读&lt;/span>
&lt;span class="s2">RSS 离线阅读软件，用 Liferea：&lt;/span>
&lt;span class="s2">pacman -S liferea&lt;/span>
&lt;span class="s2">(5)邮件收发&lt;/span>
&lt;span class="s2">电子邮件客户端，可以选择 Thunderbird：&lt;/span>
&lt;span class="s2">pacman -S thunderbird thunderbird-i18n&lt;/span>
&lt;span class="s2">或者采用：mutt + msmtp + getmail&lt;/span>
&lt;span class="s2">(6)图形界面的进程查看器 (gps)&lt;/span>
&lt;span class="s2">$ sudo pacman –S gps &lt;/span>
&lt;span class="s2">$ gps &lt;/span>
&lt;span class="s2">如果是文字界面的话，可用下面的命令： &lt;/span>
&lt;span class="s2">$ ps ax&lt;/span>
&lt;span class="s2">(7)计算器：&lt;/span>
&lt;span class="s2">pacman -S gcalctool&lt;/span>
&lt;span class="s2">(8)压缩/解压 rar、zip 等格式：&lt;/span>
&lt;span class="s2">pacman -S p7zip q7z (安装7zip，q7z是其GUI程序)&lt;/span>
&lt;span class="s2">pacman -S unrar unzip&lt;/span>
&lt;span class="s2">另外，图形化的可以用 File-roller：&lt;/span>
&lt;span class="s2">pacman -S file-roller&lt;/span>
&lt;span class="s2">(9)词典翻译&lt;/span>
&lt;span class="s2">安装 StarDict：&lt;/span>
&lt;span class="s2">pacman -S stardict&lt;/span>
&lt;span class="s2">同时，词典文件需从 StarDict 官方网站下载，并释放到 /usr/share/stardict/dic/ 目录。&lt;/span>
&lt;span class="s2">(10)Java 支持：&lt;/span>
&lt;span class="s2">pacman -S jre&lt;/span>
&lt;span class="s2">(11)Flash 插件：&lt;/span>
&lt;span class="s2">pacman -S flashplugin&lt;/span>
&lt;span class="s2">* 4.11 安装主题&lt;/span>
&lt;span class="s2">GDM 可以安装 Arch Boomerang Underlight 这套清爽的主题。下载后，执行：&lt;/span>
&lt;span class="s2">$ tar zxvf arch-boomerang-underlight-gdm.tar.gz&lt;/span>
&lt;span class="s2">$ mv arch-underlight-* /usr/share/gdm/themes/&lt;/span>
&lt;span class="s2">$ sudo gdmsetup (需要在X下执行，需要事先安装gdm)&lt;/span>
&lt;span class="s2">或者，如果在使用Gnome，就在”系统 → 系统管理 → 登录窗口“中将样式更改为主题模式，&lt;/span>
&lt;span class="s2">并选择已安装的主题即可。&lt;/span>
&lt;span class="s2">参看：http://www.gnome-look.org/&lt;/span>
&lt;span class="s2">还可以打造一个 Mac OS X 风格的界面，参看：http://sourceforge.net/projects/mac4lin&lt;/span>
&lt;span class="s2">5 常见问题&lt;/span>
&lt;span class="s2">* 5.1 声音问题&lt;/span>
&lt;span class="s2">安装ALSA。实际上，ALSA 已被包含到 2.6 版的内核中。因此，只需安装 ALSA 的相关工具即可：&lt;/span>
&lt;span class="s2">pacman -S alsa-utils&lt;/span>
&lt;span class="s2">接着，将当前用户添加到 audio 用户组，以便使用声卡设备：&lt;/span>
&lt;span class="s2">gpasswd -a YOURNAME audio&lt;/span>
&lt;span class="s2">同时，将 alsa 添加到 /etc/rc.conf 配置文件的 DAEMONS 中：&lt;/span>
&lt;span class="s2">DAEMONS=(syslog-ng network netfs crond gdm alsa)&lt;/span>
&lt;span class="s2">值得注意的是，ALSA 默认是静音状态，需要先打开音量。另外，也可点击”系统 → 首选&lt;/span>
&lt;span class="s2">项 → 音效“进行测试。&lt;/span>
&lt;span class="s2">$ sudo pacman -S alsa-lib alsa-oss alsa-utils (oss 包解决声卡独占问题) &lt;/span>
&lt;span class="s2">$ sudo alsaconf (设置声卡) &lt;/span>
&lt;span class="s2">$ sudo alsamixer &lt;/span>
&lt;span class="s2">$ sudo alsactl store (设置和保存音量，并在 /etc/rc.conf中的 DAEMONS行加入alsa) &lt;/span>
&lt;span class="s2">$ amixer set Master 75 unmute &lt;/span>
&lt;span class="s2">$ amixer set PCM 75 unmute (75 好像是原声，再高的话，声音会失真)&lt;/span>
&lt;span class="s2">* 5.2 笔记本电脑可能遇到的问题&lt;/span>
&lt;span class="s2">(1) 触摸板问题&lt;/span>
&lt;span class="s2">参看http://wiki.archlinux.org/index.php/Touchpad_Synaptics&lt;/span>
&lt;span class="s2">(2) 摄像头问题&lt;/span>
&lt;span class="s2">参看http://wiki.archlinux.org/index.php/Webcam_Setup&lt;/span>
&lt;span class="s2">(3) 无线上网问题&lt;/span>
&lt;span class="s2">参看http://wiki.archlinux.org/index.php/Wireless&lt;/span>
&lt;span class="s2">(4) 快捷键问题&lt;/span>
&lt;span class="s2">参看http://wiki.archlinux.org/index.php/Extra_Keyboard_Keys&lt;/span>
&lt;span class="s2">* 5.3 打印机设置&lt;/span>
&lt;span class="s2">(1) 当前最流行的底层基础打印系统：CUPS (适用于所有打印机)&lt;/span>
&lt;span class="s2">Unix-Like系统下的打印系统中，最具易用性的当数CUPS (The Common UNIX Printing System )，即&lt;/span>
&lt;span class="s2">Unix通用打印系统。在过去，Unix-Like系统下的打印问题是老大难。CUPS的出现使这个问题得到了&lt;/span>
&lt;span class="s2">极大的缓解。&lt;/span>
&lt;span class="s2">安装：&lt;/span>
&lt;span class="s2"># pacman -S cups ghostscript gsfonts&lt;/span>
&lt;span class="s2">CUPS系统运行记录：&lt;/span>
&lt;span class="s2">编辑/etc/cups/cupsd.conf，设置LogLevel的等级：&lt;/span>
&lt;span class="s2">LogLevel debug2&lt;/span>
&lt;span class="s2">如果出现错误，就可以察看调试信息了：&lt;/span>
&lt;span class="s2">$ tail -n 100 -f /var/log/cups/error_log&lt;/span>
&lt;span class="s2">看看系统已经加载了哪些模组（Modules）：&lt;/span>
&lt;span class="s2"># lsmode |less&lt;/span>
&lt;span class="s2">再来看看系统中有哪些可以使用的模组：&lt;/span>
&lt;span class="s2"># modprobe -l |less&lt;/span>
&lt;span class="s2">为内核加载打印机模组后，连接好打印机机，并打开电源：&lt;/span>
&lt;span class="s2">i) USB 接口打印机&lt;/span>
&lt;span class="s2"># modprobe usblp （2.6.x 内核）&lt;/span>
&lt;span class="s2"># modprobe printer （2.4.x 内核）&lt;/span>
&lt;span class="s2"># tail /var/log/messages.log （看看安装成功了没有）&lt;/span>
&lt;span class="s2">ii) 并口打印机&lt;/span>
&lt;span class="s2"># modprobe lp parport parport_pc （2.6.x 内核）&lt;/span>
&lt;span class="s2"># modprobe parport parport_pc （2.4.x 内核）&lt;/span>
&lt;span class="s2"># tail /var/log/messages.log （看看安装成功了没有）&lt;/span>
&lt;span class="s2">将这些模组加入/etc/rc.conf中的MODULES中去，以便开机时自动加载。&lt;/span>
&lt;span class="s2">启动 CUPS ：&lt;/span>
&lt;span class="s2"># /etc/rc.d/cups start （可将cups加入/etc/rc.conf中的DAEMONS中去，以便开机时自动加载）&lt;/span>
&lt;span class="s2">这个时候，就可以用CUPS在控制台下做一些简单的打印了，如：&lt;/span>
&lt;span class="s2">$ cat ~/.xinitrc &amp;gt; /dev/usb/lp0 (USB接口打印机)&lt;/span>
&lt;span class="s2">当然仅仅依靠CUPS打印，如果在X下，肯定是不方便的。主要是因为缺少驱动，Linux下的打印驱动是PPD文件。&lt;/span>
&lt;span class="s2">(2) 打印驱动： Foomatic&lt;/span>
&lt;span class="s2">Foomatic是一个数据库驱动的打印系统，它将Unix下的通用后台打印系统与开源的打印机驱动整合在一起。&lt;/span>
&lt;span class="s2">只要有任一在开源驱动下能够正常工作的打印机，它就能支持了。它支持CUPS, LPRng, LPD, GNUlpr, Solaris LP,&lt;/span>
&lt;span class="s2">PPR, PDQ, CPS 这些底层的打印系统，也能直接打印（既是驱动也是打印工具）。&lt;/span>
&lt;span class="s2">Foomatic打印速度快，打印质量也挺不错。不过缺点是，有个别的打印机可能没有PPD文件驱动。&lt;/span>
&lt;span class="s2"># pacman -S foomatic-***&lt;/span>
&lt;span class="s2">Foomatic包含五个安装包：&lt;/span>
&lt;span class="s2">foomatic-filters (帮助后台打印系统将PostScript转成打印机语言)，&lt;/span>
&lt;span class="s2">foomatic-db (foomatic-db-engine生成PPD文件时要用到的一切资料)，&lt;/span>
&lt;span class="s2">foomatic-db-PPD (已经获支持的打印驱动)&lt;/span>
&lt;span class="s2">foomatic-db-engine (将 Foomatic XMLo数据库中的数据生成PPD文件)，&lt;/span>
&lt;span class="s2">foomatic-db-hpijs (专为HP打印驱动生成Foomatic XML 数据)。&lt;/span>
&lt;span class="s2">一般来说，安装前四个包就可以了。如果没有惠普打印机，就不必安装foomatic-db-hpijs了。&lt;/span>
&lt;span class="s2">(4) 打印驱动：hplip&lt;/span>
&lt;span class="s2">惠普DeskJet, OfficeJet, Photosmart, Business Inkjet 和一些 LaserJet 打印机型号，需要安装hplip。只用于惠普打印机。&lt;/span>
&lt;span class="s2">也可同时安装上面的Foomatic，对比一下两者的打印速度。&lt;/span>
&lt;span class="s2"># pacman -S hplip&lt;/span>
&lt;span class="s2">(5) 打印驱动：Gutenprint&lt;/span>
&lt;span class="s2">也许以上的打印驱动仍然不行（不过安装foomatic一定是必要的，能提高打印速度）。在配置CUPS时（即将讲到）&lt;/span>
&lt;span class="s2">没有找到自己的打印机型号。那么可能还需要接着安装Gutenprint。&lt;/span>
&lt;span class="s2">Gutenprint 是GIMP的打印扩充功能模块，过去叫"&lt;/span>&lt;span class="nt">gimp-print&lt;/span>&lt;span class="s2">"，它能够为GIMP提供流行的打印驱动，能&lt;/span>
&lt;span class="s2">让佳能、爱普生、惠普、利盟、索尼、奥林巴斯，以及其他基于PCL技术的打印机，打印出更出色的品质。用于高品质的图像打印是在好不过了。&lt;/span>
&lt;span class="s2">它支持的打印机型号列表可见于：http://gutenprint.sourceforge.net/p_Supported_Printers.php3&lt;/span>
&lt;span class="s2">不过Gutenprint的打印品质是没得说，但速度就不敢恭维了。但有foomatic的支持就会快很多。&lt;/span>
&lt;span class="s2"># pacman -S gutenprint&lt;/span>
&lt;span class="s2">(6) 在X下配置CUPS&lt;/span>
&lt;span class="s2">打印基础系统CUPS和打印驱动安装好的，就要开始配置打印机了。&lt;/span>
&lt;span class="s2">可以通过配置CUPS来配置打印机。配置CUPS的方法适用于一切打印机及其驱动。因此推荐使用。&lt;/span>
&lt;span class="s2">进入X，打开一个网络浏览器，访问：&lt;/span>
&lt;span class="s2">http://localhost:631 （也可以用在/etc/hosts中设置好的hostname来代替localhost）&lt;/span>
&lt;span class="s2">按照提示，一步一步的配置好打印机：&lt;/span>
&lt;span class="s2">Manage Printers ---&amp;gt; Add Printer ---&amp;gt; root密码验证 ---&amp;gt; 输入打印机名称 ---&amp;gt; 选择设备类型&lt;/span>
&lt;span class="s2">（打印机型号及其接口：USB接口 or 并口打印机） ---&amp;gt; 选择你的打印机 ---&amp;gt; 通过打印机型号来选择适当的打印机驱动，并Add&lt;/span>
&lt;span class="s2">（如果打印驱动的名称中出现了foomatic字样，一定要优先选择） ---&amp;gt; 打印选项的设置 ---&amp;gt; 完成&lt;/span>
&lt;span class="s2">也可以使用另外的配置界面，不过可能要另外安装：&lt;/span>
&lt;span class="s2">tupac -S gnome-cups-manager (Gnome下)&lt;/span>
&lt;span class="s2">tupac -S gtklp (KDE下)&lt;/span>
&lt;span class="s2">(5) 打印机共享&lt;/span>
&lt;span class="s2">i) Linux to Linux&lt;/span>
&lt;span class="s2">服务器端：编辑 /etc/cups/cupsd.conf 中“Location”一段，以允许客户端的访问，重启cups服务。&lt;/span>
&lt;span class="s2">客户端：编辑 /etc/cups/cupsd.conf 中“ServerName”一段，以允许访问服务器端。执行命令：lpq&lt;/span>
&lt;span class="s2">ii) Linux to Windows&lt;/span>
&lt;span class="s2">两端都应当安装Samba。参看Wiki。&lt;/span>
&lt;span class="s2">iii) Windows to Linux&lt;/span>
&lt;span class="s2">两端都应当安装Samba。参看Wiki&lt;/span>
&lt;span class="s2">*******&lt;/span>
&lt;span class="s2">所有关于打印的问题，请一定要参看：&lt;/span>
&lt;span class="s2">http://wiki.archlinux.org/index.php/CUPS&lt;/span>
&lt;span class="s2">http://www.cups.org/&lt;/span>
&lt;span class="s2">http://gimp-print.sourceforge.net/&lt;/span>
&lt;span class="s2">http://www.linuxprinting.org/printer_list.cgi&lt;/span>
&lt;span class="s2">http://www.linux-foundation.org/en/OpenPrinting/Database/Foomatic&lt;/span>
&lt;span class="s2">http://savannah.nongnu.org/projects/foomatic-gui/&lt;/span>
&lt;span class="s2">http://wiki.gentoo.tw/mediawiki/index.php/Printing-howto&lt;/span>
&lt;span class="s2">另可参看http://www.redhat.net.cn/online/linuxbook/1/16.htm&lt;/span>
&lt;span class="s2">* 5.4 服务的访问控制&lt;/span>
&lt;span class="s2">/etc/hosts.allow 和/etc/hosts.deny &lt;/span>
&lt;span class="s2">这两个文件是tcpd 服务器的配置文件，tcpd 服务器可以控制外部IP 对本机服务的访问。 &lt;/span>
&lt;span class="s2">这两个配置文件的格式如下： &lt;/span>
&lt;span class="s2">#服务进程名:主机列表:当规则匹配时可选的命令操作 &lt;/span>
&lt;span class="s2">server_name:hosts-list&lt;/span>&lt;span class="cp">[&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nx">command&lt;/span>&lt;span class="cp">]&lt;/span>&lt;span class="s2"> &lt;/span>
&lt;span class="s2">/etc/hosts.allow 控制可以访问本机的IP 地址，/etc/hosts.deny 控制禁止访问本机的IP。 &lt;/span>
&lt;span class="s2">如果两个文件的配置有冲突，以/etc/hosts.deny 为准。下面是一个/etc/hosts.allow 的示例： &lt;/span>
&lt;span class="s2">ALL: 127.0.0.1: ALLOW #允许本机访问本机所有服务进程 &lt;/span>
&lt;span class="s2">smbd: 192.168.0.0/255.255.255.0 #允许192.168.0.网段的IP 访问smbd 服务 &lt;/span>
&lt;span class="s2">ALL 关键字匹配所有情况，EXCEPT 匹配除了某些项之外的情况，PARANOID 匹配你想控 &lt;/span>
&lt;span class="s2">制的IP 地址和它的域名不匹配时(域名伪装)的情况。&lt;/span>
&lt;span class="s2">* 5.5 启动加速&lt;/span>
&lt;span class="s2">编辑 /etc/rc.conf ，在 “ DAEMONS ”行的一些不急着需要用的后台程序前加上@，使后台运行。&lt;/span>
&lt;span class="s2">* 5.6 中文Java 支持&lt;/span>
&lt;span class="s2">$JAVA_HOME/jre/lib/fonts/ 下建一个fallback 的目录，然后建一个中文字体的软链接过去。&lt;/span>
&lt;span class="s2">* 5.7 可移动设备的自动挂载（HAL + dbus or ivman） 及中文名支持&lt;/span>
&lt;span class="s2">$ sudo pacman -S hal dbus acpid（hal 依赖 dbus，acpid 可管理设备的电源。） &lt;/span>
&lt;span class="s2">$ sudo vi /etc/rc.conf ，在 DAEMONS行 加入hal，如: &lt;/span>
&lt;span class="s2">DAEMONS=(syslog-ng acpid hal network !netfs @crond @alsa gdm) &lt;/span>
&lt;span class="s2">注意：如果daemons 列表中有dbus，要移除它，以免出错。hal 会自动加载dbus。 &lt;/span>
&lt;span class="s2">$ sudo gpasswd –a username optical &lt;/span>
&lt;span class="s2">$ sudo gpasswd –a username storage &lt;/span>
&lt;span class="s2">把你的用户加入到 optical，storage 这几个组里面。前文中已经加入过了，可跳过。&lt;/span>
&lt;span class="s2">如果用ivman来替代dbus，则需要将用户名加入到plugdev组中。&lt;/span>
&lt;span class="s2">$ sudo vi /etc/fstab，注释掉下面两行： &lt;/span>
&lt;span class="s2">/dev/cdrom /mnt/cdrom iso9660 ro,user,noauto,unhide 0 0 &lt;/span>
&lt;span class="s2">/dev/dvd /mnt/dvd udf ro,user,noauto,unhide 0 0 &lt;/span>
&lt;span class="s2">$ sudo vi /etc/hal/fdi/policy/preferences.fdi，可加入一些很有用的规则，&lt;/span>
&lt;span class="s2">如自动挂载NTFS文件系统，自动挂载可移动设备，性能优化，U盘的中文名支持等：&lt;/span>
&lt;span class="s2">&amp;lt;?xml version="&lt;/span>&lt;span class="nt">1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">&lt;/span>&lt;span class="s2">" encoding="&lt;/span>&lt;span class="nt">UTF-8&lt;/span>&lt;span class="s2">"?&amp;gt; &lt;/span>
&lt;span class="s2">&amp;lt;deviceinfo version="&lt;/span>&lt;span class="nt">&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">2&lt;/span>&lt;span class="s2">"&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;device&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;match key="&lt;/span>&lt;span class="nt">volume&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">fstype&lt;/span>&lt;span class="s2">" string="&lt;/span>&lt;span class="nt">ntfs&lt;/span>&lt;span class="s2">"&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;append key="&lt;/span>&lt;span class="nt">volume&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">mount&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">valid_options&lt;/span>&lt;span class="s2">" &lt;/span>
&lt;span class="s2"> type="&lt;/span>&lt;span class="nt">strlist&lt;/span>&lt;span class="s2">"&amp;gt;dmask=000&amp;lt;/append&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;append key="&lt;/span>&lt;span class="nt">volume&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">mount&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">valid_options&lt;/span>&lt;span class="s2">" &lt;/span>
&lt;span class="s2"> type="&lt;/span>&lt;span class="nt">strlist&lt;/span>&lt;span class="s2">"&amp;gt;fmask=111&amp;lt;/append&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;/match&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;/device&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;device&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;!-- Use UTF-8 charset for vfat --&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;match key="&lt;/span>&lt;span class="nt">volume&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">fstype&lt;/span>&lt;span class="s2">" string="&lt;/span>&lt;span class="nt">vfat&lt;/span>&lt;span class="s2">"&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;merge key="&lt;/span>&lt;span class="nt">volume&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">policy&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">mount_option&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">iocharset&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nt">utf8&lt;/span>&lt;span class="s2">" &lt;/span>
&lt;span class="s2"> type="&lt;/span>&lt;span class="nt">bool&lt;/span>&lt;span class="s2">"&amp;gt;true&amp;lt;/merge&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;/match&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;/device&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;device&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;match key="&lt;/span>&lt;span class="nt">storage&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">hotpluggable&lt;/span>&lt;span class="s2">" bool="&lt;/span>&lt;span class="nt">false&lt;/span>&lt;span class="s2">"&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;match key="&lt;/span>&lt;span class="nt">storage&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">removable&lt;/span>&lt;span class="s2">" bool="&lt;/span>&lt;span class="nt">false&lt;/span>&lt;span class="s2">"&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;merge key="&lt;/span>&lt;span class="nt">storage&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">automount_enabled_hint&lt;/span>&lt;span class="s2">" type="&lt;/span>&lt;span class="nt">bool&lt;/span>&lt;span class="s2">"&amp;gt;false&amp;lt;/merge&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;/match&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;/match&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;/device&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;device&amp;gt; &lt;/span>
&lt;span class="s2"> &amp;lt;match key="&lt;/span>&lt;span class="nt">block&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">is_volume&lt;/span>&lt;span class="s2">" bool="&lt;/span>&lt;span class="nt">true&lt;/span>&lt;span class="s2">"&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;match key="&lt;/span>&lt;span class="nt">volume&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">size&lt;/span>&lt;span class="s2">" compare_lt="&lt;/span>&lt;span class="nt">8000000000&lt;/span>&lt;span class="s2">"&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;match key="&lt;/span>&lt;span class="p">@&lt;/span>&lt;span class="k">block&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">storage_device&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nd">storage&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">hotpluggable&lt;/span>&lt;span class="s2">" bool="&lt;/span>&lt;span class="nt">true&lt;/span>&lt;span class="s2">"&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;merge key="&lt;/span>&lt;span class="nt">volume&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">policy&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">mount_option&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">sync&lt;/span>&lt;span class="s2">" type="&lt;/span>&lt;span class="nt">bool&lt;/span>&lt;span class="s2">"&amp;gt;true&amp;lt;/merge&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;merge key="&lt;/span>&lt;span class="nt">volume&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">policy&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">mount_option&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">noatime&lt;/span>&lt;span class="s2">" &lt;/span>
&lt;span class="s2"> type="&lt;/span>&lt;span class="nt">bool&lt;/span>&lt;span class="s2">"&amp;gt;true&amp;lt;/merge&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;/match&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;match key="&lt;/span>&lt;span class="p">@&lt;/span>&lt;span class="k">block&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">storage_device&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nd">storage&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">removable&lt;/span>&lt;span class="s2">" bool="&lt;/span>&lt;span class="nt">true&lt;/span>&lt;span class="s2">"&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;merge key="&lt;/span>&lt;span class="nt">volume&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">policy&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">mount_option&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">sync&lt;/span>&lt;span class="s2">" type="&lt;/span>&lt;span class="nt">bool&lt;/span>&lt;span class="s2">"&amp;gt;true&amp;lt;/merge&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;merge key="&lt;/span>&lt;span class="nt">volume&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">policy&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">mount_option&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">noatime&lt;/span>&lt;span class="s2">" &lt;/span>
&lt;span class="s2"> type="&lt;/span>&lt;span class="nt">bool&lt;/span>&lt;span class="s2">"&amp;gt;true&amp;lt;/merge&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;/match&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;/match&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;match key="&lt;/span>&lt;span class="nt">volume&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">size&lt;/span>&lt;span class="s2">" compare_ge="&lt;/span>&lt;span class="nt">8000000000&lt;/span>&lt;span class="s2">"&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;match key="&lt;/span>&lt;span class="p">@&lt;/span>&lt;span class="k">block&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">storage_device&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nd">storage&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">hotpluggable&lt;/span>&lt;span class="s2">" bool="&lt;/span>&lt;span class="nt">true&lt;/span>&lt;span class="s2">"&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;merge key="&lt;/span>&lt;span class="nt">volume&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">policy&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">mount_option&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">sync&lt;/span>&lt;span class="s2">" &lt;/span>
&lt;span class="s2"> type="&lt;/span>&lt;span class="nt">bool&lt;/span>&lt;span class="s2">"&amp;gt;false&amp;lt;/merge&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;merge key="&lt;/span>&lt;span class="nt">volume&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">policy&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">mount_option&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">noatime&lt;/span>&lt;span class="s2">" &lt;/span>
&lt;span class="s2"> type="&lt;/span>&lt;span class="nt">bool&lt;/span>&lt;span class="s2">"&amp;gt;false&amp;lt;/merge&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;/match&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;match key="&lt;/span>&lt;span class="p">@&lt;/span>&lt;span class="k">block&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">storage_device&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nd">storage&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">removable&lt;/span>&lt;span class="s2">" bool="&lt;/span>&lt;span class="nt">true&lt;/span>&lt;span class="s2">"&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;merge key="&lt;/span>&lt;span class="nt">volume&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">policy&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">mount_option&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">sync&lt;/span>&lt;span class="s2">" &lt;/span>
&lt;span class="s2"> type="&lt;/span>&lt;span class="nt">bool&lt;/span>&lt;span class="s2">"&amp;gt;false&amp;lt;/merge&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;merge key="&lt;/span>&lt;span class="nt">volume&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">policy&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">mount_option&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">noatime&lt;/span>&lt;span class="s2">" &lt;/span>
&lt;span class="s2"> type="&lt;/span>&lt;span class="nt">bool&lt;/span>&lt;span class="s2">"&amp;gt;false&amp;lt;/merge&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;/match&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;/match&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;/match&amp;gt;&lt;/span>
&lt;span class="s2"> &amp;lt;/device&amp;gt;&lt;/span>
&lt;span class="s2">&amp;lt;/deviceinfo&amp;gt;&lt;/span>
&lt;span class="s2">参看：http://wiki.archlinux.org/index.php/HAL&lt;/span>
&lt;span class="s2">注意，必须事先安装好ntfs-3g安装包，才能成功挂载NTFS分区。最后：&lt;/span>
&lt;span class="s2">$ sudo /etc/rc.d/hal restart&lt;/span>
&lt;span class="s2">即可正常使用HAL支持了，同时移动设备上的中文名（其实其它语言也可以）也可以得到支持。&lt;/span>
&lt;span class="s2">如果以上不能工作，还可以安装pmount: &lt;/span>
&lt;span class="s2">$ sudo pacman -Sy pmount&lt;/span>
&lt;span class="s2">* 5.8 更改GNOME 菜单下的图标&lt;/span>
&lt;span class="s2">可以编辑/usr/share/applications 中的相应文件&lt;/span>
&lt;span class="s2">* 5.9 ArchLinux的包管理系统：Pacman&lt;/span>
&lt;span class="s2">常用命令有：&lt;/span>
&lt;span class="s2">pacman -Sy abc #和源同步后安装名为abc的包 &lt;/span>
&lt;span class="s2">pacman -S abc #从本地数据库中得到abc的信息，下载安装abc包 &lt;/span>
&lt;span class="s2">pacman -Sf abc #强制安装包abc &lt;/span>
&lt;span class="s2">pacman -Ss abc #搜索有关abc信息的包 &lt;/span>
&lt;span class="s2">pacman -Si abc #从数据库中搜索包abc的信息 &lt;/span>
&lt;span class="s2">pacman -Qi abc #列出已安装的包abc的详细信息 &lt;/span>
&lt;span class="s2">pacman -Syu #同步源，并更新系统 &lt;/span>
&lt;span class="s2">pacman -Sy #仅同步源 &lt;/span>
&lt;span class="s2">pacman -R abc #删除abc包 &lt;/span>
&lt;span class="s2">pacman -Rc abc #删除abc包和依赖abc的包 &lt;/span>
&lt;span class="s2">pacman -Rsc abc #删除abc包和abc依赖的包 &lt;/span>
&lt;span class="s2">pacman -Sc #清理/var/cache/pacman/pkg目录下的旧包 &lt;/span>
&lt;span class="s2">pacman -Scc #清除所有下载的包和数据库 &lt;/span>
&lt;span class="s2">pacman -U abc #安装下载的abs包，或新编译的abc包&lt;/span>
&lt;span class="s2">pacman -Sd abc #忽略依赖性问题，安装包abc &lt;/span>
&lt;span class="s2">pacman pacman -Su --ignore foo #升级时不升级包foo &lt;/span>
&lt;span class="s2">pacman -Sg abc #查询abc这个包组包含的软件包&lt;/span>
&lt;span class="s2">* 5.10 Arch Build System (ABS)&lt;/span>
&lt;span class="s2">利用abs 可以从源码自定义编译安装包。其过程如下： &lt;/span>
&lt;span class="s2">(1) Synchronize your ABS tree with the server. &lt;/span>
&lt;span class="s2"># pacman -S cvsup &lt;/span>
&lt;span class="s2"># abs&lt;/span>
&lt;span class="s2">(2) Create a new directory in /var/abs/local/ named after the package &lt;/span>
&lt;span class="s2">you are going to create. &lt;/span>
&lt;span class="s2">$ mkdir -p ~/abs/local/ (这里，推荐在个人的主目录下创建一个ABS的工作目录)&lt;/span>
&lt;span class="s2">(3）Copy the PKGBUILD.proto prototype from /var/abs/ into your &lt;/span>
&lt;span class="s2">newly created directory, remove the .proto suffix, and edit it to fit &lt;/span>
&lt;span class="s2">the new package. &lt;/span>
&lt;span class="s2">$ cp -r /var/abs/... ~/abs/local/ (将你要编译的软件的PKGBUILD目录复制到个人目录下)&lt;/span>
&lt;span class="s2">(4) Run makepkg in the working directory with the PKGBUILD file. &lt;/span>
&lt;span class="s2">$ makepkg (开始编译这前，可以编辑一下PKGBUILD文件，更改其默认安装目录到个人&lt;/span>
&lt;span class="s2">主目录下，用“--prefix＝...”来指定安装目录)&lt;/span>
&lt;span class="s2">(5) Install the newly built package with pacman.&lt;/span>
&lt;span class="s2">$ pacman -U ..pkg.gz (安装新编译好的包文件)&lt;/span>
&lt;span class="s2">(6) Send the package to your friends for bragging rights (or give it to an Archer &lt;/span>
&lt;span class="s2">so s/he can stick it in the master ABS tree).&lt;/span>
&lt;span class="s2">* 5.11 创建一个光盘镜像&lt;/span>
&lt;span class="s2">Linux 下创建一个光盘镜像真的很简单，基本上有两类方法：&lt;/span>
&lt;span class="s2">(1) 镜像的源文件在光盘上&lt;/span>
&lt;span class="s2">将光盘放入光驱，但不用 mount 指令加载它，然后：&lt;/span>
&lt;span class="s2">dd if=/dev/dvd of=dvd.iso # for dvd &lt;/span>
&lt;span class="s2">dd if=/dev/cdrom of=cd.iso # for cdrom &lt;/span>
&lt;span class="s2">dd if=/dev/scd0 of=cd.iso # if cdrom is scsi &lt;/span>
&lt;span class="s2">(2) 镜像的源文件在硬盘上或被 mount 到了硬盘上，比如在 /tmp/directory/：&lt;/span>
&lt;span class="s2">mkisofs -o cd.iso /tmp/directory/ &lt;/span>
&lt;span class="s2">如果这个源文件是一个DVD视频文件，那么要这样用：&lt;/span>
&lt;span class="s2">mkisofs -dvd-video -o dvd.iso /tmp/directory/&lt;/span>
&lt;span class="s2">关于mkisofs 的更多用法，还请参看手册：man mkisofs&lt;/span>
&lt;span class="s2">关于DVD视频光盘的编辑和创建，请参看：&lt;/span>
&lt;span class="s2">http://gecius.de/linux/dvd.html&lt;/span>
&lt;span class="s2">http://gentoo-wiki.com/HOWTO_Create_a_DVD:Filesystem&lt;/span>
&lt;span class="s2">6 服务器环境&lt;/span>
&lt;span class="s2">* 6.1 FTP服务&lt;/span>
&lt;span class="s2">(1) vsftpd&lt;/span>
&lt;span class="s2">FTP服务器的安装比较简单。直接用Pacman安装即可。当然，还必须配置好，才可正常安全的使用。&lt;/span>
&lt;span class="s2">vsftpd的使用和配置，可参考：&lt;/span>
&lt;span class="s2">http://vsftpd.beasts.org/&lt;/span>
&lt;span class="s2">http://gentoo-wiki.com/HOWTO_vsftpd&lt;/span>
&lt;span class="s2">http://www.uplinux.com/www/net/02/117.shtml&lt;/span>
&lt;span class="s2">(2) pureftpd&lt;/span>
&lt;span class="s2">参考http://www.pureftpd.org/project/pure-ftpd&lt;/span>
&lt;span class="s2"> http://www.chinaunix.net/jh/15/2424.html&lt;/span>
&lt;span class="s2">* 6.2 HTTP服务&lt;/span>
&lt;span class="s2">(1) 提供Web服务的程序&lt;/span>
&lt;span class="s2">能提供WEB服务的开源程序主要有：Apache httpd, Lighttpd, 和Nginx。&lt;/span>
&lt;span class="s2">Apache稳定，安全，使用者最多，但是运行时对内存、CPU的开销也是最高的。&lt;/span>
&lt;span class="s2">在静态网页支持上，lighttpd/nginx 比 apache 优胜很多。&lt;/span>
&lt;span class="s2">如果不考虑虚拟主机的安全设置问题，Nginx无疑是最好的选择，其次是Lighttpd。&lt;/span>
&lt;span class="s2">i) Apache httpd: 参见http://httpd.apache.org/&lt;/span>
&lt;span class="s2">ii) Lighttpd: 参见http://wiki.archlinux.org/index.php/Lighttpd_For_Both_SSL_And_Non-SSL&lt;/span>
&lt;span class="s2">iii) Nginx: 参见http://wiki.codemongers.com/Main&lt;/span>
&lt;span class="s2">(2) 动态网页的程序接口(CGI)：FastCGI：&lt;/span>
&lt;span class="s2">是HTTP服务器与机器上其他程序进行通信的一个接口。这个“其他程序”可以使用任何计算机语言&lt;/span>
&lt;span class="s2">来编写，它通过CGI这个接口从HTTP服务器取得输入，然后把运行的结果又通过CGI这个接口交给HTTP&lt;/span>
&lt;span class="s2">服务器，而HTTP服务器把这个结果送给浏览器。提供Web服务的程序都有CGI模块。&lt;/span>
&lt;span class="s2">不过CGI技术的通用性与效率不高，所以有了性能大幅提升的FastCGI。FastCGI要求提供Web服务的&lt;/span>
&lt;span class="s2">程序整合fcgi模块。&lt;/span>
&lt;span class="s2">参见http://wiki.archlinux.org/index.php/Apache_fastcgi&lt;/span>
&lt;span class="s2"> http://wiki.archlinux.org/index.php/Fastcgi_and_lighttpd&lt;/span>
&lt;span class="s2">(3) 动态网页的脚本语言&lt;/span>
&lt;span class="s2">PHP：参见http://wiki.archlinux.org/index.php/PHP&lt;/span>
&lt;span class="s2">Python: 在动态网页上的应用与PHP相似。&lt;/span>
&lt;span class="s2">JSP：Java语言支持，需安装JDK&lt;/span>
&lt;span class="s2">(4) 数据库&lt;/span>
&lt;span class="s2">MySQL: 当前国内用的较多的数据库。适合小访问量或个人使用。&lt;/span>
&lt;span class="s2">PostgreSQL: 世界上最先进，最稳定的数据库。能充分发挥出机器的潜能。更加适合大企业环境。&lt;/span>
&lt;span class="s2">参看http://wiki.archlinux.org/index.php/PostgreSQL&lt;/span>
&lt;span class="s2">(5) HTTP服务器的架构&lt;/span>
&lt;span class="s2">i) 不带数据库支持的轻量级WEB：Nginx/lighttpd + PHP/Python + FastCGI&lt;/span>
&lt;span class="s2">ii) 有数据库支持：Apache/lighttpd + PHP/Python + MySQL/PostgreSQL，也可再追加JSP的支持。&lt;/span>
&lt;span class="s2">参看http://wiki.archlinux.org/index.php/LAMP&lt;/span>
&lt;span class="s2">参见http://wiki.archlinux.org/index.php/Apache_fastcgi&lt;/span>
&lt;span class="s2"> http://wiki.archlinux.org/index.php/Fastcgi_and_lighttpd&lt;/span>
&lt;span class="s2"> http://www.knowsky.com/3232.html&lt;/span>
&lt;span class="s2">iii) 更加高效、可靠、稳定的WEB服务器。下面的架构图比较不错：&lt;/span>
&lt;span class="s2">-------- ------------ ------------- ---------------- --------------&lt;/span>
&lt;span class="s2">|客户端| ===&amp;gt; |负载均衡器| ===&amp;gt; |反向**/缓存| ===&amp;gt; |WEB服务器| ===&amp;gt; |数据库服务器|&lt;/span>
&lt;span class="s2">-------- ------------ ------------- ---------------- --------------&lt;/span>
&lt;span class="s2"> Nginx Squid Apache/lighttpd MySQL/PostgreSQL&lt;/span>
&lt;span class="s2"> +(PHP+eAccelerator) + memcache&lt;/span>
&lt;span class="s2">参看http://huangjt.jobui.com/blog/80186.html&lt;/span>
&lt;span class="s2">(6) 用WebDav替代传统的FTP服务&lt;/span>
&lt;span class="s2">WebDav是一个使用XML技术的基于HTTP协议的扩展协议，具备HTTP的所有优点，力图提供&lt;/span>
&lt;span class="s2">一个网页编辑的统一接口。用它替代传统的FTP服务，可以避免FTP存在的一些中文问题。&lt;/span>
&lt;span class="s2">参看：http://wiki.archlinux.org/index.php/Simple_WebDav_Setup&lt;/span>
&lt;span class="s2"> http://wiki.archlinux.org/index.php/WebDAV_authentication&lt;/span>
&lt;span class="s2">* 6.3 邮件服务&lt;/span>
&lt;span class="s2">PostFix：参看http://wiki.archlinux.org/index.php/PostFix_Howto&lt;/span>
&lt;span class="s2">* 6.4 文件共享&lt;/span>
&lt;span class="s2">文件共享的方法较多，机器上只要安装了任一网络文件系统就可以共享了。网络文件系统有：&lt;/span>
&lt;span class="s2">ftpfs, sshfs, shfs, smbfs, nfs, etc. &lt;/span>
&lt;span class="s2">当然，使用http服务来共享文件也未尝不可。&lt;/span>
&lt;span class="s2">(1) Shfs&lt;/span>
&lt;span class="s2">sshfs可以开机自动挂载，关机和重启时也可以自动卸载sshfs文件系统，但是它不能用mount来&lt;/span>
&lt;span class="s2">直接指定-t参数来挂载，因此也不能直接加到/etc/fstab中，而且用df也不能列出那样的分区。&lt;/span>
&lt;span class="s2">但是shfs解决了这个问题，它能像挂载普通分区那样挂载sshfs文件系统。它是通过内核的shfs&lt;/span>
&lt;span class="s2">模块来实现的，&lt;/span>
&lt;span class="s2">参看http://wiki.archlinux.org/index.php/Shfs&lt;/span>
&lt;span class="s2">(2) Samba&lt;/span>
&lt;span class="s2">可帮助实现跨平台（Linux &amp;lt;---&amp;gt;Windows) 的文件共享和打印共享。&lt;/span>
&lt;span class="s2">参看http://wiki.archlinux.org/index.php/Setting_up_Samba&lt;/span>
&lt;span class="s2"> http://www.samba.org/&lt;/span>
&lt;span class="s2">(3) NFS&lt;/span>
&lt;span class="s2">参看http://wiki.archlinux.org/index.php/Nfs&lt;/span>
&lt;span class="s2">(2) rsync&lt;/span>
&lt;span class="s2">Rsync用于两台机器上文件的同步备份，它本身不算是共享程序，但它能起到共享的作用。通常与ssh合用。&lt;/span>
&lt;span class="s2">参看http://samba.anu.edu.au/rsync/&lt;/span>
&lt;span class="s2"> http://dz.adj.idv.tw/thread-48-1-4.html&lt;/span>
&lt;span class="s2">* 6.5 远程登录&lt;/span>
&lt;span class="s2">(1) OpenSSH/OpenSSH-chroot&lt;/span>
&lt;span class="s2">用 OpenSSH-chroot 基于Openssh，但添加了新特性，即可以创建一个chrootjail。chrootjail是单独划分&lt;/span>
&lt;span class="s2">出的一个空间，以限制远程登录者活动不超出此范围，更不会影响到主系统。所以比用 Openssh 更安全。&lt;/span>
&lt;span class="s2"># pacman -S openssh-chroot&lt;/span>
&lt;span class="s2"># mkdir /var/openssh_chroot&lt;/span>
&lt;span class="s2"># chroot_create /var/openssh_chroot (将chrootjail放到/var/openssh_chroot，或其它地方)&lt;/span>
&lt;span class="s2"># chroot_adduser USERNAME /var/openssh_chroot (创建远程登录者帐户，并为其指定chrootjail)&lt;/span>
&lt;span class="s2"># /etc/rc.d/sshd restart (手动重启sshd服务，也可将sshd添加到/etc/rc.conf中的DAEMON中去)&lt;/span>
&lt;span class="s2">如果远程机器是Unix-Like系统，可用：ssh &amp;lt;username&amp;gt;@localhost 来登入；如果是Windows, 可使用&lt;/span>
&lt;span class="s2">Putty, or pietty。&lt;/span>
&lt;span class="s2">参看http://wiki.archlinux.org/index.php/Openssh-chroot&lt;/span>
&lt;span class="s2">(2) OpenVPN&lt;/span>
&lt;span class="s2">* 6.6 安全问题&lt;/span>
&lt;span class="s2">(1) 防火墙 (Iptables)&lt;/span>
&lt;span class="s2">这个实在不是几句话能讲明白的。不过想提醒几句：要使Iptables发挥出最大作用，最好是在一台&lt;/span>
&lt;span class="s2">旧电脑装上NAT+Iptables，充当网关，然后自己的电脑跟此网关相连接。&lt;/span>
&lt;span class="s2">参看：http://wiki.archlinux.org/index.php/Firewalls&lt;/span>
&lt;span class="s2"> http://wiki.archlinux.org/index.php/Simple_stateful_firewall_HOWTO&lt;/span>
&lt;span class="s2"> http://gentoo-wiki.com/HOWTO_Iptables_for_newbies&lt;/span>
&lt;span class="s2"> http://iptables-tutorial.frozentux.net/iptables-tutorial.html&lt;/span>
&lt;span class="s2"> http://wiki.archlinux.org/index.php/High_Performance_Firewall/Nat_with_iptables_and_VLANs_and_iproute2&lt;/span>
&lt;span class="s2">(2) 入侵监测 (Snort)&lt;/span>
&lt;span class="s2">这个太复杂了。&lt;/span>
&lt;span class="s2">有兴趣可以看一看Toby Kohlenberg等编写的专著"&lt;/span>&lt;span class="nt">Snort&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nt">Intrusion&lt;/span> &lt;span class="nt">Detection&lt;/span> &lt;span class="nt">and&lt;/span> &lt;span class="nt">Prevention&lt;/span> &lt;span class="nt">Toolkit&lt;/span>&lt;span class="err">"。&lt;/span>
&lt;span class="nt">电子书下载&lt;/span>&lt;span class="err">：&lt;/span>&lt;span class="nt">http&lt;/span>&lt;span class="o">://&lt;/span>&lt;span class="nt">rapidshare&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">com&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">files&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">27449819&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">Snort_Intrusion_Detection_and_Prevention_Toolkit_ertu&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">rar&lt;/span>
&lt;span class="nt">参看http&lt;/span>&lt;span class="o">://&lt;/span>&lt;span class="nt">www&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">snort&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">org&lt;/span>&lt;span class="o">/&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>JS-常见问题</title><link>https://svtter.cn/p/js-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/</link><pubDate>Mon, 08 Dec 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/js-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/</guid><description>&lt;blockquote>
&lt;p>本文出自&lt;a class="link" href="http://svtter.github.io" target="_blank" rel="noopener"
>svtter.github.io&lt;/a>&lt;/p>&lt;/blockquote>
&lt;p>&lt;strong>JavaScript&lt;/strong>首先应该看w3cschool来涨涨见识, 但是因为之前沉溺游戏荒废了。。&lt;/p>
&lt;p>mark一个还不错的gitbook &lt;a class="link" href="http://gitbookio.gitbooks.io/javascript/" target="_blank" rel="noopener"
>learn javascript&lt;/a>&lt;/p>
&lt;p>自备梯子。。(没钱奈何现在还是&lt;code>free\w\w\w\w&lt;/code>..)&lt;/p>
&lt;p>js一切皆为对象。&lt;/p>
&lt;h2 id="js-再理解">JS-再理解
&lt;/h2>&lt;p>javascript是一脚本语言 — 脚本语言的特性就是一句一句解释执行，所以很多情况和处理机制和bash类似（但是语法明显不同）&lt;/p>
&lt;p>在定义变量等思想，作用域也比较接近.&lt;/p>
&lt;h2 id="js-使用getelement以及定位">Js-使用getElement以及$定位
&lt;/h2>&lt;p>使用if(% == null)来判断一下是否真的获取到了对象&lt;/p>
&lt;p>另外，添加新元素&lt;code>append()&lt;/code>的时候记得补充&lt;code>&amp;lt;/div&amp;gt;&lt;/code>&lt;/p>
&lt;h2 id="js-使用正则表达式">Js-使用正则表达式
&lt;/h2>&lt;p>如果使用&lt;code>RegExp(&amp;quot;&amp;quot;)&lt;/code>+&lt;code>exec()&lt;/code>这种形式，””中的的元字符需要双&lt;leader>来使用。&lt;/p>
&lt;p>此外，如果需要查询正则表，可以通过这个链接&lt;a class="link" href="http://www.w3school.com.cn/jsref/jsref_obj_regexp.asp" target="_blank" rel="noopener"
>正则表&lt;/a>&lt;/p>
&lt;h2 id="js文件无法运行原因">js文件无法运行原因
&lt;/h2>&lt;p>使用Opera或者Chrome调试，大部分问题都可以找出 — 基本上不是func写错了，就是使用了int这种定义文件方式..&lt;/p>
&lt;p>之前编写html和js都不知道有console这等神器。如果以后再写html做一些研究。。&lt;/p>
&lt;h2 id="js-jquery-创建">JS-jQuery-创建
&lt;/h2>&lt;blockquote>
&lt;p>If the HTML is more complex than a single tag without attributes,&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>as it is in the above example,&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>the actual creation of the elements is handled by the browser’s innerHTML mechanism. In most cases,&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>jQuery creates a new&lt;/p>
&lt;div>
element and sets the innerHTML property of the element to&lt;br /> the HTML snippet that was passed in. When the parameter has a single tag,&lt;br /> such as $(&amp;#8216;&lt;img />&amp;#8216;) or $(&amp;#8216;&lt;a>&lt;/a>&amp;#8216;),&lt;br /> jQuery creates the element using the native JavaScript createElement() function.&lt;/p> &lt;/blockquote>
&lt;h2>
使用js批量上传图片
&lt;/h2>
&lt;p>
file是一种特殊的input，不能被赋值，也不能被javascript取值，只能随表单提交，&lt;br /> 而且随表单提交的也是file路径所指向的文件本身。
&lt;/p>
&lt;p>
这是浏览器安全原因所限制的，如果可以取值和赋值的话，那么javascript就可以随意获取你电脑上的文件了，这是非常危险的
&lt;/p>
&lt;p>
所以想要实现批量上传图片一种方法是添加新的文件之后，在添加一个Input，但是美观方面就差强人意了。
&lt;/p>
&lt;h1>
jQuery
&lt;/h1>
&lt;h2>
jQuery选择器
&lt;/h2>
&lt;p>
可以选择带有某属性的元素，例如&lt;code>$("[href$='.jpg']")&lt;/code>, 所有带有以 &amp;#8220;.jpg&amp;#8221; 结尾的属性值的 href 属性
&lt;/p>&lt;/blockquote></description></item><item><title>ACM-白皮书-练习</title><link>https://svtter.cn/p/acm-%E7%99%BD%E7%9A%AE%E4%B9%A6-%E7%BB%83%E4%B9%A0/</link><pubDate>Thu, 04 Dec 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/acm-%E7%99%BD%E7%9A%AE%E4%B9%A6-%E7%BB%83%E4%B9%A0/</guid><description>&lt;ul>
&lt;li>本文出自&lt;a class="link" href="http://svtter.github.io" target="_blank" rel="noopener"
>svtter.github.io&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="基础第二弹">基础第二弹
&lt;/h2>&lt;p>虽然是很水的题目，但是还是收获了不少。&lt;/p>
&lt;h3 id="动态小数位数">动态小数位数
&lt;/h3>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;math.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">~&lt;/span>&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d %d %d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%.*lf"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">double&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h3 id="整数位数">整数位数
&lt;/h3>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>// 整数位数
int cal(int a)
{
if(a == 0) return 0;
return (int) log10( (double) a)+1;
}
&lt;/pre>
&lt;/div>
&lt;h3 id="电灯">电灯
&lt;/h3>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;string.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#define bool int&lt;/span>
&lt;span class="c1">//C语言没有bool&lt;/span>
&lt;span class="kt">bool&lt;/span> &lt;span class="n">light&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1010&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="c1">//C也没有引用&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">trans&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">bool&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="o">*&lt;/span>&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">else&lt;/span>
&lt;span class="o">*&lt;/span>&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">~&lt;/span>&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d %d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">memset&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">light&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">light&lt;/span>&lt;span class="p">));&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">j&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">trans&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;&lt;/span>&lt;span class="n">light&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="n">j&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">light&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d "&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h3 id="蛇型填数">蛇型填数
&lt;/h3>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;string.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#define bool int&lt;/span>
&lt;span class="c1">//C语言没有bool&lt;/span>
&lt;span class="kt">bool&lt;/span> &lt;span class="n">light&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1010&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="c1">//C也没有引用&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">trans&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">bool&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="o">*&lt;/span>&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">else&lt;/span>
&lt;span class="o">*&lt;/span>&lt;span class="n">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">~&lt;/span>&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d %d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">memset&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">light&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">light&lt;/span>&lt;span class="p">));&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">j&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">trans&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;&lt;/span>&lt;span class="n">light&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="n">j&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">light&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d "&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h3 id="调和级数">调和级数
&lt;/h3>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;math.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="kt">double&lt;/span> &lt;span class="nf">calharmony&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">double&lt;/span> &lt;span class="n">sum&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">sum&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">double&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">sum&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">~&lt;/span>&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%.3lf&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">calharmony&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">));&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>题目都很水（不能再水了），但是也算是有所收获。学习了一部分C。&lt;/p></description></item><item><title>bash-使用func和一般的sh的不同</title><link>https://svtter.cn/p/bash-%E4%BD%BF%E7%94%A8func%E5%92%8C%E4%B8%80%E8%88%AC%E7%9A%84sh%E7%9A%84%E4%B8%8D%E5%90%8C/</link><pubDate>Thu, 04 Dec 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/bash-%E4%BD%BF%E7%94%A8func%E5%92%8C%E4%B8%80%E8%88%AC%E7%9A%84sh%E7%9A%84%E4%B8%8D%E5%90%8C/</guid><description>&lt;ul>
&lt;li>本文出自&lt;a class="link" href="http://svtter.github.io" target="_blank" rel="noopener"
>svtter.github.io&lt;/a>&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>如果只是单纯的使用function, 在终端中是可以使用的，但是当作一个可执行文件是不行的（例如：使用python调用)&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>如果使用.sh的方式来处理， 那么问题就在于管理上了 — 可能大量有大量的sh文件，所以说需要权衡利弊，自己使用了。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>bash学得并不好，也没有认真的研究，暂且记录一下，日后再做补充&lt;/p>&lt;/blockquote></description></item><item><title>archlinux-支持iphone插线3G</title><link>https://svtter.cn/p/archlinux-%E6%94%AF%E6%8C%81iphone%E6%8F%92%E7%BA%BF3g/</link><pubDate>Tue, 02 Dec 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/archlinux-%E6%94%AF%E6%8C%81iphone%E6%8F%92%E7%BA%BF3g/</guid><description>&lt;ul>
&lt;li>本文出自&lt;a class="link" href="http://svtter.github.io" target="_blank" rel="noopener"
>svtter.github.io&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>&lt;em>度娘永远都不会告诉你真正的答案是什么。&lt;/em>&lt;/p>
&lt;p>因为没有了CMCC-EDU，用上了坑爹联通，所以现在习惯于手机USB上网了。。（博主套餐流量看个技术是可以的。。)&lt;/p>
&lt;p>然后问题就来了。。CentOS7上可以安稳的使用3G但是arch似乎不支持，百度了好久也没有找到。&lt;/p>
&lt;p>后来bing 了一下&lt;code>iphone arch linux&lt;/code>神奇的wiki就出来了，随后就申请了个帐号，准备在学习Linux的过程中学习英语。给wiki&lt;/p>
&lt;p>做点翻译还是可以的吧= =。&lt;/p>
&lt;p>方法很简单, 因为我用的是NetworkManager, 所以最简单而行之有效的方法是:&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>pacman -S libimobiledevice
pacman -S usbmuxd ifuse
&lt;/pre>
&lt;/div>
&lt;p>重启机器或者NetworkManager搞定。&lt;/p>
&lt;p>虽然无关技术以及学术痛痒，但是总感觉在Linux普及上尽了一份力= =&lt;/p></description></item><item><title>php-测试表单的php文件</title><link>https://svtter.cn/p/php-%E6%B5%8B%E8%AF%95%E8%A1%A8%E5%8D%95%E7%9A%84php%E6%96%87%E4%BB%B6/</link><pubDate>Tue, 02 Dec 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/php-%E6%B5%8B%E8%AF%95%E8%A1%A8%E5%8D%95%E7%9A%84php%E6%96%87%E4%BB%B6/</guid><description>&lt;ul>
&lt;li>本文出自&lt;a class="link" href="http://svtter.github.io" target="_blank" rel="noopener"
>svtter.github.io&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>用于测试form, 上传的文件&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="o">&amp;lt;?&lt;/span>&lt;span class="nx">php&lt;/span>
&lt;span class="c1">// 乱码问题&lt;/span>
&lt;span class="c1">// 页面设置为gb2312, 如果是utf-8, 则改为uft-8&lt;/span>
&lt;span class="nx">header&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">"Content-type: text/html; charset=gb2312"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="c1">// 针对ajax, &lt;/span>
&lt;span class="c1">// iconv( "UTF-8", "gb2312" , $_POST["post"]);&lt;/span>
&lt;span class="c1">//用于测试submit, 显示所有上传的变量&lt;/span>
&lt;span class="kd">function&lt;/span> &lt;span class="nx">test_submit&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">list&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">$key&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">$val&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">each&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">$_POST&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="nx">echo&lt;/span> &lt;span class="s2">"$key =&amp;gt; $val&amp;lt;br /&amp;gt;"&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="nx">test_submit&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="c1">//保存到固定文件，重新转存&lt;/span>
&lt;span class="kd">function&lt;/span> &lt;span class="nx">one_file_upload&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">$name&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="c1">// 测试单文件&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">$_FILES&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">$name&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="s2">"error"&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="nx">echo&lt;/span> &lt;span class="s2">"Error: "&lt;/span> &lt;span class="p">.&lt;/span> &lt;span class="nx">$_FILES&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">$name&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="s2">"error"&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">.&lt;/span> &lt;span class="s2">"&amp;lt;br /&amp;gt;"&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">else&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="nx">echo&lt;/span> &lt;span class="s2">"Upload: "&lt;/span> &lt;span class="p">.&lt;/span> &lt;span class="nx">$_FILES&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">$name&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="s2">"name"&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">.&lt;/span> &lt;span class="s2">"&amp;lt;br /&amp;gt;"&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="nx">echo&lt;/span> &lt;span class="s2">"Type: "&lt;/span> &lt;span class="p">.&lt;/span> &lt;span class="nx">$_FILES&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">$name&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="s2">"type"&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">.&lt;/span> &lt;span class="s2">"&amp;lt;br /&amp;gt;"&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="nx">echo&lt;/span> &lt;span class="s2">"Size: "&lt;/span> &lt;span class="p">.&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">$_FILES&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">$name&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="s2">"size"&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">1024&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">.&lt;/span> &lt;span class="s2">" Kb&amp;lt;br /&amp;gt;"&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="nx">echo&lt;/span> &lt;span class="s2">"Stored in: "&lt;/span> &lt;span class="p">.&lt;/span> &lt;span class="nx">$_FILES&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">$name&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="s2">"tmp_name"&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="c1">// one_file("file");&lt;/span>
&lt;span class="c1">// save in a array&lt;/span>
&lt;span class="kd">function&lt;/span> &lt;span class="nx">reArrayFiles&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;&lt;/span>&lt;span class="nx">$file_post&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="c1">// 用于规格化输入的字符&lt;/span>
&lt;span class="nx">$file_ary&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">array&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="nx">$file_count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">count&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">$file_post&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;name&amp;#39;&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="nx">$file_keys&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">array_keys&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">$file_post&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">$i&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">$i&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">$file_count&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">$i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="nx">foreach&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">$file_keys&lt;/span> &lt;span class="kr">as&lt;/span> &lt;span class="nx">$key&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="nx">$file_ary&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">$i&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="nx">$key&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">$file_post&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">$key&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="nx">$i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="nx">$file_ary&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="c1">// 显示上传的文件&lt;/span>
&lt;span class="kd">function&lt;/span> &lt;span class="nx">show&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">$name&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">$_FILES&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">$name&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="s1">&amp;#39;size&amp;#39;&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="nx">$file_ary&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">reArrayFiles&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">$_FILES&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">$name&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="nx">foreach&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">$file_ary&lt;/span> &lt;span class="kr">as&lt;/span> &lt;span class="nx">$file&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="nx">print&lt;/span> &lt;span class="s1">&amp;#39;File Name: &amp;#39;&lt;/span> &lt;span class="p">.&lt;/span> &lt;span class="nx">$file&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;name&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">.&lt;/span> &lt;span class="s1">&amp;#39;&amp;lt;br/&amp;gt;&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="nx">print&lt;/span> &lt;span class="s1">&amp;#39;File Type: &amp;#39;&lt;/span> &lt;span class="p">.&lt;/span> &lt;span class="nx">$file&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;type&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">.&lt;/span> &lt;span class="s1">&amp;#39;&amp;lt;br/&amp;gt;&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="nx">print&lt;/span> &lt;span class="s1">&amp;#39;File Size: &amp;#39;&lt;/span> &lt;span class="p">.&lt;/span> &lt;span class="nx">$file&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;size&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="p">.&lt;/span> &lt;span class="s1">&amp;#39;&amp;lt;br/&amp;gt;&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="nx">print&lt;/span> &lt;span class="s1">&amp;#39;&amp;lt;br/&amp;gt;&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="nx">echo&lt;/span> &lt;span class="s2">"Files upload == 0"&lt;/span> &lt;span class="p">.&lt;/span> &lt;span class="s2">"&amp;lt;br/&amp;gt;"&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="nx">show&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;userpic&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="nx">show&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;userfile&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="c1">// 测试服务器&lt;/span>
&lt;span class="kd">function&lt;/span> &lt;span class="nx">test_server() {&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="nx">list&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">$key&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">$val&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">each&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">$_SERVER&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="nx">echo&lt;/span> &lt;span class="s2">"$key=&amp;gt; $val&amp;lt;br /&amp;gt;"&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="o">?&amp;gt;&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>vim-另存为</title><link>https://svtter.cn/p/vim-%E5%8F%A6%E5%AD%98%E4%B8%BA/</link><pubDate>Tue, 02 Dec 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/vim-%E5%8F%A6%E5%AD%98%E4%B8%BA/</guid><description>&lt;ul>
&lt;li>本文出自&lt;a class="link" href="http://svtter.github.io" target="_blank" rel="noopener"
>svtter.github.io&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>想要另存一个文件名，但是vim另存的方法。。然后发现了sav这个东西。&lt;/p>
&lt;p>help文件中是这么描述的:&lt;/p>
&lt;blockquote>
&lt;p Vi="Vi" 无此功能="无此功能">_:sav_ _:saveas_&lt;/blockquote>
&lt;blockquote>
&lt;p>:sav&lt;/p>
\[eas\]\[!\]&lt;p> [++opt] {file}&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>用文件名 {file} 保存当前缓冲区，并设置当前缓冲区的文件&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>名为 {file}。前一个名字用作轮换文件名。[!] 用以覆盖已&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>存在的文件。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>如果 ‘filetype’ 为空，在写入文件前用新名字进行文件类型&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>检测。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>如果写操作成功，复位 ‘readonly’。&lt;/p>
可见，可以利用sav来&lt;code>重命名当前文件，并且修改新命名的文件&lt;/code>的功能。唯一的不足就是，我们无法通过这个操作将原来的&lt;/p>&lt;/blockquote>
&lt;p>文件删除(或者我们本来就不需要删除原来的文件). 这是vim的缓冲区机制决定的。&lt;/p>
&lt;p>个人认为无伤大雅，不是吗= =&lt;/p>
&lt;p>有时候wiki以及:help要比在网上百度一下好用的多 — 这个月饭都吃不起了，别跟我提VPN.&lt;/p></description></item><item><title>总结-2014年11月份总结</title><link>https://svtter.cn/p/%E6%80%BB%E7%BB%93-2014%E5%B9%B411%E6%9C%88%E4%BB%BD%E6%80%BB%E7%BB%93/</link><pubDate>Tue, 02 Dec 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E6%80%BB%E7%BB%93-2014%E5%B9%B411%E6%9C%88%E4%BB%BD%E6%80%BB%E7%BB%93/</guid><description>&lt;ul>
&lt;li>本文出自&lt;a class="link" href="http://svtter.github.io" target="_blank" rel="noopener"
>svtter.github.io&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>11月份就这么过去了，然后这个总结放在最先的事情里面——突然想到没有带汇编也没有带操作系统，网络书TAT.&lt;/p>
&lt;h2 id="学习">学习
&lt;/h2>&lt;p>总体学习状况算是一般吧，学习效率尚可，但是学习时间和充分利用程度，个人认为还是不够的。&lt;/p>
&lt;ul>
&lt;li>
&lt;p>高数: 然后高数神马的复习——这个月也就4次，充其量$1/7$。。一股淡淡的忧伤。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>英语: 学习方面也是一般，背了10天的单词，完成度30%。但是也不能完全看这个——我做了一点点国外开源项目的翻译（虽然说并不&lt;/p>
&lt;p>优秀，或者收获特别大，但也是学习了是吧= =。 也算是自我安慰了，毕竟这样所谓的专业性质比较强的翻译，并不能使我的考研&lt;/p>
&lt;p>英语有很大的提高。扇贝新闻单词以后要考虑全部都看了= =。毕竟还有个出国梦呐。）&lt;/p>
&lt;/li>
&lt;li>
&lt;p>算法: 虽说是有个蓝桥全国一等的梦想，但是眼前再次报这个比赛，主要目的还是在于督促自己学习算法。毕竟一个ACMer连&lt;/p>
&lt;p>算法都搞不好，还称什么ACMer呢= =于是乎在这个月，感觉自己在算法投入的时间还是比较充裕的，也重拾了不少东西。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>技术: 技术方面还是那个样子，痴迷Linux但是Python热度有所降低。似乎有过一次反思= =, （似乎之前提到不玩技术，好好学&lt;/p>
&lt;p>基础来着（= =具体也忘记是哪一篇了，找到再说了= =）。现在用上’archlinux’了。估计一般情况下，只要不挂我是不会再投奔&lt;/p>
&lt;p>别的发行版本了。arch明显没有插上手机启动就报&lt;code>upower&lt;/code>的bug（当然CentOS也没有，这也是我为什么留下它），很多方面需要&lt;/p>
&lt;p>自己配置（也是自己从比较底层的东西学起，了解服务器），总之，收获还是比较大的。这次安装的时候总算弄明白了多重引导&lt;/p>
&lt;p>&lt;code>grub&lt;/code>的很多操作以及机制，希望在这个寒假（或者说不到寒假？），自己动手写的操作系统，有所帮助。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>从学科上讲，并没有很多更深的研究。如果非要说，就是操作系统了（笑）。并行计算的情感分析，打算如果有时间考虑做一下，&lt;/p>
&lt;p>毕竟是比较炫酷的东西（试想，倘若并行计算技术学得厉害，再给你个入侵技术，让。。后面就不说了，黑化的有些严重）。&lt;/p>
&lt;p>网络还是抽出了一天好好的看看，虽说感觉上协议搞得还是不错的，但是上课老师提问一个问题，还是没有很好的快速反映。操作&lt;/p>
&lt;p>系统就更别提了，一直想要通过自己实现一个二级文件系统来理解UNIX的磁盘管理方式，但是一直没有实现（虽说并不晚），但是&lt;/p>
&lt;p>老师一讲一说，就有些反映不过来了。～不行啊，必须努力才行。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="锻炼">锻炼
&lt;/h2>&lt;p>抬头一看，今天花费在总结上的时间（还写了一个vim的另存方式，一个arch#3G的链接方式）真是不少。不过也算是总结了自己&lt;/p>
&lt;p>的11月份。总之，过得还是可以的。&lt;/p>
&lt;p>锻炼方面已经有些成效了= =，起码体重总算过了140，全身的肌肉质量也是”高标准”了。下一步就是继续不懈的锻炼，努力，然后&lt;/p>
&lt;p>迈向150 — 最终目的是160大关稳定。&lt;/p>
&lt;p>做一个健壮的男人吧～～哈哈。&lt;/p>
&lt;h2 id="休息">休息
&lt;/h2>&lt;p>休息的情况 — 有那么几天晚上睡得挺晚，但是发现实在是没有精力，所以现在都是11:30睡觉了，一般熄灯以后打着小灯coding一会，&lt;/p>
&lt;p>然后睡意袭来，刷刷牙就可以休息了。&lt;/p>
&lt;h2 id="总结">总结
&lt;/h2>&lt;p>就是高数学习的状态不行啊！算法虽然这个月做的比较努力，但是很明显的其他科目有所放松啊。但是这也是拦不住的，毕竟人的精力有限。&lt;/p>
&lt;p>还是要尽力完成！&lt;/p>
&lt;h1 id="加油吧">加油吧！
&lt;/h1></description></item><item><title>ACM-白皮书</title><link>https://svtter.cn/p/acm-%E7%99%BD%E7%9A%AE%E4%B9%A6/</link><pubDate>Mon, 01 Dec 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/acm-%E7%99%BD%E7%9A%AE%E4%B9%A6/</guid><description>&lt;ul>
&lt;li>本文出自&lt;a class="link" href="http://svtter.github.io" target="_blank" rel="noopener"
>svtter.github.io&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="pi的获取">Pi的获取
&lt;/h2>&lt;p>觉得自己的一些ACMer的基本素养不够，重新翻看。&lt;/p>
&lt;p>&lt;code>pi = 4.0 * atan(1.0)&lt;/code>&lt;/p>
&lt;p>&lt;code>math.h&lt;/code>中的&lt;code>M_PI&lt;/code>并不是ANSI C标准。验证可以使用&lt;code>gcc -ansi&lt;/code>&lt;/p>
&lt;h2 id="scanf输入格式实验">scanf输入格式实验
&lt;/h2>&lt;p>之前阅读了&lt;code>scanf&lt;/code>函数的相关部分（百科），但是依然没有很好的掌握。&lt;/p>
&lt;p>现在依然没有= =。&lt;/p>
&lt;p>有时间需要重新学习一下。&lt;/p>
&lt;h2 id="判断整数和浮点数大小">判断整数和浮点数大小
&lt;/h2>&lt;p>&lt;code>floor(m + 0.5) == m&lt;/code>&lt;/p>
&lt;p>通过+0.5来判断m的整数值。&lt;/p>
&lt;p>&lt;code>floor/ceil&lt;/code>是数学库里提供的函数，默认gcc不会自动链接math库, 方法是(-l + 库)&lt;/p>
&lt;p>&lt;code>gcc -Wall myround.c -lm -o myround&lt;/code>&lt;/p>
&lt;h2 id="使用clock计时">使用&lt;code>clock()&lt;/code>计时
&lt;/h2>&lt;ul>
&lt;li>包含头文件&lt;code>time.h&lt;/code>&lt;/li>
&lt;li>&lt;code>printf(&amp;quot;Time used = %.2lf\n&amp;quot;, (double)clock() / CLOCKS_PER_SEC);&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>会从程序开始的时候计时（不管输入输出），所以最佳方法是&lt;code>echo 数据 | ./a.out&lt;/code>&lt;/strong>&lt;/p>
&lt;p>多次使用&lt;code>clock()&lt;/code>来计时的吧。。。&lt;/p>
&lt;h2 id="重定向和fopen读取文件输入测试数据">重定向和fopen读取文件输入测试数据
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="cp">#ifdef LOCAL&lt;/span>
&lt;span class="n">freopen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"data.in"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"r"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">stdin&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">freopen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"data.out"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"w"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">stdout&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="cp">#endif&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>添加编译选项：&lt;code>-DLOCAL&lt;/code>， 使得中间部分生效.&lt;/p>
&lt;p>fopen在linux不支持，所以不写了。&lt;/p></description></item><item><title>JS-变量相关-jQuery调用</title><link>https://svtter.cn/p/js-%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3-jquery%E8%B0%83%E7%94%A8/</link><pubDate>Mon, 01 Dec 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/js-%E5%8F%98%E9%87%8F%E7%9B%B8%E5%85%B3-jquery%E8%B0%83%E7%94%A8/</guid><description>&lt;ul>
&lt;li>本文出自&amp;lt;svtter.github.io&amp;gt;&lt;/li>
&lt;/ul>
&lt;p>在javascript函数外部定义的变量均为全局变量。&lt;/p>
&lt;p>调用jQuery, 需要把jQuery放在&lt;code>&amp;lt;script&amp;gt;&lt;/code>最前。&lt;/p>
&lt;p>调用本地jQuery的代码&lt;/p>
&lt;p>jQuery 目录: &lt;code>../js/jquery-1.11.1.min.js/&lt;/code>&lt;/p>
&lt;p>其他的script文件放在jquery后即可&lt;/p>
&lt;h2 id="html">HTML
&lt;/h2>&lt;p>依据w3cschool修改&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">html&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">head&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">"text/javascript"&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">"../js/jquery-1.11.1.min.js"&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">"text/javascript"&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;span class="nx">$&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">document&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">ready&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;span class="nx">alert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">"debug!"&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nx">$&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">"button"&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">click&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;span class="nx">$&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">"p"&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">hide&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="p">});&lt;/span>
&lt;span class="p">});&lt;/span>
&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">head&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">body&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>This is a heading&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>This is a paragraph.&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>This is another paragraph.&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">p&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>Click me&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">body&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">html&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>JS-优化上传文件的样式</title><link>https://svtter.cn/p/js-%E4%BC%98%E5%8C%96%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E7%9A%84%E6%A0%B7%E5%BC%8F/</link><pubDate>Mon, 01 Dec 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/js-%E4%BC%98%E5%8C%96%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E7%9A%84%E6%A0%B7%E5%BC%8F/</guid><description>&lt;ul>
&lt;li>本文出自&lt;a class="link" href="http://svtter.github.io" target="_blank" rel="noopener"
>svtter.github.io&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>上传文件&lt;code>type=file&lt;/code>真心丑，所以采用方法解决一下。&lt;/p>
&lt;p>中心思想是隐藏&lt;code>input&lt;/code>，然后利用css定位，使其仍然可以被点击（有点欺骗的性质）&lt;/p>
&lt;h2 id="text需要禁止点击使用diableddisabled">text需要禁止点击（使用&lt;code>diabled='disabled'&lt;/code>)
&lt;/h2>&lt;h2 id="源代码">源代码
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">&amp;lt;!DOCTYPE html&amp;gt;&lt;/span>
&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">html&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">head&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">meta&lt;/span> &lt;span class="na">http-equiv&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">"Content-Type"&lt;/span> &lt;span class="na">content&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">"text/html; charset=utf-8"&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">title&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>定义input type="file" 的样式&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">title&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">style&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">"text/css"&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;span class="nt">body&lt;/span>&lt;span class="p">{&lt;/span> &lt;span class="k">font-size&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">14&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;}&lt;/span>
&lt;span class="nt">input&lt;/span>&lt;span class="p">{&lt;/span> &lt;span class="k">vertical-align&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="kc">middle&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">margin&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">padding&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;span class="p">.&lt;/span>&lt;span class="nc">file-box&lt;/span>&lt;span class="p">{&lt;/span> &lt;span class="k">position&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="kc">relative&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">width&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">340&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">}&lt;/span>
&lt;span class="p">.&lt;/span>&lt;span class="nc">txt&lt;/span>&lt;span class="p">{&lt;/span> &lt;span class="k">height&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">22&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">border&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="kc">solid&lt;/span> &lt;span class="mh">#cdcdcd&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">width&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">180&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;}&lt;/span>
&lt;span class="p">.&lt;/span>&lt;span class="nc">btn&lt;/span>&lt;span class="p">{&lt;/span> &lt;span class="k">background-color&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mh">#FFF&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">border&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="kc">solid&lt;/span> &lt;span class="mh">#CDCDCD&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">height&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">24&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">width&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">70&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;}&lt;/span>
&lt;span class="p">.&lt;/span>&lt;span class="nc">file&lt;/span>&lt;span class="p">{&lt;/span> &lt;span class="k">position&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="kc">absolute&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">top&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">right&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">85&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">height&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">24&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">filter&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nf">alpha&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">opacity&lt;/span>&lt;span class="err">:&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="k">opacity&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">width&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">70&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="p">}&lt;/span>
&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">style&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">head&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">body&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">"file-box"&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">form&lt;/span> &lt;span class="na">action&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">""&lt;/span> &lt;span class="na">method&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">"post"&lt;/span> &lt;span class="na">enctype&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">"multipart/form-data"&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#39;text&amp;#39;&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#39;textfield&amp;#39;&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#39;textfield&amp;#39;&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#39;txt&amp;#39;&lt;/span> &lt;span class="na">disabled&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#39;disabled&amp;#39;&lt;/span>&lt;span class="p">/&amp;gt;&lt;/span>
&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#39;button&amp;#39;&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#39;btn&amp;#39;&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#39;浏览...&amp;#39;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">"file"&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">"fileField"&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">"file"&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">"fileField"&lt;/span> &lt;span class="na">size&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">"28"&lt;/span> &lt;span class="na">onchange&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">"document.getElementById(&amp;#39;textfield&amp;#39;).value=this.value"&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">input&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">"submit"&lt;/span> &lt;span class="na">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">"submit"&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">"btn"&lt;/span> &lt;span class="na">value&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">"上传"&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">form&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">body&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">html&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>archlinux-安装笔记</title><link>https://svtter.cn/p/archlinux-%E5%AE%89%E8%A3%85%E7%AC%94%E8%AE%B0/</link><pubDate>Sun, 30 Nov 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/archlinux-%E5%AE%89%E8%A3%85%E7%AC%94%E8%AE%B0/</guid><description>&lt;ul>
&lt;li>本文出自&amp;lt;svtter.github.io&amp;gt;&lt;/li>
&lt;/ul>
&lt;p>花了一些时间安装arch，记录一下注意事项。&lt;/p>
&lt;h2 id="多重引导">多重引导
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>安装多重引导支持&lt;/p>
&lt;p>&lt;code>pacman -S os-prober&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>更新grub&lt;/p>
&lt;p>&lt;code>grub-mkconfig -o /boot/grub/grub.cfg&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>写入mbr&lt;/p>
&lt;p>&lt;code>grub-install --target=i386-pc --recheck /dev/sda&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="图形化的网络服务">图形化的网络服务
&lt;/h2>&lt;p>&lt;code>systemctl enable NetWorkManager.service&lt;/code>&lt;/p>
&lt;h2 id="wifi配置">wifi配置
&lt;/h2>&lt;ul>
&lt;li>如果你想使用wifi（在图形界面下），首先你要停止dhcp服务&lt;code>systemctl stop dhcpcd.service&lt;/code>&lt;/li>
&lt;li>开机停止运行&lt;code>systemctl disable dhcpcd.service&lt;/code>&lt;/li>
&lt;li>我们之所以这样，是为了保证我们的NetWorkManager正常服务。&lt;/li>
&lt;/ul>
&lt;h2 id="session控制器">session控制器
&lt;/h2>&lt;p>我选择的是gdm，原因是slim我不太会配置。&lt;/p>
&lt;p>&lt;code>pacman -S gdm&lt;/code>&lt;/p>
&lt;p>另外patheon在我书写这篇blog的时候，还是存在不少bug.官方的wiki在这个时候也不是很好用了。期待patheon！&lt;/p>
&lt;p>&lt;strong>添加了官方给的patheon库，会出现一个gnome-lib的冲突&lt;/strong>&lt;/p>
&lt;h2 id="输入法的注意事项">输入法的注意事项
&lt;/h2>&lt;p>使用fcitx需要注意.xprofile的配置问题。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>export GTK_IM_MODULE=fcitx
export QT_IM_MODULE=fcitx
export XMODIFIERS="@im=fcitx"
&lt;/pre>
&lt;/div>
&lt;p>其他的安装情况可以看看官方的wiki&lt;/p>
&lt;h2 id="sudoer的配置">sudoer的配置
&lt;/h2>&lt;p>使用pacman安装sudoer&lt;/p>
&lt;p>&lt;code>pacman -S sudo&lt;/code>&lt;/p>
&lt;p>编辑&lt;code>/etc/sudoers&lt;/code>，取消&lt;code>wheel&lt;/code>用户组的注释.&lt;/p>
&lt;h2 id="vim配置">vim配置
&lt;/h2>&lt;p>在&lt;strong>gvim&lt;/strong>中，直接使用synatic on而不用判断，否则会造成代码高亮失效。&lt;/p>
&lt;h2 id="locate配置">locate配置
&lt;/h2>&lt;p>安装以后发现&lt;strong>locate&lt;/strong>命令无法使用，安装&lt;code>pacman -S mlocate&lt;/code>&lt;/p>
&lt;h2 id="另外-mark一个项目gitbook-很好很强大">另外, mark一个项目:&lt;code>gitbook&lt;/code>, 很好很强大
&lt;/h2>&lt;p>应该涵盖了所有的我安装时候遇到的问题，如果还有什么问题，我再后续添加。&lt;/p></description></item><item><title>Linux-进程间的通信</title><link>https://svtter.cn/p/linux-%E8%BF%9B%E7%A8%8B%E9%97%B4%E7%9A%84%E9%80%9A%E4%BF%A1/</link><pubDate>Fri, 28 Nov 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/linux-%E8%BF%9B%E7%A8%8B%E9%97%B4%E7%9A%84%E9%80%9A%E4%BF%A1/</guid><description>&lt;ul>
&lt;li>本文出自&amp;lt;svtter.github.io&amp;gt;&lt;/li>
&lt;/ul>
&lt;h2 id="实验内容">实验内容
&lt;/h2>&lt;p>消息的创建，发送，和接收。&lt;/p>
&lt;h3 id="任务">&amp;lt;任务&amp;gt;
&lt;/h3>&lt;p>使用系统调用 msgget( ), megsnd( ), msgrev( )及 msgctl()编制一长度为 1K 的消息发送和接收的程序 。&lt;/p>
&lt;h3 id="程序设计">程序设计
&lt;/h3>&lt;ol>
&lt;li>为了便于操作和观察结, 用一个程序为&lt;strong>引子&lt;/strong> , 先后&lt;code>fork( )&lt;/code>两个子进程 , SERVER 和 CLIENT,进行通信。&lt;/li>
&lt;li>SERVER 端建立一个 Key 为 75 的消息队列,等待其他进程发来的消息。当遇到类型为 1 的消息,&lt;/li>
&lt;/ol>
&lt;pre>&lt;code>则作为结束信号,取消该队列,并退出 SERVER 。SERVER 每接收到一个消息后显示一句 “(server)received”。
&lt;/code>&lt;/pre>
&lt;ol start="3">
&lt;li>CLIENT 端使用 Key 为 75 的消息队列,先后发送类型从 10 到 1 的消息,然后退出。最后的一个&lt;/li>
&lt;/ol>
&lt;pre>&lt;code>消息,既是 SERVER 端需要的结束信号。CLIENT 每发送一条消息后显示一句“(client)sent”。
&lt;/code>&lt;/pre>
&lt;ol start="4">
&lt;li>父进程在 SERVER 和 CLIENT 均退出后结束。&lt;/li>
&lt;/ol>
&lt;h2 id="使用的函数">使用的函数
&lt;/h2>&lt;blockquote>
&lt;p>并非每次创建消息队列都会成功，所以重新添加-1情况的判断。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>可以使用&lt;code>ipcs -q&lt;/code>命令查看&lt;/p>&lt;/blockquote>
&lt;h2 id="源代码">源代码
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;unistd.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdlib.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;string.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;sys/types.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;sys/ipc.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;sys/msg.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;sys/wait.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#define MSGKEY 75&lt;/span>
&lt;span class="k">struct&lt;/span> &lt;span class="n">msgform&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">long&lt;/span> &lt;span class="n">mtype&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">char&lt;/span> &lt;span class="n">mtexe&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="p">}&lt;/span>&lt;span class="n">msg&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">msgqid&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">CLIENT&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">msgqid&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">msgget&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">MSGKEY&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mo">0777&lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="n">IPC_CREAT&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="n">msgqid&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">puts&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"client error in build"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">return&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">else&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"client qid is: %d&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">msgqid&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">msg&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">mtype&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"(client)sent mtype %ld.&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">msg&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">mtype&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">msgsnd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">msgqid&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">msg&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">strlen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">msg&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">mtexe&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">puts&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"client exit..."&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">exit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">SERVER&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">msgqid&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">msgget&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">MSGKEY&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mo">0777&lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="n">IPC_CREAT&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="n">msgqid&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"error in build.&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">return&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">else&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"server qid is: %d&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">msgqid&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">do&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">msgrcv&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">msgqid&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">msg&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1030&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"(server)received mtype %ld.&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">msg&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">mtype&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span> &lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">msg&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">mtype&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">msgctl&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">msgqid&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">IPC_RMID&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">puts&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"server exit..."&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span> &lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">fork&lt;/span>&lt;span class="p">())&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">SERVER&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="n">wait&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">else&lt;/span>
&lt;span class="n">CLIENT&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h2 id="运行结果">运行结果
&lt;/h2>&lt;img alt="进程间的通信" src="https://i0.wp.com/ww3.sinaimg.cn/mw690/c53b1907jw1emqt8omadvj207n0demyj.jpg?w=625" data-recalc-dims="1" /></description></item><item><title>ACM-zoj3789-排列利用</title><link>https://svtter.cn/p/acm-zoj3789-%E6%8E%92%E5%88%97%E5%88%A9%E7%94%A8/</link><pubDate>Thu, 27 Nov 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/acm-zoj3789-%E6%8E%92%E5%88%97%E5%88%A9%E7%94%A8/</guid><description>&lt;hr>
&lt;ul>
&lt;li>本文出自&amp;lt;svtter.github.io&amp;gt;&lt;/li>
&lt;/ul>
&lt;p>利用排列找规律。&lt;/p>
&lt;p>首先利用&lt;code>next_permutation&lt;/code>函数进行求排列&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstdio&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstring&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;algorithm&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="k">using&lt;/span> &lt;span class="k">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="cp">#define INF 0x3f3f3f3f&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">30&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">cal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">sum&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="cm">/* code */&lt;/span>
&lt;span class="n">sum&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">abs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sum&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">sum&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">parray&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">len&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">len&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">" "&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">cp&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">argc&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">const&lt;/span> &lt;span class="kt">char&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">argv&lt;/span>&lt;span class="p">[])&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="mi">30&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">maxa&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">30&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">mina&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">30&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="o">~&lt;/span>&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">max&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">INF&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">min&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">INF&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">"1 1"&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">"1"&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">"1"&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">continue&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">while&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">next_permutation&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="cm">/* code */&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">temp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">cal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">temp&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="n">max&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="n">max&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">cp&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">maxa&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">temp&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">min&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="n">min&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">cp&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mina&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">min&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">" "&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">max&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">mina&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">" "&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">maxa&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">" "&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>代码如上。&lt;/p>
&lt;p>可以观察出规律，然后即可AC。&lt;/p>
&lt;p>详细代码下次再写= =&lt;/p>
&lt;h2 id="ac代码">AC代码
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;string.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cmath&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="k">using&lt;/span> &lt;span class="k">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">max&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">min&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">~&lt;/span>&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">max&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">min&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">min&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">abs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">min&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">max&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">abs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">max&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">max&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">abs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">max&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d %d&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">min&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">max&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;gt;&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d "&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">puts&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"1"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d "&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>规律在代码中，很明确。&lt;/p></description></item><item><title>C++学习必备</title><link>https://svtter.cn/p/c-%E5%AD%A6%E4%B9%A0%E5%BF%85%E5%A4%87/</link><pubDate>Thu, 27 Nov 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/c-%E5%AD%A6%E4%B9%A0%E5%BF%85%E5%A4%87/</guid><description>&lt;hr>
&lt;ul>
&lt;li>
&lt;p>本文出自&amp;lt;svtter.github.io&amp;gt;&lt;/p>
&lt;/li>
&lt;li>
&lt;p>(cplusplus)[http://www.cplusplus.com]&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="介绍三个头文件">介绍三个头文件
&lt;/h2>&lt;p>在/usr/include/stdint.h中包含着各种关于C数据类型的定义，大小等。&lt;/p>
&lt;ul>
&lt;li>&lt;code>unistd.h&lt;/code> unix standard library header 这个函数库中包含read, write, gitpid等函数&lt;/li>
&lt;li>&lt;code>stdlib.h&lt;/code> standard library header&lt;/li>
&lt;/ul></description></item><item><title>vim的相关记录</title><link>https://svtter.cn/p/vim%E7%9A%84%E7%9B%B8%E5%85%B3%E8%AE%B0%E5%BD%95/</link><pubDate>Thu, 27 Nov 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/vim%E7%9A%84%E7%9B%B8%E5%85%B3%E8%AE%B0%E5%BD%95/</guid><description>&lt;ul>
&lt;li>本文出自&amp;lt;svtter.github.io&amp;gt;&lt;/li>
&lt;/ul>
&lt;h2 id="vim的部分插件记录">vim的部分插件记录
&lt;/h2>&lt;ul>
&lt;li>snipmate vim中的textmate&lt;/li>
&lt;li>vimwiki&lt;/li>
&lt;li>Vimpress : Manage wordpress blog posts from Vim&lt;/li>
&lt;li>calendar&lt;/li>
&lt;li>vimmailr.zip : Send (MAPI) mail from vim&lt;/li>
&lt;li>&lt;a class="link" href="http://xbeta.info/vim-voof.htm" target="_blank" rel="noopener"
>VOom&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>有趣的博客</title><link>https://svtter.cn/p/%E6%9C%89%E8%B6%A3%E7%9A%84%E5%8D%9A%E5%AE%A2/</link><pubDate>Thu, 27 Nov 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E6%9C%89%E8%B6%A3%E7%9A%84%E5%8D%9A%E5%AE%A2/</guid><description>&lt;ul>
&lt;li>
&lt;p>本文出自&amp;lt;svtter.github.io&amp;gt;&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="http://www.vimer.cn" target="_blank" rel="noopener"
>vimer的程序世界&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="http://www.lulinux.com" target="_blank" rel="noopener"
>lulinux&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a class="link" href="http://learnvimscriptthehardway.onefloweroneworld.com/" target="_blank" rel="noopener"
>vimscript&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul></description></item><item><title>健身小记</title><link>https://svtter.cn/p/%E5%81%A5%E8%BA%AB%E5%B0%8F%E8%AE%B0/</link><pubDate>Wed, 26 Nov 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%81%A5%E8%BA%AB%E5%B0%8F%E8%AE%B0/</guid><description>&lt;p>今天下午去健身。&lt;/p>
&lt;h2 id="牛奶事件">牛奶事件
&lt;/h2>&lt;p>先去了新世界陪睡在我下铺的兄弟买杯子。也是见识了伟大的坑爹商场——放了一个大大的10元标签，下面写了一个小小的某品牌牛奶。然后放在下面两种牛奶。&lt;/p>
&lt;p>在下眼力尚可，拿了没有标签的15元一杯。结账的时候才发现，也是醉了。随后付钱的时候发现了这个机智的想法——我个人认为这样做生意不会长久，不知道诸位如何作想。&lt;/p>
&lt;h2 id="健身问题">健身问题
&lt;/h2>&lt;p>不知罗伯特何处去也，只得我两个孤独的健身。但是今天练的着实不够理想——一方面，没有练肱二头；另一方面，感觉背部的重量太小了，不太合适。于是，决定下一次加大重量，顺便为我的健友鼓劲。&lt;/p>
&lt;p>感谢王大哥的指导！&lt;/p></description></item><item><title>筛素数更正</title><link>https://svtter.cn/p/%E7%AD%9B%E7%B4%A0%E6%95%B0%E6%9B%B4%E6%AD%A3/</link><pubDate>Wed, 26 Nov 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E7%AD%9B%E7%B4%A0%E6%95%B0%E6%9B%B4%E6%AD%A3/</guid><description>&lt;ul>
&lt;li>本文出自&amp;lt;svtter.github.io&amp;gt;&lt;/li>
&lt;/ul>
&lt;h2 id="写在之前">写在之前
&lt;/h2>&lt;p>maker关于线性筛素数的论文。&lt;/p>
&lt;p>做到欧拉线性筛法再做补充。(当时还写了个这？)&lt;/p>
&lt;h2 id="关于线性筛素数">关于线性筛素数
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>之前一直没有正视线性筛素数的问题。今天特意来写一个伪证明。如果当前的i不是素数，那么必然被之前的某个素数筛掉了。i × prime[j]。&lt;/p>
&lt;p>一个合数必然可以写成几个素数的乘积，再或者就是p×i这种形式。如果能被i×p1筛掉之后则不需要i×p2继续筛了，i×p2可以写成p1×(i×p2)&lt;/p>
&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>例如12可以被6×2筛掉，之前4×3这种筛除就可以去掉。&lt;/p>&lt;/blockquote>
&lt;ul>
&lt;li>这种方法会不会存在没有筛掉的合数？&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>不可能：i会一直到n，也就是整个范围都会包含在内。&lt;/p>&lt;/blockquote>
&lt;h2 id="代码">代码：
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="n">memset&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Prime&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Prime&lt;/span>&lt;span class="p">));&lt;/span>
&lt;span class="n">memset&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">IsPrime&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">IsPrime&lt;/span>&lt;span class="p">));&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">IsPrime&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="n">Prime&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">num&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">num&lt;/span> &lt;span class="o">&amp;&amp;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">Prime&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">IsPrime&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">Prime&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="n">Prime&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>之前的错误在于筛素数的时候没有筛去2的倍数，所以出现后面的值错误。&lt;/p></description></item><item><title>使用cd快速在目录间移动</title><link>https://svtter.cn/p/%E4%BD%BF%E7%94%A8cd%E5%BF%AB%E9%80%9F%E5%9C%A8%E7%9B%AE%E5%BD%95%E9%97%B4%E7%A7%BB%E5%8A%A8/</link><pubDate>Wed, 26 Nov 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E4%BD%BF%E7%94%A8cd%E5%BF%AB%E9%80%9F%E5%9C%A8%E7%9B%AE%E5%BD%95%E9%97%B4%E7%A7%BB%E5%8A%A8/</guid><description>&lt;ul>
&lt;li>本文出自&amp;lt;svtter.github.io&amp;gt;&lt;/li>
&lt;/ul>
&lt;p>难得看见一篇好文= =&lt;/p>
&lt;h2 id="操作方法">操作方法
&lt;/h2>&lt;p>在此学习并且记录。&lt;/p>
&lt;ul>
&lt;li>标记一个书签: mark [书签]&lt;/li>
&lt;li>进入一个书签: g [书签]&lt;/li>
&lt;li>输出全部标签: gs&lt;/li>
&lt;/ul>
&lt;h2 id="实现原理">实现原理
&lt;/h2>&lt;p>&lt;code>sudo vim /etc/profile&lt;/code>&lt;/p>
&lt;p>也可以使用&lt;code>:w !sudo tee %&lt;/code>这种方式来保存&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="c1"># mark&lt;/span>
&lt;span class="nb">export&lt;/span> &lt;span class="nv">MARKPATH&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$HOME&lt;/span>/.marks
&lt;span class="nb">export&lt;/span> &lt;span class="nv">MARKDEFAULT&lt;/span>&lt;span class="o">=&lt;/span>sanguo#设置你的默认书签，可以直接输入g跳转
&lt;span class="k">function&lt;/span> g &lt;span class="o">{&lt;/span>
&lt;span class="nb">local&lt;/span> &lt;span class="nv">m&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$1&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="s2">"&lt;/span>&lt;span class="nv">$m&lt;/span>&lt;span class="s2">"&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">""&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span> &lt;span class="nv">m&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$MARKDEFAULT&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">fi&lt;/span>
&lt;span class="nb">cd&lt;/span> -P &lt;span class="s2">"&lt;/span>&lt;span class="nv">$MARKPATH&lt;/span>&lt;span class="s2">/&lt;/span>&lt;span class="nv">$m&lt;/span>&lt;span class="s2">"&lt;/span> &lt;span class="m">2&lt;/span>&amp;gt;/dev/null &lt;span class="o">||&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">"No such mark: &lt;/span>&lt;span class="nv">$m&lt;/span>&lt;span class="s2">"&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="k">function&lt;/span> mark &lt;span class="o">{&lt;/span>
mkdir -p &lt;span class="s2">"&lt;/span>&lt;span class="nv">$MARKPATH&lt;/span>&lt;span class="s2">"&lt;/span>
&lt;span class="nb">local&lt;/span> &lt;span class="nv">m&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$1&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="s2">"&lt;/span>&lt;span class="nv">$m&lt;/span>&lt;span class="s2">"&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">""&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span> &lt;span class="nv">m&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$MARKDEFAULT&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">fi&lt;/span>
rm -f &lt;span class="s2">"&lt;/span>&lt;span class="nv">$MARKPATH&lt;/span>&lt;span class="s2">/&lt;/span>&lt;span class="nv">$m&lt;/span>&lt;span class="s2">"&lt;/span>
ln -s &lt;span class="s2">"&lt;/span>&lt;span class="k">$(&lt;/span>&lt;span class="nb">pwd&lt;/span>&lt;span class="k">)&lt;/span>&lt;span class="s2">"&lt;/span> &lt;span class="s2">"&lt;/span>&lt;span class="nv">$MARKPATH&lt;/span>&lt;span class="s2">/&lt;/span>&lt;span class="nv">$m&lt;/span>&lt;span class="s2">"&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="k">function&lt;/span> unmark &lt;span class="o">{&lt;/span>
&lt;span class="nb">local&lt;/span> &lt;span class="nv">m&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$1&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="s2">"&lt;/span>&lt;span class="nv">$m&lt;/span>&lt;span class="s2">"&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">""&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span> &lt;span class="nv">m&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$MARKDEFAULT&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">fi&lt;/span>
rm -i &lt;span class="s2">"&lt;/span>&lt;span class="nv">$MARKPATH&lt;/span>&lt;span class="s2">/&lt;/span>&lt;span class="nv">$m&lt;/span>&lt;span class="s2">"&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="k">function&lt;/span> gs &lt;span class="o">{&lt;/span>
ls -l &lt;span class="s2">"&lt;/span>&lt;span class="nv">$MARKPATH&lt;/span>&lt;span class="s2">"&lt;/span> &lt;span class="p">|&lt;/span> grep ^l &lt;span class="p">|&lt;/span> cut -d &lt;span class="s1">&amp;#39; &amp;#39;&lt;/span> -f &lt;span class="m">13&lt;/span>-
&lt;span class="o">}&lt;/span>
_completemarks&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="nb">local&lt;/span> &lt;span class="nv">curw&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">COMP_WORDS&lt;/span>&lt;span class="p">[COMP_CWORD]&lt;/span>&lt;span class="si">}&lt;/span>
&lt;span class="nb">local&lt;/span> &lt;span class="nv">wordlist&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>ls -l &lt;span class="s2">"&lt;/span>&lt;span class="nv">$MARKPATH&lt;/span>&lt;span class="s2">"&lt;/span> &lt;span class="p">|&lt;/span> grep ^l &lt;span class="p">|&lt;/span> cut -d &lt;span class="s1">&amp;#39; &amp;#39;&lt;/span> -f &lt;span class="m">13&lt;/span>&lt;span class="k">)&lt;/span>
&lt;span class="nv">COMPREPLY&lt;/span>&lt;span class="o">=(&lt;/span>&lt;span class="k">$(&lt;/span>&lt;span class="nb">compgen&lt;/span> -W &lt;span class="s1">&amp;#39;${wordlist[@]}&amp;#39;&lt;/span> -- &lt;span class="s2">"&lt;/span>&lt;span class="nv">$curw&lt;/span>&lt;span class="s2">"&lt;/span>&lt;span class="k">)&lt;/span>&lt;span class="o">)&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="m">&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="nb">complete&lt;/span> -F _completemarks g unmark
&lt;/pre>
&lt;/div></description></item><item><title>关于最近</title><link>https://svtter.cn/p/%E5%85%B3%E4%BA%8E%E6%9C%80%E8%BF%91/</link><pubDate>Sat, 22 Nov 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%85%B3%E4%BA%8E%E6%9C%80%E8%BF%91/</guid><description>&lt;h2 id="谈谈算法">谈谈算法
&lt;/h2>&lt;p>今天上午一个团体赛，晚上一个bestcoder，水了自己一脸呵。&lt;/p>
&lt;p>究其原因，可能有中午没有休息，晚上来的太晚，没有好好吃饭等等。&lt;/p>
&lt;h2 id="探究原因">探究原因
&lt;/h2>&lt;p>仔细想想，最近这段时间对于学习，生活，等等一系列的事情是否有够认真努力呢？&lt;/p>
&lt;p>怕是一般情况吧= =。晚上做题的时候猛然发现之前有错的线性筛素数模版有问题，也是没有及时修正。此外，欧拉函数等等也是忘记的差不多了，太水。&lt;/p>
&lt;p>&lt;strong>没有做好，做完的事情&lt;/strong>: 操作系统的书写还是差着不少，另外，并行计算的文档还没有成型。。总之，感觉就像是什么事情都没有做好一样。心塞。&lt;/p>
&lt;p>那么这段时间我到底干什么了呢？这个问题也是值得深究的。&lt;/p>
&lt;ul>
&lt;li>用了很多的时间在&lt;code>Python&lt;/code>的学习以及Linux的学习上了。&lt;/li>
&lt;li>不能说是浪费时间，但是对于ACM，对于我现在要做的事情，的确是有所偏差。(应该算是另一种娱乐吧)&lt;/li>
&lt;li>此外，还学习了线性代数。但是学习的效果如何呢？是不是太慢了，或者太过于悠哉游哉了呢？&lt;/li>
&lt;/ul>
&lt;p>似乎就是有点吧，可能太过于悠哉游哉了。尽管没有完成任务，但是还是觉得自己做了点东西。星期四和星期五，也是没有好好的把时间铺在算法上面，看这个看那个——用封老师的话来说，就是没出息。&lt;/p>
&lt;p>哈哈= =&lt;/p>
&lt;p>生活中缺少一股紧张的气息，所以可能做的不够。这是目前给自己找的原因。我想我需要一个时间好好的思考一下，处理一下自己究竟应该怎么处理自己的学习问题。&lt;/p>
&lt;p>如果每次都是有些遗留，或者忘记了自己本来的目的，那么真是浪费时间了。&lt;/p></description></item><item><title>Linux-管道</title><link>https://svtter.cn/p/linux-%E7%AE%A1%E9%81%93/</link><pubDate>Fri, 21 Nov 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/linux-%E7%AE%A1%E9%81%93/</guid><description>&lt;ul>
&lt;li>
&lt;p>本文出自&amp;lt;svtter.github.io&amp;gt;&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>头文件&lt;/strong>: #include&amp;lt;unistd.h&amp;gt;&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>使用方法&lt;/strong>: int pipe(int chan[2]);&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>说明&lt;/strong>: pipe会建立管道，并将文件描述词通过chan返回。一般chan[0]为管道的读取端，chan[1]是写入端。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>返回值&lt;/strong>: 成功返回0，失败返回-1，错误信息保存在errno中&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>错误信息&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>EMFILE 进程已用完文件描述词最大量。&lt;/li>
&lt;li>ENFILE 系统已无文件描述词可用。&lt;/li>
&lt;li>EFAULT 参数filedes数组地址不合法&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cm">/*=============================================================================&lt;/span>
&lt;span class="cm">#&lt;/span>
&lt;span class="cm"># Author: svtter - svtter@qq.com&lt;/span>
&lt;span class="cm">#&lt;/span>
&lt;span class="cm"># QQ : 57180160&lt;/span>
&lt;span class="cm">#&lt;/span>
&lt;span class="cm"># Last modified: 2014-11-21 16:20&lt;/span>
&lt;span class="cm">#&lt;/span>
&lt;span class="cm"># Filename: 管道.c&lt;/span>
&lt;span class="cm">#&lt;/span>
&lt;span class="cm"># Description: &lt;/span>
&lt;span class="cm">#&lt;/span>
&lt;span class="cm">=============================================================================*/&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;unistd.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;signal.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="kt">char&lt;/span> &lt;span class="n">parent&lt;/span>&lt;span class="p">[]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">"a message from parent"&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">char&lt;/span> &lt;span class="n">child&lt;/span>&lt;span class="p">[]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">"a message from child"&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span> &lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">p2c&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">c2p&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">pid&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">char&lt;/span> &lt;span class="n">buf&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="n">pipe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p2c&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">pipe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">c2p&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">pid&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">fork&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pid&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">close&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">c2p&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="n">close&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p2c&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="n">write&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">c2p&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">parent&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">parent&lt;/span>&lt;span class="p">));&lt;/span>
&lt;span class="n">close&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">c2p&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="n">read&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p2c&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">buf&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%s&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">buf&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">close&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p2c&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pid&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">close&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p2c&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="n">close&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">c2p&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="n">read&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">c2p&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">buf&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%s&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">buf&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">write&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p2c&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">child&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">child&lt;/span>&lt;span class="p">));&lt;/span>
&lt;span class="n">close&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">c2p&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="n">close&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p2c&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h2 id="运行结果">运行结果：
&lt;/h2>&lt;img alt="管道运行结果" src="https://i1.wp.com/ww3.sinaimg.cn/mw690/c53b1907jw1emivfwrkquj20cs05hwel.jpg?w=625" data-recalc-dims="1" /></description></item><item><title>Linux-同步互斥</title><link>https://svtter.cn/p/linux-%E5%90%8C%E6%AD%A5%E4%BA%92%E6%96%A5/</link><pubDate>Fri, 21 Nov 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/linux-%E5%90%8C%E6%AD%A5%E4%BA%92%E6%96%A5/</guid><description>&lt;ul>
&lt;li>本文出自&amp;lt;svtter.github.io&amp;gt;&lt;/li>
&lt;/ul>
&lt;h2 id="使用pthread实现经典问题生产者消费者">使用pthread实现经典问题：生产者消费者
&lt;/h2>&lt;p>关于semaphore的相关信息就不再贴出来了。&lt;/p>
&lt;p>编译的时候记得&lt;code>-pthread&lt;/code>选项。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cm">/*=============================================================================&lt;/span>
&lt;span class="cm">#&lt;/span>
&lt;span class="cm"># Author: svtter - svtter@qq.com&lt;/span>
&lt;span class="cm">#&lt;/span>
&lt;span class="cm"># QQ : 57180160&lt;/span>
&lt;span class="cm">#&lt;/span>
&lt;span class="cm"># Last modified: 2014-10-03 20:35&lt;/span>
&lt;span class="cm">#&lt;/span>
&lt;span class="cm"># Filename: producer_consumer.cc&lt;/span>
&lt;span class="cm">#&lt;/span>
&lt;span class="cm"># Description: &lt;/span>
&lt;span class="cm">#&lt;/span>
&lt;span class="cm">=============================================================================*/&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstdio&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;unistd.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;semaphore.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;pthread.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;sys/types.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdlib.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="k">using&lt;/span> &lt;span class="k">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="cp">#define N 5&lt;/span>
&lt;span class="cp">#define item int&lt;/span>
&lt;span class="c1">// P/V操作&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">P&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sem_t&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">sem&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sem_wait&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sem&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="n">perror&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"P error!"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">V&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sem_t&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">sem&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sem_post&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sem&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="n">perror&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"V error!"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">sem_t&lt;/span> &lt;span class="n">mutex&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">sem_t&lt;/span> &lt;span class="n">full&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">sem_t&lt;/span> &lt;span class="n">empty&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">item&lt;/span> &lt;span class="n">buffer&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">N&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">init_sem&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">sem_init&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;&lt;/span>&lt;span class="n">mutex&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">sem_init&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;&lt;/span>&lt;span class="n">full&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">sem_init&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;&lt;/span>&lt;span class="n">empty&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">N&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">void&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="nf">producer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">void&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">arg&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">product&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="c1">//生成随机数字&lt;/span>
&lt;span class="n">product&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">rand&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// cout &amp;lt;&amp;lt; "producer running..." &amp;lt;&amp;lt; endl;&lt;/span>
&lt;span class="n">P&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;&lt;/span>&lt;span class="n">empty&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">P&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;&lt;/span>&lt;span class="n">mutex&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">buffer&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">product&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"producer produced %d @ %d pos&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n">product&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">i&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="n">N&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">V&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;&lt;/span>&lt;span class="n">mutex&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">V&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;&lt;/span>&lt;span class="n">full&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">sleep&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">void&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="nf">consumer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">void&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">arg&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">product&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="c1">// cout &amp;lt;&amp;lt; "consumer running..." &amp;lt;&amp;lt; endl;&lt;/span>
&lt;span class="n">P&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;&lt;/span>&lt;span class="n">full&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">P&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;&lt;/span>&lt;span class="n">mutex&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="n">N&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">product&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">buffer&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="n">V&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;&lt;/span>&lt;span class="n">mutex&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">V&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;&lt;/span>&lt;span class="n">empty&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"Consumer consumed %d @ %d pos&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="n">product&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">sleep&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="c1">//random num&lt;/span>
&lt;span class="n">srand&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">time&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">NULL&lt;/span>&lt;span class="p">));&lt;/span>
&lt;span class="n">init_sem&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">error&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">pthread_t&lt;/span> &lt;span class="n">producer_t&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">consumer_t&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">error&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pthread_create&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;&lt;/span>&lt;span class="n">producer_t&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">NULL&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">producer&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">NULL&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">error&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"error in create producer.&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">else&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"create producer success!&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">pthread_create&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;&lt;/span>&lt;span class="n">consumer_t&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">NULL&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">consumer&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">NULL&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">error&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"error in create consumer.&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">else&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"create consumer success!&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">pthread_join&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">producer_t&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">NULL&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">pthread_join&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">consumer_t&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">NULL&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h3 id="运行结果">运行结果
&lt;/h3>&lt;img alt="生产者消费者" src="https://i1.wp.com/ww2.sinaimg.cn/mw690/c53b1907jw1emiuwm4ev0j20es07cwfi.jpg?w=625" data-recalc-dims="1" />
&lt;h2 id="操作系统经典问题哲学家就餐问题">操作系统经典问题：哲学家就餐问题
&lt;/h2>&lt;p>mutex是c++11的新功能。记得添加C++11支持。(在运行结果中包含编译选项。)&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;mutex&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cstdio&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;thread&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;semaphore.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="cp">#define THINK(i) printf("ph[%d] is thinking...\n", i)&lt;/span>
&lt;span class="cp">#define EAT(i) printf("ph[%d] eats.\n", i)&lt;/span>
&lt;span class="kr">void&lt;/span> &lt;span class="nf">P&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mutex&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">mt&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">mt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">lock&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kr">void&lt;/span> &lt;span class="nf">V&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mutex&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">mt&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">mt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">unlock&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kr">void&lt;/span> &lt;span class="nf">P&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sem_t&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">sem&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sem_wait&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sem&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="n">perror&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"P error!"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kr">void&lt;/span> &lt;span class="nf">V&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sem_t&lt;/span>&lt;span class="o">*&lt;/span> &lt;span class="n">sem&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sem_post&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sem&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="n">perror&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"V error!"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="c1">// 加入unistd.h出现问题，似乎与thread的兼容性比较差，于是重写&lt;/span>
&lt;span class="kr">void&lt;/span> &lt;span class="nf">delay&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kr">int&lt;/span> &lt;span class="n">sum&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">10000000&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">sum&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">mutex&lt;/span> &lt;span class="n">fork&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="n">sem_t&lt;/span> &lt;span class="n">room&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kr">void&lt;/span> &lt;span class="nf">init&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">sem_init&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;&lt;/span>&lt;span class="n">room&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kr">void&lt;/span> &lt;span class="nf">philosopher&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kr">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">int&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">THINK&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">P&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;&lt;/span>&lt;span class="n">room&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">P&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">fork&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="n">P&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">fork&lt;/span>&lt;span class="p">[(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="n">EAT&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">V&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;&lt;/span>&lt;span class="n">room&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">V&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">fork&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="n">V&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">fork&lt;/span>&lt;span class="p">[(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kr">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">init&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="kr">thread&lt;/span> &lt;span class="n">t&lt;/span>&lt;span class="p">[]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="kr">thread&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">philosopher&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">),&lt;/span>
&lt;span class="kr">thread&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">philosopher&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">),&lt;/span>
&lt;span class="kr">thread&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">philosopher&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">),&lt;/span>
&lt;span class="kr">thread&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">philosopher&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">),&lt;/span>
&lt;span class="kr">thread&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">philosopher&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">),&lt;/span>
&lt;span class="p">};&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">int&lt;/span> &lt;span class="n">k&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">k&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">t&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="n">join&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h3 id="运行结果-1">运行结果
&lt;/h3>&lt;img alt="哲学家就餐" src="https://i1.wp.com/ww3.sinaimg.cn/mw690/c53b1907jw1emiwe5eqnyj20hq0b1q3w.jpg?w=625" data-recalc-dims="1" />
&lt;h2 id="操作系统经典问题读者写者问题">操作系统经典问题：读者写者问题
&lt;/h2>&lt;h3 id="读者优先">读者优先
&lt;/h3>&lt;ul>
&lt;li>使用了c++11的新特性thread&lt;/li>
&lt;/ul>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;mutex&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;thread&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="k">using&lt;/span> &lt;span class="k">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">mutex&lt;/span> &lt;span class="n">mt&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">wsem&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">readcount&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="cp">#define READ(a) cout &amp;lt;&amp;lt; a &amp;lt;&amp;lt; " is reading..." &amp;lt;&amp;lt; endl;&lt;/span>
&lt;span class="cp">#define FINISH(a) cout &amp;lt;&amp;lt; a &amp;lt;&amp;lt; " finished reading." &amp;lt;&amp;lt; endl;&lt;/span>
&lt;span class="cp">#define WRITE cout &amp;lt;&amp;lt; "writing..." &amp;lt;&amp;lt; endl;&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">P&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mutex&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">mt&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">mt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">lock&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">V&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mutex&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">mt&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">mt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">unlock&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="c1">// 加入unistd.h出现问题，似乎与thread的兼容性比较差，于是重写&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">delay&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">sum&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">10000000&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">sum&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">i&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">read&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">string&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">P&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mt&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">readcount&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">readcount&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">P&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">wsem&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">V&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mt&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">READ&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">delay&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="n">P&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mt&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">readcount&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">FINISH&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">readcount&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">V&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">wsem&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">V&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mt&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">write&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">P&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">wsem&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">WRITE&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">delay&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="n">V&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">wsem&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kr">thread&lt;/span> &lt;span class="n">reader1&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">read&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"svtter"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="kr">thread&lt;/span> &lt;span class="n">reader2&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">read&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"sr"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="kr">thread&lt;/span> &lt;span class="n">reader3&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">read&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"yym"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="kr">thread&lt;/span> &lt;span class="n">reader4&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">read&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"xiaoniu"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="kr">thread&lt;/span> &lt;span class="n">writer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">write&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">reader1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">join&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="n">reader2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">join&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="n">reader3&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">join&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="n">reader4&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">join&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="n">writer&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">join&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h4 id="运行结果-2">运行结果
&lt;/h4>&lt;p>由于可以同时阅读，所以读者reading输出可能出现少许问题。&lt;/p>
&lt;img alt="运行结果" src="https://i2.wp.com/ww2.sinaimg.cn/mw690/c53b1907jw1emiwlff732j20hl08t3z6.jpg?w=625" data-recalc-dims="1" />
&lt;h3 id="写者优先">写者优先
&lt;/h3>&lt;hr>
&lt;ul>
&lt;li>使rsem中只有一个读者在等待，保证了如果有写者，写者优先写&lt;/li>
&lt;/ul>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;mutex&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;thread&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="k">using&lt;/span> &lt;span class="k">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="cp">#define READ(a,i) cout &amp;lt;&amp;lt; a &amp;lt;&amp;lt; i&amp;lt;&amp;lt;" is reading..." &amp;lt;&amp;lt; endl;&lt;/span>
&lt;span class="cp">#define FINR(a,i) cout &amp;lt;&amp;lt; a &amp;lt;&amp;lt; i&amp;lt;&amp;lt;" finished reading." &amp;lt;&amp;lt; endl;&lt;/span>
&lt;span class="cp">#define WRITE(a,i) cout &amp;lt;&amp;lt; a &amp;lt;&amp;lt;i&amp;lt;&amp;lt;" is writing..." &amp;lt;&amp;lt; endl;&lt;/span>
&lt;span class="cp">#define FINW(a, i) cout &amp;lt;&amp;lt; a &amp;lt;&amp;lt;i&amp;lt;&amp;lt;" finished writing..." &amp;lt;&amp;lt; endl;&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">P&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mutex&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">mt&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">mt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">lock&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">V&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mutex&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">mt&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">mt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">unlock&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="c1">// 加入unistd.h出现问题，似乎与thread的兼容性比较差，于是重写&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">delay&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">sum&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">10000000&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">sum&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">mutex&lt;/span> &lt;span class="n">mr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">wsem&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">rsem&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">mrc&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">mwc&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">readcount&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">writecount&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">read&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">string&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">P&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mr&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">P&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">rsem&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">P&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mrc&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">readcount&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">readcount&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">P&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">wsem&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">V&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mrc&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">V&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">rsem&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">V&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mr&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">READ&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">P&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mrc&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">FINR&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">readcount&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">readcount&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">V&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">wsem&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">V&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mrc&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">write&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">string&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">P&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mwc&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">writecount&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">writecount&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">P&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">rsem&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">V&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mwc&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">P&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">wsem&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">WRITE&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">FINW&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">V&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">wsem&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">P&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mwc&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">writecount&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">writecount&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">V&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">rsem&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">V&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">mwc&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kr">thread&lt;/span> &lt;span class="n">reader1&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">read&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"svtter"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="kr">thread&lt;/span> &lt;span class="n">writer1&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">write&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"sr"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="kr">thread&lt;/span> &lt;span class="n">writer2&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">write&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"zs"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="kr">thread&lt;/span> &lt;span class="n">writer3&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">write&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"yym"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">reader1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">join&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="n">writer1&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">join&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="n">writer2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">join&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="n">writer3&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">join&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h4 id="运行结果-3">运行结果
&lt;/h4>&lt;ul>
&lt;li>基本上结果就是写者写完，才会有读者阅读&lt;/li>
&lt;/ul>
&lt;img alt="写者优先" src="https://i0.wp.com/ww4.sinaimg.cn/mw690/c53b1907jw1emiwotocqij20hp0d7q4e.jpg?w=625" data-recalc-dims="1" /></description></item><item><title>Linux系统函数简介</title><link>https://svtter.cn/p/linux%E7%B3%BB%E7%BB%9F%E5%87%BD%E6%95%B0%E7%AE%80%E4%BB%8B/</link><pubDate>Fri, 21 Nov 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/linux%E7%B3%BB%E7%BB%9F%E5%87%BD%E6%95%B0%E7%AE%80%E4%BB%8B/</guid><description>&lt;p>本文出自&amp;lt;svtter.github.io&amp;gt;&lt;/p>
&lt;p>系统调用函数说明、参数值及定义&lt;/p>
&lt;p>本文摘自老师的资料= =&lt;/p>
&lt;p>&lt;strong>使用这些函数的时候记得将头文件unistd.h包含到程序中&lt;/strong>&lt;/p>
&lt;h2 id="1fork">1、fork()
&lt;/h2>&lt;blockquote>
&lt;p>创建一个新进程&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>int fork()&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>其中返回int取值意义如下:&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>0:创建子进程,从子进程返回的id值大于0:从父进程返回的子进程id值 -1:创建失败&lt;/p>&lt;/blockquote>
&lt;h2 id="2lockffilesfunctionsize">2、lockf(files,function,size):
&lt;/h2>&lt;blockquote>
&lt;p>用作锁定文件的某些段或者整个文件,本函数适用的头文件为:&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>#include&amp;lt;unistd.h&amp;gt;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>参数定义:&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>int lockf(files,function,size)&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>int files,function;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>long size;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>其中:files是文件描述符:function是锁定和解锁;1表示锁定,0表示解锁。size是锁定和解锁的字节数,若用0,表示从文件的当前位置到文件尾。&lt;/p>&lt;/blockquote>
&lt;h2 id="3msggetkeyflag">3、msgget(key,flag):
&lt;/h2>&lt;blockquote>
&lt;p>获得一个消息的描述符,该描述符指定一个消息队列以便用于其他系统调用。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>该函数使用偷文件如下:&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>#include&amp;lt;sy/types.h&amp;gt;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>#include&amp;lt;sy/ipc.h&amp;gt;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>#include&amp;lt;sy/msg.h&amp;gt;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>参数定义&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>int msgget(key,flag)&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>&lt;code>key_tkey;&lt;/code>&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>&lt;code>int flag;&lt;/code>&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>语法格式:msgqid=msgget(key,flag)&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>其中:msgid是该系统调用返回的描述符,失败则返回-1;flag 本身由操作允许权和控制命令值相或得到。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>如:&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>&lt;code>IP_CREAT|0400&lt;/code> 是否该队列应被创建;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>&lt;code>IP_EXCL |0400&lt;/code> 是否该队列的创建应是互斥的;等。&lt;/p>&lt;/blockquote>
&lt;h2 id="msgsndidmsgpsizeflag">msgsnd(id,msgp,size,flag):
&lt;/h2>&lt;blockquote>
&lt;p>发送一消息。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>该函数是用头文件如下:&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>#include&amp;lt;sy/types.h&amp;gt;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>#include&amp;lt;sy/ipc.h&amp;gt;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>#include&amp;lt;sy/msg.h&amp;gt;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>参数定义&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>int msgnd(id,msgp,size,flag)&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>int id,size,flag;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>struct msgbuf * msgp;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>其中:id是返回消息队列的描述符;msgp是指向用户存储区的一个构造体指针,size指示由msgp&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>指向的数据结构中字符数组的长度;即消息的长度。这个数组的最大值由MSG-MAX系统可调用参数来确&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>定。flag规定当核心用尽内部缓冲空间时应执行的动作;若在标志flag中末设置IPC_NOWAIT位,则当&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>41该消息队列中字节数超过一最大值时,或系统范围的消息数超过某一最大值时,调用msgsnd进程睡眠。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>若是设置IPC_NOWAIT,则在此情况下,msgsnd立即返回。&lt;/p>&lt;/blockquote>
&lt;h2 id="msgrcvidmsgpsizetypeflag">msgrcv(id,msgp,size,type,flag):
&lt;/h2>&lt;blockquote>
&lt;p>接受一消息。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>该函数调用使用头文件如下:&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>#include&amp;lt;sy/types.h&amp;gt;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>#include&amp;lt;sy/ipc.h&amp;gt;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>#include&amp;lt;sy/msg.h&amp;gt;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>参数定义&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>int msgrcv(id,msgp,size,type,flag)&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>int id,size,type,flag;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>struct msgbuf * msgq;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>struct sgbuf{long mtpe;chat mtext[];};&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>语法格式:&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>count=msgrcv(id,msgp,size,type,flag)&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>其中:id是用来存放欲接收消息的拥护数据结构的地址;size是msgp中数据数组的大小; type是&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>用户要读的消息类型:&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>type为0:接收该队列的第一个消息;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>type为正:接收类型type的第一个消息;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>type为负:接收小于或等于type绝对值的最低类型的第一个消息。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>flag规定倘若该队列无消息,核心应当做什么事,如果此时设置了IPC_NOWAIT标志,则立即返回,&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>若在flag中设置了MSG_NOERROR,且所接收的消息大小大于size,核心截断所接受的消息。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>count是返回消息正文的字节数。&lt;/p>&lt;/blockquote>
&lt;h2 id="msgctlidcmdbuf">msgctl(id,cmd,buf):
&lt;/h2>&lt;blockquote>
&lt;p>查询一个消息描述符的状态,设置它的状态及删除一个消息描述符。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>调用该函数使用头文件如下:&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>#include&amp;lt;sy/types.h&amp;gt;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>#include&amp;lt;sy/ipc.h&amp;gt;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>#include&amp;lt;sy/msg.h&amp;gt;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>参数定义&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>int msgctl(id,cmd,buf)&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>int id,cmd;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>struct msgbuf * msgq;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>struct msqid_ds * buf;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>其中:函数调用成功时返回0,调用不成功时返回-1。id用来识别该消息的描述符;cmd规定命令的&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>类型。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>IPC_START将与id相关联的消息队列首标读入buf。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>IPC_SET为这个消息序列设置有效的用户和小组标识及操作允许权和字节的数量。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>IPC_RMID删除id的消息队列。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>buf是含有控制参数或查询结果的用户数据结构的地址。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>附:msgid_ds结构定义如下:&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>struct msgid_ds&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>{struct ipc_perm msg_perm; /&lt;em>许可权结构&lt;/em>/&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>shot padl[7];&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>/&lt;em>由系统使用&lt;/em>/&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>ushort onsg_qnum;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>/&lt;em>队列上消息数&lt;/em>/&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>ushort msg_qbytes;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>/&lt;em>队列上最大字节数&lt;/em>/&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>42ushort msg_lspid;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>/&lt;em>最后发送消息的PID&lt;/em>/&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>ushort msg_lrpid;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>/&lt;em>最后接收消息的PID&lt;/em>/&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>time_t msg__stime;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>/&lt;em>最后发送消息的时间&lt;/em>/&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>time_t msg_rtime;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>/&lt;em>最后接收消息的时间&lt;/em>/&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>me_t msg_ctime;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>/&lt;em>最后更改时间&lt;/em>/&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>};&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>struct ipc_perm&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>{ushort uid;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>/&lt;em>当前用户id&lt;/em>/&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>ushort gid;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>/&lt;em>当前进程组id&lt;/em>/&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>ushort cuid;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>/&lt;em>创建用户id&lt;/em>/&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>ushort cgid&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>/&lt;em>创建进程组id&lt;/em>/&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>ushort mode;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>/&lt;em>存取许可权&lt;/em>/&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>{shot patl;long pad2} /&lt;em>由系统使用&lt;/em>/&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>};&lt;/p>&lt;/blockquote>
&lt;h2 id="shmgetkeysizeflag">shmget(key,size,flag):
&lt;/h2>&lt;blockquote>
&lt;p>获得一个共享存储区。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>该函数使用头文件如下:&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>#include&amp;lt;sy/types.h&amp;gt;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>#include&amp;lt;sy/ipc.h&amp;gt;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>#include&amp;lt;sy/shm.h&amp;gt;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>语法格式:&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>shmid=shmaget(key,size,flag)&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>参数定义:&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>int shmaget(key,size,flag)&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>key_t key;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>int size,flag;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>其中:size是存储区的字节数,key和flag与系统调用msgget中的参数含义相同。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>附:&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>操作允许权&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>八进制数&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>用户可读 00400&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>用户可读 00200&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>小组可读 00040&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>小组可读 00020&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>其他可读 00004&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>其他可读 00002&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>控制命令 值&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>IPC_CREAT&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>0001000&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>IPC_EXCL&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>0002000&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>如:shmid=shmget(key,size,(IPC_CREAT|0400));&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>创建一个关键字为key,长度为size的共享存储区。&lt;/p>&lt;/blockquote>
&lt;h2 id="shmatidaddrflag">shmat(id,addr,flag):
&lt;/h2>&lt;blockquote>
&lt;p>从逻辑上将一个共享存储区附接到进程的虚拟地址空间上。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>该函数调用使用头文件如下:&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>#include&amp;lt;sy/types.h&amp;gt;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>43#include&amp;lt;sy/ipc.h&amp;gt;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>#include&amp;lt;sy/msg.h&amp;gt;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>参数定义:&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>char * shmat(id,addr,flag)&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>int id,flag;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>char * addr;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>语法格式:virtaddr=shmat(id,addr,flag)&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>其中:id是共享存储区的标识符,addr是用户要使用共享存储区附接的虚地址,若addr是0,系统&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>是否对应用户规定的地址做舍入操作。如果flag中设置了shm_rnd即表示操作系统在必要时舍去这个地&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>址。如果设置了shm_rdonly,即表示只允许读操作。viraddr是附接的虚地址。&lt;/p>&lt;/blockquote>
&lt;h2 id="shmdtaddr">shmdt(addr):
&lt;/h2>&lt;blockquote>
&lt;p>把一个共享存储区从指定进程的虚地址空间分开。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>调用该函数使用头文件:&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>#include&amp;lt;sy/types.h&amp;gt;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>#include&amp;lt;sy/ipc.h&amp;gt;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>#include&amp;lt;sy/mhm.h&amp;gt;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>参数定义:&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>int shmdt(addr)&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>char * addr&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>其中,当调用成功时,返回0值,调用不成功,返回-1,addr是系统调用shmat所返回的地址。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>10、shmctl(id,cmd,buf):&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>对与共享存储区关联的各种参数进行操作,从而对共享存储区进行控制。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>调用该函数使用头文件:&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>#include&amp;lt;sy/types.h&amp;gt;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>#include&amp;lt;sy/ipc.h&amp;gt;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>#include&amp;lt;sy/shm.h&amp;gt;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>参数定义:&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>int shmctl(id,cmd,buf)&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>int id,cmd;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>struct shmid_ds * buf;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>其中:调用成功返回0,否则返回-1。id为被共享存储区的标识符。cmd规定操作的类型。规定如下:&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>IPC_STAT:返回包含在指定的shmid相关数据结构中的状态信息,并且把它放置在用户存储区中的_but&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>指针所指的数据结构中。执行此命令的进程必须有读取允许权。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>IPC_SET:对于指定的shmid,为它设置有效用户和小组标识和操作存取权。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>IPC_RMID:删除指定的shmid以及与它相关的共享存储区的数据结构。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>SHM_LOCK:在内存中锁定指定的共享存储区,必须是超级用户才可以进行此项操作。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>Buf是一个用户级数据结构地址。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>附:&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>shmid_ds&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>{struct ipc_perm shm_perm;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>/&lt;em>允许权结构&lt;/em>/&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>int shm_segsz;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>/&lt;em>段大小&lt;/em>/&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>int padl;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>/&lt;em>由系统使用;&lt;/em>/&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>ushort shm_lpid;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>/&lt;em>最后操作的进程id;&lt;/em>/&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>ushort shm_cpid;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>/&lt;em>创建者的进程id;&lt;/em>/&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>ushort shm_nattch;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>/&lt;em>当前附界数;&lt;/em>/&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>44short pad2;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>/&lt;em>由系统使用;&lt;/em>/&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>time_t shm_atime;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>/&lt;em>最后附接时间&lt;/em>/&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>time_t shm_dtime;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>/&lt;em>最后段接时间&lt;/em>/&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>time_t shm_ctime;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>/_最后修改时间*/&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>}&lt;/p>&lt;/blockquote>
&lt;h2 id="signalsigfunction">signal(sig,function):
&lt;/h2>&lt;blockquote>
&lt;p>允许调用进程控制软中断信号的处理。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>头文件为:&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>#include&amp;lt;signal.h&amp;gt;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>参数定义:&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>signal(sig,function);&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>int sig;&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>void(*func)();&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>其中:sig的值是:&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>SIGHVP 挂起&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>SIGINT 键盘按^c键或break键&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>键盘按quit键&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>SIGQUIT&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>SIGILL 非法指令&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>SIGIOT IOT指令&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>SIGEMT EMT指令&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>SIGFPE 浮点运算溢出&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>SIGKILL 要求终止进程&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>SIGBUS 总线错&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>段违例&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>SIGSEGV&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>SIGSYS 系统调用参数错&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>SIGPIPE 向无读者管道上写&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>闹钟&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>SIGALRM&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>软件终结&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>SIGTERM&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>用户定义信号&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>SIGUSRI&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>第二个用户定义信号&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>SIGUSR2&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>SIGCLD 子进程死&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>SIGPWR电源故障&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>function的解释如下:&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>SIG_DEL:缺省操作。对除SIGPWR和SIGCLD外所有信号的缺省操作是进程终结对信号&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>SIGQUIT,SIGILL,SIGTRA,SIGIOT,SIGEMT,SIGFPE,SIGBUS,SIGSEGV和SIGSYS它产生一内存映&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>像文件。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>SIG_IGN:忽视该信号的出现。&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>Function:在该进程中的一个函数地址,在核心返回用户态时,它以软中断信号的序号作为参数调用&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>该函数,对除了信号SIGILL,SIGTRAP和SIGTWR以外的信号,核心自动地重新设置软中断信号处理程序&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>的值为SIG_DEL,一个进程不能捕获SIGKILL信&lt;/p>&lt;/blockquote></description></item><item><title>python的自动补全</title><link>https://svtter.cn/p/python%E7%9A%84%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8/</link><pubDate>Fri, 21 Nov 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/python%E7%9A%84%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8/</guid><description>&lt;h2 id="新建python_start_up_file文件">新建python_start_up_file文件
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="c1"># python startup file&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">readline&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">rlcompleter&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">atexit&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">os&lt;/span>
&lt;span class="c1"># tab completion&lt;/span>
&lt;span class="n">readline&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">parse_and_bind&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;tab: complete&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1"># history file&lt;/span>
&lt;span class="n">histfile&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">join&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">environ&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;home&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="s1">&amp;#39;.pythonhistory&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">try&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">readline&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">read_history_file&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">histfile&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">except&lt;/span> &lt;span class="n">ioerror&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="mi">&lt;/span>
&lt;span class="n">atexit&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">register&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">readline&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">write_history_file&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">histfile&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">del&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">histfile&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">readline&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">rlcompleter&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>在&lt;code>$HOME/.profile&lt;/code>文件中写入&lt;/p>
&lt;p>&lt;code>export PYTHONSTARTUP=$HOME/.python_start_up_file&lt;/code>&lt;/p>
&lt;h2 id="小注">小注：
&lt;/h2>&lt;p>可以使用py3compile来编译文件，然后使用python3+文件名来运行&lt;/p></description></item><item><title>Python-使用hexo的python脚本</title><link>https://svtter.cn/p/python-%E4%BD%BF%E7%94%A8hexo%E7%9A%84python%E8%84%9A%E6%9C%AC/</link><pubDate>Wed, 19 Nov 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/python-%E4%BD%BF%E7%94%A8hexo%E7%9A%84python%E8%84%9A%E6%9C%AC/</guid><description>&lt;p>为了简化blog的使用写的python脚本，用来简化自己的操作= =&lt;/p>
&lt;p>更新了一下。&lt;/p>
&lt;p>最新的代码在coding.net上&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="ch">#!/usr/bin/env python2&lt;/span>
&lt;span class="c1"># coding: UTF-8&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">sys&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">os&lt;/span>
&lt;span class="c1"># 博客目录&lt;/span>
&lt;span class="n">blog_dir&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;/home/svitter/svtter.github.io/source/_posts&amp;#39;&lt;/span>
&lt;span class="k">def&lt;/span> &lt;span class="nf">help&lt;/span>&lt;span class="p">():&lt;/span>
&lt;span class="sd">&amp;#39;&amp;#39;&amp;#39;output help information&amp;#39;&amp;#39;&amp;#39;&lt;/span>
&lt;span class="k">print&lt;/span> &lt;span class="s1">&amp;#39;-n: new blog&amp;#39;&lt;/span>
&lt;span class="k">print&lt;/span> &lt;span class="s1">&amp;#39;-g: Generate and push&amp;#39;&lt;/span>
&lt;span class="k">print&lt;/span> &lt;span class="s1">&amp;#39;-h: help&amp;#39;&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sys&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">argv&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">print&lt;/span> &lt;span class="s1">&amp;#39;no option&amp;#39;&lt;/span>
&lt;span class="n">help&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">sys&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">argv&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">startswith&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;-&amp;#39;&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="c1"># 改变工作目录&lt;/span>
&lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">chdir&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">blog_dir&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">option&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">sys&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">argv&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">:]&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">option&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s1">&amp;#39;n&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">system&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">"hexo n "&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">sys&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">argv&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">system&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">"gvim "&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">sys&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">argv&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s2">".md"&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">elif&lt;/span> &lt;span class="n">option&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s1">&amp;#39;g&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">system&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;hexo g&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">system&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;hexo d&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">chdir&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/home/svitter/svtter.github.io&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">system&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;. update&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">elif&lt;/span> &lt;span class="n">option&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s1">&amp;#39;h&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">help&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="k">elif&lt;/span> &lt;span class="n">option&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s1">&amp;#39;dir&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">print&lt;/span> &lt;span class="n">blog_dir&lt;/span>
&lt;span class="k">elif&lt;/span> &lt;span class="n">option&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s1">&amp;#39;e&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">system&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;gvim &amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">blog_dir&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">print&lt;/span> &lt;span class="s1">&amp;#39;no such command.&amp;#39;&lt;/span>
&lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">help&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>ACM – hdu5104-water</title><link>https://svtter.cn/p/acm-hdu5104-water/</link><pubDate>Sun, 16 Nov 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/acm-hdu5104-water/</guid><description>&lt;p>这个题目的总结就是不作不会死- -好端端的暴力我非要用个bfs。&lt;/p>
&lt;p>看见自己wrong了还以为是哈希的问题- =&lt;/p>
&lt;h1 id="题意">题意
&lt;/h1>&lt;ul>
&lt;li>p1+p2+p3 = n，$p1 &amp;lt;= p2 &amp;lt;= p3$&lt;/li>
&lt;li>输出符合条件的组数&lt;/li>
&lt;/ul>
&lt;h1 id="输入输出">输入输出
&lt;/h1>&lt;ul>
&lt;li>给100组n，输出组数&lt;/li>
&lt;/ul>
&lt;h1 id="分析">分析
&lt;/h1>&lt;ul>
&lt;li>只有3个数，暴力解就可以，注意循环终止条件。&lt;/li>
&lt;/ul>
&lt;h1 id="ac代码">AC代码
&lt;/h1>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;string.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;vector&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;map&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;algorithm&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;queue&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cmath&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;bitset&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// 大数，内存处理&lt;/span>
&lt;span class="cp">#define INF 0x3f3f3f3f&lt;/span>
&lt;span class="cp">#define ll long long int&lt;/span>
&lt;span class="cp">#define MEM(a) memset(a, 0, sizeof(a))&lt;/span>
&lt;span class="cp">#define MEMM(a) memset(b, -1, sizeof(b))&lt;/span>
&lt;span class="cp">#define DEB(x, n) cout &amp;lt;&amp;lt; (x) &amp;lt;&amp;lt; " " &amp;lt;&amp;lt; (n) &amp;lt;&amp;lt; endl;&lt;/span>
&lt;span class="c1">// 字符串处理&lt;/span>
&lt;span class="cp">#define SL(a) strlen(a)&lt;/span>
&lt;span class="cp">#define SCM(a, b) strcmp(a, b)&lt;/span>
&lt;span class="cp">#define SCP(a, b) strcpy(a, b)&lt;/span>
&lt;span class="c1">// 输入函数&lt;/span>
&lt;span class="cp">#define RS(s) scanf("%s", (s))&lt;/span>
&lt;span class="cp">#define RI(a) scanf("%d", &amp;(a))&lt;/span>
&lt;span class="cp">#define PI(r) printf("%d\n", (r))&lt;/span>
&lt;span class="cp">#define PS(s) printf("%s\n", (s))&lt;/span>
&lt;span class="cp">#define RII(a, b) scanf("%d%d", &amp;(a), &amp;(b))&lt;/span>
&lt;span class="cp">#define RIII(a, b, c) scanf("%d%d%d", &amp;(a), &amp;(b), &amp;(c))&lt;/span>
&lt;span class="c1">// 应对ONLINE_JUDGE, 读入读出处理&lt;/span>
&lt;span class="c1">// 利用bash脚本调试数据&lt;/span>
&lt;span class="cp">#ifdef ONLINE_JUDGE&lt;/span>
&lt;span class="cp">#define FOI(file) 0&lt;/span>
&lt;span class="cp">#define FOW(file) 0&lt;/span>
&lt;span class="cp">#else&lt;/span>
&lt;span class="cp">#define FOI(file) freopen(file,"r",stdin);&lt;/span>
&lt;span class="cp">#define FOW(file) freopen(file,"w",stdout);&lt;/span>
&lt;span class="cp">#endif&lt;/span>
&lt;span class="c1">// 定义常用工作变量&lt;/span>
&lt;span class="c1">//&lt;/span>
&lt;span class="cp">#define MAXN 20010&lt;/span>
&lt;span class="kr">int&lt;/span> &lt;span class="n">Prime&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">10010&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kr">bool&lt;/span> &lt;span class="n">IsPrime&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">MAXN&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kr">int&lt;/span> &lt;span class="n">num&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kr">void&lt;/span> &lt;span class="nf">init&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kr">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">num&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">IsPrime&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">IsPrime&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">MAXN&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">IsPrime&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="n">Prime&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">num&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">num&lt;/span> &lt;span class="o">&amp;&amp;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">Prime&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">MAXN&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">IsPrime&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">Prime&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="n">Prime&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]))&lt;/span>
&lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kr">int&lt;/span> &lt;span class="n">counter&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kr">void&lt;/span> &lt;span class="nf">bfs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">int&lt;/span> &lt;span class="n">cur&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">int&lt;/span> &lt;span class="n">id&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kr">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kr">int&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">cur&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">Prime&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">temp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">Prime&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">temp&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">&lt;/span> &lt;span class="o">&amp;&amp;&lt;/span> &lt;span class="n">id&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">counter&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">return&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">temp&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">&lt;/span> &lt;span class="o">&amp;&amp;&lt;/span> &lt;span class="n">id&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">bfs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">id&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">temp&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kr">void&lt;/span> &lt;span class="nf">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">bool&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kr">int&lt;/span> &lt;span class="n">len&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="n">len&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">" "&lt;/span> &lt;span class="p">;&lt;/span>
&lt;span class="c1">// cout &amp;lt;&amp;lt; a[i] &amp;lt;&amp;lt; " ";&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kr">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="c1">//FOI("input");&lt;/span>
&lt;span class="c1">//FOW("output");&lt;/span>
&lt;span class="c1">//write your programme here&lt;/span>
&lt;span class="n">init&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="c1">// debug(IsPrime, 100);&lt;/span>
&lt;span class="kr">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kr">int&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kr">int&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kr">int&lt;/span> &lt;span class="n">temp2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">~&lt;/span>&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">counter&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// bfs(0, n, 1);&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">Prime&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">temp&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">Prime&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">Prime&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">temp&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">temp2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">temp&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">Prime&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">temp2&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">Prime&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="n">IsPrime&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">temp2&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="n">counter&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">temp2&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">counter&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>使用gdb调试</title><link>https://svtter.cn/p/%E4%BD%BF%E7%94%A8gdb%E8%B0%83%E8%AF%95/</link><pubDate>Sun, 16 Nov 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E4%BD%BF%E7%94%A8gdb%E8%B0%83%E8%AF%95/</guid><description>&lt;p>最近都是用gcc+vim写代码，昨天突然写个代码算法出个逻辑bug，因为用了大量递归调用，DEB半天出不来也是醉了，于是&lt;/p>
&lt;p>学习一下gdb——之前也是勉强使用过，但是明显感觉不爽阿。。所以这次好好学习，记录一下。&lt;/p>
&lt;p>目前我能用到的几个命令：&lt;/p>
&lt;h1 id="选择调试文件">选择调试文件
&lt;/h1>&lt;ul>
&lt;li>&lt;code>&amp;lt;shell&amp;gt;: gdb &amp;lt;file&amp;gt;&lt;/code>&lt;/li>
&lt;li>或者进入gdb以后，使用&lt;/li>
&lt;/ul>
&lt;h1 id="断点">断点
&lt;/h1>&lt;h2 id="显示断点">显示断点
&lt;/h2>&lt;ul>
&lt;li>&lt;code>(gdb): info break&lt;/code>&lt;/li>
&lt;/ul>
&lt;h2 id="添加静态断点">添加静态断点
&lt;/h2>&lt;ul>
&lt;li>&lt;code>(gdb): b[reak] + 行数/函数名 (可以用tab补全)&lt;/code>&lt;/li>
&lt;/ul>
&lt;h2 id="添加条件断点">添加条件断点
&lt;/h2>&lt;p>条件为真，则在断点处停止&lt;/p>
&lt;p>– &lt;code>(gdb): b addr if condition&lt;/code>&lt;/p>
&lt;h2 id="删除断点">删除断点
&lt;/h2>&lt;p>删除编号为1的断点, 如果不加参数，会删除所有断点&lt;/p>
&lt;p>– &lt;code>(gdb): delete breakpoint 1&lt;/code>&lt;/p>
&lt;h2 id="启用禁用断点">启用/禁用断点
&lt;/h2>&lt;ul>
&lt;li>&lt;code>(gdb): disable breakpoint 1&lt;/code>&lt;/li>
&lt;li>&lt;code>(gdb): enable breakpoint 1&lt;/code>&lt;/li>
&lt;/ul>
&lt;h1 id="运行">运行
&lt;/h1>&lt;h2 id="开始运行">开始运行
&lt;/h2>&lt;ul>
&lt;li>&lt;code>(gdb):r&lt;/code>&lt;/li>
&lt;/ul>
&lt;h2 id="继续">继续
&lt;/h2>&lt;ul>
&lt;li>&lt;code>(gdb):c&lt;/code>&lt;/li>
&lt;/ul>
&lt;h2 id="单步调试">单步调试
&lt;/h2>&lt;p>不进入单步执行&lt;/p>
&lt;p>– &lt;code>(gdb):n&lt;/code>&lt;/p>
&lt;p>进入的单步&lt;/p>
&lt;p>– &lt;code>(gdb):s[tep&lt;/code>&lt;/p>
&lt;h1 id="显示变量">显示变量
&lt;/h1>&lt;p>以变量为var为例&lt;/p>
&lt;h2 id="输出var的值">输出var的值
&lt;/h2>&lt;ul>
&lt;li>&lt;code>(gdb):p var&lt;/code>&lt;/li>
&lt;/ul>
&lt;h2 id="输出上一个求得值">输出上一个求得值
&lt;/h2>&lt;ul>
&lt;li>&lt;code>(gdb):p&lt;/code>&lt;/li>
&lt;/ul>
&lt;h2 id="输出历史记录中值">输出历史记录中值
&lt;/h2>&lt;ul>
&lt;li>&lt;code>(gdb):p $[num]&lt;/code>&lt;/li>
&lt;/ul>
&lt;h2 id="输出变量的类型">输出变量的类型
&lt;/h2>&lt;ul>
&lt;li>&lt;code>(gdb):whatis p&lt;/code>&lt;/li>
&lt;/ul>
&lt;h2 id="调用函数">调用函数
&lt;/h2>&lt;ul>
&lt;li>&lt;code>(gdb):p add(a, b)&lt;/code>&lt;/li>
&lt;/ul>
&lt;h2 id="数组">数组
&lt;/h2>&lt;p>输出a后面的十个元素&lt;/p>
&lt;p>– &lt;code>(gdb):p a@10&lt;/code>&lt;/p>
&lt;h1 id="设置运行参数">设置运行参数
&lt;/h1>&lt;ul>
&lt;li>&lt;code>(gdb):set args -b -x&lt;/code>&lt;/li>
&lt;li>&lt;code>(gdb):show args&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>参见大牛的部分：(陈皓的gdb讲解)[http://blog.csdn.net/haoel/article/details/2880]&lt;/p>
&lt;blockquote>
&lt;p>二、设置观察点（WatchPoint）&lt;/p>&lt;/blockquote>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>观察点一般来观察某个表达式（变量也是一种表达式）的值是否有变化了，如果有变化，马上停住程序。我们有下面的几种方法来设置观察点：
watch &amp;lt;expr&amp;gt;
为表达式（变量）expr设置一个观察点。一量表达式值有变化时，马上停住程序。
rwatch &amp;lt;expr&amp;gt;
当表达式（变量）expr被读时，停住程序。
awatch &amp;lt;expr&amp;gt;
当表达式（变量）的值被读或被写时，停住程序。
info watchpoints
列出当前所设置了的所有观察点。
&lt;/pre>
&lt;/div>
&lt;h1 id="tag">TAG
&lt;/h1>&lt;ul>
&lt;li>直接输入&lt;code>&amp;lt;CR&amp;gt;&lt;/code>，执行上一条命令&lt;/li>
&lt;/ul></description></item><item><title>解决无法在CentOS下的gvim中使用ibus输入中文</title><link>https://svtter.cn/p/%E8%A7%A3%E5%86%B3%E6%97%A0%E6%B3%95%E5%9C%A8centos%E4%B8%8B%E7%9A%84gvim%E4%B8%AD%E4%BD%BF%E7%94%A8ibus%E8%BE%93%E5%85%A5%E4%B8%AD%E6%96%87/</link><pubDate>Sat, 15 Nov 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E8%A7%A3%E5%86%B3%E6%97%A0%E6%B3%95%E5%9C%A8centos%E4%B8%8B%E7%9A%84gvim%E4%B8%AD%E4%BD%BF%E7%94%A8ibus%E8%BE%93%E5%85%A5%E4%B8%AD%E6%96%87/</guid><description>&lt;h1 id="问题">问题
&lt;/h1>&lt;p>之前在gvim中一直无法使用中文，格外痛苦，后来使用了vim-ibus插件之后，可以在vim中使用中文了，但是依然不能在gvim中使用，一直以为是两个软件冲突的&lt;/p>
&lt;p>问题，现在终于解决了。&lt;/p>
&lt;ul>
&lt;li>gvim version: vim-X11&lt;/li>
&lt;li>ibus version: 1.6&lt;/li>
&lt;/ul>
&lt;h1 id="解决方案">解决方案
&lt;/h1>&lt;ul>
&lt;li>问题出在：使用的vim插件中有插件与ibus冲突，但是奈何找不到X11的log（应该可以找到，找到再说。。）&lt;/li>
&lt;li>排查方式比较简单，使用&lt;code>:PluginInstall&lt;/code>,&lt;code>:PluginClean&lt;/code>即可(考虑到我使用vundle管理插件)&lt;/li>
&lt;li>去除相应的插件即可(比如现在冲突的是auto-pairs)。如果不想去除冲突插件，可以考虑使用vim-ibus，这个在shell下是可以使得很多冲突减少的。&lt;/li>
&lt;li>可能auto-pairs在不久的将来就会修复这个bug，请在具体环境下排查&lt;/li>
&lt;/ul></description></item><item><title>Linux-存储管理</title><link>https://svtter.cn/p/linux-%E5%AD%98%E5%82%A8%E7%AE%A1%E7%90%86/</link><pubDate>Fri, 14 Nov 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/linux-%E5%AD%98%E5%82%A8%E7%AE%A1%E7%90%86/</guid><description>&lt;p>还未动笔&lt;/p></description></item><item><title>Linux-进程管理</title><link>https://svtter.cn/p/linux-%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/</link><pubDate>Fri, 14 Nov 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/linux-%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/</guid><description>&lt;p>本文出自&amp;lt;svtter.github.io&amp;gt;&lt;/p>
&lt;h2 id="进程的创建">进程的创建
&lt;/h2>&lt;p>用于进程的创建。fork()的作用是，从&lt;strong>当前位置&lt;/strong>创建一个子进程，并执行。fork的返回值为子进程的pid&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">p1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">p1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">fork&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="c1">//父进程返回1， 子进程返回0&lt;/span>
&lt;span class="n">putchar&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sc">&amp;#39;b&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">else&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">fork&lt;/span>&lt;span class="p">())&lt;/span>
&lt;span class="n">putchar&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sc">&amp;#39;c&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">else&lt;/span>
&lt;span class="n">putchar&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sc">&amp;#39;a&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h3 id="运行结果">运行结果
&lt;/h3>&lt;img alt="运行结果" src="https://i1.wp.com/ww2.sinaimg.cn/mw690/c53b1907jw1emivyoryqoj205704d3yg.jpg?w=625" data-recalc-dims="1" />
&lt;h2 id="进程的控制">进程的控制
&lt;/h2>&lt;p>在这段代码中使用了lockf, 和wait函数。作用是什么呢？&lt;/p>
&lt;ul>
&lt;li>
&lt;p>lockf顾名思义是锁定file. &lt;code>lockf(1, 1, 0)&lt;/code>锁定资源，&lt;code>lockf(1, 0, 0)&lt;/code>释放资源。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>wait作用为等待子进程的返回信息。wait中的signal用于接受进程的返回信号，即exit(0)中的0&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;wait.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="c1">// 利用lockf(1, 1, 0)锁定输出设备&lt;/span>
&lt;span class="c1">// lockf(1, 0, 0)解锁输出设备&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">p1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">fork&lt;/span>&lt;span class="p">())&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">lockf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">500&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"parent%d&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">lockf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">wait&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">//confirm the father killed after child&lt;/span>
&lt;span class="n">exit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">else&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">fork&lt;/span>&lt;span class="p">())&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">lockf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">500&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"son %d&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">lockf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">wait&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">//&lt;/span>
&lt;span class="n">exit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">else&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">lockf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">500&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"grandchild%d&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">lockf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">exit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h3 id="运行结果-1">运行结果
&lt;/h3>&lt;img alt="运行结果" src="https://i2.wp.com/ww4.sinaimg.cn/mw690/c53b1907jw1emivx24ob6j20hy0dhgmh.jpg?w=625" data-recalc-dims="1" /></description></item><item><title>Python – 一个Python的备份脚本</title><link>https://svtter.cn/p/python-%E4%B8%80%E4%B8%AApython%E7%9A%84%E5%A4%87%E4%BB%BD%E8%84%9A%E6%9C%AC/</link><pubDate>Fri, 14 Nov 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/python-%E4%B8%80%E4%B8%AApython%E7%9A%84%E5%A4%87%E4%BB%BD%E8%84%9A%E6%9C%AC/</guid><description>&lt;h1 id="tags">TAGS
&lt;/h1>&lt;ul>
&lt;li>python的注释必须与代码相隔两个空格&lt;/li>
&lt;li>#与注释语言间必须有一个空格&lt;/li>
&lt;/ul>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="ch">#!/usr/bin/python&lt;/span>
&lt;span class="c1"># FileName: backup.py&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">os&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">time&lt;/span>
&lt;span class="c1"># 1. The files and directories be backed up are specified in a list.&lt;/span>
&lt;span class="n">source&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;/home/svitter/bin&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;/home/svitter/tmp&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="c1"># 2. The backup must be stored in a main backup directories.&lt;/span>
&lt;span class="n">target_dir&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;/home/svitter/backup/&amp;#39;&lt;/span>
&lt;span class="c1"># 3. The files are backed up into a zipfile&lt;/span>
&lt;span class="c1"># 4. The name of the zip archieve is the current date and time&lt;/span>
&lt;span class="n">target&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">target_dir&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">time&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">strftime&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;%Y_%m_&lt;/span>&lt;span class="si">%d&lt;/span>&lt;span class="s1">_%H_%M_%S&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;.zip&amp;#39;&lt;/span>
&lt;span class="c1"># 5. we use the zip command to put the files in a zip archive&lt;/span>
&lt;span class="n">zip_command&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">"zip -qr &amp;#39;&lt;/span>&lt;span class="si">%s&lt;/span>&lt;span class="s2">&amp;#39; &lt;/span>&lt;span class="si">%s&lt;/span>&lt;span class="s2">"&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">target&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39; &amp;#39;&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">join&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">source&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="c1"># Run the backup&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">system&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">zip_command&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">print&lt;/span> &lt;span class="s1">&amp;#39;Successful backup to&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">target&lt;/span>
&lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">print&lt;/span> &lt;span class="s1">&amp;#39;Backup FAILED&amp;#39;&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>Linux -基础学习笔记-2</title><link>https://svtter.cn/p/linux-%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-2/</link><pubDate>Wed, 12 Nov 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/linux-%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-2/</guid><description>&lt;h1 id="linux用户和用户组">Linux用户和用户组
&lt;/h1>&lt;ul>
&lt;li>简单解释：&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">文件权限&lt;/th>
&lt;th style="text-align: left">连接数&lt;/th>
&lt;th style="text-align: left">文件所有者&lt;/th>
&lt;th style="text-align: left">文件所属用户组&lt;/th>
&lt;th style="text-align: left">文件大小&lt;/th>
&lt;th style="text-align: left">文件最后被修改的时间&lt;/th>
&lt;th style="text-align: left">文件名&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">-rw-r–r–&lt;/td>
&lt;td style="text-align: left">1&lt;/td>
&lt;td style="text-align: left">root&lt;/td>
&lt;td style="text-align: left">root&lt;/td>
&lt;td style="text-align: left">42304&lt;/td>
&lt;td style="text-align: left">Sep 4 18:26&lt;/td>
&lt;td style="text-align: left">install.log&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="第一列">第一列
&lt;/h2>&lt;ul>
&lt;li>第一个字符代表文件类型，如果是d代表目录，-代表文件，l代表链接文件，b代表可供存储的接口设备，c代表串行设备，如键盘鼠标等。&lt;/li>
&lt;li>三组分别代表本用户的权限，同用户组的权限，和其他用户组的权限&lt;/li>
&lt;li>root的权限无限大&lt;/li>
&lt;li>权限对于目录，文件是不同的；&lt;/li>
&lt;/ul>
&lt;h2 id="第二列">第二列
&lt;/h2>&lt;ul>
&lt;li>表示有多少文件名连接这个节点。i-node.&lt;/li>
&lt;/ul>
&lt;h2 id="第三列">第三列
&lt;/h2>&lt;h2 id="第四列">第四列
&lt;/h2>&lt;h2 id="第五列">第五列
&lt;/h2>&lt;ul>
&lt;li>这个文件的容量大小，默认单位为B&lt;/li>
&lt;/ul>
&lt;h2 id="第六列">第六列
&lt;/h2>&lt;ul>
&lt;li>表示这个文件的创建日期或者最近修改日期。&lt;/li>
&lt;/ul>
&lt;h2 id="tag">tag
&lt;/h2>&lt;ul>
&lt;li>使用&lt;code>ls -l --full-time&lt;/code>可以显示完整。&lt;/li>
&lt;/ul>
&lt;h1 id="改变文件属性和权限">改变文件属性和权限
&lt;/h1>&lt;p>使用如下命令：&lt;/p>
&lt;p>– chgrp&lt;/p>
&lt;p>– chmod&lt;/p>
&lt;p>– chown&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>因为太过熟悉，这里就不记录了。
&lt;/pre>
&lt;/div>
&lt;ul>
&lt;li>基本文件权限的数字&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">权限&lt;/th>
&lt;th style="text-align: left">二进制&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">r:4&lt;/td>
&lt;td style="text-align: left">100&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">w:2&lt;/td>
&lt;td style="text-align: left">010&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">x:1&lt;/td>
&lt;td style="text-align: left">001&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="tag-1">tag
&lt;/h2>&lt;ul>
&lt;li>&lt;code>cp&lt;/code>是不会改变用户权限，因此要另外给予权限。&lt;/li>
&lt;li>&lt;code>chown root:root install.log&lt;/code>可以使用如此权限来更改用户名，用户的所属。
&lt;ul>
&lt;li>&lt;code>chown root.root install.log&lt;/code>亦可&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h1 id="tag-2">TAG:
&lt;/h1>&lt;ul>
&lt;li>如果想让系统语言变成英文，可以到&lt;code>/etc/sysconfig/i18n&lt;/code>修改，使得LANG这个变量变成&lt;code>en_US&lt;/code>即可&lt;/li>
&lt;/ul></description></item><item><title>php-php的类</title><link>https://svtter.cn/p/php-php%E7%9A%84%E7%B1%BB/</link><pubDate>Wed, 12 Nov 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/php-php%E7%9A%84%E7%B1%BB/</guid><description>&lt;p>关于PHP的类 &lt;a class="link" href="http://php.net/manual/zh/language.oop5.php" target="_blank" rel="noopener"
>http://php.net/manual/zh/language.oop5.php&lt;/a>&lt;/p>
&lt;p>（本来想顺便学学nodejs的，但是谁有那么多精力啊。。还有js学的像狗屎一样= =）&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">&amp;lt;?php&lt;/span>
&lt;span class="k">class&lt;/span> &lt;span class="nc">Test&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">private&lt;/span> &lt;span class="nv">$name&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// 可以定义类的访问权限&lt;/span>
&lt;span class="k">public&lt;/span> &lt;span class="k">function&lt;/span> &lt;span class="fm">__construct&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nv">$name&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">//构造函数&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="nv">$this&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="na">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nv">$name&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">public&lt;/span> &lt;span class="k">function&lt;/span> &lt;span class="nf">echoname&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">echo&lt;/span> &lt;span class="nv">$this&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="na">name&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="nv">$a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Test&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">"This is a."&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="nv">$a&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="na">echoname&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/pre>
&lt;/div>
&lt;ul>
&lt;li>构造函数重载我不会，有时间再更新吧。。&lt;/li>
&lt;li>先记录这些。&lt;/li>
&lt;/ul></description></item><item><title>Linux-SELinux-httpd无法访问</title><link>https://svtter.cn/p/linux-selinux-httpd%E6%97%A0%E6%B3%95%E8%AE%BF%E9%97%AE/</link><pubDate>Mon, 10 Nov 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/linux-selinux-httpd%E6%97%A0%E6%B3%95%E8%AE%BF%E9%97%AE/</guid><description>&lt;h1 id="目录的问题">目录的问题
&lt;/h1>&lt;p>由于SELinux造成的httpd中的目录无法访问，可以使用&lt;/p>
&lt;ul>
&lt;li>&lt;code>chcon -R -t httpd_user_content_t &amp;lt;path to web files&amp;gt;&lt;/code>&lt;/li>
&lt;li>&lt;code>chcon -R -t httpd_sys_content_t &amp;lt;path to web files&amp;gt;&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>mark一个网站()[http://www.jb51.net/os/RedHat/1303.html]&lt;/p>
&lt;h1 id="文件夹访问权限">文件夹访问权限
&lt;/h1>&lt;p>以上方法解决了SELinux的问题，但是我的目录依然没有访问权限。&lt;/p>
&lt;p>然后看了一下文件的基本属性: &lt;code>-rw-r--r--. 1 root root 21 11月 11 12:27 index.html&lt;/code>&lt;/p>
&lt;p>应该也是没有问题的。&lt;/p>
&lt;h1 id="再查selinux">再查SElinux
&lt;/h1>&lt;p>随后使用&lt;code>cat /var/log/messages&lt;/code>探索一番，依然没有找到问题所在——SELinux没有报错。&lt;/p>
&lt;p>防火墙的问题？不是阿。因为我本身是在内网访问，防火墙应该不会出问题。&lt;/p>
&lt;p>那应该是什么问题呢？&lt;/p>
&lt;h1 id="配置文件">配置文件
&lt;/h1>&lt;p>终于在配置文件中找到了问题。&lt;/p>
&lt;p>apache在进入2.4.*以后，不再使用&lt;code>Allow from all&lt;/code>这种形式了，取而代之，使用&lt;code>Require from granted&lt;/code>这种格式。晕，就是在此处，&lt;code>&amp;lt;Directory&amp;gt;&lt;/code>没有设置好，坑了好久阿。。&lt;/p>
&lt;p>相对的我这几天一直都在deepin下开发——因为&lt;code>apt-get&lt;/code>得到的apache之前比较习惯，此外deepin没有se也是省了很多功夫。不过通过这一次，总算是把问题解决了！&lt;/p>
&lt;p>鼓励！&lt;/p></description></item><item><title>从grub rescue修复</title><link>https://svtter.cn/p/%E4%BB%8Egrub-rescue%E4%BF%AE%E5%A4%8D/</link><pubDate>Mon, 10 Nov 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E4%BB%8Egrub-rescue%E4%BF%AE%E5%A4%8D/</guid><description>&lt;h1 id="修复grub-rescue模式">修复grub-rescue模式
&lt;/h1>&lt;p>今天删除了一个多余的分区，结果grub找不到原来的启动mod了，也是学习了。&lt;/p>
&lt;p>grub-rescue模式中只能用ls, insmod, set root= , set prefix= ,这几个命令。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>使用ls显示所有的磁盘。
然后ls (hd0, X)/boot/grub2 查看启动的盘符。
set root=(hd0, X);
set prefix=(hd0, X)/boot/grub2
insmod normal
normal
&lt;/pre>
&lt;/div>
&lt;p>发现没搞定，重启还是不幸。&lt;/p>
&lt;p>使用&lt;code># grub2-install /dev/sda&lt;/code>&lt;/p>
&lt;p>然后就搞定= =&lt;/p></description></item><item><title>Linux – CentOS-安装更新并重启</title><link>https://svtter.cn/p/linux-centos-%E5%AE%89%E8%A3%85%E6%9B%B4%E6%96%B0%E5%B9%B6%E9%87%8D%E5%90%AF/</link><pubDate>Sun, 09 Nov 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/linux-centos-%E5%AE%89%E8%A3%85%E6%9B%B4%E6%96%B0%E5%B9%B6%E9%87%8D%E5%90%AF/</guid><description>&lt;p>有时候我们用&lt;code>yum update&lt;/code>更新了系统，但是选项中【一般gnome-session】的’安装更&lt;/p>
&lt;p>依然固执的在那里我们应该怎么办？&lt;/p>
&lt;p>打开’软件更新’即可。&lt;/p></description></item><item><title>Linux – 基础学习笔记(1)</title><link>https://svtter.cn/p/linux-%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/</link><pubDate>Sun, 09 Nov 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/linux-%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/</guid><description>&lt;h1 id="linux基础学习笔记">Linux基础学习笔记
&lt;/h1>&lt;p>以鸟哥的私房菜为基础进行学习。&lt;/p>
&lt;p>用Linux有接近两年的时间了，还是很水，于是决定从头开始，认真学习基础。&lt;/p>
&lt;h2 id="date的基础用法">date的基础用法
&lt;/h2>&lt;ul>
&lt;li>&lt;code>date +%H:%M&lt;/code> 显示&lt;code>19:54&lt;/code>&lt;/li>
&lt;li>&lt;code>date +%Y/%m/%d&lt;/code> 显示&lt;code>2014/11/09&lt;/code>&lt;/li>
&lt;/ul>
&lt;h2 id="使用man进行查询">使用man进行查询
&lt;/h2>&lt;p>&lt;code>man + (command)&lt;/code>&lt;/p>
&lt;p>一般，2代表系统内核可调用的函数与工具，3代表一些常用的函数，7代表惯例与协议，例如Linux文件系统，网络协议，ASCcode，8代表系统管理员可用命令，9&lt;/p>
&lt;p>代表与kernel有关的文件。&lt;/p>
&lt;p>man的操作方式和vi差不多，而info的操作方式则更接近于emacs（= =莫非又是两大党的斗争？！）&lt;/p>
&lt;h2 id="数据同步写入磁盘sync">数据同步写入磁盘：sync
&lt;/h2>&lt;p>在Linux中为了避免过多对磁盘的I/O，所以很多操作并未马上写入硬盘，所以使用sync进行写入。对于root而言，则是更新整个磁盘的数据了。&lt;/p>
&lt;h2 id="shutdown命令关机">shutdown命令关机
&lt;/h2>&lt;ul>
&lt;li>
&lt;p>立即关机&lt;code>shutdown -h now&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>定时关机&lt;code>shutdown -h 20:25&lt;/code> —会在20:25分关机，如果超过了这个时间使用这个命令，则会在第二天的这个时间关机。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>再过10分钟关机&lt;code>shutdown -h +10&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>警告所有用户&lt;code>shutdown -k 'this system will reboot.'&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>重启，并警告所有用户&lt;code>shutdown -r +30 'The system will reboot.'&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="三种执行等级">三种执行等级
&lt;/h2>&lt;blockquote>
&lt;p>因为CentOS7使用systemd启动，所以可能并不支持。&lt;/p>&lt;/blockquote>
&lt;ul>
&lt;li>run level 0 关机&lt;/li>
&lt;li>run level 3 纯命令行&lt;/li>
&lt;li>run level 5 含有图形界面&lt;/li>
&lt;li>run level 6 重启&lt;/li>
&lt;/ul>
&lt;p>因此，可以使用&lt;code>init 0&lt;/code>来关闭系统。&lt;/p></description></item><item><title>ACM – hdu5086-water</title><link>https://svtter.cn/p/acm-hdu5086-water/</link><pubDate>Sat, 08 Nov 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/acm-hdu5086-water/</guid><description>&lt;h2 id="题意">题意
&lt;/h2>&lt;blockquote>
&lt;p>找出子序列和，因为数字过大，mod 1 000 000 007&lt;/p>&lt;/blockquote>
&lt;h2 id="输入输出">输入输出
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>2 //test case
1
2
3
1 2 3
&lt;/pre>
&lt;/div>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>2
20
&lt;/pre>
&lt;/div>
&lt;h2 id="分析">分析
&lt;/h2>&lt;p>本来很简单的题目，但是因为读错了题意做了好久，还没AC&lt;/p>
&lt;p>计算每个数字出现的次数，然后相加，记得不要溢出即可。&lt;/p>
&lt;p>规律$C_i = (i+1) * (N – i)$ _i从0开始&lt;/p>
&lt;p>按照如下方法分析:&lt;/p>
&lt;p>假设1 2 3 4, 则1生成的序列为：&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>1 2 3 4
1 2 3
1 2
1
&lt;/pre>
&lt;/div>
&lt;p>此时N为4， i为0, 1的次数为N, 2的次数为N-1, 3的次数为N-2， 4的次数为N-3.&lt;/p>
&lt;p>对应2则为:&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>2 3 4
2 3
3
&lt;/pre>
&lt;/div>
&lt;p>此时情况可以用表来表示&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">i&lt;/th>
&lt;th style="text-align: left">&lt;/th>
&lt;th style="text-align: left">1&lt;/th>
&lt;th style="text-align: left">2&lt;/th>
&lt;th style="text-align: left">3&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">1&lt;/td>
&lt;td style="text-align: left">N&lt;/td>
&lt;td style="text-align: left">N-1&lt;/td>
&lt;td style="text-align: left">N-2&lt;/td>
&lt;td style="text-align: left">N-3&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">2&lt;/td>
&lt;td style="text-align: left">&lt;/td>
&lt;td style="text-align: left">N-1&lt;/td>
&lt;td style="text-align: left">N-2&lt;/td>
&lt;td style="text-align: left">N-3&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">3&lt;/td>
&lt;td style="text-align: left">&lt;/td>
&lt;td style="text-align: left">N-1&lt;/td>
&lt;td style="text-align: left">N-2&lt;/td>
&lt;td style="text-align: left">N-3&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>可以观察出规律&lt;/p>
&lt;h2 id="ac_code">AC_code
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;string.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;vector&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;map&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;algorithm&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;queue&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;cmath&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;bitset&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="k">using&lt;/span> &lt;span class="k">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// 大数，内存处理&lt;/span>
&lt;span class="cp">#define INF 0x3f3f3f3f&lt;/span>
&lt;span class="cp">#define ll long long &lt;/span>
&lt;span class="c1">// 定义常用工作变量&lt;/span>
&lt;span class="c1">// #define MAXN 447010&lt;/span>
&lt;span class="cp">#define MAXN 1000000007&lt;/span>
&lt;span class="n">ll&lt;/span> &lt;span class="n">tmp&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">T&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">cin&lt;/span> &lt;span class="o">&amp;gt;&amp;gt;&lt;/span> &lt;span class="n">T&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">ll&lt;/span> &lt;span class="n">sum&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ci&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">T&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">sum&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%lld"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">tmp&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">sum&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">tmp&lt;/span> &lt;span class="o">%&lt;/span>&lt;span class="n">MAXN&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">%&lt;/span>&lt;span class="n">MAXN&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">%&lt;/span>&lt;span class="n">MAXN&lt;/span> &lt;span class="p">;&lt;/span>
&lt;span class="n">sum&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">sum&lt;/span> &lt;span class="o">%&lt;/span>&lt;span class="n">MAXN&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%lld&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">sum&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="n">MAXN&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>bash相关知识</title><link>https://svtter.cn/p/bash%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86/</link><pubDate>Sat, 08 Nov 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/bash%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86/</guid><description>&lt;p>今天想用wget+正则写一个简单的dict，结果不幸失败了。。&lt;/p>
&lt;p>一方面是正则表达式学习不到家，另一方面是wget命令没有习得精华。&lt;/p>
&lt;h1 id="wget">wget
&lt;/h1>&lt;p>下载到指定的目录&lt;code>wget -P youwant/ (URL)&lt;/code>&lt;/p>
&lt;p>利用-P就可以下载到指定目录了，奈何从man里面找找了半天，还是自己的英语不过关阿。&lt;/p>
&lt;h1 id="bash">bash
&lt;/h1>&lt;p>可以使用grep以及sed, awk进行格式的匹配。发现鸟哥的私房菜看的还是太粗，也有一段时间没有好好看了。&lt;/p>
&lt;p>有时间重新补充一下这篇博客，先处理一下算法题目。&lt;/p></description></item><item><title>n种方法实现并行枚举排序</title><link>https://svtter.cn/p/n%E7%A7%8D%E6%96%B9%E6%B3%95%E5%AE%9E%E7%8E%B0%E5%B9%B6%E8%A1%8C%E6%9E%9A%E4%B8%BE%E6%8E%92%E5%BA%8F/</link><pubDate>Sat, 08 Nov 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/n%E7%A7%8D%E6%96%B9%E6%B3%95%E5%AE%9E%E7%8E%B0%E5%B9%B6%E8%A1%8C%E6%9E%9A%E4%B8%BE%E6%8E%92%E5%BA%8F/</guid><description>&lt;p>这篇文章一直没有写，因为并行计算的报告写的比较潦草。此外，没有实现fork。&lt;/p>
&lt;p>文件的源代码贴在 &lt;a class="link" href="https://github.com/Svtter/workspace/tree/master/parallel/enum_sort" target="_blank" rel="noopener"
>https://github.com/Svtter/workspace/tree/master/parallel/enum_sort&lt;/a>&lt;/p>
&lt;p>实现了Java, MPI, openmp, pthread, win32, MFC, .NET 的并行枚举排序，测试机是双核四线程的ThinkpadE430.&lt;/p>
&lt;p>MPI的环境是archlinux . openmpi&lt;/p>
&lt;p>贴一个MPI的源代码, 运行结果都在源代码对应的文件夹中保存，这里就不贴了。&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cm">/*=============================================================================&lt;/span>
&lt;span class="cm">#&lt;/span>
&lt;span class="cm"># Author: svtter - svtter@qq.com&lt;/span>
&lt;span class="cm">#&lt;/span>
&lt;span class="cm"># QQ : 57180160&lt;/span>
&lt;span class="cm">#&lt;/span>
&lt;span class="cm"># Last modified: 2014-11-02 17:08&lt;/span>
&lt;span class="cm">#&lt;/span>
&lt;span class="cm"># Filename: enum_sort_MPI.cpp&lt;/span>
&lt;span class="cm">#&lt;/span>
&lt;span class="cm"># Description: &lt;/span>
&lt;span class="cm">#&lt;/span>
&lt;span class="cm">=============================================================================*/&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">"mpi.h"&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;math.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;sys/time.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdlib.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;time.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;string.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;iostream&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">using&lt;/span> &lt;span class="n">namespace&lt;/span> &lt;span class="n">std&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="cp">#define MAXN 10000&lt;/span>
&lt;span class="cp">#define PMAX 1000&lt;/span>
&lt;span class="kr">void&lt;/span> &lt;span class="nf">build&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kr">int&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">[])&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">srand&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">time&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">NULL&lt;/span>&lt;span class="p">));&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">MAXN&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nf">random&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="n">PMAX&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="c1">//serial enum sort&lt;/span>
&lt;span class="kr">double&lt;/span> &lt;span class="nf">serial_enum_sort&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kr">int&lt;/span> &lt;span class="n">at&lt;/span>&lt;span class="p">[])&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kr">double&lt;/span> &lt;span class="n">t1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">t2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">t1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">MPI_Wtime&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="kr">int&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">MAXN&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">k&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">MAXN&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;&amp;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="n">k&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">at&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">t2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">MPI_Wtime&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">t2&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">t1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="c1">// 用于调试数组&lt;/span>
&lt;span class="kr">void&lt;/span> &lt;span class="nf">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kr">int&lt;/span> &lt;span class="n">len&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">len&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">fprintf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">stderr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"%5d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">fprintf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">stderr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kr">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">MAXN&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">MAXN&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">at&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">MAXN&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">bt&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">MAXN&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kr">void&lt;/span> &lt;span class="nf">ensort&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">int&lt;/span> &lt;span class="n">rank&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kr">int&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">myid&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">int&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">numprocs&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kr">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">myid&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">MAXN&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">+=&lt;/span>&lt;span class="n">numprocs&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">k&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">MAXN&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;&amp;&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">)))&lt;/span>
&lt;span class="n">k&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">rank&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kr">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kr">int&lt;/span> &lt;span class="n">argc&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">char&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">argv&lt;/span>&lt;span class="p">[])&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kr">int&lt;/span> &lt;span class="n">myid&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">numprocs&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kr">int&lt;/span> &lt;span class="n">namelen&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kr">char&lt;/span> &lt;span class="n">processor_name&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">MPI_MAX_PROCESSOR_NAME&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kr">double&lt;/span> &lt;span class="n">c1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">c2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kr">double&lt;/span> &lt;span class="n">start&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nf">end&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kr">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">MPI_Init&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;&lt;/span>&lt;span class="n">argc&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">argv&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">MPI_Comm_rank&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">MPI_COMM_WORLD&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">myid&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">MPI_Comm_size&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">MPI_COMM_WORLD&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">numprocs&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">MPI_Get_processor_name&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">processor_name&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">namelen&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="c1">// fprintf(stderr, "Hello world! Processor %d of %d on %s\n", myid, numprocs, processor_name);&lt;/span>
&lt;span class="c1">//serial&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">myid&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="n">build&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">c1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">serial_enum_sort&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">at&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">"original array is: "&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">"serial sorted array is: "&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">at&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">"serial cost time is: "&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">c1&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kr">int&lt;/span> &lt;span class="n">con&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">numprocs&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">MAXN&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kr">int&lt;/span> &lt;span class="n">pt&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">MAXN&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="n">memset&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">con&lt;/span> &lt;span class="p">,&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">con&lt;/span>&lt;span class="p">));&lt;/span>
&lt;span class="n">memset&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pt&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kr">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pt&lt;/span>&lt;span class="p">));&lt;/span>
&lt;span class="c1">// int **con = new int*[numprocs];&lt;/span>
&lt;span class="c1">// for(int i = 0; i &amp;lt; numprocs; i++)&lt;/span>
&lt;span class="c1">// con[i] = new int[MAXN+10];&lt;/span>
&lt;span class="n">start&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">MPI_Wtime&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="c1">// P0 send b to ALL&lt;/span>
&lt;span class="n">MPI_Bcast&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">MAXN&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">MPI_INT&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">MPI_COMM_WORLD&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">ensort&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pt&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">myid&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">numprocs&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="c1">// Gather&lt;/span>
&lt;span class="n">MPI_Gather&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pt&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">MAXN&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">MPI_INT&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">con&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">myid&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">MAXN&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">MPI_INT&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">MPI_COMM_WORLD&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="c1">// if(myid == 0)&lt;/span>
&lt;span class="c1">// {&lt;/span>
&lt;span class="c1">// fprintf(stderr, "myid: %d\n", myid);&lt;/span>
&lt;span class="c1">// fprintf(stderr, "con: %d\n", myid);&lt;/span>
&lt;span class="c1">// debug(con[1], 100);&lt;/span>
&lt;span class="c1">// fprintf(stderr, "pt: %d\n", myid);&lt;/span>
&lt;span class="c1">// debug(pt, 100);&lt;/span>
&lt;span class="c1">// fprintf(stderr, "\n");&lt;/span>
&lt;span class="c1">// }&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">myid&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kr">int&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// for(i = 0; i &amp;lt; numprocs; i++)&lt;/span>
&lt;span class="c1">// {&lt;/span>
&lt;span class="c1">// printf("i: %d\n", i);&lt;/span>
&lt;span class="c1">// for(j = 1; j &amp;lt;= MAXN; j++)&lt;/span>
&lt;span class="c1">// printf("%5d", con[i][j]);&lt;/span>
&lt;span class="c1">// puts("");&lt;/span>
&lt;span class="c1">// }&lt;/span>
&lt;span class="c1">// rank[k] = i&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">numprocs&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">MAXN&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">bt&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">con&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="c1">// fprintf(stderr, "bt: \n");&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="s">"parallel sorted array is: "&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">debug&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">bt&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">cout&lt;/span> &lt;span class="o">&amp;lt;&amp;lt;&lt;/span> &lt;span class="n">endl&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="nf">end&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">MPI_Wtime&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="n">c2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nf">end&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">start&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">fprintf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">stderr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"parallel cost time is: %lf&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">c2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">fprintf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">stderr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">"加速比为： %lf&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">c1&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="n">c2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="c1">// for(i = 0; i &amp;lt; numprocs; i++)&lt;/span>
&lt;span class="c1">// delete con[i];&lt;/span>
&lt;span class="c1">// delete con;&lt;/span>
&lt;span class="n">MPI_Finalize&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>并行计算非常有趣，有时间肯定会再在这条道路上探寻…&lt;/p></description></item><item><title>vim-tips</title><link>https://svtter.cn/p/vim-tips/</link><pubDate>Sat, 08 Nov 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/vim-tips/</guid><description>&lt;h2 id="拾遗">拾遗
&lt;/h2>&lt;ol>
&lt;li>使用&lt;code>q:&lt;/code>查看历史命令&lt;/li>
&lt;li>&lt;code>@*&lt;/code>执行寄存器命令&lt;/li>
&lt;/ol>
&lt;h2 id="高亮特定文件">高亮特定文件
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>" for ROS:
augroup filetypedetect
au BufRead,BufNewFile *.launch set filetype=xml
augroup END
&lt;/pre>
&lt;/div></description></item><item><title>线性时间选择</title><link>https://svtter.cn/p/%E7%BA%BF%E6%80%A7%E6%97%B6%E9%97%B4%E9%80%89%E6%8B%A9/</link><pubDate>Sat, 08 Nov 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E7%BA%BF%E6%80%A7%E6%97%B6%E9%97%B4%E9%80%89%E6%8B%A9/</guid><description>&lt;h1 id="定义">定义
&lt;/h1>&lt;p>在给定线性序集中n个元素和一个整数k，要求找出n个元素中第k小的数。&lt;/p>
&lt;h1 id="方法一">方法一
&lt;/h1>&lt;p>线性时间选择，可以使用堆排序，这样就可以在$O(n+klog_n)=O(n)_的时间内找到的k小的元素。&lt;/p>
&lt;h1 id="方法二">方法二
&lt;/h1>&lt;p>使用快速排序中的分块算法，对所需要选择的数组分块，分完以后再在剩余的部分中，寻找(k – 减去分块的大小)&lt;/p>
&lt;p>代码如下:&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="k">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="k">class&lt;/span> &lt;span class="nc">Type&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">Partition&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Type&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">Type&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">break&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">swap&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="k">class&lt;/span> &lt;span class="nc">Type&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">RandomPartition&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Type&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Random&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">swap&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="nf">Partition&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">template&lt;/span> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="k">class&lt;/span> &lt;span class="nc">Type&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;span class="n">Type&lt;/span> &lt;span class="n">RandomizedSelect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Type&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[],&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">RandomPartition&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">j&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">p&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// 分块的大小&lt;/span>
&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">k&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="n">j&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="n">RandomizedSelect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">p&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="k">return&lt;/span> &lt;span class="nf">RandomizedSelect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">r&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">j&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>但是此方法在最差的情况下需要$n^2$的时间，比如在寻找最小元素时，总是在最大的元素划分。&lt;/p>
&lt;p>尽管如此，平均效率还是不错的。&lt;/p>
&lt;h1 id="方法三">方法三
&lt;/h1>&lt;p>我还是比较喜欢直接看代码= =&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>template &amp;lt;class Type&amp;gt;
Type Select(Type a[], int p, int r, int k)
{
if (r - p &amp;lt; 75)
{
sort(&amp;a[p], &amp;a[r]);
return a[p+k-1];
}
for(int i = 0; i &amp;lt;= (r-p-4)/5; i++)
Type x = Select(a, p, p+(r-p-4)/5, (r-p-4)/10);
int i = Partition(a, p, r, x);
j = i - p + 1;
if(k &amp;lt;= j) return Select(a, p, i, k);
else return Select(a, i+1, r, k-j)
}
&lt;/pre>
&lt;/div></description></item><item><title>自己动手写操作系统阅读笔记（一）</title><link>https://svtter.cn/p/%E8%87%AA%E5%B7%B1%E5%8A%A8%E6%89%8B%E5%86%99%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0%E4%B8%80/</link><pubDate>Sat, 08 Nov 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E8%87%AA%E5%B7%B1%E5%8A%A8%E6%89%8B%E5%86%99%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0%E4%B8%80/</guid><description>&lt;p>本来今天想要学习一下操作系统的相关内容，奈何书都没带，猛然想起自己还有一个自己动手写操作系统的梦想，于是拿出这本书重新研究以下。&lt;/p>
&lt;p>对于第一章节的写一个简单的boot写出来以后也是着实兴奋一把，不过也是要记下相关的信息。&lt;/p>
&lt;h2 id="安装nasm">安装NASM
&lt;/h2>&lt;p>首先我的操作系统是Ubuntu&lt;/p>
&lt;p>使用&lt;code>sudo aptitude install nasm&lt;/code>来安装nasm&lt;/p>
&lt;h2 id="然后就是简单的asm代码">然后就是简单的asm代码
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span> &lt;span class="nf">org&lt;/span> &lt;span class="mi">07&lt;/span>&lt;span class="no">c00h&lt;/span> &lt;span class="c">;汇编程序加载到7c00处&lt;/span>
&lt;span class="no">mov&lt;/span> &lt;span class="no">ax&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="no">cs&lt;/span> &lt;span class="c">;cs 无法直接加载到ds，通过ax(x86基础)&lt;/span>
&lt;span class="no">mov&lt;/span> &lt;span class="no">ds&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="no">ax&lt;/span>
&lt;span class="nf">mov&lt;/span> &lt;span class="no">es&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="no">ax&lt;/span>
&lt;span class="nf">call&lt;/span> &lt;span class="no">DispStr&lt;/span> &lt;span class="c">;调用显示字符串例程&lt;/span>
&lt;span class="no">jmp&lt;/span> &lt;span class="no">$&lt;/span> &lt;span class="c">;无限循环&lt;/span>
&lt;span class="no">DispStr&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="nf">mov&lt;/span> &lt;span class="no">ax&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="no">BootMessage&lt;/span>
&lt;span class="no">mov&lt;/span> &lt;span class="no">bp&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="no">ax&lt;/span>
&lt;span class="nf">mov&lt;/span> &lt;span class="no">cx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">16&lt;/span>
&lt;span class="nf">mov&lt;/span> &lt;span class="no">ax&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">01301&lt;/span>&lt;span class="no">h&lt;/span>
&lt;span class="nf">mov&lt;/span> &lt;span class="no">bx&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">000&lt;/span>&lt;span class="no">ch&lt;/span>
&lt;span class="nf">mov&lt;/span> &lt;span class="no">dl&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">&lt;/span>
&lt;span class="nf">int&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="no">h&lt;/span>
&lt;span class="nf">ret&lt;/span>
&lt;span class="nl">BootMessage:&lt;/span> &lt;span class="nf">db&lt;/span> &lt;span class="err">"&lt;/span>&lt;span class="no">Hello&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="no">OS&lt;/span> &lt;span class="no">world&lt;/span>&lt;span class="p">!&lt;/span>&lt;span class="err">"&lt;/span>
&lt;span class="nf">times&lt;/span> &lt;span class="mi">510&lt;/span>&lt;span class="p">-(&lt;/span>&lt;span class="no">$-$$&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="no">db&lt;/span> &lt;span class="mi">&lt;/span> &lt;span class="c">;使用0填充剩下的空间&lt;/span>
&lt;span class="nf">dw&lt;/span> &lt;span class="mi">0xaa55&lt;/span> &lt;span class="c">;结束标志&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h2 id="编译">编译
&lt;/h2>&lt;p>&lt;code>nasm boot.asm -o boot.bin&lt;/code>&lt;/p>
&lt;h2 id="写入软盘">写入软盘
&lt;/h2>&lt;p>然后这个时候可爱的作者让我们写到软盘里= =&lt;/p>
&lt;p>这个时候很多朋友都会&lt;/p>
&lt;p>&lt;code>dd if=boot.bin of=/dev/sdx&lt;/code>&lt;/p>
&lt;p>比如一开始的我= =&lt;/p>
&lt;p>我写到了8G的U盘里&lt;/p>
&lt;p>其实我们可以用virtualbox来搞定&lt;/p>
&lt;p>建立一个虚拟机——我选的是ubuntu_32bit——我觉得挺麻烦的，所以就不换了，因为我成功了。&lt;/p>
&lt;p>在设置，存储中，点添加软盘控制器。&lt;/p>
&lt;p>然后我们使用dd命令建立一个虚拟软盘。&lt;/p>
&lt;p>&lt;code>dd if=boot.bin of=floppy.img count=2880&lt;/code>&lt;/p>
&lt;p>然后选择虚拟软盘。。选择floppy.img然后启动看。&lt;/p>
&lt;p>然后就可以看到可爱的&lt;code>Hello,OS world!&lt;/code>&lt;/p>
&lt;p>本文参考： Linux 下制作虚拟软盘镜像 &lt;a class="link" href="http://blog.163.com/wascm@126/blog/static/9385027200851905148317/" target="_blank" rel="noopener"
>http://blog.163.com/wascm@126/blog/static/9385027200851905148317/&lt;/a>&lt;/p></description></item><item><title>正则表达式</title><link>https://svtter.cn/p/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/</link><pubDate>Fri, 07 Nov 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/</guid><description>&lt;h2 id="在php中">在php中
&lt;/h2>&lt;p>使用&lt;code>preg_match(&amp;quot;/&amp;lt;title&amp;gt;(.*)&amp;lt;title&amp;gt;/isU&amp;quot;)&lt;/code>&lt;/p>
&lt;ul>
&lt;li>/****/表示中间的部分匹配。&lt;/li>
&lt;li>(.*)表示匹配的部分。&lt;/li>
&lt;li>i表示忽略大小写&lt;/li>
&lt;li>s使点号能匹配所有字符包括换行符&lt;/li>
&lt;li>U最短匹配。注意U一定要大写才有效果&lt;/li>
&lt;/ul>
&lt;p>正则经常用于js 判断手机号，邮箱等，通过简单的办法来实现强大的功能&lt;/p>
&lt;h1 id="符号解释">符号解释
&lt;/h1>&lt;td 0_="0," align="left">匹配前面的子表达式零次或多次。例如，zo\* 能匹配 &amp;#8220;z&amp;#8221; 以及 &amp;#8220;zoo&amp;#8221;。\* 等价于&lt;/td>
&lt;td 1_="1," align="left">匹配前面的子表达式一次或多次。例如，&amp;#8217;zo+&amp;#8217; 能匹配 &amp;#8220;zo&amp;#8221; 以及 &amp;#8220;zoo&amp;#8221;，但不能匹配 &amp;#8220;z&amp;#8221;。+ 等价于 &lt;/td>
&lt;td 0_1="0,1" align="left">匹配前面的子表达式零次或一次。例如，&amp;#8221;do(es)?&amp;#8221; 可以匹配 &amp;#8220;do&amp;#8221; 或 &amp;#8220;does&amp;#8221; 中的&amp;#8221;do&amp;#8221; 。? 等价于 &lt;/td>
&lt;td align="center" n="n">
&lt;/td>&lt;td 2="2" align="left">n 是一个非负整数。匹配确定的 n 次。例如，&amp;#8217;o&lt;/td>
&lt;td align="center" n_="n,">&lt;/td> &lt;td 2_="2," align="left">n 是一个非负整数。至少匹配n 次。例如，&amp;#8217;o&lt;/td>
&lt;td align="center" n_m="n,m">&lt;/td> &lt;td 1_3="1,3" align="left">m 和 n 均为非负整数，其中n &lt;= m。最少匹配 n 次且最多匹配 m 次。例如，&amp;#8221;o&lt;/td>
&lt;td align="left" n="n">
当该字符紧跟在任何一个其他限制符 (*, +, ?,
&lt;/td>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: center">字符&lt;/th>
&lt;th style="text-align: left">描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: center">\&lt;/td>
&lt;td style="text-align: left">将下一个字符标记为一个特殊字符、或一个原义字符、或一个 向后引用、或一个八进制转义符。例如，’n’ 匹配字符 “n”。’\n’ 匹配一个换行符。序列 ‘&amp;amp;#8217; 匹配 “&amp;amp;#8221; 而 “(” 则匹配 “(“。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">^&lt;/td>
&lt;td style="text-align: left">匹配输入字符串的开始位置。如果设置了 RegExp 对象的 Multiline 属性，^ 也匹配 ‘\n’ 或 ‘\r’ 之后的位置。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">$&lt;/td>
&lt;td style="text-align: left">匹配输入字符串的结束位置。如果设置了RegExp 对象的 Multiline 属性，$ 也匹配 ‘\n’ 或 ‘\r’ 之前的位置。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">*&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">+&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">?&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">?&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">.&lt;/td>
&lt;td style="text-align: left">匹配除 “\n” 之外的任何单个字符。要匹配包括 ‘\n’ 在内的任何字符，请使用象 ‘[.\n]’ 的模式。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">[xyz]&lt;/td>
&lt;td style="text-align: left">字符集合。匹配所包含的任意一个字符。例如， ‘[abc]’ 可以匹配 “plain” 中的 ‘a’。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">[^xyz]&lt;/td>
&lt;td style="text-align: left">负值字符集合。匹配未包含的任意字符。例如， ‘[^abc]’ 可以匹配 “plain” 中的’p’。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">[a-z]&lt;/td>
&lt;td style="text-align: left">字符范围。匹配指定范围内的任意字符。例如，&amp;rsquo;[a-z]’ 可以匹配 ‘a’ 到 ‘z’ 范围内的任意小写字母字符。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">[^a-z]&lt;/td>
&lt;td style="text-align: left">负值字符范围。匹配任何不在指定范围内的任意字符。例如，&amp;rsquo;[^a-z]’ 可以匹配任何不在 ‘a’ 到 ‘z’ 范围内的任意字符。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">\d&lt;/td>
&lt;td style="text-align: left">匹配一个数字字符。等价于 [0-9]。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">\D&lt;/td>
&lt;td style="text-align: left">匹配一个非数字字符。等价于 [^0-9]。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">\f&lt;/td>
&lt;td style="text-align: left">匹配一个换页符。等价于 \x0c 和 \cL。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">\n&lt;/td>
&lt;td style="text-align: left">匹配一个换行符。等价于 \x0a 和 \cJ。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">\r&lt;/td>
&lt;td style="text-align: left">匹配一个回车符。等价于 \x0d 和 \cM。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">\s&lt;/td>
&lt;td style="text-align: left">匹配任何空白字符，包括空格、制表符、换页符等等。等价于 [ \f\n\r\t\v]。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">\S&lt;/td>
&lt;td style="text-align: left">匹配任何非空白字符。等价于 [^ \f\n\r\t\v]。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">\t&lt;/td>
&lt;td style="text-align: left">匹配一个制表符。等价于 \x09 和 \cI。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">\v&lt;/td>
&lt;td style="text-align: left">匹配一个垂直制表符。等价于 \x0b 和 \cK。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">\w&lt;/td>
&lt;td style="text-align: left">匹配包括下划线的任何单词字符。等价于&amp;rsquo;[A-Za-z0-9_]’。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">[xyz]&lt;/td>
&lt;td style="text-align: left">字符集合。匹配所包含的任意一个字符。例如， ‘[abc]’ 可以匹配 “plain” 中的 ‘a’。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">[^xyz]&lt;/td>
&lt;td style="text-align: left">负值字符集合。匹配未包含的任意字符。例如， ‘[^abc]’ 可以匹配 “plain” 中的’p’。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">[a-z]&lt;/td>
&lt;td style="text-align: left">字符范围。匹配指定范围内的任意字符。例如，&amp;rsquo;[a-z]’ 可以匹配 ‘a’ 到 ‘z’ 范围内的任意小写字母字符。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">[^a-z]&lt;/td>
&lt;td style="text-align: left">负值字符范围。匹配任何不在指定范围内的任意字符。例如，&amp;rsquo;[^a-z]’ 可以匹配任何不在 ‘a’ 到 ‘z’ 范围内的任意字符。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">\d&lt;/td>
&lt;td style="text-align: left">匹配一个数字字符。等价于 [0-9]。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">\D&lt;/td>
&lt;td style="text-align: left">匹配一个非数字字符。等价于 [^0-9]。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">\f&lt;/td>
&lt;td style="text-align: left">匹配一个换页符。等价于 \x0c 和 \cL。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">\n&lt;/td>
&lt;td style="text-align: left">匹配一个换行符。等价于 \x0a 和 \cJ。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">\r&lt;/td>
&lt;td style="text-align: left">匹配一个回车符。等价于 \x0d 和 \cM。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">\s&lt;/td>
&lt;td style="text-align: left">匹配任何空白字符，包括空格、制表符、换页符等等。等价于 [ \f\n\r\t\v]。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">\S&lt;/td>
&lt;td style="text-align: left">匹配任何非空白字符。等价于 [^ \f\n\r\t\v]。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">\t&lt;/td>
&lt;td style="text-align: left">匹配一个制表符。等价于 \x09 和 \cI。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">\v&lt;/td>
&lt;td style="text-align: left">匹配一个垂直制表符。等价于 \x0b 和 \cK。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">\w&lt;/td>
&lt;td style="text-align: left">匹配包括下划线的任何单词字符。等价于&amp;rsquo;[A-Za-z0-9_]’。&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">\W&lt;/td>
&lt;td style="text-align: left">匹配任何非单词字符。等价于 ‘[^A-Za-z0-9_]’。&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;ul>
&lt;li>&lt;code>x|y&lt;/code> 匹配 x 或 y。例如，&lt;code>z|food&lt;/code> 能匹配 “z” 或 “food”。&lt;code>(z|f)ood&lt;/code> 则匹配 “zood” 或 “food”。&lt;/li>
&lt;li>\W 匹配任何非单词字符。等价于 ‘[^A-Za-z0-9_]’。 例如，&lt;code>z|food&lt;/code> 能匹配 “z” 或 “food”。&lt;code>(z|f)ood&lt;/code> 则匹配 “zood” 或 “food”。&lt;/li>
&lt;/ul></description></item><item><title>总结-2014年10月总结</title><link>https://svtter.cn/p/%E6%80%BB%E7%BB%93-2014%E5%B9%B410%E6%9C%88%E6%80%BB%E7%BB%93/</link><pubDate>Wed, 05 Nov 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E6%80%BB%E7%BB%93-2014%E5%B9%B410%E6%9C%88%E6%80%BB%E7%BB%93/</guid><description>&lt;h1 id="搭建blog的心得--2014年10月份的总结">搭建BLOG的心得 + 2014年10月份的总结
&lt;/h1>&lt;hr>
&lt;h2 id="blog心得">blog心得
&lt;/h2>&lt;p>要不是登录到sinaapp上看看我都忘记了自己还有一个用typecho搭建的blog，但是凡事一旦牵扯到git之类的东西，总会觉得高大上一点。&lt;/p>
&lt;p>然后伤心的觉得，似乎我辛辛苦苦搭建的&lt;a class="link" href="http://zipperary.com/2013/05/28/hexo-guide-2/" target="_blank" rel="noopener"
>hexo&lt;/a>， 似乎没个鸟用。心塞。&lt;/p>
&lt;p>主要问题在于：&lt;/p>
&lt;ol>
&lt;li>这家伙对于之前的写的文章，修改起来不够方便，还要回去慢慢找，不如直接用点击来的快捷。&lt;/li>
&lt;li>但是从另一个角度上说，如果是命令行玩家，&lt;code>grep&lt;/code>几次自然也就完全没有问题了。&lt;/li>
&lt;li>当然，也有好处，最大的好处就是方便，推送，不用花钱等。&lt;/li>
&lt;li>还有各种玩头，就不一一说明了。。反正大家仁者见仁，智者见智。&lt;/li>
&lt;/ol>
&lt;p>相比之下typecho就会轻松很多（因为发现也是不支持一些东西，我又懒得弄），__JustWriting__嘛。。不想再用了，虽然说也是很爽，但是用了php搞得和静态页面的一个项目似的，总是感觉怪怪的。&lt;/p>
&lt;p>之前给__Justwriting__写了一点点称不上脚本的脚本(仅LINUX下好用, 毕竟bash用的挺XX，python也没时间学。)，但是事情一多，自然也是有点想要放弃&lt;code>git pull request&lt;/code>的意思了。&lt;/p>
&lt;p>再想想，__JustWriting__最大的优点在于，可以把我们的代码备份上去，不像hexo，今天下午手残的我 + 神经短路的我一个不小心弄丢了所有的代码，真心是哭了。。。&lt;/p>
&lt;p>另外，也是需要各种grep的阿。&lt;/p>
&lt;blockquote>
&lt;p>其实本来想吐槽关于找不到文章的问题，不过在写着写着的过程中想到了可以使用搜索这种东西。。倒是我自己有些不动脑了。&lt;/p>&lt;/blockquote>
&lt;p>写一个对自己来讲简单的比较：&lt;/p>
&lt;p>如果有问题，就当我说错了，最好是指出来= =&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">项目&lt;/th>
&lt;th style="text-align: center">JustWriting&lt;/th>
&lt;th style="text-align: center">hexo&lt;/th>
&lt;th style="text-align: center">typecho(wordpress)&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">命令行推送&lt;/td>
&lt;td style="text-align: center">AC&lt;/td>
&lt;td style="text-align: center">AC&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">直接界面编辑&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">AC&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">代码部署&lt;/td>
&lt;td style="text-align: center">简单&lt;/td>
&lt;td style="text-align: center">更简单&lt;/td>
&lt;td style="text-align: center">一般&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">是否使用googleapi&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">YES&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">想起来我再加上&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>外观上都难说，typecho我没有做过什么优化，JustWriting因为用的是不稳定（也不知道也没有稳定版本，^_^）版本，所以删掉了。有兴趣倒是可以看看&lt;a class="link" href="http://svtter.github.io" target="_blank" rel="noopener"
>hexo&lt;/a>。&lt;/p>
&lt;p>当然我也知道基本上转到cnblogs这边估计也就没人看了。。。本身也上不了主页，哈。&lt;/p>
&lt;p>&lt;strong>另说句没什么关系的话，googleapi的相关东西态坑了。&lt;/strong>&lt;/p>
&lt;blockquote>
&lt;p>我这么写blogs会不会呼我熊脸阿= =blogs老套的博客模板。。唉。&lt;/p>&lt;/blockquote>
&lt;hr>
&lt;h2 id="10月份的总结">10月份的总结
&lt;/h2>&lt;p>9：30倒是不适合闲扯了= =&lt;/p>
&lt;h2 id="关于记录表">关于记录表
&lt;/h2>&lt;p>看看自己的记录表吧。11月的记录表依然是空的（因为会写一些私人的东西，所以就不喜欢开源了。。）。最近也是没有改过每日计划（也是大致按照那么进行的）&lt;/p>
&lt;p>本来想要把自己的计划python化的，但是时间上实在是腾不出来——今天去健身了，也是没有复习考研数学，英语（本来写个回宿舍看看，想想倒也不现实）。&lt;/p>
&lt;p>10月份的记录表__高数__一栏全是空的（= =）就没复习过！那天和学长一起讨论关于考研的问题才发现自己走偏了方向（blog的方面也是有些走偏）。&lt;/p>
&lt;p>想要深造所以不太想太早的工作，但是技术的世界丰富多彩而有趣（喜欢写代码的我注定屌丝一生= =）。&lt;/p>
&lt;p>有今天记录情况不全，后面的备注表我也没有写什么，大概是比较忙，之后也没有补充上吧。现在看起来倒是想不通了。。。&lt;/p>
&lt;blockquote>
&lt;p>写了完成情况的部分也因为转换了位置，看起来不怎么方便（还是需要改善阿），需要把记录表放在记录表里面，然后查看的时候再做相关处理。&lt;/p>&lt;/blockquote>
&lt;p>看看记录表，因为系统不稳定的问题着实花费了不少时间（10.02），另外10.03买的奶是9.23产的- -。 10.06就想看操作系统Linux的源码，结果到了现在也没有看。&lt;/p>
&lt;p>SG函数倒是明白了，不过对应的题目没有做多少= =。最近大部分的时间都在搞并行计算(呼呼的写代码感觉比较爽)， 并行计算的作业也是只剩下文档了，算是搞定了把。&lt;/p>
&lt;p>日记还是写的那些东西，不过效率不太行阿。。。以后的备注倒是可以自由一点。&lt;/p>
&lt;p>出现的问题：&lt;/p>
&lt;ol>
&lt;li>
&lt;p>英语空出好几天没有背。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>高数没复习&lt;/p>
&lt;/li>
&lt;li>
&lt;p>锻炼有好好坚持。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>早睡没有好好坚持。&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h2 id="关于这个月">关于这个月
&lt;/h2>&lt;p>也没什么别的东西了，主要就是谨记学长的教诲，转移对于一些对于我最终目标无意义的事情的注意力，主要放在数学，英语上面。晚自习的内容以后放在这个上面。晚上回去以后可以写日记，&lt;/p>
&lt;p>或者补充一下或者使得库更加简单等。白天的时间主要用于学习其他的科目，抓紧时间。以后每天都要好好的写日记。&lt;/p>
&lt;p>就这样吧！&lt;/p>
&lt;h1 id="努力努力">努力努力！
&lt;/h1></description></item></channel></rss>