<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>DevOps on Svtter's Blog</title><link>https://svtter.cn/categories/devops/</link><description>Recent content in DevOps on Svtter's Blog</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Thu, 24 Apr 2025 17:00:29 +0800</lastBuildDate><atom:link href="https://svtter.cn/categories/devops/index.xml" rel="self" type="application/rss+xml"/><item><title>vsphere 6.5 Problem.md</title><link>https://svtter.cn/p/vsphere-6.5-problem.md/</link><pubDate>Thu, 24 Apr 2025 17:00:29 +0800</pubDate><guid>https://svtter.cn/p/vsphere-6.5-problem.md/</guid><description>&lt;img src="https://svtter.cn/p/vsphere-6.5-problem.md/bg.png" alt="Featured image of post vsphere 6.5 Problem.md" />&lt;blockquote>
&lt;p>ç³»ç»Ÿç‰ˆæœ¬: vmware esxi 6.5&lt;/p>&lt;/blockquote>
&lt;p>è¿™ä¸¤å¤©åœ¨é…ç½® k8s å†…ç½‘ï¼Œå‘çŽ°ä¸€ä¸ªå¥‡æ€ªçš„é—®é¢˜ï¼Œovf é•œåƒå¯¼å‡ºä¹‹åŽï¼Œå†å¯¼å…¥å¯åŠ¨ä¸äº†äº†ã€‚&lt;/p>
&lt;p>&lt;img src="https://svtter.cn/p/vsphere-6.5-problem.md/p1.png"
width="972"
height="234"
srcset="https://svtter.cn/p/vsphere-6.5-problem.md/p1_hu_43f6d3c0924e5069.png 480w, https://svtter.cn/p/vsphere-6.5-problem.md/p1_hu_f4c9c7438c027b78.png 1024w"
loading="lazy"
alt="p1"
class="gallery-image"
data-flex-grow="415"
data-flex-basis="996px"
>&lt;/p>
&lt;p>è¯•ç€è·Ÿ kimi æ²Ÿé€šäº†ä¸€ä¸‹ï¼Œä¸å¤ªè¡Œï¼Œè¿™æ˜¯ä¸ªç¬¨è›‹ã€‚&lt;/p>
&lt;p>èµ·åˆæˆ‘ä¹Ÿè®¤ä¸ºæ˜¯ BIOS å’Œ EFI åˆ‡æ¢çš„é—®é¢˜ã€‚ä½†æ˜¯æˆ‘æ£€æŸ¥äº†ä¸€ä¸‹å¯¼å‡ºçš„è™šæ‹Ÿæœºï¼Œå¯¼å…¥å¯¼å‡ºéƒ½åœ¨ä¸€ä¸ªå¹³å°ä¸Šï¼Œå¼•å¯¼é€‰é¡¹ä¹Ÿæ²¡æ”¹å˜ã€‚å› æ­¤å¹¶éžå¦‚æ­¤ã€‚&lt;/p>
&lt;blockquote>
&lt;p>è¡¥å……çŸ¥è¯†&lt;/p>
&lt;p>EFIï¼ˆExtensible Firmware Interfaceï¼Œå¯æ‰©å±•å›ºä»¶æŽ¥å£ï¼‰æ˜¯ä¸€ç§ç”±è‹±ç‰¹å°”ï¼ˆIntelï¼‰å¼€å‘çš„æŽ¥å£æ ‡å‡†ï¼Œç”¨äºŽè®¡ç®—æœºç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿä¹‹é—´çš„é€šä¿¡ã€‚å®ƒä¸»è¦ç”¨äºŽæ›¿ä»£ä¼ ç»Ÿçš„BIOSï¼ˆBasic Input/Output Systemï¼ŒåŸºæœ¬è¾“å…¥è¾“å‡ºç³»ç»Ÿï¼‰ã€‚&lt;/p>&lt;/blockquote>
&lt;img src="https://svtter.cn/memos/si.jpg" />
&lt;p>è¿™å°±å¾ˆå¥‡æ€ªäº†ã€‚ï¼ˆç”¨ esxi 6.5 è¿™ç§ä¸Šå¤ç‰ˆæœ¬çš„æˆ‘å¯èƒ½ä¹Ÿå¥‡æ€ªï¼‰&lt;/p>
&lt;p>å®žé™…ä¸Šæˆ‘çš„æ“ä½œæ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œé—®é¢˜åœ¨äºŽ esxi åœ¨å¯¼å‡ºçš„æ—¶å€™ä¼šä¸¢å¤±äº†å¼•å¯¼ä¿¡æ¯ã€‚&lt;/p>
&lt;h2 id="ä¿®å¤æ–¹æ³•">ä¿®å¤æ–¹æ³•
&lt;/h2>&lt;p>é¦–å…ˆæ”¹ä¸€ä¸‹ SCSI æŽ§åˆ¶å™¨ã€‚&lt;/p>
&lt;p>&lt;img src="https://svtter.cn/p/vsphere-6.5-problem.md/p2.png"
width="1552"
height="1104"
srcset="https://svtter.cn/p/vsphere-6.5-problem.md/p2_hu_8423605af33ed61.png 480w, https://svtter.cn/p/vsphere-6.5-problem.md/p2_hu_b2ca61ee95296e97.png 1024w"
loading="lazy"
alt="p2"
class="gallery-image"
data-flex-grow="140"
data-flex-basis="337px"
>&lt;/p>
&lt;ul>
&lt;li>æ‰¾åˆ° SCSI æŽ§åˆ¶å™¨ 0
&lt;ul>
&lt;li>ç±»åž‹ä»Ž &lt;code>VMware Paravirtual&lt;/code> æ”¹æˆ â†’ &lt;code>LSI Logic SAS&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>ç„¶åŽå†æ¬¡å¯åŠ¨ï¼Œä»Ž boot option é‡Œé¢æ‰¾åˆ° debian é€‰é¡¹ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Boot Maintenance Manager â†’ Boot Options â†’ Add Boot Option
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è·¯å¾„æ˜¯ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">/EFI/Debian/grubx64.efi
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€‰æ‹©å¹¶ä¸”æ·»åŠ åŽï¼Œå³å¯å¯åŠ¨ã€‚&lt;/p>
&lt;h2 id="èµ„æºå£°æ˜Ž">èµ„æºå£°æ˜Ž
&lt;/h2>&lt;ul>
&lt;li>èƒŒæ™¯å›¾æ¥è‡ª &lt;a class="link" href="https://www.iperiusbackup.net/en/benefits-virtualization-administrator-would-get-from-using-vmware-esxi/" target="_blank" rel="noopener"
>link&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Config devcontainer.md</title><link>https://svtter.cn/p/config-devcontainer.md/</link><pubDate>Wed, 26 Mar 2025 20:17:47 +0800</pubDate><guid>https://svtter.cn/p/config-devcontainer.md/</guid><description>&lt;img src="https://svtter.cn/p/config-devcontainer.md/image.png" alt="Featured image of post Config devcontainer.md" />&lt;p>æœ‰æ—¶å€™ï¼Œå°½ç®¡æˆ‘ä»¬å¯åŠ¨ä¸€ä¸ª docker çŽ¯å¢ƒå¯ä»¥æ‰§è¡Œä»£ç ï¼Œä½†æ˜¯ vscode è¡¥å…¨æœªèƒ½ç”Ÿæ•ˆã€‚&lt;/p>
&lt;p>è¿™æ˜¯ç”±äºŽç›¸å…³çš„åº“éƒ½åœ¨ container ä¸­ï¼Œæˆ‘ä»¬ vscode ä¸€èˆ¬æ˜¯è¿è¡Œåœ¨ host os ä¸Šã€‚&lt;/p>
&lt;p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œä½¿ç”¨ docker-compose.yml æ¥åˆ›å»ºä¸€ä¸ªå¼€å‘çŽ¯å¢ƒã€‚&lt;/p>
&lt;p>ç„¶åŽï¼Œåˆ›å»ºä¸€ä¸ª&lt;code>.devcontainer/devcontainer.json&lt;/code>æ–‡ä»¶ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œå¦‚æžœä½ è¦å¼€å‘ python çš„ç¨‹åºï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ &lt;code>.devcontainer/devcontainer.json&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;MyPython&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;dockerComposeFile&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;../docker-compose.yml&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;service&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;notebook&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="err">#&lt;/span> &lt;span class="err">service&lt;/span> &lt;span class="err">in&lt;/span> &lt;span class="err">your&lt;/span> &lt;span class="err">docker-compose.yml&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;workspaceFolder&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;/app&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;shutdownAction&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;none&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;customizations&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;vscode&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;extensions&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;ms-python.python&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;ms-azuretools.vscode-docker&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;tamasfe.even-better-toml&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;charliermarsh.ruff&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;ms-python.black-formatter&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;ms-toolsai.jupyter&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æ­¤ä¸€æ¥ï¼Œå°±å¯ä»¥å¯åŠ¨ä¸€ä¸ªå®‰è£…å¥½ç›¸å…³çŽ¯å¢ƒçš„ã€Žå­ã€ç³»ç»Ÿäº†ã€‚&lt;/p>
&lt;p>æ·±å…¥é˜…è¯»ï¼š&lt;a class="link" href="https://blog.roboflow.com/nvidia-docker-vscode-pytorch/#installing-docker-for-machine-learning" target="_blank" rel="noopener"
>Develop like a Pro with NVIDIA + Docker + VS Code + PyTorch&lt;/a>ã€‚&lt;/p></description></item><item><title>A Docker Image for Computer Vision.md</title><link>https://svtter.cn/p/a-docker-image-for-computer-vision.md/</link><pubDate>Wed, 26 Mar 2025 19:57:22 +0800</pubDate><guid>https://svtter.cn/p/a-docker-image-for-computer-vision.md/</guid><description>&lt;img src="https://svtter.cn/p/a-docker-image-for-computer-vision.md/image.png" alt="Featured image of post A Docker Image for Computer Vision.md" />&lt;p>æˆ‘ä»¬åœ¨è°ƒè¯•æ·±åº¦å­¦ä¹ ä»£ç çš„æ—¶å€™ï¼Œç»å¸¸ä¼šå› ä¸ºçŽ¯å¢ƒçš„é—®é¢˜è€Œå¤´ç—›ã€‚&lt;/p>
&lt;p>ä¸ºäº†æ–¹ä¾¿è°ƒè¯•ï¼ŒæŠŠ pytorch cuda ç­‰çŽ¯å¢ƒæ‰“æˆ docker image æ˜¯ä¸€ä¸ªå¾ˆä¸é”™çš„é€‰æ‹©ã€‚&lt;/p>
&lt;p>è¿™æ˜¯ä¸€ä¸ª Docker Image ç¤ºä¾‹ï¼Œç”¨äºŽå°†æ·±åº¦å­¦ä¹ çŽ¯å¢ƒæ‰“åŒ…ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-Dockerfile" data-lang="Dockerfile">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># å¯ä»¥æ”¹æˆä½ éœ€è¦çš„ pytorch ç‰ˆæœ¬&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="s"> pytorch/pytorch:2.4.1-cuda11.8-cudnn9-devel&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># è¿™äº›æ˜¯å¸¸ç”¨çš„åŒ…&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> apt-get update &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> apt-get install git zsh ffmpeg libsm6 libxext6 -y &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> apt-get clean &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> rm -rf /var/lib/apt/lists/*&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">WORKDIR&lt;/span>&lt;span class="s"> /app&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># æ”¾åœ¨ä»£ç åº“çš„æ ¹ç›®å½•ä¸‹ï¼Œå¯ä»¥å®‰è£… requirements.txt&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> requirements.txt .&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> pip install -r requirements.txt&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># install jupyterlab&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> pip install jupyterlab&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># COPY . .&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># ä½¿ç”¨ jupyterlab æ‰˜ç®¡ï¼Œå¯ä»¥å¿«é€Ÿå¯åŠ¨ï¼Œtoken æ˜¯`yourtoken`ã€‚å¦‚æžœä½ åœ¨å…¬ç½‘ä½¿ç”¨ï¼Œè¦è€ƒè™‘ä½¿ç”¨æ›´å¤æ‚çš„ tokenã€‚&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">CMD&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;jupyter&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;lab&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--ip=0.0.0.0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--port=8888&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--no-browser&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--allow-root&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;--NotebookApp.token=yourtoken&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™ä¸ªç¤ºä¾‹å®‰è£…äº†ä¸€äº›åŸºç¡€çš„ç±»åº“ï¼Œé€šè¿‡ pip å³å¯å®‰è£… &lt;code>opencv-python&lt;/code>ã€‚&lt;/p>
&lt;p>å°†&lt;code>Dockerfile&lt;/code>æ”¾åœ¨ç›®å½•ä¸‹ï¼Œç„¶åŽå¯ä»¥ä½¿ç”¨&lt;code>docker compose&lt;/code>å¯åŠ¨ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">notebook&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">build&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">context&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">dockerfile&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Dockerfile&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># è¿˜å¯ä»¥æŒ‚è½½è‡ªå·±éœ€è¦çš„ dataset&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">.:/app&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">~/.ssh:/root/.ssh&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># æ”¯æŒ ssh&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">8888&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="m">8888&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">shm_size&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;32gb&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">deploy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">resources&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">reservations&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">devices&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">driver&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">nvidia&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">count&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">all&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">capabilities&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="l">gpu]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯åŠ¨å‘½ä»¤æ˜¯ï¼š&lt;code>docker compose up -d&lt;/code>.&lt;/p></description></item><item><title>Create a Never Stop Container.md</title><link>https://svtter.cn/p/create-a-never-stop-container.md/</link><pubDate>Fri, 14 Mar 2025 16:45:58 +0800</pubDate><guid>https://svtter.cn/p/create-a-never-stop-container.md/</guid><description>&lt;img src="https://svtter.cn/p/create-a-never-stop-container.md/background.png" alt="Featured image of post Create a Never Stop Container.md" />&lt;p>æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦å¯åŠ¨ä¸€ä¸ªä¸åœæ­¢çš„å®¹å™¨ï¼Œæ¥è°ƒè¯•æˆ‘ä»¬çš„åº”ç”¨ï¼Œæˆ–è€…ä½¿ç”¨ devcontainerã€‚&lt;/p>
&lt;p>å¦‚æžœæˆ‘ä»¬æƒ³åœ¨ &lt;code>Dockerfile&lt;/code> ä¸­å®Œæˆè¿™ä¸ªäº‹æƒ…ï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ è¿™ä¸ª&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-Dockerfile" data-lang="Dockerfile">&lt;span class="line">&lt;span class="cl">...&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># å…¶ä»–å†…å®¹&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">ENTRYPOINT&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;tail&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;-f&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;/dev/null&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æžœæ˜¯ &lt;code>docker-compose.yml&lt;/code>ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åš&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">your-app&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">entrypoint&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;tail&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;-f&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;/dev/null&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æ­¤ä¸€æ¥ï¼Œè¿™ä¸ªå®¹å™¨å°±ä¸ä¼šåœæ­¢äº†ã€‚&lt;/p></description></item><item><title>Using Sshfs to Mount Remote Folder.md</title><link>https://svtter.cn/p/using-sshfs-to-mount-remote-folder.md/</link><pubDate>Thu, 13 Mar 2025 16:04:12 +0800</pubDate><guid>https://svtter.cn/p/using-sshfs-to-mount-remote-folder.md/</guid><description>&lt;p>å› ä¸ºæ“ä½œè¿œç¨‹ç›®å½•ä¸æ˜¯å¾ˆå®¹æ˜“ï¼Œæˆ‘ä¹‹å‰ä¸€ç›´å€¾å‘äºŽé‡‡ç”¨ nfs æ¥æŒ‚è½½ç£ç›˜ã€‚ä½†æ˜¯ nfs ç£ç›˜é…ç½®èµ·æ¥å¹¶ä¸ç®€å•ï¼Œæ¶‰åŠåˆ°æƒé™ç­‰ä¸€ç³»åˆ—é—®é¢˜ã€‚&lt;/p>
&lt;p>å› æ­¤ï¼Œå¦‚æžœåªæ˜¯å›¾æ–¹ä¾¿æ“ä½œï¼Œå®žé™…ä¸Š sshfs æ˜¯ä¸€ä¸ªæ›´å¥½çš„é€‰æ‹©ã€‚&lt;/p>
&lt;h2 id="å®‰è£…">å®‰è£…
&lt;/h2>&lt;p>å¦‚æžœä½¿ç”¨ &lt;code>ubuntu/debian&lt;/code> ç³»ç»Ÿï¼Œå¯ä»¥ç›´æŽ¥åœ¨å®¢æˆ·æœºä¸Šä½¿ç”¨: &lt;code>apt install sshfs -y&lt;/code> æ¥è¿›è¡Œå®‰è£…ã€‚&lt;/p>
&lt;h2 id="ä½¿ç”¨">ä½¿ç”¨
&lt;/h2>&lt;p>ä¾‹å¦‚ï¼Œå¦‚æžœæˆ‘å¸Œæœ›æŒ‚è½½è¿œç¨‹ä¸»æœºçš„ä¸€ä¸ªç›®å½•ï¼Œæˆ‘å¯ä»¥è¿™æ ·åš&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sshfs user@host:/home/user/Downloads ./downloads
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™æ ·ä¸€æ¥ï¼Œå°±å¯ä»¥åœ¨æœ¬åœ°å¯¹è¯¥å†…å®¹è¿›è¡Œæ“ä½œäº†ã€‚&lt;/p>
&lt;p>å½“ç„¶ï¼Œè¿™æ ·åšçš„å‰ææ˜¯ï¼Œè¿œç¨‹ä¸»æœºæœ¬èº«æ”¯æŒ ssh ç™»å½•ã€‚sshfs åº•å±‚æ˜¯ä½¿ç”¨ ssh æŠ€æœ¯æ¥æ”¯æ’‘çš„ã€‚&lt;/p>
&lt;p>å®žé™…ä¸Šï¼Œä¹‹å‰å°±é‡‡ç”¨è¿‡ sshfs çš„æŠ€æœ¯æ¥åŒæ­¥æ•°æ®ã€‚ä½†ç”±äºŽæ—¶é—´ä¹…è¿œï¼Œå¿˜è®°äº†è¿™ä¸ªæŠ€æœ¯çš„å­˜åœ¨ã€‚&lt;/p>
&lt;p>è¿™é‡Œå†™ä¸€ç¯‡å°æ–‡ç« ï¼Œç”¨äºŽè®°å½•ä¸€ä¸‹ã€‚&lt;/p></description></item><item><title>Play With Openmanus.md</title><link>https://svtter.cn/p/play-with-openmanus.md/</link><pubDate>Mon, 10 Mar 2025 20:21:44 +0800</pubDate><guid>https://svtter.cn/p/play-with-openmanus.md/</guid><description>&lt;img src="https://svtter.cn/p/play-with-openmanus.md/pics/chat.png" alt="Featured image of post Play With Openmanus.md" />&lt;p>Manus æœ€è¿‘å¾ˆç«çˆ†ï¼Œæˆ‘éƒ¨ç½²äº† &lt;a class="link" href="https://github.com/mannaandpoem/OpenManus" target="_blank" rel="noopener"
>OpenManus&lt;/a>ï¼Œæ¥ä½“éªŒä¸€ä¸‹ Manus è¿™ç§é€šç”¨çš„ Agentã€‚&lt;/p>
&lt;p>ä¸ºæ­¤ï¼Œæˆ‘æž„å»ºäº†ä¸€ä¸ªé•œåƒï¼Œå¯ä»¥æ— ç—›æ‹‰èµ· &lt;a class="link" href="https://github.com/mannaandpoem/OpenManus" target="_blank" rel="noopener"
>OpenManus&lt;/a>ï¼Œå¯ä»¥ä»Ž &lt;a class="link" href="https://hub.docker.com/r/svtter/openmanus" target="_blank" rel="noopener"
>svtter/openmanus&lt;/a> èŽ·å¾—ã€‚&lt;/p>
&lt;h2 id="æ•™ç¨‹">æ•™ç¨‹
&lt;/h2>&lt;ol>
&lt;li>ç¼–å†™ &lt;code>docker-compose.yml&lt;/code>:&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">openmanus&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">images&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">svtter/openmanus&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># - .:/app&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">./config:/app/config&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="3">
&lt;li>å¡«å†™ &lt;code>config/config.yml&lt;/code> æ–‡ä»¶:&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># A config file for OpenManus&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Global LLM configuration&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="l">llm]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="l">model = &amp;#34;anthropic/claude-3.7-sonnet&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="l">base_url = &amp;#34;https://openrouter.ai/api/v1&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># ä½¿ç”¨ openrouter&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="l">api_key = &amp;#34;sk-**&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># api key&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="l">max_tokens = 4096&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="l">temperature = 0.0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># [llm] #AZURE OPENAI:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># api_type= &amp;#39;azure&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># model = &amp;#34;YOUR_MODEL_NAME&amp;#34; #&amp;#34;gpt-4o-mini&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># base_url = &amp;#34;{YOUR_AZURE_ENDPOINT.rstrip(&amp;#39;/&amp;#39;)}/openai/deployments/{AZURE_DEPOLYMENT_ID}&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># api_key = &amp;#34;AZURE API KEY&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># max_tokens = 8096&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># temperature = 0.0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># api_version=&amp;#34;AZURE API VERSION&amp;#34; #&amp;#34;2024-08-01-preview&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Optional configuration for specific LLM models&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="l">llm.vision]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="l">model = &amp;#34;anthropic/claude-3.7-sonnet&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="l">base_url = &amp;#34;https://openrouter.ai/api/v1&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># ä½¿ç”¨ openrouter&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="l">api_key = &amp;#34;sk-**&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># ä½¿ç”¨ api-key&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="4">
&lt;li>æœ€åŽçš„ç›®å½•ç»“æž„åº”è¯¥è¿™æ ·çš„ï¼š&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ config
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ config.yml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ docker-compose.yml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">1 directory, 2 files
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="5">
&lt;li>è¿è¡Œå‘½ä»¤ï¼š&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">docker compose run openmanus python main.py
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å³å¯çœ‹åˆ°äº¤äº’å‘½ä»¤è¡Œã€‚&lt;/p>
&lt;h2 id="æµ‹è¯•">æµ‹è¯•
&lt;/h2>&lt;p>è®©æˆ‘ä»¬æµ‹è¯•ä¸€ä¸‹ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">INFO [browser_use] BrowserUse logging setup complete with level info
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO [root] Anonymized telemetry enabled. See https://docs.browser-use.com/development/telemetry for more information.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Enter your prompt (or &amp;#39;exit&amp;#39;/&amp;#39;quit&amp;#39; to quit): who is the best NBA player now?
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ‰§è¡Œå®Œæˆï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-gdscript3" data-lang="gdscript3">&lt;span class="line">&lt;span class="cl">&lt;span class="mi">2025&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">03&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">10&lt;/span> &lt;span class="mi">12&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">31&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">20.198&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="n">INFO&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="n">app&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">agent&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">base&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">137&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">Executing&lt;/span> &lt;span class="n">step&lt;/span> &lt;span class="mi">13&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">30&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="mi">2025&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">03&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">10&lt;/span> &lt;span class="mi">12&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">31&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">26.653&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="n">INFO&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="n">app&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">agent&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">toolcall&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">think&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">53&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="err">âœ¨&lt;/span> &lt;span class="n">Manus&lt;/span>&lt;span class="s1">&amp;#39;s thoughts: Thank you for your question about the best NBA player currently. Based on my research, I can provide you with a definitive answer:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">**&lt;/span>&lt;span class="n">Nikola&lt;/span> &lt;span class="n">Jokic&lt;/span>&lt;span class="o">**&lt;/span> &lt;span class="n">of&lt;/span> &lt;span class="n">the&lt;/span> &lt;span class="n">Denver&lt;/span> &lt;span class="n">Nuggets&lt;/span> &lt;span class="n">is&lt;/span> &lt;span class="n">widely&lt;/span> &lt;span class="n">considered&lt;/span> &lt;span class="n">the&lt;/span> &lt;span class="n">best&lt;/span> &lt;span class="n">NBA&lt;/span> &lt;span class="n">player&lt;/span> &lt;span class="n">right&lt;/span> &lt;span class="n">now&lt;/span>&lt;span class="o">.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">This&lt;/span> &lt;span class="n">conclusion&lt;/span> &lt;span class="n">is&lt;/span> &lt;span class="n">supported&lt;/span> &lt;span class="n">by&lt;/span> &lt;span class="n">multiple&lt;/span> &lt;span class="n">authoritative&lt;/span> &lt;span class="n">sources&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span> &lt;span class="n">ESPN&lt;/span>&lt;span class="s1">&amp;#39;s NBA Rank 2024-2025 places Jokic at #1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span> &lt;span class="n">CBS&lt;/span> &lt;span class="n">Sports&lt;/span> &lt;span class="n">rankings&lt;/span> &lt;span class="n">specifically&lt;/span> &lt;span class="n">mention&lt;/span> &lt;span class="s2">&amp;#34;Nikola Jokic over SGA at No. 1&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span> &lt;span class="n">Jokic&lt;/span> &lt;span class="n">has&lt;/span> &lt;span class="n">won&lt;/span> &lt;span class="n">the&lt;/span> &lt;span class="n">NBA&lt;/span> &lt;span class="n">MVP&lt;/span> &lt;span class="n">award&lt;/span> &lt;span class="n">three&lt;/span> &lt;span class="n">times&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">recent&lt;/span> &lt;span class="n">years&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="mi">2021&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2022&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="ow">and&lt;/span> &lt;span class="mi">2024&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span> &lt;span class="n">He&lt;/span> &lt;span class="n">led&lt;/span> &lt;span class="n">the&lt;/span> &lt;span class="n">Denver&lt;/span> &lt;span class="n">Nuggets&lt;/span> &lt;span class="n">to&lt;/span> &lt;span class="n">their&lt;/span> &lt;span class="n">first&lt;/span> &lt;span class="n">NBA&lt;/span> &lt;span class="n">Championship&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="mi">2023&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">The&lt;/span> &lt;span class="n">current&lt;/span> &lt;span class="n">consensus&lt;/span> &lt;span class="n">top&lt;/span> &lt;span class="mi">5&lt;/span> &lt;span class="n">NBA&lt;/span> &lt;span class="n">players&lt;/span> &lt;span class="n">are&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="mf">1.&lt;/span> &lt;span class="n">Nikola&lt;/span> &lt;span class="n">Jokic&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">Denver&lt;/span> &lt;span class="n">Nuggets&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="mf">2.&lt;/span> &lt;span class="n">Luka&lt;/span> &lt;span class="n">Doncic&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">Dallas&lt;/span> &lt;span class="n">Mavericks&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="mf">3.&lt;/span> &lt;span class="n">Giannis&lt;/span> &lt;span class="n">Antetokounmpo&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">Milwaukee&lt;/span> &lt;span class="n">Bucks&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="mf">4.&lt;/span> &lt;span class="n">Shai&lt;/span> &lt;span class="n">Gilgeous&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Alexander&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">Oklahoma&lt;/span> &lt;span class="n">City&lt;/span> &lt;span class="n">Thunder&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="mf">5.&lt;/span> &lt;span class="n">Jayson&lt;/span> &lt;span class="n">Tatum&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">Boston&lt;/span> &lt;span class="n">Celtics&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Jokic&lt;/span> &lt;span class="n">stands&lt;/span> &lt;span class="n">out&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">his&lt;/span> &lt;span class="n">exceptional&lt;/span> &lt;span class="n">versatility&lt;/span> &lt;span class="n">as&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="n">center&lt;/span> &lt;span class="n">with&lt;/span> &lt;span class="n">elite&lt;/span> &lt;span class="n">passing&lt;/span> &lt;span class="n">skills&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">scoring&lt;/span> &lt;span class="n">efficiency&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">rebounding&lt;/span> &lt;span class="n">prowess&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="ow">and&lt;/span> &lt;span class="n">basketball&lt;/span> &lt;span class="n">IQ&lt;/span>&lt;span class="o">.&lt;/span> &lt;span class="n">His&lt;/span> &lt;span class="n">unique&lt;/span> &lt;span class="n">ability&lt;/span> &lt;span class="n">to&lt;/span> &lt;span class="n">function&lt;/span> &lt;span class="n">as&lt;/span> &lt;span class="n">both&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="n">dominant&lt;/span> &lt;span class="n">scorer&lt;/span> &lt;span class="ow">and&lt;/span> &lt;span class="n">primary&lt;/span> &lt;span class="n">playmaker&lt;/span> &lt;span class="n">at&lt;/span> &lt;span class="mi">7&lt;/span> &lt;span class="n">feet&lt;/span> &lt;span class="n">tall&lt;/span> &lt;span class="n">makes&lt;/span> &lt;span class="n">him&lt;/span> &lt;span class="n">one&lt;/span> &lt;span class="n">of&lt;/span> &lt;span class="n">the&lt;/span> &lt;span class="n">most&lt;/span> &lt;span class="n">impactful&lt;/span> &lt;span class="n">players&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">the&lt;/span> &lt;span class="n">league&lt;/span>&lt;span class="o">.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="mi">2025&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">03&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">10&lt;/span> &lt;span class="mi">12&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">31&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">26.653&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="n">INFO&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="n">app&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">agent&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">toolcall&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">think&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">54&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="err">ðŸ› ï¸&lt;/span> &lt;span class="n">Manus&lt;/span> &lt;span class="n">selected&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="n">tools&lt;/span> &lt;span class="n">to&lt;/span> &lt;span class="n">use&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="mi">2025&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">03&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">10&lt;/span> &lt;span class="mi">12&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">31&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">26.654&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="n">INFO&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="n">app&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">agent&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">toolcall&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">think&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">58&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="err">ðŸ§°&lt;/span> &lt;span class="n">Tools&lt;/span> &lt;span class="n">being&lt;/span> &lt;span class="n">prepared&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;terminate&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="è´¹ç”¨">è´¹ç”¨
&lt;/h2>&lt;p>ä¸€æ¬¡æ€§èŠ±äº†æˆ‘ä¸€å—é’±ï¼Œææ€–å¦‚æ–¯ã€‚&lt;/p>
&lt;p>&lt;img src="https://svtter.cn/p/play-with-openmanus.md/pics/price.png"
width="724"
height="63"
srcset="https://svtter.cn/p/play-with-openmanus.md/pics/price_hu_2fd15c616c4c7747.png 480w, https://svtter.cn/p/play-with-openmanus.md/pics/price_hu_d13840975a8d9f99.png 1024w"
loading="lazy"
alt="price"
class="gallery-image"
data-flex-grow="1149"
data-flex-basis="2758px"
>&lt;/p>
&lt;h2 id="ç»“è®ºå’Œæƒ³æ³•">ç»“è®ºå’Œæƒ³æ³•
&lt;/h2>&lt;ol>
&lt;li>ç”¨äº† google searchï¼Œbrowserï¼Œä»¥åŠ python ä½œä¸º agent toolsã€‚å¾ˆæœ‰æƒ³æ³•ï¼Œå®žçŽ°ä¹Ÿå¾ˆå¿«ã€‚&lt;/li>
&lt;li>ä¸œå¥‘å¥‡å·²ç»åŽ»äº†æ¹–äººï¼Œåˆ†æžçš„æ•°æ®è¿˜åœ¨ç‹¬è¡Œä¾ ï¼ŒAGI æ— æ³•æ·˜æ±°æˆ‘ä»¬ï¼&lt;/li>
&lt;li>æœºä¼šæ°¸è¿œç•™ç»™æœ‰å‡†å¤‡çš„äºº&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="https://svtter.cn/p/play-with-openmanus.md/pics/chat.png"
width="900"
height="298"
srcset="https://svtter.cn/p/play-with-openmanus.md/pics/chat_hu_b27caa3b0d69649a.png 480w, https://svtter.cn/p/play-with-openmanus.md/pics/chat_hu_3593c209d2e46352.png 1024w"
loading="lazy"
alt="chat"
class="gallery-image"
data-flex-grow="302"
data-flex-basis="724px"
>&lt;/p></description></item><item><title>Coolify å’Œ Traefic ç»“åˆä½¿ç”¨</title><link>https://svtter.cn/p/coolify-%E5%92%8C-traefic-%E7%BB%93%E5%90%88%E4%BD%BF%E7%94%A8/</link><pubDate>Fri, 07 Feb 2025 17:14:55 +0800</pubDate><guid>https://svtter.cn/p/coolify-%E5%92%8C-traefic-%E7%BB%93%E5%90%88%E4%BD%BF%E7%94%A8/</guid><description>&lt;p>æˆ‘ä½¿ç”¨ coolify æ¥ç®¡ç†å¤šå°æœåŠ¡å™¨ï¼›ä½†æ˜¯ coolify åŸŸåç®¡ç†æœ‰ç‚¹è®©äººè¿·æƒ‘ï¼Œæˆ‘ä¸€ç›´æ²¡èƒ½æžå®šã€‚ä»Šå¤©æµ‹è¯•äº†ä¸€ä¸‹ï¼Œç»ˆäºŽæžæ˜Žç™½äº†ã€‚&lt;/p>
&lt;p>ä¾‹å¦‚ï¼Œå¦‚æžœæˆ‘è¦éƒ¨ç½²ä¸€ä¸ª&lt;code>myapp&lt;/code>ï¼Œæˆ‘çš„&lt;code>docker-compose.yml&lt;/code>åº”è¯¥è¿™æ ·å†™ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">myapp&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">myapp&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s1">&amp;#39;8050:80&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s1">&amp;#39;./data:/app/data&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">environment&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">NODE_ENV=production&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s1">&amp;#39;APP_PORT=${APP_PORT_IN_UI}&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s1">&amp;#39;PORT=${PORT_IN_UI:-80} volumes:&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s1">&amp;#39;${COOLIFY_VOLUME_MYAPP}:/app/data&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">labels&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">coolify.managed=true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">traefik.enable=true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">traefik.http.routers.myapp.rule=Host(`example.myapp.com`)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s1">&amp;#39;traefik.http.routers.myapp.entrypoints=http,https&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;code>80&lt;/code>æ˜¯&lt;code>myapp&lt;/code>å†…éƒ¨çš„&lt;code>port&lt;/code>ï¼ŒåŸŸåç”¨&lt;code>example.myapp.com&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>å¦‚æ­¤é…ç½®ï¼Œå°±å¯ä»¥ä½¿ç”¨åŸŸåäº†ã€‚&lt;/p></description></item><item><title>ä½¿ç”¨ä¸€ä¸ªåŸºç¡€é•œåƒæ¥é¿å…åå¤å®‰è£…ä¾èµ–é¡¹</title><link>https://svtter.cn/p/%E4%BD%BF%E7%94%A8%E4%B8%80%E4%B8%AA%E5%9F%BA%E7%A1%80%E9%95%9C%E5%83%8F%E6%9D%A5%E9%81%BF%E5%85%8D%E5%8F%8D%E5%A4%8D%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96%E9%A1%B9/</link><pubDate>Tue, 27 Aug 2024 18:04:54 +0800</pubDate><guid>https://svtter.cn/p/%E4%BD%BF%E7%94%A8%E4%B8%80%E4%B8%AA%E5%9F%BA%E7%A1%80%E9%95%9C%E5%83%8F%E6%9D%A5%E9%81%BF%E5%85%8D%E5%8F%8D%E5%A4%8D%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96%E9%A1%B9/</guid><description>&lt;p>å¾ˆå¤šæ—¶å€™ï¼Œæž„å»º docker é•œåƒçš„é€Ÿåº¦å¾ˆæ…¢ï¼Œå°¤å…¶æ˜¯å½“æˆ‘ä»¬çš„åŸºç¡€ä¾èµ–å‘ç”Ÿæ”¹å˜ä¹‹åŽã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬åº”è¯¥åœ¨å®žé™…è¿è¡Œçš„é•œåƒä¹‹å‰ï¼Œå¢žåŠ ä¸€ä¸ª venv çš„åŸºç¡€é•œåƒã€‚&lt;/p>
&lt;p>å¦‚æžœæˆ‘ä»¬æƒ³è¦æž„å»ºä¸€ä¸ªå‰ç«¯çš„é•œåƒï¼Œé‚£ä¹ˆä¸å¯é¿å…çš„è¦ä¸‹è½½å’Œå®‰è£…ä½¿ç”¨ npm åŒ…ã€‚æˆ‘ä»¬å¯ä»¥æž„å»ºä¸€ä¸ªåŸºç¡€é•œåƒï¼Œåç§°ä¸º &lt;code>frontend-base&lt;/code>ã€‚
é•œåƒçš„å†…å®¹&lt;code>dockerfile.base&lt;/code>å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-dockerfile" data-lang="dockerfile">&lt;span class="line">&lt;span class="cl"> FROM node:20 as build-stage&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> WORKDIR /app&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> ENV &lt;span class="nv">ELECTRON_MIRROR&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;https://npmmirror.com/mirrors/electron/&amp;#34;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> COPY pnpm-lock.yaml package.json /app/&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> RUN npm install -g pnpm &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> pnpm install&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> COPY . .&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span> RUN pnpm run build:vite&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿è¡Œå‘½ä»¤æž„å»ºé•œåƒï¼š&lt;code>docker build -f Dockerfile.base -t svtter/frontend-base:latest .&lt;/code>
å¦‚æ­¤ä¸€æ¥ï¼Œæˆ‘ä»¬å¯ä»¥æž„å»ºå¥½ä¸€ä¸ª&lt;code>frontend-base:latest&lt;/code>é•œåƒã€‚
ç„¶åŽï¼Œæˆ‘ä»¬å†æž„å»º&lt;code>frontend:latest&lt;/code>é•œåƒï¼Œä½œä¸ºæˆ‘ä»¬å®žé™…éƒ¨ç½²åº”ç”¨çš„é•œåƒã€‚ &lt;code>dockerfile&lt;/code>æ˜¯è¿™æ ·çš„ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-dockerfile" data-lang="dockerfile">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># FROM node:20 as build-stage&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="s"> svtter/cathodic-frontend-base:latest as build-stage&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">WORKDIR&lt;/span>&lt;span class="s"> /app&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">ENV&lt;/span> &lt;span class="nv">ELECTRON_MIRROR&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;https://npmmirror.com/mirrors/electron/&amp;#34;&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> pnpm-lock.yaml package.json /app/&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> pnpm install&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> . .&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> pnpm run build:vite&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="s"> nginx:1.25.1 as prod&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> --from&lt;span class="o">=&lt;/span>build-stage /app/src/out /usr/share/nginx/html&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>æ³¨æ„ï¼šå› ä¸ºæˆ‘çš„ä»£ç é‡Œä½¿ç”¨äº† electronï¼Œæ‰€ä»¥ä¸ºäº†é€Ÿåº¦æ›´å¿«ï¼Œæˆ‘ä½¿ç”¨äº†&lt;code>ELECTRON_MIRROR&lt;/code>ã€‚&lt;/p>&lt;/blockquote>
&lt;p>è¿™é‡Œçš„æž„å»ºå‘½ä»¤æ˜¯ï¼š&lt;code>docker build -t svtter/frontend:latest .&lt;/code>
è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬å¯ä»¥é¿å…å‡ ä¸ªé—®é¢˜:&lt;/p>
&lt;ol>
&lt;li>å¦‚æžœåŸºç¡€çš„ä¾èµ–æœ‰æ”¹å˜ï¼Œåœ¨ venv çš„åŸºç¡€ä¸Šï¼Œpnpm å¯ä»¥å‡å°‘ npm åŒ…çš„åå¤ä¸‹è½½ã€‚&lt;/li>
&lt;li>ä¸€æ®µæ—¶é—´åŽï¼Œæˆ‘ä»¬å¯ä»¥é‡æ–°æž„å»º &lt;code>frontend-base&lt;/code>ï¼Œæ¥å‡å°‘åœ¨ &lt;code>frontend&lt;/code> ä¸­åŒ…çš„ä¸‹è½½ã€‚&lt;/li>
&lt;/ol></description></item><item><title>Using Kind to Play with K8s</title><link>https://svtter.cn/p/using-kind-to-play-with-k8s/</link><pubDate>Wed, 12 Jun 2024 11:09:49 +0800</pubDate><guid>https://svtter.cn/p/using-kind-to-play-with-k8s/</guid><description>&lt;p>å¦‚æžœç›´æŽ¥ä½¿ç”¨ kubernetes çš„çº¿ä¸Šç‰ˆæœ¬è¿›è¡Œè°ƒè¯•ï¼Œéœ€è¦èµ„æºå¤ªå¤šäº†ã€‚ä½¿ç”¨ minikube æœ‰æ—¶å€™åˆæ— æ³•å¯åŠ¨é›†ç¾¤ã€‚
å› æ­¤ï¼Œå¼€å‘è€…å¯ä»¥è€ƒè™‘ä½¿ç”¨ &lt;a class="link" href="https://kind.sigs.k8s.io/docs/user/quick-start/" target="_blank" rel="noopener"
>Kind&lt;/a> æ¥éƒ¨ç½²æµ‹è¯• Kubernetesã€‚&lt;/p>
&lt;p>This article is about using Kind to create a Kubernetes (K8s) cluster and debug it.&lt;/p>
&lt;p>By default, Kind does not support load balancers. If you want to test your apps, use &lt;code>NodePort&lt;/code> or &lt;code>ClusterIP&lt;/code> instead.&lt;/p>
&lt;p>Source code: &lt;a class="link" href="https://github.com/Svtter/example-code-for-kind" target="_blank" rel="noopener"
>svtter/example-code-for-kind&lt;/a>.&lt;/p>
&lt;h2 id="using-nodeport-to-view-service">Using NodePort to View Service
&lt;/h2>&lt;p>Get the node&amp;rsquo;s IP to visit:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">(&lt;/span>base&lt;span class="o">)&lt;/span> âžœ cathodic kubectl get nodes -o wide
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">NAME STATUS ROLES AGE VERSION INTERNAL-IP EXTERNAL-IP OS-IMAGE KERNEL-VERSION CONTAINER-RUNTIME
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kind-control-plane Ready control-plane 22h v1.30.0 172.18.0.2 &amp;lt;none&amp;gt; Debian GNU/Linux &lt;span class="m">12&lt;/span> &lt;span class="o">(&lt;/span>bookworm&lt;span class="o">)&lt;/span> 6.1.0-18-amd64 containerd://1.7.15
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>View the service IP:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">(&lt;/span>base&lt;span class="o">)&lt;/span> âžœ cathodic kubectl get service nginx-service
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">NAME TYPE CLUSTER-IP EXTERNAL-IP PORT&lt;span class="o">(&lt;/span>S&lt;span class="o">)&lt;/span> AGE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nginx-service NodePort 10.96.65.77 &amp;lt;none&amp;gt; 80:30160/TCP 26m
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Now, use &lt;code>curl -L http://172.18.0.2:30160&lt;/code> to visit the Nginx service.&lt;/p>
&lt;h2 id="using-loadbalancer">Using LoadBalancer
&lt;/h2>&lt;ul>
&lt;li>Install cloud-provider-kind via this &lt;a class="link" href="https://kind.sigs.k8s.io/docs/user/loadbalancer/" target="_blank" rel="noopener"
>loadbalancer&lt;/a>.&lt;/li>
&lt;li>Start Kind, unlabel the node, and start &lt;code>cloud-provider-kind&lt;/code> according to this &lt;a class="link" href="https://github.com/kubernetes-sigs/cloud-provider-kind?tab=readme-ov-file#install" target="_blank" rel="noopener"
>link&lt;/a>.&lt;/li>
&lt;/ul></description></item><item><title>Use Mirror</title><link>https://svtter.cn/p/use-mirror/</link><pubDate>Thu, 17 Nov 2022 21:15:09 +0800</pubDate><guid>https://svtter.cn/p/use-mirror/</guid><description>&lt;p>ä½¿ç”¨ä»£ç†ã€‚åœ¨å›½å†…ç¼–ç¨‹ï¼Œä½¿ç”¨ä»£ç†éžå¸¸é‡è¦ã€‚&lt;/p>
&lt;p>å¦‚æžœä¸ä½¿ç”¨ä»£ç†ï¼Œä»£ç åŒ…çš„ä¸‹è½½ï¼ŒçŽ¯å¢ƒçš„æž„å»ºä¼šæµªè´¹ä½ å¾ˆå¤šæ—¶é—´ã€‚æœ‰äº›çŽ¯å¢ƒå› ä¸ºé«˜åº¦ä¾èµ–ç½‘ç»œçŽ¯å¢ƒï¼Œä½¿å¾—æˆ‘ä»¬å¦‚æžœä¸å®šåˆ¶åº•å±‚ç½‘ç»œï¼Œæ— æ³•èŽ·å–æŸäº›èµ„æºã€‚&lt;/p>
&lt;p>ä¸‹é¢ç½—åˆ—å‡ ä¸ªæŽ¨èçš„ä»£ç†ã€‚&lt;/p>
&lt;p>go: &lt;code>goproxy.io&lt;/code>
java:&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://developer.aliyun.com/article/754038" target="_blank" rel="noopener"
>maven mirror&lt;/a>, edit &lt;code>~/.m2/settings.xml&lt;/code>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;mirror&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;id&amp;gt;&lt;/span>nexus-aliyun&lt;span class="nt">&amp;lt;/id&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;mirrorOf&amp;gt;&lt;/span>*&lt;span class="nt">&amp;lt;/mirrorOf&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;name&amp;gt;&lt;/span>Nexus aliyun&lt;span class="nt">&amp;lt;/name&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;url&amp;gt;&lt;/span>http://maven.aliyun.com/nexus/content/groups/public&lt;span class="nt">&amp;lt;/url&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/mirror&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ruby: &lt;a class="link" href="https://gems.ruby-china.com/" target="_blank" rel="noopener"
>gem mirror&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ gem sources --add https://gems.ruby-china.com/ --remove https://rubygems.org/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ gem sources -l
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">https://gems.ruby-china.com
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ç¡®ä¿åªæœ‰ gems.ruby-china.com&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>php:&lt;/p>
&lt;ul>
&lt;li>composer: &lt;code>composer config -g repos.packagist composer https://mirrors.aliyun.com/composer/&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>python:&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://mirrors.tuna.tsinghua.edu.cn/help/pypi/" target="_blank" rel="noopener"
>tsinghua - pypi&lt;/a>&lt;/li>
&lt;li>&lt;code>pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>nodejs (javascript):&lt;/p>
&lt;ul>
&lt;li>cnpm: &lt;code>npm install -g cnpm --registry=http://registry.npm.taobao.org&lt;/code>&lt;/li>
&lt;li>tyarn: &lt;code>npm install -g tyarn&lt;/code>&lt;/li>
&lt;/ul></description></item><item><title>ä½¿ç”¨ Docker æž„å»ºå‰ç«¯åº”ç”¨</title><link>https://svtter.cn/p/%E4%BD%BF%E7%94%A8-docker-%E6%9E%84%E5%BB%BA%E5%89%8D%E7%AB%AF%E5%BA%94%E7%94%A8/</link><pubDate>Sat, 04 Sep 2021 18:04:01 +0800</pubDate><guid>https://svtter.cn/p/%E4%BD%BF%E7%94%A8-docker-%E6%9E%84%E5%BB%BA%E5%89%8D%E7%AB%AF%E5%BA%94%E7%94%A8/</guid><description>&lt;p>docker compose æž„å»ºå‰ç«¯ app æ˜¯å¦å®¹æ˜“ï¼Œå¼ºçƒˆå»ºè®®ä¸­å°ä¼ä¸šé‡‡ç”¨è¿™ç§æ–¹æ³•ã€‚&lt;/p>
&lt;p>å¯¹äºŽå‰åŽç«¯åˆ†ç¦»çš„ WEB åº”ç”¨ï¼Œä¸€èˆ¬é‡‡ç”¨&lt;code>npm run build&lt;/code>çš„å½¢å¼æž„å»ºé™æ€æ–‡ä»¶ã€‚
ç”Ÿæˆé™æ€æ–‡ä»¶åŽï¼Œå°†é™æ€æ–‡ä»¶æ”¾ç½®åˆ° nginx çš„é™æ€ç›®å½•ä¸‹ã€‚&lt;/p>
&lt;p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®è¿™ä¸ªç‰¹ç‚¹ï¼Œå®Œæˆ nginx é•œåƒçš„æž„å»ºã€‚&lt;/p>
&lt;p>è¿™ä¸ªæž„å»ºè¿‡ç¨‹å¾€å¾€åˆ†æˆä¸¤æ­¥ï¼š&lt;/p>
&lt;ol>
&lt;li>æž„å»ºå‰ç«¯çš„çŽ¯å¢ƒï¼Œå¹¶ä¸”ç”Ÿæˆé™æ€æ–‡ä»¶&lt;/li>
&lt;li>æž„å»º&lt;code>nginx&lt;/code>é•œåƒï¼Œå°†é™æ€æ–‡ä»¶æ‹·è´&lt;/li>
&lt;/ol>
&lt;h2 id="dockerfile">Dockerfile
&lt;/h2>&lt;p>ä¸€ä¸ªæ ·ä¾‹&lt;code>Dockerfile&lt;/code>å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-dockerfile" data-lang="dockerfile">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># Stage 0, &amp;#34;build-stage&amp;#34;, based on Node.js, to build and compile the frontend&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="s"> node:14 as build-stage&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">WORKDIR&lt;/span>&lt;span class="s"> /app&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># é…ç½®æ·˜å®é•œåƒ&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> yarn config &lt;span class="nb">set&lt;/span> registry https://registry.npm.taobao.org/&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># å¤åˆ¶å‰ç«¯ä¾èµ–æ–‡ä»¶&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> package.json /app/&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> yarn install&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> . /app&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> yarn run build&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># å¤åˆ¶ nginx é…ç½®æ–‡ä»¶&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> default.conf default.conf&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># Stage 1, based on Nginx, to have only the compiled app, ready for production with Nginx&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="s"> nginx:1.18&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> --from&lt;span class="o">=&lt;/span>build-stage /app/dist/ /usr/share/nginx/html&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># Copy the default default.conf provided by tiangolo/node-frontend&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> --from&lt;span class="o">=&lt;/span>build-stage /app/default.conf /etc/nginx/conf.d/default.conf&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">CMD&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;nginx&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;-g&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;daemon off;&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>nginx é…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-nginx" data-lang="nginx">&lt;span class="line">&lt;span class="cl">&lt;span class="k">server&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">listen&lt;/span> &lt;span class="mi">80&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">access_log&lt;/span> &lt;span class="s">/dev/log&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">root&lt;/span> &lt;span class="s">/usr/share/nginx/html&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å¯åŠ¨åº”ç”¨">å¯åŠ¨åº”ç”¨
&lt;/h2>&lt;ul>
&lt;li>æž„å»ºå‰ç«¯é•œåƒï¼š&lt;code>docker build -t frontend .&lt;/code>&lt;/li>
&lt;li>å¯åŠ¨å‰ç«¯åº”ç”¨ï¼š&lt;code>docker run -it -p 3000:80 -d frontend .&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>è¿™æ ·ï¼Œæˆ‘ä»¬åœ¨ä¸»æœºçš„&lt;code>3000&lt;/code>ç«¯å£å¯åŠ¨äº†&lt;code>nginx&lt;/code>ï¼Œå¹¶ä¸”å°†å‰ç«¯çš„åº”ç”¨æ‹·è´äº†è¿›åŽ»ã€‚&lt;/p>
&lt;p>ä¸‹ä¸€æ­¥ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ­¤åŸºç¡€ä¸Šæž„å»ºæ•´ä¸ªåº”ç”¨ã€‚&lt;/p>
&lt;p>ï¼ˆæœªå®Œå¾…ç»­ï¼‰&lt;/p></description></item><item><title>âš™ è®°å½•ä¸€æ¬¡ gitlab runner çš„é…ç½®</title><link>https://svtter.cn/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1-gitlab-runner-%E7%9A%84%E9%85%8D%E7%BD%AE/</link><pubDate>Mon, 17 Aug 2020 08:44:46 +0800</pubDate><guid>https://svtter.cn/p/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1-gitlab-runner-%E7%9A%84%E9%85%8D%E7%BD%AE/</guid><description>&lt;p>é¦–å…ˆä»‹ç»ä¸€ä¸‹æ•´ä½“çš„æƒ…å†µï¼Œå’Œæˆ‘ä»¬çš„éœ€æ±‚ã€‚&lt;/p>
&lt;ol>
&lt;li>
&lt;p>åœ¨æˆ‘ä»¬ç»„é‡Œï¼Œä¸åŒçš„é¡¹ç›®å’ŒæœåŠ¡ï¼Œè¢«åˆ†åˆ°ä¸åŒçš„ repo ä¸­ï¼Œæ‰˜ç®¡åœ¨ gitlab ä¸Šé¢ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æœ€è¿‘ä¸€æ®µæ—¶é—´ï¼Œç”±äºŽæž„å»ºçš„æ—¶é—´å˜é•¿ï¼Œç”¨æŽ‰äº† gitlab å…è´¹çš„ 2000 minutesã€‚&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>å› æ­¤ï¼Œæ‰“ç®—é‡‡ç”¨è‡ªå·±çš„ runnerï¼Œæ¥è¿›è¡ŒæœåŠ¡çš„æž„å»ºå’Œä½¿ç”¨ã€‚&lt;/p>
&lt;p>Gitlab runner é…ç½®æœ‰äº›ç¥žå¥‡ã€‚&lt;/p>
&lt;h2 id="-æŠ€æœ¯èƒŒæ™¯">ðŸ”™ æŠ€æœ¯èƒŒæ™¯
&lt;/h2>&lt;p>åœ¨è¿™ä¹‹å‰ï¼Œæˆ‘ä»¬å·²ç»å•ç»™ &lt;code>data_service&lt;/code> éƒ¨ç½²äº†ä¸€ä¸ª &lt;code>gitlab-runner&lt;/code>ã€‚è¿™æ˜¯ç”±äºŽ&lt;code>data-service&lt;/code> è·‘ CI çš„æ—¶é—´æ ¼å¤–é•¿ï¼Œå› æ­¤å•ç‹¬è¿›è¡Œäº†é…ç½®ã€‚&lt;/p>
&lt;p>ä½†æ˜¯æ²¡æœ‰æƒ³åˆ°çš„æ˜¯ï¼Œbackend-service è€—å°½äº†æ‰€æœ‰çš„ gitlab åˆ†é’Ÿæ•°ã€‚&lt;/p>
&lt;p>â€‹ æœ¬æ–‡èŠ±è´¹äº†ä½œè€… &lt;code>$8&lt;/code> ã€‚å¦‚æžœå¯ä»¥çš„è¯ï¼Œè¯·æ”¯æŒä¸€ä¸‹ä½œè€…ã€‚&lt;/p>
&lt;h2 id="-gitlab-runner-æ¦‚å¿µ">ðŸƒâ€â™‚ï¸ Gitlab Runner æ¦‚å¿µ
&lt;/h2>&lt;p>CI æ˜¯ç”± jobs ç»„æˆçš„ï¼›&lt;/p>
&lt;p>pipeline æ˜¯ç”±å¤šä¸ª jobs ç»„æˆã€‚&lt;/p>
&lt;p>å®˜æ–¹æ–‡æ¡£å£°ç§°ï¼Œåœ¨ gitlab ä¸­ï¼Œæ²¡æœ‰&lt;code>shared runner&lt;/code>ï¼Œå°±ä¸èƒ½å¯åŠ¨ jobs äº†ã€‚&lt;/p>
&lt;p>ä½†å…¶å®žï¼Œåªè¦æœ‰ &lt;code>group runner&lt;/code> æˆ–è€… &lt;code>specific runner&lt;/code> ï¼ˆä¹Ÿå°±æ˜¯æˆ‘ä»¬è‡ªå·±é…ç½®çš„ runnerï¼‰ï¼Œjob ä¹Ÿå¯ä»¥æ­£å¸¸è¿è¡Œã€‚&lt;/p>
&lt;p>è¦æ³¨æ„ä¸€ä¸‹ &lt;code>tag&lt;/code> é€‰é¡¹ã€‚&lt;code>tag&lt;/code> é€‰é¡¹ï¼Œå¹¶éžå•çº¯çš„å¯¹ &lt;code>runner&lt;/code> è¿›è¡ŒåŒºåˆ†ã€‚é¡¹ç›®ä¹Ÿä¼šä¾æ®&lt;code>tag&lt;/code>ï¼Œè¢«åˆ†é…ç»™ä¸åŒçš„&lt;code>runner&lt;/code>ã€‚&lt;/p>
&lt;p>ä¸è¿‡ï¼Œæˆ‘ä»¬åœ¨æœ€åˆé…ç½®&lt;code>runner&lt;/code>æ—¶ä¸æ¸…æ¥šè¿™ä¸€ç‚¹ã€‚æˆ‘ä»¬è¿˜ä»¥ä¸ºï¼Œå°±æ˜¯å®˜æ–¹æ‰€å£°ç§°çš„ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">Shared Runners on GitLab.com run in autoscale mode and are powered by Google Cloud Platform. Autoscaling means reduced wait times to spin up builds, and isolated VMs for each project, thus maximizing security.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">They&amp;#39;re free to use for public open source projects and limited to 2000 CI minutes per month per group for private projects. Read about all GitLab.com plans.
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å› æ­¤ç»™&lt;code>gitlab&lt;/code>è¿›è¡Œäº†ä¸€ä¸‹ä¿¡ä»°å……å€¼ã€‚åŽæ¥å‘è§‰ä¼¼ä¹Žå……å€¼ä¹‹åŽï¼Œæˆ‘ä»¬é…ç½®çš„&lt;code>group runner&lt;/code>ä¹Ÿæ²¡æœ‰å¼€å§‹è¿è¡Œã€‚&lt;/p>
&lt;p>æœ€åŽæˆ‘ä»¬å®šä½åˆ°&lt;code>runner&lt;/code>çš„&lt;code>tag&lt;/code>é—®é¢˜ï¼Œæœ€ç»ˆæš‚æ—¶ç§»é™¤äº†&lt;code>tag&lt;/code>ï¼Œè§£å†³äº†é—®é¢˜ã€‚&lt;/p>
&lt;p>å¸Œæœ› &lt;code>gitlab&lt;/code> èƒ½å¤Ÿå‘å±•çš„è¶Šæ¥è¶Šå¥½ã€‚å¸Œæœ›&lt;code>Mozilla&lt;/code>æ”¯æ’‘ä¸‹åŽ»ã€‚&lt;/p></description></item><item><title>ä¸ºä½ çš„ Docker é¡¹ç›®é›†æˆ ELK</title><link>https://svtter.cn/p/%E4%B8%BA%E4%BD%A0%E7%9A%84-docker-%E9%A1%B9%E7%9B%AE%E9%9B%86%E6%88%90-elk/</link><pubDate>Fri, 04 Jan 2019 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E4%B8%BA%E4%BD%A0%E7%9A%84-docker-%E9%A1%B9%E7%9B%AE%E9%9B%86%E6%88%90-elk/</guid><description>&lt;p>&lt;a class="link" href="https://github.com/twtrubiks/docker-elk-tutorial" target="_blank" rel="noopener"
>https://github.com/twtrubiks/docker-elk-tutorial&lt;/a>&lt;/p>
&lt;p>åŸºæœ¬ä¸ŠæŒ‰ç…§è¿™ä¸ªé…ç½®å°±å¯ä»¥äº†ï¼Œåˆ›å»º @timestamp è¿™ä¸€æ­¥ï¼Œå¯ä»¥ç”¨å¦‚ä¸‹è„šæœ¬æ›¿ä»£ Postman&lt;/p>
&lt;pre>$ &lt;span class="pl-s1">curl -XPOST -D- &lt;span class="pl-s">&lt;span class="pl-pds">'&lt;/span>http://localhost:5601/api/saved_objects/index-pattern&lt;span class="pl-pds">'&lt;/span>&lt;/span> \&lt;/span>
&lt;span class="pl-c1"> -H 'Content-Type: application/json' \&lt;/span>
&lt;span class="pl-c1"> -H 'kbn-version: 6.5.4' \&lt;/span>
&lt;span class="pl-c1"> -d '{"attributes":{"title":"logstash-*","timeFieldName":"@timestamp"}}'&lt;/span>&lt;/pre>
&lt;p>è¿™ä¹Ÿæ˜¯ tutorials ä¸­ï¼Œä½¿ç”¨çš„ ELK images ç»™å‡ºçš„ã€‚&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/deviantony/docker-elk" target="_blank" rel="noopener"
>https://github.com/deviantony/docker-elk&lt;/a>&lt;/p>
&lt;h2 id="elk-æ˜¯ä»€ä¹ˆ">ELK æ˜¯ä»€ä¹ˆï¼Ÿ
&lt;/h2>&lt;p>ä»¥ä¸‹å†…å®¹æ‘˜è‡ªÂ &lt;a href="https://www.cnblogs.com/soar1688/p/6849183.html" target="_blank" rel="noopener">soar1688çš„åšå®¢&lt;/a>&lt;/p>
&lt;p>ELK ç”± Elasticsearchã€Logstash å’Œ Kibana ä¸‰éƒ¨åˆ†ç»„ä»¶ç»„æˆï¼›&lt;/p>
&lt;p>ElasticsearchÂ æ˜¯ä¸ªå¼€æºåˆ†å¸ƒå¼æœç´¢å¼•æ“Žï¼Œå®ƒçš„ç‰¹ç‚¹æœ‰ï¼šåˆ†å¸ƒå¼ï¼Œé›¶é…ç½®ï¼Œè‡ªåŠ¨å‘çŽ°ï¼Œç´¢å¼•è‡ªåŠ¨åˆ†ç‰‡ï¼Œç´¢å¼•å‰¯æœ¬æœºåˆ¶ï¼Œrestful é£Žæ ¼æŽ¥å£ï¼Œå¤šæ•°æ®æºï¼Œè‡ªåŠ¨æœç´¢è´Ÿè½½ç­‰ã€‚&lt;/p>
&lt;p>LogstashÂ æ˜¯ä¸€ä¸ªå®Œå…¨å¼€æºçš„å·¥å…·ï¼Œå®ƒå¯ä»¥å¯¹ä½ çš„æ—¥å¿—è¿›è¡Œæ”¶é›†ã€åˆ†æžï¼Œå¹¶å°†å…¶å­˜å‚¨ä¾›ä»¥åŽä½¿ç”¨&lt;/p>
&lt;p>kibana æ˜¯ä¸€ä¸ªå¼€æºå’Œå…è´¹çš„å·¥å…·ï¼Œå®ƒå¯ä»¥ä¸º Logstash å’Œ ElasticSearch æä¾›çš„æ—¥å¿—åˆ†æžå‹å¥½çš„ Web ç•Œé¢ï¼Œå¯ä»¥å¸®åŠ©æ‚¨æ±‡æ€»ã€åˆ†æžå’Œæœç´¢é‡è¦æ•°æ®æ—¥å¿—ã€‚&lt;/p>
&lt;p>2ã€å››å¤§ç»„ä»¶&lt;/p>
&lt;p>Logstash: logstash server ç«¯ç”¨æ¥æœé›†æ—¥å¿—ï¼›&lt;/p>
&lt;p>Elasticsearch: å­˜å‚¨å„ç±»æ—¥å¿—ï¼›&lt;/p>
&lt;p>Kibana: web åŒ–æŽ¥å£ç”¨ä½œæŸ¥å¯»å’Œå¯è§†åŒ–æ—¥å¿—ï¼›&lt;/p>
&lt;p>Logstash Forwarder: logstash client ç«¯ç”¨æ¥é€šè¿‡ lumberjack ç½‘ç»œåè®®å‘é€æ—¥å¿—åˆ° logstash serverï¼›&lt;/p>
&lt;h2 id="è¿˜å¯å‚è€ƒ">è¿˜å¯å‚è€ƒ
&lt;/h2>&lt;p>â€“Â https://www.codementor.io/samueljames/using-django-with-elasticsearch-logstash-and-kibana-elk-stack-9l4fwx138&lt;/p></description></item><item><title>ä½¿ç”¨ Docker swarm æž„å»º PostgreSQL é›†ç¾¤</title><link>https://svtter.cn/p/%E4%BD%BF%E7%94%A8-docker-swarm-%E6%9E%84%E5%BB%BA-postgresql-%E9%9B%86%E7%BE%A4/</link><pubDate>Sat, 01 Dec 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E4%BD%BF%E7%94%A8-docker-swarm-%E6%9E%84%E5%BB%BA-postgresql-%E9%9B%86%E7%BE%A4/</guid><description>&lt;blockquote>
&lt;p>åˆæ˜¯ä¸€ä¸ªæ¸£ç¿»ï¼ŒCopyright belongs to the original textã€‚&lt;/p>
&lt;p>&lt;a class="link" href="https://info.crunchydata.com/blog/an-easy-recipe-for-creating-a-postgresql-cluster-with-docker-swarm" target="_blank" rel="noopener"
>åŽŸæ–‡åœ°å€&lt;/a>&lt;/p>&lt;/blockquote>
&lt;h2 id="èƒŒæ™¯">èƒŒæ™¯
&lt;/h2>&lt;p>PostgreSQL åœ¨ 9.0 ç‰ˆæœ¬å·²ç»å¼€å§‹æŒç»­æŽ¥æ”¶å¤§é‡çš„å¢žå¼ºï¼ŒåŒ…æ‹¬ï¼š&lt;/p>
&lt;ol>
&lt;li>å¼‚æ­¥æ‹“å±•&lt;/li>
&lt;li>åŒæ­¥æ‹“å±•&lt;/li>
&lt;li>ä»²è£æäº¤&lt;/li>
&lt;li>çº§è”æ‹“å±•&lt;/li>
&lt;li>é€»è¾‘æ‹“å±•&lt;/li>
&lt;/ol>
&lt;p>PostgreSQL æ–‡æ¡£ä¹Ÿæä¾›äº†ä¸€ä¸ª overview ä»¥åŠ ä¸åŒæ‹“å±•æ–¹æ³•çš„æ¯”è¾ƒã€‚è¯¦è§&lt;a href="https://www.postgresql.org/docs/current/different-replication-solutions.html" target="_blank" rel="noopener">PostgreSQL é›†ç¾¤ç­–ç•¥æ¯”è¾ƒ&lt;/a>&lt;/p>
&lt;p>ç”¨äºŽéƒ¨ç½² PostgreSQL çš„æ‹“å±•çš„ä¸»æ‹“å±•çš„æ–¹æ³•è®ºï¼Œæ˜¯ä¸€ä¸ªé‡è¦çš„å·¥å…·æ¥ä¸ºä½ çš„æ•°æ®åº“é›†ç¾¤åˆ›å»ºé«˜å¯ç”¨çš„çŽ¯å¢ƒã€‚éœ€è¦ä¸€ä¸ªåˆé€‚çš„éƒ¨ç½²ç­–ç•¥æ¥ç¡®ä¿ä½ çš„æ•°æ®è¢«ä¿å­˜åˆ°ä¸åŒç£ç›˜ï¼Œä»¥åŠä¸åŒçš„æ•°æ®ä¸­å¿ƒã€‚&lt;/p>
&lt;p>æ‹“å±•ä¸æ˜¯ä¸€ä¸ªâ€œå®‰è£…ç„¶åŽå¿˜è®°â€çš„æ“ä½œã€‚åœ¨ç”Ÿäº§ç³»ç»Ÿä¸­ï¼Œä½ æƒ³è¦ç¡®å®šä½ å¯¹å®žä¾‹æœ‰åˆé€‚çš„ç›‘æŽ§ï¼Œæ¥äº†è§£ä½ æ‰€æœ‰çš„åœ¨çº¿çš„æ‹“å±•ï¼Œæˆ–è€…äº†è§£ä¸€ä¸ªæ‹“å±•æœ‰å¤šå°‘æ•°æ®éœ€è¦ä¸Žä¸»èŠ‚ç‚¹è¿›è¡ŒåŒæ­¥ã€‚&lt;/p>
&lt;p>å½“ä¸»èŠ‚ç‚¹é…ç½®å¥½ä»¥åŽï¼Œå®‰è£…å°±å¾ˆå®¹æ˜“äº†ã€‚ä½†å¹¸è¿çš„æ˜¯ï¼Œä½¿ç”¨ Docker å¯ä»¥ä½¿å¾—è¿™ä¸ªè¿‡ç¨‹æ›´åŠ è½»æ¾ã€‚&lt;/p>
&lt;h2 id="çŽ¯å¢ƒå®‰è£…">çŽ¯å¢ƒå®‰è£…
&lt;/h2>&lt;p>æƒ³è¦éƒ¨ç½²è¿™ä¸ªçŽ¯å¢ƒï¼Œä½ è‡³å°‘éœ€è¦ Docker 1.12ç‰ˆæœ¬ã€‚&lt;/p>
&lt;p>è¦æƒ³å¼€å§‹ï¼Œæä¾›ä¸€ä¸ª Docker é›†ç¾¤ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªå¼€å‘é›†ç¾¤ï¼Œä½ å¯ä»¥åœ¨æ¯ä¸€ä¸ªæœºå™¨ä¸ŠåŠ è½½ Dokcerï¼Œæ¥ä½¿ç”¨ Swarmã€‚è¿™ä¸ªæ–¹æ³•å°†ä½¿ç”¨å¦‚ä¸‹çš„æž¶æž„ï¼š&lt;/p>
&lt;img src="https://i2.wp.com/info.crunchydata.com/hs-fs/hubfs/diagram.png?w=625&amp;#038;ssl=1" alt="PostgreSQL Docker Swarm Architecture" data-recalc-dims="1" />
&lt;p>æ¯ä¸€ä¸ªç³»ç»Ÿéƒ½éœ€è¦å®‰è£… Docker ä»¥åŠå¯åŠ¨ã€‚&lt;/p>
&lt;h2 id="swarm-å®‰è£…">Swarm å®‰è£…
&lt;/h2>&lt;p>ä»Ž1.12ç‰ˆæœ¬å¼€å§‹ï¼ŒDockerå°±å·²ç»é›†æˆäº†Swarmã€‚&lt;/p>
&lt;h2 id="å®¹å™¨ç¼–æŽ’">å®¹å™¨ç¼–æŽ’
&lt;/h2>&lt;p>é«˜å¯ç”¨ PostgresSQL é›†ç¾¤é…ç½®éœ€è¦ä¸¤ä¸ªä»¥ä¸Šçš„ä¸»æœºã€‚ä¸»èŠ‚ç‚¹å’Œä»ŽèŠ‚ç‚¹éœ€è¦è¿è¡Œåœ¨ä¸åŒçš„ worker èŠ‚ç‚¹ä¸Šï¼Œæ¥ä½¿å¾—å¯ç”¨æ€§æœ€é«˜ã€‚&lt;/p>
&lt;p>ä¸ºäº†éƒ¨ç½² &lt;a href="https://github.com/CrunchyData/crunchy-containers/" target="_blank" rel="noopener">Crunchy PostgreSQL containers&lt;/a> åˆ°å¤šä¸ªé›†ç¾¤ï¼Œä½ éœ€è¦ä½¿ç”¨ node labelsã€‚&lt;/p>
&lt;p>æ ‡æ³¨ä¸»æœºå¯¹äºŽä½¿ç”¨ PostgreSQL å®¹å™¨æœ‰å‡ ä¸ªå¥½å¤„ï¼š&lt;/p>
&lt;ul>
&lt;li>å°†æœåŠ¡æ•£æ­¥åˆ°è®¸å¤š worker ä¸Šï¼Œæ¥æé«˜å¯ç”¨æ€§&lt;/li>
&lt;li>ä¸»æœºå¯ä»¥é’ˆå¯¹è¯»ï¼ˆä»Žï¼‰å†™ï¼ˆä¸»ï¼‰æ“ä½œè¿›è¡Œä¼˜åŒ–ï¼ˆä¾‹å¦‚ä½¿ç”¨é«˜æ€§èƒ½ç£ç›˜ï¼‰&lt;/li>
&lt;/ul>
&lt;p>**è®°ä½ï¼š**å¯¹äºŽPostgreSQL 10ï¼Œä¸»èŠ‚ç‚¹å¯ä»¥åŒæ—¶è¢«å…è®¸è¯»å†™ï¼Œä½†æ˜¯ä»ŽèŠ‚ç‚¹ä»…ä»…å…è®¸è¢«è¯»ã€‚&lt;/p>
&lt;p>ä¸ºäº†å…è®¸å®¹å™¨è¢«æ”¾åœ¨æŒ‡å®šçš„ worker èŠ‚ç‚¹ä¸Šï¼Œå¢žåŠ ä¸€ä¸ªå…ƒæ•°æ®æ ‡ç­¾åˆ° Swarm èŠ‚ç‚¹ä¸Šã€‚&lt;/p>
&lt;pre>node1_id=&lt;span class="pl-s">&lt;span class="pl-pds">$(&lt;/span>docker node list &lt;span class="pl-k">|&lt;/span> grep worker1 &lt;span class="pl-k">|&lt;/span> awk &lt;span class="pl-pds">'&lt;/span>{print $1}&lt;span class="pl-pds">'&lt;/span>&lt;span class="pl-pds">)&lt;/span>&lt;/span>
docker node update --label-add type=primary &lt;span class="pl-smi">${node1_id?}
&lt;/span>&lt;/pre>
&lt;p>åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œä¸€ä¸ªè¢«ç§°ä¸º primary çš„æ ‡ç­¾ï¼ŒåŠ å…¥äº† worker1ã€‚é€šè¿‡ä½¿ç”¨è¿™ä¸ªæ ‡ç­¾ï¼Œæˆ‘ä»¬å¯ä»¥åº”ç”¨ä¸€äº›çº¦æŸåˆ° Docker swarm çš„ PostgreSQL Stack éƒ¨ç½²ä¸Šã€‚&lt;/p>
&lt;p>&lt;strong>æ³¨æ„ï¼šæˆ‘ä»¬æ²¡æœ‰å¯¹ä»ŽèŠ‚ç‚¹å¢žåŠ çº¦æŸï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•çš„ä½¿ç”¨ä¸€æ¡ inverse çº¦æŸï¼š&lt;/strong>&lt;/p>
&lt;p>&lt;code>node.labels.type != primary&lt;/code>&lt;/p>
&lt;h2 id="postgresql-stack-å®šä¹‰">PostgreSQL stack å®šä¹‰
&lt;/h2>&lt;p>é€šè¿‡ Swarm éƒ¨ç½²ä»¥åŠ worker èŠ‚ç‚¹æ­£ç¡®çš„æ ‡è®°ï¼Œæˆ‘ä»¬å¯ä»¥éƒ¨ç½² PostgreSQL stackäº†ã€‚&lt;/p>
&lt;p>PostgreSQL stack æ˜¯é€šè¿‡ä¸€ä¸ªä¸»èŠ‚ç‚¹ä»¥åŠä»ŽèŠ‚ç‚¹ç»„æˆçš„ã€‚ä¸‹é¢æ˜¯æœåŠ¡å®šä¹‰ï¼š&lt;/p>
&lt;p>&lt;em>docker-compose.yml&lt;/em>&lt;/p>
&lt;pre>---
&lt;span class="pl-ent">version&lt;/span>: &lt;span class="pl-s">&lt;span class="pl-pds">"&lt;/span>3.3&lt;span class="pl-pds">"&lt;/span>&lt;/span>
&lt;span class="pl-ent">services&lt;/span>:
&lt;span class="pl-ent">primary&lt;/span>:
&lt;span class="pl-ent">hostname&lt;/span>: &lt;span class="pl-s">&lt;span class="pl-pds">'&lt;/span>primary&lt;span class="pl-pds">'&lt;/span>&lt;/span>
&lt;span class="pl-ent">image&lt;/span>: &lt;span class="pl-s">crunchydata/crunchy-postgres:centos7-10.3-1.8.2&lt;/span>
&lt;span class="pl-ent">environment&lt;/span>:
- &lt;span class="pl-s">PGHOST=/tmp&lt;/span>
- &lt;span class="pl-s">MAX_CONNECTIONS=10&lt;/span>
- &lt;span class="pl-s">MAX_WAL_SENDERS=5&lt;/span>
- &lt;span class="pl-s">PG_MODE=primary&lt;/span>
- &lt;span class="pl-s">PG_PRIMARY_USER=primaryuser&lt;/span>
- &lt;span class="pl-s">PG_PRIMARY_PASSWORD=password&lt;/span>
- &lt;span class="pl-s">PG_DATABASE=testdb&lt;/span>
- &lt;span class="pl-s">PG_USER=testuser&lt;/span>
- &lt;span class="pl-s">PG_PASSWORD=password&lt;/span>
- &lt;span class="pl-s">PG_ROOT_PASSWORD=password&lt;/span>
- &lt;span class="pl-s">PG_PRIMARY_PORT=5432&lt;/span>
&lt;span class="pl-ent">volumes&lt;/span>:
- &lt;span class="pl-s">pg-primary-vol:/pgdata&lt;/span>
&lt;span class="pl-ent">ports&lt;/span>:
- &lt;span class="pl-s">&lt;span class="pl-pds">"&lt;/span>5432&lt;span class="pl-pds">"&lt;/span>&lt;/span>
&lt;span class="pl-ent">networks&lt;/span>:
- &lt;span class="pl-s">crunchynet&lt;/span>
&lt;span class="pl-ent">deploy&lt;/span>:
&lt;span class="pl-ent">placement&lt;/span>:
&lt;span class="pl-ent">constraints&lt;/span>:
- &lt;span class="pl-s">node.labels.type == primary&lt;/span>
- &lt;span class="pl-s">node.role == worker&lt;/span>
&lt;span class="pl-ent">replica&lt;/span>:
&lt;span class="pl-ent">image&lt;/span>: &lt;span class="pl-s">crunchydata/crunchy-postgres:centos7-10.3-1.8.2&lt;/span>
&lt;span class="pl-ent">environment&lt;/span>:
- &lt;span class="pl-s">PGHOST=/tmp&lt;/span>
- &lt;span class="pl-s">MAX_CONNECTIONS=10&lt;/span>
- &lt;span class="pl-s">MAX_WAL_SENDERS=5&lt;/span>
- &lt;span class="pl-s">PG_MODE=replica&lt;/span>
- &lt;span class="pl-s">PG_PRIMARY_HOST=primary&lt;/span>
- &lt;span class="pl-s">PG_PRIMARY_PORT=5432&lt;/span>
- &lt;span class="pl-s">PG_PRIMARY_USER=primaryuser&lt;/span>
- &lt;span class="pl-s">PG_PRIMARY_PASSWORD=password&lt;/span>
- &lt;span class="pl-s">PG_DATABASE=testdb&lt;/span>
- &lt;span class="pl-s">PG_USER=testuser&lt;/span>
- &lt;span class="pl-s">PG_PASSWORD=password&lt;/span>
- &lt;span class="pl-s">PG_ROOT_PASSWORD=password&lt;/span>
&lt;span class="pl-ent">volumes&lt;/span>:
- &lt;span class="pl-s">pg-replica-vol:/pgdata&lt;/span>
&lt;span class="pl-ent">ports&lt;/span>:
- &lt;span class="pl-s">&lt;span class="pl-pds">"&lt;/span>5432&lt;span class="pl-pds">"&lt;/span>&lt;/span>
&lt;span class="pl-ent">networks&lt;/span>:
- &lt;span class="pl-s">crunchynet&lt;/span>
&lt;span class="pl-ent">deploy&lt;/span>:
&lt;span class="pl-ent">placement&lt;/span>:
&lt;span class="pl-ent">constraints&lt;/span>:
- &lt;span class="pl-s">node.labels.type != primary&lt;/span>
- &lt;span class="pl-s">node.role == worker&lt;/span>
&lt;span class="pl-ent">networks&lt;/span>:
&lt;span class="pl-ent">crunchynet&lt;/span>:
&lt;span class="pl-ent">volumes&lt;/span>:
&lt;span class="pl-ent">pg-primary-vol&lt;/span>:
&lt;span class="pl-ent">pg-replica-vol&lt;/span>:&lt;/pre>
&lt;p>æ³¨æ„ï¼Œä¸»æœåŠ¡å®šä¹‰äº†ä¸€ä¸ª hostnameï¼Œä½†æ˜¯ replica æœåŠ¡æ²¡æœ‰ã€‚Replica éœ€è¦ä¸€ä¸ª hostname æ¥å¯åŠ¨ replicationã€‚é€šè¿‡æä¾›ä¸€ä¸ªé™æ€çš„ hostname ç»™ä¸»èŠ‚ç‚¹ï¼Œreplicaå°±å¯ä»¥è¿žæŽ¥ä¸»èŠ‚ç‚¹ï¼Œè€Œä¸éœ€è¦å‘çŽ°ä¸»å®¹å™¨ã€‚&lt;/p>
&lt;p>replicaï¼Œæ²¡æœ‰ä¸€ä¸ª hostnameï¼Œè¿™å…è®¸ replica æœåŠ¡æ‹“å±•åˆ°å¤šä¸ªèŠ‚ç‚¹ã€‚ï¼ˆå¾…ä¼šå„¿å±•ç¤ºä¸€ä¸‹ï¼‰ã€‚&lt;/p>
&lt;p>primary å’Œ replica æœåŠ¡çš„ä¸»è¦åŒºåˆ«ï¼Œæ˜¯ PG_MODE çŽ¯å¢ƒå˜é‡ã€‚è¿™ä¸ªå˜é‡é…ç½®å®¹å™¨æ˜¯ä¸»èŠ‚ç‚¹ï¼Œè¿˜æ˜¯ä»ŽèŠ‚ç‚¹ã€‚&lt;/p>
&lt;h2 id="éƒ¨ç½²-stack">éƒ¨ç½² STACK
&lt;/h2>&lt;p>ä¿å­˜è¿™ä¸ªæ–‡ä»¶åˆ°Â _docker-compose.ymlÂ _ä¹‹åŽï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ Docker è¿›è¡Œéƒ¨ç½²äº†ã€‚&lt;/p>
&lt;pre>docker stack deploy --compose-file=./docker-compose.yml pg-stack&lt;/pre>
&lt;p>è¿™ä¸ª stack éƒ¨ç½²ï¼Œå°†ä¼šåˆ›å»ºä¸€ä¸ª PostgreSQL é›†ç¾¤ï¼Œå°±åƒæ˜¯ä¸‹å›¾ä¸€æ ·ï¼š&lt;/p>
&lt;p>&lt;strong>&lt;img src="https://i0.wp.com/info.crunchydata.com/hs-fs/hubfs/Diagram4.png?w=625&amp;#038;ssl=1" alt="PostgreSQL Docker Swarm Primary Replica Cluster" data-recalc-dims="1" />&lt;/strong>&lt;/p>
&lt;h2 id="æµ‹è¯•é›†ç¾¤">æµ‹è¯•é›†ç¾¤
&lt;/h2>&lt;p>æ£€æŸ¥æœåŠ¡æ˜¯å¦è¿è¡Œï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š&lt;/p>
&lt;pre>docker service ls
docker service ps pg-stack_primary
docker service ps pg-stack_replica&lt;/pre>
&lt;p>å¦‚æžœæƒ³è¦æå‡ replicas çš„æ•°é‡ï¼Œè¿è¡Œä¸‹åˆ—å‘½ä»¤ï¼š&lt;/p>
&lt;pre>docker service scale pg-stack_replica=2
docker service ps pg-stack_replica&lt;/pre>
&lt;p>ä¸ºäº†ç¡®ä¿ replicas æ˜¯æµå¼çš„ï¼Œåœ¨ worker1 èŠ‚ç‚¹ä¸ŠæŸ¥è¯¢ PostgreSQL ä¸»èŠ‚ç‚¹ï¼Œä½¿ç”¨ä¸‹åˆ—å‘½ä»¤ï¼š&lt;/p>
&lt;pre>&lt;code>docker exec -it $(docker ps -q) psql -U postgres -x -c 'table pg_stat_replication' postgres
&lt;/code>&lt;/pre>
&lt;h2 id="ç¤ºä¾‹ä»£ç ">ç¤ºä¾‹ä»£ç 
&lt;/h2>&lt;p>ä¸‹é¢æ˜¯å®žä¾‹ä»£ç ï¼š&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/CrunchyData/crunchy-containers/tree/master/examples/docker/swarm-service" target="_blank" rel="noopener"
>https://github.com/CrunchyData/crunchy-containers/tree/master/examples/docker/swarm-service&lt;/a>&lt;/p>
&lt;h2 id="ç»“è®º">ç»“è®º
&lt;/h2>&lt;p>Docker ä»¥åŠ Docker swarm æä¾›äº†å·¥å…·ï¼Œæ¥ä½¿å¾—å®¹å™¨éƒ¨ç½²è¿›å…¥äº†æ›´é«˜çš„å±‚æ¬¡ã€‚æˆ‘ä»¬å¸Œæœ›è¿™ä¸ªæè®®è¯æ˜Žäº† PostgreSQL é›†ç¾¤æ˜¯å¦‚ä½•çš„å®¹æ˜“éƒ¨ç½²ã€‚&lt;/p></description></item><item><title>è®°æ¢å¤ https</title><link>https://svtter.cn/p/%E8%AE%B0%E6%81%A2%E5%A4%8D-https/</link><pubDate>Sat, 03 Nov 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E8%AE%B0%E6%81%A2%E5%A4%8D-https/</guid><description>&lt;p>è¿™å‡ å¤© https æŒ‚æŽ‰äº†ï¼Œä¼¼ä¹Žæ˜¯å› ä¸ºé“é—¨çš„è¯ä¹¦ï¼ˆè¿‡æœŸï¼Œä¸è¢«chromeè®¤å¯ï¼‰äº†ã€‚å› æ­¤é‡æ–°æžä¸€ä¸‹ httpsã€‚&lt;/p>
&lt;p>æ¢å¤ https ä¹Ÿæ²¡æœ‰åšä»€ä¹ˆå·¥ä½œï¼Œå°±æ˜¯æŠŠä¹‹å‰çš„è¯ä¹¦é‡æ–°ç”³è¯·ä¸€æ¬¡ï¼Œç„¶åŽä¸‹è½½ä¸‹æ¥çš„æ–‡ä»¶æŠŠä¹‹å‰çš„ https æ–‡ä»¶æ›¿æ¢æŽ‰ã€‚https ç›¸å…³çš„æ–‡ç« å¾ˆå¤šï¼Œæˆ‘å°±ä¸å†èµ˜è¿°äº†ã€‚å¯ä»¥å‚è§å¾ˆå¤šäººçš„æ–‡ç« ã€‚&lt;/p>
&lt;p>æ­¤å¤„å”¯ä¸€éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä½¿ç”¨ Dockerï¼Œå¯¹äºŽ certbot ï¼Œä¹Ÿå°±æ˜¯ letsencrypt çš„æ”¯æŒä¸å¤Ÿå¥½ï¼ˆä¹Ÿå¯èƒ½æ˜¯æˆ‘åœ¨mané‡Œé¢ç²—ç•¥çš„çœ‹äº†ä¸€ä¸‹ï¼Œæ²¡æœ‰æ‰¾åˆ°ï¼‰ã€‚å› æ­¤ï¼Œå¯¹äºŽä¸‰ä¸ªä¸Žçš„letsencryptæˆ‘å°±ä¸ä½¿ç”¨äº†ã€‚&lt;/p>
&lt;blockquote class="wp-block-quote">
&lt;p>
æœ¬ç¯‡æ˜¯è€æ–‡ï¼Œä¹‹å‰ä¸€ç›´éƒ½æ²¡æœ‰å‘å‡ºã€‚
&lt;/p>
&lt;p>
ä»Šå¤©å‘å‡ºï¼Œä½œä¸ºåšå®¢é•¿æ—¶é—´æ»‘æ°´çš„ç»ˆæ­¢ç¬¦ã€‚
&lt;/p>
&lt;/blockquote>
&lt;p>è¿™æ¬¡æ›´æ–° httpsï¼Œä¹Ÿåšäº†ä¸€äº›å·¥ä½œï¼Œå°±æ˜¯æŠŠåŽŸæ¥çš„ rewrite é€‰é¡¹æ”¹æˆäº† 301ï¼Œåšäº†ä¸€ä¸ªé‡å®šå‘ï¼Œæ•´ä¸ªé€Ÿåº¦éƒ½æå‡äº†ä¸å°‘ï¼ˆæœªæµ‹è¯•ï¼Œä»…è§‚æ„Ÿï¼‰ï¼Œæ„Ÿè§‰å¾ˆä¸é”™ã€‚å› æ­¤æŠŠä¹‹å‰çš„é…ç½®è´´å‡ºæ¥ã€‚&lt;/p>
&lt;p>åŽŸæ¥çš„é…ç½®&lt;/p>
&lt;pre class="wp-block-code">&lt;code class=""> location / {
rewrite ^ https://$host$request_uri? permanent;
}
location ^~ /.well-known {
allow all;
root /data/letsencrypt/;
}&lt;/code>&lt;/pre>
&lt;p>çŽ°åœ¨çš„&lt;/p>
&lt;pre class="wp-block-code">&lt;code class="">return 301 https://$host$request_uri;&lt;/code>&lt;/pre></description></item><item><title>ä¸ºä»€ä¹ˆæˆ‘çš„å¯†ç å½•å…¥æ­£ç¡®ï¼Œä½†å°±æ˜¯ç™»å½•ä¸ä¸Šï¼Ÿ</title><link>https://svtter.cn/p/%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E7%9A%84%E5%AF%86%E7%A0%81%E5%BD%95%E5%85%A5%E6%AD%A3%E7%A1%AE%E4%BD%86%E5%B0%B1%E6%98%AF%E7%99%BB%E5%BD%95%E4%B8%8D%E4%B8%8A/</link><pubDate>Wed, 17 Oct 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E7%9A%84%E5%AF%86%E7%A0%81%E5%BD%95%E5%85%A5%E6%AD%A3%E7%A1%AE%E4%BD%86%E5%B0%B1%E6%98%AF%E7%99%BB%E5%BD%95%E4%B8%8D%E4%B8%8A/</guid><description>&lt;p>ä»Šå¤©åˆå¶é‡äº†ä¹‹å‰ç”¨é˜¿é‡Œäº‘å‡ºçŽ°çš„é—®é¢˜ï¼š&lt;/p>
&lt;blockquote class="wp-block-quote">
&lt;p>
æ˜Žæ˜Žå¯†ç æ²¡æœ‰é”™ï¼Œæœ¬åœ°ç™»å½•å¯ä»¥ï¼Œä½†è¿œç¨‹ç™»å½•å°±æ˜¯ä¸okã€‚
&lt;/p>
&lt;/blockquote>
&lt;p>ä¹‹å‰ä¸€ç›´æ²¡æœ‰æŽ’æŸ¥åˆ°é”™è¯¯ï¼Œä»Šå¤©ç»ˆäºŽåœ¨æœ¬åœ°æœºå™¨çš„åŠ æŒä¸‹å¾—ä»¥è§£å†³ã€‚è¿™æ˜¯ä»€ä¹ˆé—®é¢˜å‘¢ï¼ŸIPåœ°å€å†²çªã€‚&lt;/p>
&lt;p>çš„ç¡®æ˜¯IPåœ°å€å†²çªã€‚é¦–å…ˆå…ˆä½¿ç”¨æ ¡å›­ç½‘client ssh b-server æœåŠ¡å™¨ï¼Œå¤±è´¥äº†ã€‚ä½¿ç”¨åŒä¸€ä¸ªç‰©ç†ä¸»æœºçš„a-serverä¸Žb-serverè¿›è¡Œäº’è”ï¼ŒæˆåŠŸäº†ã€‚æ ¡å›­ç½‘clientèƒ½å¤Ÿè¿žæŽ¥a-serverã€‚å› æ­¤ï¼Œè§‚å¯Ÿ a-server å’Œ b-server çš„åŒºåˆ«ï¼Œå‘çŽ° a-server å­ç½‘æŽ©ç æ˜¯255.255.255.128ï¼Œè€Œ b-server çš„å­ç½‘æŽ©ç æ˜¯ 255.255.255.0ã€‚&lt;/p>
&lt;p>æ­¤å¤–ï¼Œè¿˜æœ‰ï¼š&lt;/p>
&lt;p>æŸ¥çœ‹ç³»ç»Ÿå¼€æ”¾çš„ç«¯å£
netstat -nltp
æµ‹è¯•æœ¬åœ°æ˜¯å¦èƒ½å¤Ÿè®¿é—®ï¼ŒæŽ’æŸ¥æœ¬åœ°é—®é¢˜
ssh &lt;a class="link" href="mailto:user@locahost" >user@locahost&lt;/a>&lt;/p>
&lt;p>å­ç½‘æŽ©ç ä¸åŒï¼Œä¸ºä»€ä¹ˆå°±è¿žæŽ¥ä¸ä¸Šå‘¢ï¼Ÿï¼ˆåŽŸç†ï¼‰&lt;/p>
&lt;p>æœ€ç»ˆï¼Œè§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚é€šè¿‡é‡å¯ networking ä»¥åŠ é‡æ–°é€šè¿‡ dhcp èŽ·å– ip åœ°å€ã€‚&lt;/p>
&lt;ol>
&lt;li>ä½¿ç”¨ systemctl restart networking.service é‡å¯ networking æœåŠ¡ã€‚&lt;/li>
&lt;li>ä½¿ç”¨ ifconfig eth0 down; ifconfig eth0 up æ¥å¼€å…³å…·ä½“çš„ç½‘å¡ã€‚&lt;/li>
&lt;li>ä½¿ç”¨ # dhclient -r é‡Šæ”¾å½“å‰ip&lt;/li>
&lt;li>ä½¿ç”¨ # dhclient èŽ·å–æ–°çš„ip&lt;/li>
&lt;/ol>
&lt;p>å¤§åŠŸå‘Šæˆï¼Œç®—æ˜¯é˜¶æ®µæ€§çš„è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚DDNSè¿«åœ¨çœ‰ç«å•Šï¼&lt;/p></description></item><item><title># Docker swarm å­¦ä¹ </title><link>https://svtter.cn/p/%23-docker-swarm-%E5%AD%A6%E4%B9%A0/</link><pubDate>Thu, 21 Jun 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%23-docker-swarm-%E5%AD%A6%E4%B9%A0/</guid><description>&lt;blockquote>
&lt;p>æœ¬æ–‡çš„å­¦ä¹ è¿‡ç¨‹ä¸»è¦æ˜¯é€šè¿‡ Docker &lt;a class="link" href="https://docs.docker.com/get-started/part3/" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡æ¡£&lt;/a>&lt;/p>&lt;/blockquote>
&lt;p>èŠ±äº†ä¸€æ®µæ—¶é—´å­¦ä¹  Docker swarmï¼Œä¸€ä¸ªdockerçš„å®¹å™¨é›†ç¾¤æœåŠ¡ï¼Œæ¥åº”å¯¹å³å°†åˆ°æ¥çš„é«˜å¹¶å‘é¡¹ç›®éœ€æ±‚ã€‚&lt;/p>
&lt;h2 id="docker-machine">Docker machine
&lt;/h2>&lt;p>Docker machine æ˜¯ Docker å®˜æ–¹ç¼–æŽ’çš„é¡¹ç›®ä¹‹ä¸€ï¼Œå¯ä»¥ç†è§£æˆä¸€ä¸ª Docker å®¿ä¸»æœºå™¨çš„ç»Ÿä¸€ç®¡ç†CLIï¼Œè‡ªéƒ¨ç½²ä¸æ˜¯å¾ˆå¥½ç”¨ï¼šç›®å‰å›½å†…ä»…ä»… aliyun æ”¯æŒï¼Œå…¶ä»–çš„æˆ‘åœ¨å®˜æ–¹æ–‡æ¡£ä¸­æ²¡æœ‰æ‰¾åˆ°ã€‚&lt;/p>
&lt;p>Docker machine çš„å®‰è£…ååˆ†ç®€å•ï¼Œé€šè¿‡å®˜ç½‘æä¾›çš„è„šæœ¬å³å¯ï¼ŒFor Linuxï¼š&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>$ &lt;span class="nv">base&lt;/span>&lt;span class="o">=&lt;/span>https://github.com/docker/machine/releases/download/v0.14.0 &lt;span class="o">&amp;&amp;&lt;/span>
curl -L &lt;span class="nv">$base&lt;/span>/docker-machine-&lt;span class="k">$(&lt;/span>uname -s&lt;span class="k">)&lt;/span>-&lt;span class="k">$(&lt;/span>uname -m&lt;span class="k">)&lt;/span> &amp;gt;/tmp/docker-machine &lt;span class="o">&amp;&amp;&lt;/span>
sudo install /tmp/docker-machine /usr/local/bin/docker-machine
&lt;/pre>
&lt;/div>
&lt;p>å®‰è£…å¥½ä»¥åŽï¼Œå³å¯æŒ‰ç…§ç›¸å…³çš„æ“ä½œè¿›è¡Œè¿è¡Œã€‚&lt;/p>
&lt;p>æ¯”å¦‚ï¼Œåˆ›å»ºä¸¤ä¸ªè™šæ‹Ÿæœºï¼š&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>$ docker-machine create --driver virtualbox myvm1
$ docker-machine create --driver virtualbox myvm2
&lt;/pre>
&lt;/div>
&lt;p>è¿›å…¥è™šæ‹Ÿæœºï¼š&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>$ docker-machine ssh myvm1
&lt;/pre>
&lt;/div>
&lt;p>æ˜¾ç¤ºè™šæ‹Ÿæœº&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>NAME ACTIVE DRIVER STATE URL SWARM DOCKER ERRORS
myvm1 - virtualbox Running tcp://192.168.99.100:2376 v18.05.0-ce
myvm2 - virtualbox Running tcp://192.168.99.101:2376 v18.05.0-ce
&lt;/pre>
&lt;/div>
&lt;p>ç„¶åŽå³å¯åœ¨è™šæ‹Ÿæœºçš„åŸºç¡€ä¸Šè¿›è¡Œç›¸å…³çš„æ“ä½œï¼Œååˆ†æ–¹ä¾¿ã€‚&lt;/p>
&lt;h2 id="docker-swarm">Docker-swarm
&lt;/h2>&lt;p>Docker swarm åˆ™æ˜¯ä¸€ä¸ªé›†ç¾¤çš„ä¸œè¥¿ï¼ŒåŸºæœ¬çš„æ¦‚å¿µæ˜¯ï¼Œæ¯ä¸ªå®¿ä¸»æœºå™¨éƒ½æ˜¯ä¸€ä¸ª worker ï¼Œç„¶åŽå¤§å®¶éƒ½åŠ å…¥ä¸€ä¸ªä¸œè¥¿ï¼Œå«åš stack ï¼Œstack é‡Œé¢æœ‰è®¸å¤šçš„ container ï¼Œæ¯ä¸ªå®¿ä¸»æœºå™¨ï¼Œä¹Ÿåˆ†åˆ«æ˜¯ä¸€ä¸ª node ã€‚&lt;/p>
&lt;p>è¿™ä¸ª stack æ˜¯ä¾æ®æˆ‘ä»¬çš„ service å»ºç«‹çš„ï¼Œstack ä¸­ä¿å­˜ç€ service å»ºç«‹çš„åç§°ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ stack æŸ¥çœ‹ç›¸å…³çš„èŠ‚ç‚¹ã€‚&lt;/p>
&lt;p>æ¯ä¸ª node éƒ½å¯ä»¥è¿è¡Œå¤šä¸ª container ï¼Œswarm ä¼šè¿›è¡Œ &lt;strong>è´Ÿè½½å‡è¡¡&lt;/strong> ï¼Œè¿™ä¸ªå°±å¾ˆé…·äº†ã€‚&lt;/p>
&lt;img alt="å›¾ç¤º" src="https://i2.wp.com/docs.docker.com/engine/swarm/images/ingress-routing-mesh.png?w=625&amp;#038;ssl=1" data-recalc-dims="1" />
&lt;p>åœ¨å®˜æ–¹çš„ä¾‹å­ä¸­ï¼Œ&lt;code>docker-compose.yml&lt;/code>ï¼š&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>version: "3"
services:
web:
# replace username/repo:tag with your name and image details
image: svtter/get-started:part2
deploy:
replicas: 5
resources:
limits:
cpus: "0.1"
memory: 50M
restart_policy:
condition: on-failure
ports:
- "4000:80"
networks:
- webnet
networks:
webnet:
&lt;/pre>
&lt;/div>
&lt;p>å¤åˆ¶çš„ app service æ•°é‡ä¸º 5ã€‚&lt;/p>
&lt;p>å¤§ä½“ä¸Šå°±æ˜¯è¿™ä¸ªæ ·å­ã€‚&lt;/p>
&lt;blockquote>
&lt;p>æƒ³æ³•&lt;/p>&lt;/blockquote>
&lt;p>è¡Œæ–‡è‡³æ­¤ï¼Œæƒ³åˆ°å¯ä»¥è¿›ä¸€æ­¥å­¦ä¹ ï¼Œç„¶åŽåŽ»ä¸€äº›ç›¸å…³çš„ç¤¾åŒºå­¦ä¹ ä¸€æ³¢ã€‚ï¼ˆä¸è¿‡æŒ‰ç…§ä¹‹å‰çš„ç»éªŒï¼Œå¾ˆå¤šç¤¾åŒºçš„è´¨é‡éƒ½ä¸é«˜ï¼Œè®¨è®ºçº¯å±žæµªè´¹æ—¶é—´ã€‚ï¼‰&lt;/p>
&lt;p>å­¦å®Œè¿™äº›ä¸œè¥¿ï¼Œè‡³å°‘å¯ä»¥æŠŠè‡ªå·±çš„æœåŠ¡å™¨å‡çº§ä¸€æ³¢ï¼Œåšæˆæ ‡å‡†çš„&lt;code>DevOps&lt;/code>ï¼Œä»¥åŠå……åˆ†åˆ©ç”¨æœåŠ¡å™¨èµ„æºäº†ã€‚&lt;/p>
&lt;h2 id="code">Code
&lt;/h2>&lt;p>&lt;a class="link" href="https://github.com/Svtter/Docker_Swarm_Test" target="_blank" rel="noopener"
>GitHub â€“ Svtter/Docker_Swarm_Test: a Docker swarm example project. Reference to official document.&lt;/a>&lt;/p></description></item><item><title>å¦‚ä½•é…ç½®ç»ˆç«¯</title><link>https://svtter.cn/p/%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AE%E7%BB%88%E7%AB%AF/</link><pubDate>Tue, 30 Jan 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AE%E7%BB%88%E7%AB%AF/</guid><description>&lt;p>é…ç½®ç»ˆç«¯æ˜¯è®¸å¤šäººå¤´ç–¼çš„é—®é¢˜ï¼Œæ¯”å¦‚é…ç½®ä¹‹åŽæ²¡æœ‰è¾¾åˆ°è‡ªå·±é¢„å…ˆæƒ³è¦çš„æ•ˆæžœï¼Œä½†æ˜¯åˆæ€»æ˜¯ä¸çŸ¥é“å“ªé‡Œå‡ºäº†é—®é¢˜ï¼Œæˆ–è€…é…ç½®å®Œæˆä¹‹åŽåˆé­é‡äº†å¾ˆå¤šçƒ¦æ¼ã€‚&lt;/p>
&lt;p>æœ¬æ–‡çš„ä½œç”¨æ˜¯è§£å†³è¿™äº›é—®é¢˜ï¼Œæˆ–è€…ä¸ºè§£å†³è¿™äº›é—®é¢˜æä¾›ä¸€ä¸ªæ€è·¯ã€‚&lt;/p>
&lt;h2 id="é¢œè‰²ä¸å¯¹">é¢œè‰²ä¸å¯¹
&lt;/h2>&lt;p>é¢œè‰²ä¸å¯¹å¯èƒ½æœ‰å¾ˆå¤šåŽŸå› ï¼Œä½†å½’æ ¹ç»“åº•æ˜¯ä¸¤ä¸ªé—®é¢˜ï¼Œä¸€ä¸ªæ˜¯TERMçŽ¯å¢ƒå˜é‡æ²¡æœ‰è®¾ç½®å¥½ï¼Œå¦ä¸€ä¸ªæ˜¯å½“å‰ä½¿ç”¨çš„ç»ˆç«¯appä¸æ”¯æŒçœŸå½©è‰²ã€‚&lt;/p>
&lt;p>å¤„ç†termå¯ä»¥ä½¿ç”¨&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>export TERM=xterm-256color
&lt;/pre>
&lt;/div>
&lt;p>æŠŠå®ƒåŠ è½½åˆ°ä½ çš„rcæ–‡ä»¶é‡Œã€‚æœ‰äº›äººä½¿ç”¨zshï¼Œé‚£ä¹ˆåŠ å…¥åˆ°&lt;code>~.zshrc&lt;/code>é‡Œé¢ã€‚æœ‰äº›äººä½¿ç”¨bashï¼Œé‚£ä¹ˆåŠ å…¥åˆ°&lt;code>~/.bashrc&lt;/code>é‡Œé¢ã€‚&lt;/p>
&lt;p>è§£å†³appçœŸå½©è‰²é—®é¢˜ï¼Œå¯ä»¥å‚è€ƒè¿™ä¸ªé“¾æŽ¥ï¼šhttps://gist.github.com/XVilka/8346728&lt;/p>
&lt;p>Ubuntu14.04ç‰ˆæœ¬ä¸‹é»˜è®¤çš„terminalæ˜¯ä¸æ”¯æŒçœŸå½©è‰²çš„ã€‚&lt;/p>
&lt;h2 id="ä¹±ç ">ä¹±ç 
&lt;/h2>&lt;p>ç»ˆç«¯ä¹±ç å¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯å› ä¸ºå½“å‰çš„å­—ä½“ä¸æ”¯æŒè¾“å‡ºçš„å­—ç¬¦ã€‚è¿™ä¸ªæ—¶å€™å®‰è£…ä¸€ä¸ªå­—ç¬¦é›†æ”¯æŒæ¯”è¾ƒé½å…¨çš„å­—ä½“å³å¯ã€‚å¸¸è§çš„å­—ä½“æ¯”å¦‚nerd fontsï¼ŒåŒ…å«äº†å¸¸ç”¨å­—ä½“+è®¸å¤šçš„ç¬¦å·å­—ä½“çš„é›†åˆï¼Œå› æ­¤æ‰¾åˆ°è‡ªå·±å¿ƒæ°´çš„å­—ä½“ï¼Œå®‰è£…å¹¶ä¸”æ›¿æ¢å³å¯è§£å†³è¿™äº›é—®é¢˜ã€‚&lt;/p>
&lt;p>å¯èƒ½è¿˜æœ‰è®¸å¤šé—®é¢˜æˆ‘æ²¡æœ‰æƒ³åˆ°ï¼Œå¯ä»¥åœ¨ç•™è¨€åŒºæå‡ºï¼Œæˆ‘ä¸€å¹¶åŠ ä¸Šã€‚&lt;/p></description></item><item><title>ä½¿ç”¨Fabricè¿›è¡Œéƒ¨ç½²</title><link>https://svtter.cn/p/%E4%BD%BF%E7%94%A8fabric%E8%BF%9B%E8%A1%8C%E9%83%A8%E7%BD%B2/</link><pubDate>Sat, 27 Jan 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E4%BD%BF%E7%94%A8fabric%E8%BF%9B%E8%A1%8C%E9%83%A8%E7%BD%B2/</guid><description>&lt;blockquote>
&lt;p>Fabricæ˜¯ä¸€ä¸ªå¯ä»¥åœ¨è¿œç¨‹æœºå™¨ä¸Šè¿è¡Œå‘½ä»¤çš„åº“&lt;/p>&lt;/blockquote>
&lt;p>Fabricå®˜æ–¹ç›®å‰åªæ”¯æŒPython2ç‰ˆæœ¬ï¼Œä½†æ˜¯æœ‰å‹¤åŠ³çš„äººå¼€å‘å‡ºäº†é€‚é…Python3çš„ç‰ˆæœ¬ã€‚å…·ä½“å¯ä»¥æŸ¥çœ‹è¿™ä¸ª&lt;a class="link" href="https://github.com/mathiasertl/fabric/" target="_blank" rel="noopener"
>fork&lt;/a>ã€‚&lt;/p>
&lt;h2 id="fabricçš„ä½¿ç”¨">Fabricçš„ä½¿ç”¨
&lt;/h2>&lt;p>æˆ‘åœ¨ä½¿ç”¨Fabricçš„æ—¶å€™ä¸»è¦æ˜¯ç”¨äºŽéƒ¨ç½²æˆ‘çš„ç½‘ç«™ã€‚ä½¿ç”¨æ—¶å€™ï¼Œé¦–å…ˆéœ€è¦å¼•å…¥æ‰€æœ‰çš„APIï¼š&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="c1"># å¯¼å…¥Fabric API:&lt;/span>
&lt;span class="kn">from&lt;/span> &lt;span class="nn">fabric.api&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="o">*&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>è¿™æ ·å°±å¯ä»¥å¯¼å…¥Fabricçš„APIè¿›è¡Œè¿œç¨‹æŽ§åˆ¶å•¦ã€‚&lt;/p>
&lt;h2 id="å…·ä½“é—®é¢˜">å…·ä½“é—®é¢˜
&lt;/h2>&lt;ul>
&lt;li>gitéœ€è¦è¾“å…¥å¯†ç &lt;/li>
&lt;/ul>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="n">env&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">forward_agent&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">True&lt;/span>
&lt;/pre>
&lt;/div>
&lt;ul>
&lt;li>sshé€šè¿‡ç§˜é’¥é“¾æŽ¥&lt;/li>
&lt;/ul>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="c1"># ä½¿ç”¨ç§˜é’¥&lt;/span>
&lt;span class="n">env&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">key_filename&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;/Users/xiuhao/.ssh/key&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/pre>
&lt;/div>
&lt;ul>
&lt;li>ä½¿ç”¨root&lt;/li>
&lt;/ul>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="c1"># æœåŠ¡å™¨ç™»å½•ç”¨æˆ·å:&lt;/span>
&lt;span class="n">env&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">user&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;ubuntu&amp;#39;&lt;/span>
&lt;span class="c1"># sudoç”¨æˆ·ä¸ºroot:&lt;/span>
&lt;span class="n">env&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sudo_user&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;root&amp;#39;&lt;/span>
&lt;/pre>
&lt;/div>
&lt;h2 id="ä¸€ä¸ªç®€å•çš„éƒ¨ç½²ä¾‹å­">ä¸€ä¸ªç®€å•çš„éƒ¨ç½²ä¾‹å­
&lt;/h2>&lt;p>è¿™ä¸ªéƒ¨ç½²ä¾‹å­ç»“åˆäº†æ›´æ–°ä»£ç ï¼Œè¿›å…¥æŒ‡å®šç›®å½•ï¼Œè¿è¡Œå‘½ä»¤ç­‰ã€‚&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="n">BASE_DIR&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;/home/ubuntu/django_blog&amp;#39;&lt;/span>
&lt;span class="k">def&lt;/span> &lt;span class="nf">deploy&lt;/span>&lt;span class="p">():&lt;/span>
&lt;span class="sd">"""&lt;/span>
&lt;span class="sd"> deploy new changes&lt;/span>
&lt;span class="sd"> """&lt;/span>
&lt;span class="k">with&lt;/span> &lt;span class="n">cd&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">BASE_DIR&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="n">run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;git pull&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;make down&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">run&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;make up&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>å†™å¥½æ–‡ä»¶ä»¥åŽï¼Œä¿å­˜ä¸º&lt;code>fabfile.py&lt;/code>ï¼Œè¿è¡Œ&lt;code>fab deploy&lt;/code>å³å¯éƒ¨ç½²ã€‚&lt;code>deploy&lt;/code>å¯¹åº”ç€&lt;code>deploy()&lt;/code>å‡½æ•°ã€‚&lt;/p>
&lt;p>NOTEï¼šä¸åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šä½¿ç”¨sshçš„gitä»“åº“ï¼Œæ˜¯å› ä¸ºæ‹…å¿ƒæœåŠ¡å™¨è¢«&lt;code>hack&lt;/code>è¿žç´¯æˆ‘çš„&lt;code>git repo&lt;/code>ã€‚&lt;/p>
&lt;h2 id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™
&lt;/h2>&lt;ul>
&lt;li>&lt;a class="link" href="https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/0014323392805925d5b69ddad514511bf0391fe2a0df2b0000" target="_blank" rel="noopener"
>å»–é›ªå³° 15days&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/mathiasertl/fabric/" target="_blank" rel="noopener"
>python3-fabric&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>è®°åˆä¸€æ¬¡æžå´©æœåŠ¡å™¨</title><link>https://svtter.cn/p/%E8%AE%B0%E5%8F%88%E4%B8%80%E6%AC%A1%E6%90%9E%E5%B4%A9%E6%9C%8D%E5%8A%A1%E5%99%A8/</link><pubDate>Thu, 11 Jan 2018 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E8%AE%B0%E5%8F%88%E4%B8%80%E6%AC%A1%E6%90%9E%E5%B4%A9%E6%9C%8D%E5%8A%A1%E5%99%A8/</guid><description>&lt;p>è®°åˆä¸€æ¬¡æžå´©æœåŠ¡å™¨ã€‚ä½¿ç”¨â€œåˆâ€ï¼Œæ˜¯å› ä¸ºæˆ‘æžå´©ä¸æ˜¯ä¸€æ¬¡ä¸¤æ¬¡äº†ã€‚æˆ‘å¸Œæœ›è¿™æ˜¯æœ€åŽä¸€æ¬¡ã€‚&lt;/p>
&lt;h2 id="èƒŒæ™¯">èƒŒæ™¯
&lt;/h2>&lt;p>ä½¿ç”¨Androidè¿žæŽ¥æœåŠ¡å™¨çš„æ—¶å€™ï¼Œå‘çŽ°è¦æ¯”è‡ªå·±çš„macé€Ÿåº¦å¿«å¾ˆå¤šï¼ŒäºŽæ˜¯ååˆ†å¥½å¥‡ï¼Œæ‰“ç®—ç ”ç©¶ä¸€ä¸‹æ˜¯ä»€ä¹ˆå› ç´ å¯¼è‡´çš„ã€‚&lt;/p>
&lt;h2 id="æµç¨‹">æµç¨‹
&lt;/h2>&lt;p>æ£€æŸ¥äº†appä»¥åŽï¼Œåˆ¤æ–­åº”è¯¥æ˜¯å¼€å¯äº†&lt;code>fast TCP&lt;/code>å¯¼è‡´çš„ï¼ŒäºŽæ˜¯è€ƒè™‘åœ¨macä¸Šä¹Ÿå¼€å¯å¯¹åº”çš„&lt;code>fast TCP&lt;/code>ï¼Œä½†æ˜¯æ•ˆæžœå¹¶ä¸æ˜¯ååˆ†æ˜¾è‘—ï¼›äºŽæ˜¯å†æ¬¡æŽ’æŸ¥ï¼Œå‘çŽ°æœåŠ¡å™¨ç«¯å¹¶æ²¡æœ‰å¼€å¯&lt;code>fast TCP&lt;/code>ã€‚&lt;/p>
&lt;blockquote>
&lt;p>è¿™å°±å¾ˆå¥‡æ€ªäº†ï¼Œä¸ºä»€ä¹ˆé€Ÿåº¦è¿™ä¹ˆå¿«å‘¢ï¼Ÿæ˜¯å› ä¸ºå¯¹â€œåŒæºâ€çš„åŠ å¯†æ–¹æ³•æœ‰ä¼˜åŒ–å—ï¼Ÿ&lt;/p>&lt;/blockquote>
&lt;p>äºŽæ˜¯ï¼Œ&lt;strong>è‡ªç„¶è€Œç„¶&lt;/strong>çš„è€ƒè™‘æ˜¯ä¸æ˜¯å¯ä»¥é€šè¿‡å¼€å¯è¿™ä¸ªTCPåŠ é€Ÿæ¥åŠ é€ŸæœåŠ¡å™¨ã€‚è¿™å°±å¼€å¯äº†å™©æ¢¦çš„å¼€ç«¯ã€‚å› ä¸ºéœ€è¦3.7ä»¥ä¸Šçš„Linux Kernelæ‰æ”¯æŒè¿™ä¸ªç‰¹æ€§ï¼Œæ‰€ä»¥éœ€è¦å…ˆå‡çº§å†…æ ¸ã€‚æˆ‘çš„å†…æ ¸éš¾é“ä¸åº”è¯¥æ˜¯æœ€æ–°çš„å—ï¼Ÿå¸¦ç€è¿™ä¸ªä»¥ä¸ºè¾“å…¥äº†&lt;code>uname sr&lt;/code>ï¼Œæ˜¾ç¤ºå†…æ ¸ç‰ˆæœ¬&lt;code>2.6*&lt;/code>ã€‚æƒŠå¥‡ï¼Œæˆ‘çš„VPSå†…æ ¸è¿™ä¹ˆæ—§å—ï¼ŸäºŽæ˜¯&lt;strong>è‡ªç„¶è€Œç„¶&lt;/strong>çš„æƒ³åˆ°è¦å‡çº§ä¸€ä¸‹å†…æ ¸ï¼Œå¹¶ä¸”&lt;strong>ç†æ‰€åº”å½“&lt;/strong>çš„æŠŠå‡çº§å†…æ ¸çš„è„šæœ¬&lt;code>apt-get install linux-kernel-lts-wily&lt;/code>è¿è¡Œäº†ä¸€ä¸‹ã€‚äºŽæ˜¯å™©æ¢¦å¼€å§‹äº†ã€‚&lt;/p>
&lt;p>&lt;strong>OpenVZæœ¬èº«æ˜¯ä¸æ”¯æŒå‡çº§å†…æ ¸çš„&lt;/strong>ï¼Œæ‰€æœ‰çš„VMéƒ½ä½¿ç”¨åŒä¸€ä¸ªå†…æ ¸ç‰ˆæœ¬ï¼Œå› æ­¤è¿™ä¸ªå‘½ä»¤å¯¼è‡´äº†å¾ˆç¥žå¥‡çš„BUGï¼Œå®‰è£…å†…æ ¸è£…ä¸ä¸Šï¼Œå¸è½½å†…æ ¸å¸è½½ä¸äº†ã€‚&lt;/p>
&lt;p>è¿™ä¸ªæ—¶å€™æˆ‘é¢ä¸´ä¸¤ä¸ªé€‰æ‹©ï¼Œä¸€ä¸ªæ˜¯é‡æ–°å®‰è£…ç³»ç»Ÿï¼Œä¸€ä¸ªæ˜¯è§£å†³å½“å‰çš„è¿™ä¸ªé—®é¢˜ã€‚&lt;/p>
&lt;p>ç»è¿‡ç®€å•åœ°åˆ¤æ–­ï¼Œæˆ‘è®¤ä¸ºå¦‚æžœè§£å†³å½“å‰é—®é¢˜ï¼Œå¯èƒ½èŠ±è´¹æˆ‘æ›´å¤šçš„æ—¶é—´ï¼Œç›´æŽ¥é‡æ–°å®‰è£…ç³»ç»Ÿå°±å¯ä»¥äº†ã€‚é‡æ–°é…ç½®ä¸€äº›ç›¸å…³æŽªæ–½ä¹Ÿå¹¶ä¸éš¾ã€‚&lt;/p>
&lt;p>å¤±ç®—çš„äº‹æƒ…æ˜¯ï¼Œå°½ç®¡æˆ‘ä¾ç¨€è®°å¾—ä¸€éƒ¨åˆ†å…³äºŽé…ç½®çš„å†…å®¹ï¼Œä½†æ˜¯è¦å®Œå…¨å¤çŽ°æˆ‘æ‰€é…ç½®çš„ç›¸å…³åº”ç”¨å·²ç»å¾ˆéš¾äº†ï¼Œå› ä¸ºæˆ‘æ²¡æœ‰åš&lt;strong>è®°å½•&lt;/strong>ã€‚äºŽæ˜¯æ¥å›žåˆè¸©äº†è®¸å¤šå‘ï¼Œä¹‹å‰æœ‰äº›å‘æˆ‘æœ‰å¾ˆæ˜Žç¡®çš„è¸©è¿›åŽ»çš„è®°å¿†ã€‚&lt;/p>
&lt;p>è¿™å°±éžå¸¸ç—›è‹¦äº†ï¼Œæ¯æ¬¡æ“ä½œéƒ½åœ¨å˜²è®½è‡ªå·±çš„æ„šè ¢ä¸Žè¿‡åº¦è‡ªä¿¡ã€‚æœ€åŽï¼Œæˆ‘åªè¿›è¡Œäº†ç®€å•çš„é…ç½®ï¼Œåªæ‰¾å›žäº†éƒ¨åˆ†çš„ä¼˜åŒ–â€”â€”è®°å¿†é‡Œæˆ‘æ‰€åšçš„ä¼˜åŒ–å°±åªæœ‰è¿™äº›äº†ï¼Œä½†æ˜¯é€Ÿåº¦ä¼¼ä¹Žä¸‹é™äº†ï¼Œè¿™å°±æ˜¯æœ€ç»ˆçš„ç»“æžœã€‚&lt;/p>
&lt;p>è¿™ä¹Ÿè®©æˆ‘æƒ³èµ·ã€Šäººæœˆç¥žè¯ã€‹é‡Œé¢æå†™çš„ä¸€å¥ï¼Œå…·ä½“æˆ‘å·²ç»è®°ä¸æ¸…äº†ï¼Œæ„æ€å¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼šæœ‰äº›æ­¥éª¤ä½ æ˜¯å¿…é¡»è¦åšçš„ï¼Œåªä¸è¿‡å½“å‰ä½ æ²¡æœ‰åšè€Œå·²ï¼Œä»¥åŽæ˜¯è¦è¡¥ä¸Šçš„ã€‚æˆ‘è¯»åˆ°è¿™ä¸ªåœ°æ–¹çš„æ—¶å€™ï¼Œè”æƒ³è¿™ä¸ªè§„å¾‹ä¸ºâ€œæŠ€æœ¯å€ºâ€ã€‚&lt;/p>
&lt;p>å¥½äº†ï¼Œä»¥ä¸Šå°±æ˜¯æˆ‘è¿˜â€œæŠ€æœ¯å€ºâ€çš„å…¨éƒ¨è¿‡ç¨‹äº†ã€‚&lt;/p>
&lt;h2 id="æ•™è®­">æ•™è®­
&lt;/h2>&lt;ol>
&lt;li>ç ”ç©¶é—®é¢˜è™½ç„¶å¥½ï¼Œä½†æ˜¯è¦æ³¨æ„èŠ±è´¹çš„æ—¶é—´&lt;/li>
&lt;li>åœ¨ç”Ÿäº§æœåŠ¡å™¨ä¸Šï¼Œä¸è¦åšæ²¡æœ‰ç»è¿‡è‡ªæŸ¥çš„æ“ä½œã€‚&lt;/li>
&lt;li>ä¸è¦è¢«å¼ºè¿«ç—‡æŽ§åˆ¶äº†ï¼Œèƒ½ç”¨åˆ™ç”¨ã€‚&lt;/li>
&lt;li>è®°å½•è‡ªå·±çš„è¡Œä¸ºæ—¥å¿—ï¼Œå¦‚æžœå¯ä»¥çš„è¯ï¼Œå†™ä¸€ä¸ªå®‰è£…è„šæœ¬&lt;/li>
&lt;/ol>
&lt;p>å”‰ï¼ŒçœŸæ˜¯ä¸€æ¬¡ä¸åˆæ ¼çš„è¿ç»´è¡ŒåŠ¨ã€‚&lt;/p></description></item><item><title>ä½¿ç”¨Dockerå®‰è£…Spark</title><link>https://svtter.cn/p/%E4%BD%BF%E7%94%A8docker%E5%AE%89%E8%A3%85spark/</link><pubDate>Tue, 26 Dec 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E4%BD%BF%E7%94%A8docker%E5%AE%89%E8%A3%85spark/</guid><description>&lt;p>åœ¨å›½å†…åŠ è½½Dockerhubä¸Šçš„é•œåƒé€Ÿåº¦ä¼šæ¯”è¾ƒæ…¢ï¼Œå¯¹æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½®mirroré•œåƒçš„æ–¹å¼æ¥åŠ é€Ÿimagesçš„ä¸‹è½½ã€‚&lt;/p>
&lt;p>æ­¤å¤–ï¼Œå¦‚æžœæ˜¯ipv6çš„ç½‘ç»œï¼Œåœ¨ä¸€äº›mirrorå¯ä»¥ç›´æŽ¥èµ°ipv6é€šè·¯ï¼Œé€Ÿåº¦éžå¸¸å®¢è§‚ã€‚è¿™é‡Œä»¥USTCçš„mirrorä¸ºä¾‹ã€‚&lt;/p>
&lt;p>æˆ‘è¿™é‡Œçš„çŽ¯å¢ƒæ˜¯Ubuntu 14.04ï¼Œå¯¹äºŽä¸åŒçš„LinuxçŽ¯å¢ƒï¼Œä¿®æ”¹çš„æ–¹å¼éƒ½å·®ä¸å¤šï¼›ä¿®æ”¹æ–‡ä»¶&lt;code>/etc/docker/daemon.json&lt;/code>ï¼Œå¦‚æžœæ²¡æœ‰è¿™ä¸ªæ–‡ä»¶ï¼Œåˆ›å»ºä¸€ä¸ªï¼Œæ³¨æ„ï¼Œæ­¤å¤„å¯èƒ½éœ€è¦&lt;code>root&lt;/code>æƒé™ã€‚ä¿®æ”¹å®ŒæˆåŽï¼Œè¿è¡Œå‘½ä»¤&lt;code>sudo service docker restart&lt;/code>é‡å¯dockeræœåŠ¡ã€‚&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="p">{&lt;/span>
&lt;span class="nt">"registry-mirrors"&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">"https://docker.mirrors.ustc.edu.cn"&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>é…ç½®å¥½ä»¥åŽï¼Œé€‰æ‹©&lt;code>2.1.0&lt;/code>ç‰ˆæœ¬çš„sparkè¿›è¡Œdockerä¸‹è½½ã€‚&lt;/p>
&lt;p>&lt;code>docker pull p7hb/docker-spark:2.1.0&lt;/code>&lt;/p>
&lt;p>æˆ–è€…ç›´æŽ¥è¿è¡Œ&lt;/p>
&lt;p>&lt;code>docker run -it -p 4040:4040 -p 8080:8080 -p 8081:8081 -h spark --name=spark p7hb/docker-spark:2.1.0&lt;/code>&lt;/p>
&lt;h2 id="å‚è€ƒ">å‚è€ƒ
&lt;/h2>&lt;ol>
&lt;li>&lt;a class="link" href="https://lug.ustc.edu.cn/wiki/mirrors/help/docker" target="_blank" rel="noopener"
>https://lug.ustc.edu.cn/wiki/mirrors/help/docker&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/P7h/docker-spark" target="_blank" rel="noopener"
>https://github.com/P7h/docker-spark&lt;/a>&lt;/li>
&lt;/ol></description></item><item><title>Shell-tips</title><link>https://svtter.cn/p/shell-tips/</link><pubDate>Wed, 20 Dec 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/shell-tips/</guid><description>&lt;h2 id="é‡å¯ç»ˆç«¯">é‡å¯ç»ˆç«¯
&lt;/h2>&lt;p>æ‰§è¡Œå‘½ä»¤ï¼Œä¿®æ”¹çŽ¯å¢ƒå˜é‡ç­‰ç­‰ä¹‹åŽå¯ä»¥é€šè¿‡æ­¤å‘½ä»¤æ¥ç®€å•é‡å¯shell&lt;/p>
&lt;p>&lt;code>exec &amp;quot;$SHELL&amp;quot;&lt;/code>&lt;/p>
&lt;h2 id="æŸ¥æ‰¾æ–‡ä»¶">æŸ¥æ‰¾æ–‡ä»¶
&lt;/h2>&lt;p>&lt;code>$ find ~ -name &amp;quot;*.txt&amp;quot; -print #åœ¨$HOMEä¸­æŸ¥.txtæ–‡ä»¶å¹¶æ˜¾ç¤º&lt;/code>&lt;/p>
&lt;p>&lt;code>locate findname&lt;/code>&lt;/p>
&lt;h2 id="ç¼–è¾‘å˜é‡">ç¼–è¾‘å˜é‡
&lt;/h2>&lt;p>åœ¨&lt;code>zsh&lt;/code>ä¸­ï¼Œç¼–è¾‘&lt;code>$HOME/.zshenv&lt;/code>ï¼›åœ¨&lt;code>bash&lt;/code>ä¸­ï¼Œç¼–è¾‘&lt;code>.bash_profile&lt;/code>&lt;/p></description></item><item><title>å…¨ç«™ä¸Šhttps</title><link>https://svtter.cn/p/%E5%85%A8%E7%AB%99%E4%B8%8Ahttps/</link><pubDate>Thu, 30 Nov 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E5%85%A8%E7%AB%99%E4%B8%8Ahttps/</guid><description>&lt;p>æœ¬æ¥è§‰å¾—è¿™ä¸ªhttpsä¸æ˜¯ä»€ä¹ˆå¤§ä¸äº†çš„äº‹æƒ…ï¼Œä½†æ˜¯è¾“å…¥å¯†ç çš„æ—¶å€™çªç„¶æ„è¯†åˆ°ï¼Œè¿™ä¸ªpostçš„è¿‡ç¨‹ä¸­æ˜¯æœ‰å±é™©çš„ã€‚å±é™©åœ¨å“ªé‡Œå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥å‚è€ƒmozillaçš„&lt;a class="link" href="https://support.mozilla.org/zh-CN/kb/%E9%98%BB%E6%AD%A2%E6%B7%B7%E5%90%88%E5%86%85%E5%AE%B9?redirectlocale=en-US&amp;amp;as=u&amp;amp;redirectslug=how-does-content-isnt-secure-affect-my-safety&amp;amp;utm_source=inproduct" target="_blank" rel="noopener"
>ç›¸å…³æè¿°&lt;/a>ã€‚&lt;/p>
&lt;p>åœ¨å‚è€ƒäº† Mozilla çš„æè¿°åŽï¼Œæˆ‘å†³å®šç»™æˆ‘çš„ç«™ä¸Šä¸€ä¸‹httpsã€‚ä¸Šhttpsçš„è¿‡ç¨‹æ¯”è¾ƒå®¹æ˜“ï¼Œå› ä¸ºä¹‹å‰ä¸€ç›´éƒ½æ˜¯åœ¨è…¾è®¯äº‘æ£é¼“ï¼Œæ‰€ä»¥ç›´æŽ¥ä»Žè…¾è®¯äº‘èµ°çš„åŸŸåä»¥åŠhttpsï¼Œå› æ­¤å¯ä»¥ç›´æŽ¥ä»Žè…¾è®¯äº‘ä¸€é”®ç”³è¯·ã€å½“ç„¶ï¼Œè¿˜æ˜¯éœ€è¦å¡«å†™ä¸€éƒ¨åˆ†æ­¥éª¤ã€‘ï¼Œè¿™é‡Œå°±ä¸å†èµ˜è¿°äº†ã€‚å¦å¤–ï¼Œè¡¥å……ä¸€ä¸‹ï¼Œç”³è¯·sslè¯ä¹¦ï¼Œå³httpså¿…éœ€å“ï¼Œé¦–å…ˆéœ€è¦ç½‘ç«™è¿›è¡Œå®¡æ ¸ï¼Œå®¡æ ¸é€šè¿‡ä»¥åŽï¼Œæ‰èƒ½ç›´æŽ¥ç”³è¯·ã€‚&lt;/p>
&lt;p>å› ä¸ºæˆ‘ç›´æŽ¥ä½¿ç”¨çš„æ˜¯nginxä½œä¸ºå‰ç«¯ï¼Œå› æ­¤ç›´æŽ¥æ·»åŠ äº†ä¸€æ¡serverè®°å½•ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-nginx" data-lang="nginx">&lt;span class="line">&lt;span class="cl">&lt;span class="k">server&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">listen&lt;/span> &lt;span class="mi">443&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">server_name&lt;/span> &lt;span class="s">svtter.cn&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">ssl&lt;/span> &lt;span class="no">on&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">ssl_certificate&lt;/span> &lt;span class="s">1_svtter.cn_bundle.crt&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">ssl_certificate_key&lt;/span> &lt;span class="s">2_svtter.cn.key&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">ssl_session_timeout&lt;/span> &lt;span class="mi">5m&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">ssl_protocols&lt;/span> &lt;span class="s">TLSv1&lt;/span> &lt;span class="s">TLSv1.1&lt;/span> &lt;span class="s">TLSv1.2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">ssl_ciphers&lt;/span> &lt;span class="s">ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">ssl_prefer_server_ciphers&lt;/span> &lt;span class="no">on&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">location&lt;/span> &lt;span class="s">/&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">proxy_pass&lt;/span> &lt;span class="s">http://web/&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™ä¸ªåœ°æ–¹çš„åŸŸåéœ€è¦æ¢æˆè‡ªå·±ç”³è¯·çš„ã€‚å…¶ä¸­æœ‰ä¸€ä¸ªå°å‘æ˜¯ï¼Œå¦‚æžœä½ å·²ç»é…ç½®å¥½httpï¼Œå¸Œæœ›å…¨ç«™éƒ½èµ°httpsï¼Œé‚£ä¹ˆè¦è®°å¾—åœ¨åŽŸæœ¬çš„serverå¤„ï¼Œæ·»åŠ ä¸€æ¡è¯­å¥&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-nginx" data-lang="nginx">&lt;span class="line">&lt;span class="cl"> &lt;span class="k">rewrite&lt;/span> &lt;span class="s">^(.*)&lt;/span> &lt;span class="s">https://&lt;/span>&lt;span class="nv">$host$1&lt;/span> &lt;span class="s">permanent&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æ­¤ä¸€æ¥ï¼Œæ‰€æœ‰è®¿é—®ä½ ç½‘ç«™çš„æµé‡å°±éƒ½èµ°httpså•¦~çœ‹è§å°ç»¿é”çœŸå¼€å¿ƒå‘€ï¼›&lt;/p>
&lt;h2 id="åŽè®°">åŽè®°
&lt;/h2>&lt;p>ä½¿ç”¨httpsä»¥åŽï¼Œæˆ‘å‘çŽ°æˆ‘ä½¿ç”¨çš„è®¸å¤šå›¾ç‰‡å¹¶ä¸æ˜¯httpsï¼Œå› æ­¤æˆ‘çš„ç½‘ç«™ä¾ç„¶æœ‰è¢«ç¯¡æ”¹çš„å¯èƒ½æ€§ã€‚&lt;/p></description></item><item><title>ä½¿ç”¨Dockerçš„ä¸€äº›Tips</title><link>https://svtter.cn/p/%E4%BD%BF%E7%94%A8docker%E7%9A%84%E4%B8%80%E4%BA%9Btips/</link><pubDate>Fri, 07 Jul 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E4%BD%BF%E7%94%A8docker%E7%9A%84%E4%B8%80%E4%BA%9Btips/</guid><description>&lt;p>Dockeræ˜¯ä¸€ç§å¼ºå¤§çš„DevOpså·¥å…·ï¼Œä½¿ç”¨å…¶æ— è®ºæ˜¯ä½œä¸ºå¼€å‘çŽ¯å¢ƒè¿˜æ˜¯ç”Ÿäº§çŽ¯å¢ƒï¼Œä½†æ˜¯éžå¸¸&lt;/p>
&lt;p>å¥½çš„é€‰æ‹©ï¼›åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œè®²è®²Dockerçš„å‡ ä¸ªå¼€å‘Tipsã€‚&lt;/p>
&lt;h2 id="å‡ æ¡å‘½ä»¤å®‰è£…docker">å‡ æ¡å‘½ä»¤å®‰è£…Docker
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>$ curl -fsSL get.docker.com -o get-docker.sh
$ sudo sh get-docker.sh
&lt;/pre>
&lt;/div>
&lt;h2 id="ä½¿ç”¨å¤šä¸ªåŸºç¡€é•œåƒ">ä½¿ç”¨å¤šä¸ªåŸºç¡€é•œåƒ
&lt;/h2>&lt;p>ä½œä¸ºPythonå¼€å‘è€…ï¼Œç»å¸¸éœ€è¦ä½¿ç”¨pipæ¥æž„å»ºå®‰è£…åŒ…ï¼Œç­‰å¾…pipå®‰å…¨çš„è¿‡ç¨‹å¯è°“æ˜¯åˆè‡­åˆé•¿ï¼Œ&lt;/p>
&lt;p>è€Œä¸”ä¸€ä¸ªä¸å°å¿ƒï¼Œå¦‚æžœåœ¨æ²¡æœ‰ä½¿ç”¨pip.confçš„æƒ…å†µä¸‹ï¼Œå®‰è£…å¤±è´¥ï¼Œdockeråˆè¦é‡æ–°è·‘ä¸€æ¬¡ï¼Œ&lt;/p>
&lt;p>ååˆ†çš„éº»çƒ¦ã€‚ä¸‹é¢ç»™å‡ºçš„è§£å†³æ–¹æ¡ˆä¸ä¸€å®šæ˜¯æœ€å¥½çš„ï¼Œä½†æ˜¯åº”è¯¥æ˜¯æ¯”è¾ƒæœ‰æ•ˆçš„ã€‚&lt;/p>
&lt;p>æ¯”å¦‚ï¼Œæˆ‘åœ¨æž„å»ºæŸä¸ªPythoné¡¹ç›®çš„æ—¶å€™ï¼Œä¼šåˆ›å»ºä¸€ä¸ªpython-baseçš„imageï¼Œtagä½¿ç”¨å½“å‰&lt;/p>
&lt;p>é¡¹ç›®åç§°ã€‚&lt;/p>
&lt;p>è¿™ä¸ªpython-baseå°±æ˜¯åŸºç¡€é•œåƒä¹‹ä¸€ï¼š&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="s"> dockerxman/docker-ubuntu:latest&lt;/span>
&lt;span class="k">MAINTAINER&lt;/span>&lt;span class="s"> Svtter &amp;lt;svtter@qq.com&amp;gt;&lt;/span>
&lt;span class="k">RUN&lt;/span> apt-get update&lt;span class="se">\&lt;/span>
&lt;span class="o">&amp;&amp;&lt;/span> apt-get install python3-pip supervisor -y
COPY ./requirements.txt /app/requirements.txt
COPY ./pip/pip.conf /root/.pip/pip.conf
&lt;span class="k">RUN&lt;/span> pip3 install -r /app/requirements.txt
&lt;span class="k">RUN&lt;/span> rm -rf /var/lib/apt/lists/*
&lt;/pre>
&lt;/div>
&lt;p>ä»‹ç»ä¸€ä¸‹è¿™ä¸ª&lt;code>Dockerfile&lt;/code>ï¼›åœ¨ç¬¬ä¸€è¡Œï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯ä¸€aliyunæºçš„ubuntué•œåƒï¼Œæ¥åŠ é€Ÿ&lt;/p>
&lt;p>aptçš„è¿‡ç¨‹ï¼Œç„¶åŽï¼ŒæŠŠpipç›¸å…³çš„é…ç½®å¤åˆ¶åˆ°imageä¸­ï¼Œæœ€åŽï¼Œä½¿ç”¨pipå®‰è£…éœ€æ±‚æ–‡ä»¶ï¼Œ&lt;/p>
&lt;p>æ¸…ç†ç¼“å­˜ï¼Œç„¶åŽè¿™ä¸ªåŸºç¡€é•œåƒå°±æž„å»ºå¥½äº†ã€‚&lt;/p>
&lt;h2 id="åˆ›å»ºè‡ªå·±çš„é¡¹ç›®">åˆ›å»ºè‡ªå·±çš„é¡¹ç›®
&lt;/h2>&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="s"> python-base:school&lt;/span>
&lt;span class="k">MAINTAINER&lt;/span>&lt;span class="s"> Svtter &amp;lt;svtter@qq.com&amp;gt;&lt;/span>
COPY ./fleetness /app
&lt;span class="k">WORKDIR&lt;/span>&lt;span class="s"> /app&lt;/span>
COPY supervisord.conf /etc/supervisord.conf
&lt;span class="k">WORKDIR&lt;/span>&lt;span class="s"> /log&lt;/span>
&lt;span class="k">CMD&lt;/span>&lt;span class="s"> supervisord -c /etc/supervisord.conf&lt;/span>
STOPSIGNAL SIGINT
&lt;span class="k">EXPOSE&lt;/span>&lt;span class="s"> 5000&lt;/span>
&lt;/pre>
&lt;/div>
&lt;p>æ­¤å¤„å°±æ˜¯è¿™ç›´æŽ¥åˆ©ç”¨å·²ç»æž„å»ºå¥½çš„&lt;code>python-base:school&lt;/code>çš„é•œåƒï¼Œè¿™æ ·ä¸€æ¥ï¼Œæ¯æ¬¡æˆ‘æ›´æ–°&lt;/p>
&lt;p>ä»£ç ï¼Œæˆ–è€…supervisorçš„é…ç½®ï¼Œåªéœ€è¦é‡æ–°æž„å»ºè¿™ä¸ªé•œåƒå°±å¯ä»¥äº†ã€‚åœ¨è¿™ä¸ªé•œåƒä¸­ï¼Œæ²¡æœ‰&lt;/p>
&lt;p>å®‰è£…å…¶ä»–è½¯ä»¶åŒ…çš„è¿‡ç¨‹ï¼Œå› æ­¤èŠ‚çœäº†å¤§é‡çš„æ—¶é—´ã€‚&lt;/p>
&lt;p>æ­¤å¤–ï¼Œå¦‚æžœåªéœ€è¦æ›´æ–°ä»£ç ï¼Œè€Œä¾èµ–ç›¸å¯¹ä¸æ”¹å˜çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡æŒ‚è½½ä»£ç åˆ°VOLUMEä¸­ï¼Œ&lt;/p>
&lt;p>æ¯æ¬¡æ›´æ–°ä»£ç ï¼Œéƒ½é€šè¿‡&lt;code>git pull&lt;/code>ï¼Œç„¶åŽé‡å¯ä¸€ä¸‹é•œåƒï¼Œå°±å¯ä»¥é‡æ–°éƒ¨ç½²äº†ã€‚&lt;/p>
&lt;h2 id="docker-æž„å»ºpythoné•œåƒçš„ä¸€äº›æŠ€å·§">Docker æž„å»ºPythoné•œåƒçš„ä¸€äº›æŠ€å·§
&lt;/h2>&lt;p>ä½¿ç”¨pipå¿«é€Ÿ &lt;a class="link" href="http://blog.csdn.net/lambert310/article/details/52412059" target="_blank" rel="noopener"
>http://blog.csdn.net/lambert310/article/details/52412059&lt;/a>&lt;/p>
&lt;h2 id="ä¸€æ¡å‘½ä»¤æ­å»ºlamp">ä¸€æ¡å‘½ä»¤æ­å»ºLAMP
&lt;/h2>&lt;p>è¿™æ¡å‘½ä»¤åˆ›å»ºä¸€ä¸ªapache-phpæœåŠ¡å™¨ï¼ŒæœåŠ¡äºŽ&lt;code>8087&lt;/code>ç«¯å£ã€‚&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>$ docker run --rm -p &lt;span class="m">8087&lt;/span>:80 -e &lt;span class="nv">ALLOW_OVERRIDE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nb">true&lt;/span> -v &lt;span class="si">${&lt;/span>&lt;span class="nv">é¡¹ç›®çš„ç»å¯¹è·¯å¾„&lt;/span>&lt;span class="si">}&lt;/span>:/var/www/html tutum/apache-php
&lt;/pre>
&lt;/div></description></item><item><title>ä½¿ç”¨ OpenWRT</title><link>https://svtter.cn/p/%E4%BD%BF%E7%94%A8-openwrt/</link><pubDate>Tue, 06 Jun 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E4%BD%BF%E7%94%A8-openwrt/</guid><description>&lt;p>ä»Šå¤©èŠ±äº†ä¸å°‘æ—¶é—´åœ¨openwrtä¸Šï¼ˆå®žé™…ä¸Šæ˜¯å…¨éƒ½èŠ±åœ¨ä¸Šé¢äº†ï¼‰ï¼Œä»Žä¸€å¼€å§‹çš„å†™å…¥åˆ°æœ€åŽç»ˆäºŽèƒ½è·‘ï¼›&lt;/p>
&lt;p>å› ä¸ºæ‰‹å¤´æ²¡æœ‰å¯ç”¨çš„è·¯ç”±å™¨ï¼Œåªèƒ½é€šè¿‡æ— çº¿è¿žæŽ¥ä»¥åŠç½‘çº¿æ¥è°ƒè¯•ï¼ŒIPè®¾ç½®ä¸Šçš„é—®é¢˜åƒäº†ä¸å°‘è‹¦å¤´ï¼Œ&lt;/p>
&lt;p>æœ€åŽä¸€ä¸ªä¸ªæŽ’æŸ¥ç»ˆäºŽè§£å†³äº†é—®é¢˜ã€‚&lt;/p>
&lt;h2 id="å®‰è£…">å®‰è£…
&lt;/h2>&lt;p>æˆ‘è¿™é‡Œçš„è®¾å¤‡æ˜¯RaspberryPI 3Bï¼›å¯¹åº”çš„openwrtçš„&lt;a class="link" href="https://downloads.lede-project.org/snapshots/targets/brcm2708/bcm2710/lede-brcm2708-bcm2710-rpi-3-ext4-sdcard.img.gz" target="_blank" rel="noopener"
>ä¸‹è½½é“¾æŽ¥&lt;/a>ï¼Œåªæœ‰8Mï¼Œè§£åŽ‹ç¼©åŽæœ‰300Mï¼Œå¾ˆç¥žå¥‡ï¼Œä¼°è®¡æ˜¯IMGé‡Œé¢æœ‰ä¸å°‘00ï¼›&lt;/p>
&lt;h2 id="é…ç½®">é…ç½®
&lt;/h2>&lt;p>é…ç½®ä¸Šå‚è€ƒäº†å‡ ä¸ªåšå®¢ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="http://sh.alynx.xyz/posts/2016/06/28/RPi-Router/" target="_blank" rel="noopener"
>http://sh.alynx.xyz/posts/2016/06/28/RPi-Router/&lt;/a>&lt;/li>
&lt;li>ä¸€ä¸ªH3C &lt;a class="link" href="https://github.com/ruijanlee/h3cc" target="_blank" rel="noopener"
>https://github.com/ruijanlee/h3cc&lt;/a>&lt;/li>
&lt;li>æ ‘èŽ“æ´¾3 åˆ·openwrt &lt;a class="link" href="https://my.oschina.net/wangandi/blog/687389" target="_blank" rel="noopener"
>https://my.oschina.net/wangandi/blog/687389&lt;/a>&lt;/li>
&lt;li>ss &lt;a class="link" href="http://www.wzero.net/?p=137" target="_blank" rel="noopener"
>http://www.wzero.net/?p=137&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="å…³äºŽipsec">å…³äºŽipsec
&lt;/h2>&lt;p>åœ¨ç½‘ä¸Šæ²¡æœ‰æœç´¢åˆ°çŽ°æˆçš„é…ç½®ï¼Œä»Šå¤©å·²ç»æ¯”è¾ƒç´¯äº†ï¼Œå¦‚æžœæ˜Žå¤©æœ‰æ—¶é—´å†çœ‹å§ã€‚&lt;/p></description></item><item><title>æ ‘èŽ“æ´¾å®‰è£…owncloudå°è®°</title><link>https://svtter.cn/p/%E6%A0%91%E8%8E%93%E6%B4%BE%E5%AE%89%E8%A3%85owncloud%E5%B0%8F%E8%AE%B0/</link><pubDate>Mon, 06 Feb 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E6%A0%91%E8%8E%93%E6%B4%BE%E5%AE%89%E8%A3%85owncloud%E5%B0%8F%E8%AE%B0/</guid><description>&lt;p>&lt;a class="link" href="http://www.voidcn.com/blog/u010873775/article/p-5812004.html" target="_blank" rel="noopener"
>http://www.voidcn.com/blog/u010873775/article/p-5812004.html&lt;/a>&lt;/p>
&lt;p>æˆ‘æ˜¯æŒ‰ç…§ä»¥ä¸Šæ•™ç¨‹è¿›è¡Œå®‰è£…éƒ¨ç½²çš„ï¼Œä½†æ˜¯ä½¿ç”¨ä¸äº†ï¼ŒåŽŸå› æ˜¯å¯¹äºŽç›®å½•é…ç½®æœ‰é—®é¢˜ï¼Œå…¶ä¸­ï¼Œä¸åº”è¯¥æ˜¯è¿›å…¥dataç›®å½•ï¼Œè€Œæ˜¯è¿›å…¥owncloudç›®å½•ã€‚&lt;/p>
&lt;p>æˆåŠŸé…ç½®ä¹‹åŽå‘çŽ°owncloudæ²¡æœ‰å¯ç”¨httpsï¼Œç™»é™†å®˜ç½‘æŸ¥çœ‹ï¼Œé…ç½®æ–‡æ¡£äº‘é‡Œé›¾é‡Œï¼Œä¸æ˜¯å¾ˆæ˜Žç™½ï¼ŒæŒ‰ç…§å…¶é…ç½®æ–¹æ³•ä¸è§å¥æ•ˆï¼Œå…¶ä¸­æœ‰ä¸å°‘åœ°æ–¹æˆ‘ä¹Ÿä¸æ˜¯å¾ˆç†è§£ï¼Œæœ€åŽæ‰¾åˆ°äº†å¦ä¸€ç¯‡æ–‡ç« ï¼Œå…·ä½“æ–‡ç« æˆ‘å·²ç»æ‰¾ä¸åˆ°äº†ï¼Œèƒ½å¤Ÿé…ç½®çš„æ›´å¥½ä¸€äº›ï¼Œä½†æ˜¯ä¸çŸ¥é“ä¸ºä»€ä¹ˆç›´æŽ¥æ— æ³•è®¿é—®äº†ã€‚æˆ‘ä½¿ç”¨çš„è¯ä¹¦æ˜¯opensslç”Ÿæˆçš„ï¼Œå› æ­¤åœ¨chromeè®¿é—®çš„æ—¶å€™æç¤ºæ˜¯ä¸å®‰å…¨çš„ã€‚&lt;/p>
&lt;p>åŽæ¥è€ƒè™‘ä¸€ä¸‹å®˜æ–¹æ–‡æ¡£ï¼Œowncloudæœ¬èº«å»ºè®®æ˜¯åœ¨/var/wwwç›´æŽ¥éƒ¨ç½²ï¼Œå¯æ˜¯æˆ‘èµ°æ·å¾„ï¼Œå›¾ä¸­æ–‡çœ‹çš„æ–¹ä¾¿ï¼Œå°±æ²¡æœ‰æŒ‰ç…§å…¶æ„è§éƒ¨ç½²ï¼Œç»“æžœè€—è´¹äº†ä¸å°‘æ—¶é—´ï¼ŒæœåŠ¡è¿˜æ˜¯æ²¡æœ‰æž¶è®¾èµ·æ¥ï¼Œç”šæ˜¯çƒ¦èºã€‚å…¶ä¸­ï¼Œç®€å•é…ç½®ä¸€ä¸‹ï¼Œæ€»æ˜¯èµ·ä¸æ¥apacheï¼Œ&lt;code>systemctl&lt;/code>çœ‹logçš„æ—¶å€™æ²¡æœ‰åŠ ä¸Š&lt;code>sudo&lt;/code>ï¼Œåˆæ˜¯ä¸€ä¸ªå¤§å‘ã€‚&lt;/p>
&lt;p>åŽæ¥æƒ³äº†ï¼Œå¹²è„†ä¸å†é…ç½®httpsï¼Œç›´æŽ¥ä½¿ç”¨å¥½äº†ã€‚å±…ç„¶è¿žåŽŸæ¥å¯ä»¥ä½¿ç”¨çš„adminç•Œé¢ä¹Ÿä¸èƒ½ä½¿ç”¨äº†ã€‚äºŽæ˜¯ç›´æŽ¥åˆ é™¤apache2ï¼Œæ‰“ç®—é‡è£…ï¼Œå‘çŽ°apacheçŽ¯å¢ƒé…ç½®æ–¹é¢åˆå‡ºé—®é¢˜äº†ã€‚&lt;/p>
&lt;p>å¾—äº†ï¼Œæˆ‘æ€•äº†è¿˜ä¸è¡Œï¼Œå…ˆæç½®ä¸€è¾¹å§ã€‚&lt;/p>
&lt;p>ç”±ä¸Šæ‰€è¿°ï¼Œå¾—å‡ºå‡ ä¸ªç»“è®ºï¼š&lt;/p>
&lt;ol>
&lt;li>Dockeræ˜¯ä¸ªå¥½ä¸œè¥¿ï¼Œå¦‚æžœä¸æƒ³æ±¡æŸ“ç³»ç»ŸçŽ¯å¢ƒï¼Œæžœæ–­ä¸ŠDockerã€‚&lt;/li>
&lt;li>å°½é‡ä»Žå®˜æ–¹æ–‡æ¡£åšäº‹ï¼Œå°½ç®¡çœ‹èµ·æ¥éº»çƒ¦ï¼Œèµ·ç çŸ¥é“æ¯ä¸€æ­¥æ˜¯å¹²å•¥ã€‚&lt;/li>
&lt;li>å›½äººå†™çš„æ–‡æ¡£ï¼Œæœ‰ä¸å°‘æ•°å›¾ç®€å•å›¾å¿«ï¼Œçœç•¥æ­¥éª¤ï¼Œä»…ä»…æ˜¯å»ºç«‹èµ·æ¥ä¸€ä¸ªæœåŠ¡ï¼Œå¯¹äºŽæœåŠ¡çš„é…ç½®å­˜åœ¨å¤§é‡çš„é—®é¢˜ï¼Œè¿™ä¸ªæ—¶å€™ä¸€æ­¥æ­¥æ‰¾é—®é¢˜ï¼Œæ›´åŠ æµªè´¹æ—¶é—´ï¼Œä¸å¦‚ç›´æŽ¥ä»Žè‹±æ–‡æ–‡æ¡£ï¼Œåšå®¢å…¥æ‰‹ï¼Œç›¸å¯¹è´Ÿè´£ä»»ä¸€ç‚¹ã€‚&lt;/li>
&lt;li>åšäº‹æƒ…ä¸€æ­¥ä¸€æ­¥ï¼Œä¸è¦æƒ³å›žé€€çš„æ—¶å€™å‘çŽ°æ— è·¯å¯èµ°ã€‚&lt;/li>
&lt;/ol>
&lt;p>å°¾å£°ï¼šowncloudç›¸å½“äºŽä¸€ä¸ªæœ¬åœ°çš„dropboxï¼Œæž¶è®¾ä½¿ç”¨è¿‡åŽï¼Œæ„Ÿè§‰ç”¨å¤„ä¸å¤§ï¼Œè¿˜æ˜¯çŽ©çŽ©åˆ«çš„ä¸œè¥¿ã€‚&lt;/p></description></item><item><title>æ‚è°ˆVPSæµåª’ä½“æœåŠ¡å™¨</title><link>https://svtter.cn/p/%E6%9D%82%E8%B0%88vps%E6%B5%81%E5%AA%92%E4%BD%93%E6%9C%8D%E5%8A%A1%E5%99%A8/</link><pubDate>Sun, 05 Feb 2017 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E6%9D%82%E8%B0%88vps%E6%B5%81%E5%AA%92%E4%BD%93%E6%9C%8D%E5%8A%A1%E5%99%A8/</guid><description>&lt;p>ä¹‹å‰çš„VPSå› ä¸ºçžŽçŽ©VPNç»™å°äº†ï¼ŒåŽæ¥å‘çŽ° &lt;a class="link" href="http://boinc.berkeley.edu/index.php" target="_blank" rel="noopener"
>http://boinc.berkeley.edu/index.php&lt;/a> è¿™ä¸ªä¸œè¥¿ã€‚æŠŠè‡ªå·±çš„ç©ºé—²çš„è®¡ç®—è´¡çŒ®ç»™ç§‘å­¦ã€‚äºŽæ˜¯åˆ‡æ¢æˆUbuntuï¼Œ&lt;code>apt install boinc&lt;/code>ï¼Œä¹‹åŽè¿™ä¸ªä¸œè¥¿å°±å¼€æœºè‡ªåŠ¨å¯åŠ¨äº†ï¼Œå°±æ”¾åœ¨é‚£é‡Œä¸ç”¨ç®¡äº†â€”â€”&lt;/p>
&lt;p>æœ¬æ¥æƒ³å†™å†™VLCä½œä¸ºæµåª’ä½“æ’­æ”¾å™¨ï¼Œä½†æ˜¯å‘çŽ°VLCå¯¹äºŽæµåª’ä½“æœåŠ¡å™¨åŠŸèƒ½ååˆ†æœ‰é™ã€‚äºŽæ˜¯ä¾¿æ”¾å¼ƒäº†ã€‚&lt;/p>
&lt;p>è€ŒåŽæŸ¥æ‰¾äº†éƒ¨åˆ†èµ„æ–™ï¼Œå‘çŽ°å¤§éƒ¨åˆ†éƒ½æ˜¯ä½¿ç”¨ffmpegæ¥å®žçŽ°ï¼Œæ­¤å¤–ï¼Œè¿˜æœ‰live555ï¼Œgstreamerç­‰ã€‚ä½¿ç”¨ffmpegä¹‹åŽå‘çŽ°é—®é¢˜å¹¶ä¸å¤æ‚ï¼Œè¯¦æƒ…æŸ¥çœ‹æœ¬åšå…³äºŽ&lt;a class="link" href="https://svtter.cn/tags/ffmpeg" >ffmpegçš„ç›¸å…³æ–‡ç« &lt;/a>ã€‚&lt;/p></description></item><item><title>ä¸å¸¸è§ISPä¹‹éš¾</title><link>https://svtter.cn/p/%E4%B8%8D%E5%B8%B8%E8%A7%81isp%E4%B9%8B%E9%9A%BE/</link><pubDate>Tue, 09 Aug 2016 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E4%B8%8D%E5%B8%B8%E8%A7%81isp%E4%B9%8B%E9%9A%BE/</guid><description>&lt;p>ä¸å¸¸è§çš„ISPä½¿ç”¨èµ·æ¥æ˜¯éžå¸¸ç—›è‹¦çš„ã€‚&lt;/p>
&lt;h2 id="å¸¸è§ç½‘ç«™æ— æ³•è®¿é—®">å¸¸è§ç½‘ç«™æ— æ³•è®¿é—®
&lt;/h2>&lt;p>ä¸ä»…ä»…æ˜¯DNSçš„é—®é¢˜ã€‚å³ä¾¿æ˜¯è®¾ç½®äº†&lt;code>114.114.114.114&lt;/code>ï¼Œä¾ç„¶ä¹Ÿè¿˜æ˜¯ä¼šæœ‰ä¸€äº›ç½‘ç«™è®¿é—®é€Ÿåº¦å ªå¿§ã€‚ä¸æ˜¯å¢™çš„é—®é¢˜ã€‚ä»”ç»†è€ƒè™‘ä¸€ä¸‹ï¼Œ å¯èƒ½æ˜¯ISPä¹‹é—´çš„é€šè®¯é—®é¢˜ã€‚&lt;/p>
&lt;p>æ¯”å¦‚æˆ‘çŽ°åœ¨ä½¿ç”¨çš„å¹¿ç”µå®½å¸¦å°±æ˜¯å¦‚æ­¤ã€‚&lt;/p>
&lt;p>å¦‚æžœä½¿ç”¨é˜¿é‡Œäº‘ã€æµ™æ±Ÿã€‘ä½œä¸ºvpnï¼Œè®¿é—®é€Ÿåº¦ä¹Ÿè¿œèƒœäºŽç›´æŽ¥è®¿é—®ã€‚ä¾‹å¦‚ï¼šhttp://cn.bing.comã€‚ è‡ªç„¶æ˜¯ååˆ†ç—›è‹¦ã€‚ä½¿ç”¨VPSä½œä¸ºVPNï¼Œè¿˜éœ€è¦é¢å¤–æ”¯ä»˜æµé‡çš„è´¹ç”¨ï¼Œå›žå½’äº†è®¡è´¹ä¸Šç½‘ï¼Œååˆ†ä¸åˆç®—ã€‚&lt;/p>
&lt;p>æ®æˆ‘çœ‹æ¥ï¼Œæ­¤é—®é¢˜çš„å‡ºçŽ°ï¼Œå’Œ**å› ç‰¹ç½‘äº¤æ¢ç‚¹IXP(Internet eXchange Point)**æœ‰ç›´æŽ¥çš„å…³ç³»ï¼Œä¹Ÿå’Œå¹¿ç”µçš„è·¯ç”±ç®—æ³•æœ‰å…³ã€‚ IXPè¿™ä¸ªä¸œè¥¿ï¼Œè¯´ç™½äº†å°±æ˜¯ä¸¤ä¸ªISPå•†é‡å•†é‡ï¼Œç›´æŽ¥å»ºèµ·ä¸€ä¸ªé€šè·¯ã€‚å› ä¸ºæ˜¯å°ä¼—ISPï¼Œæ‰€ä»¥IXPåŸºç¡€å»ºè®¾ä¸å®Œå–„ï¼›å†è€…ï¼Œè·¯ç”±ç®—æ³•å¾ˆç³Ÿç³•ï¼Œä½¿ç”¨MTRæŸ¥çœ‹åŒ…çš„é€”å¾„ï¼Œå°±èƒ½çœ‹å‡ºç»è¿‡äº†å¤šå°‘ä¸ªæœåŠ¡å™¨ã€‚æˆ‘æƒ³ï¼Œåº”è¯¥å¯ä»¥æ˜Žæ˜¾çœ‹å‡ºç»è¿‡å±‚æ•°ä¹‹å¤šã€‚&lt;/p>
&lt;p>å±‚æ•°è¿‡å¤šï¼Œå»¶è¿Ÿè¿‡é•¿ï¼Œå¯¼è‡´ä¸¢åŒ…ï¼Œå¼ƒåŒ…ï¼Œä»Žè€Œä½¿å¾—éƒ¨åˆ†ç½‘ç«™ç›´æŽ¥æ— æ³•è®¿é—®ã€‚&lt;/p>
&lt;h2 id="å¤§é‡ä½¿ç”¨ä¹‹æ—¶ç½‘é€Ÿå½±å“">å¤§é‡ä½¿ç”¨ä¹‹æ—¶ç½‘é€Ÿå½±å“
&lt;/h2>&lt;p>è¿™ä¸ªé—®é¢˜ä¸»è¦è¡¨çŽ°åœ¨ISPä½¿ç”¨é«˜å³°çš„æ—¶å€™ï¼Œç½‘é€Ÿå³°å€¼çš„ä¸‹æ»‘ä»¥åŠå»¶è¿Ÿè¿‡é«˜ã€‚è¡Œæ–‡è‡³æ­¤ï¼Œæœ‰è€ƒè™‘åˆ°ï¼Œè·¯ç”±ç®—æ³•å¯èƒ½ä¸ä¼šå·®å¾ˆå¤šï¼Œä½†æ˜¯å¯èƒ½æ˜¯ç”±äºŽåŸºç¡€è®¾æ–½ä¸å®Œå–„ï¼Œè´Ÿè½½ä¸å‡ï¼Œå¯¼è‡´éƒ¨åˆ†è·¯ç”±å™¨è´Ÿè½½è¿‡é‡ï¼Œè½¬å‘æ—¶é—´è¿‡é•¿ï¼Œä»¥è‡³äºŽå¸¦æ¥å¦‚æ­¤ç³Ÿç³•çš„ç”¨æˆ·ä½“éªŒã€‚&lt;/p>
&lt;h2 id="é™¤æ­¤ä¹‹å¤–">é™¤æ­¤ä¹‹å¤–ï¼Ÿ
&lt;/h2>&lt;p>å°±åœ¨åˆšåˆšï¼Œè®¿é—®http://www.ituring.com.cn é•¿æ—¶é—´æ²¡æœ‰ååº”ã€‚æç¤ºæ£€æŸ¥ä»£ç†ã€‚ç„¶åŽé‡å¯è·¯ç”±å™¨åˆå¯ä»¥è®¿é—®äº†ã€‚ï¼ˆè¿™ä¸ªå¯èƒ½æ˜¯è·¯ç”±å™¨çš„é—®é¢˜äº†ã€‚ï¼‰&lt;/p></description></item><item><title>ç½‘ç»œ-CDMAæŽ¥å—æ£€éªŒ</title><link>https://svtter.cn/p/%E7%BD%91%E7%BB%9C-cdma%E6%8E%A5%E5%8F%97%E6%A3%80%E9%AA%8C/</link><pubDate>Wed, 31 Dec 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E7%BD%91%E7%BB%9C-cdma%E6%8E%A5%E5%8F%97%E6%A3%80%E9%AA%8C/</guid><description>&lt;p _="%" endblockquote="endblockquote">{% blockquote æœ¬æ–‡å‡ºè‡ª http://svtter.github.io svtter.github.io %}
&lt;p>æœ¬æ–‡å¯ä»¥éšæ„è½¬è½½ï¼Œä½†æ˜¯è½¬è½½è¯·ä¿ç•™æœ¬ä¿¡æ¯.&lt;/p>&lt;/p>
&lt;p>åšCDMAç®€å•çš„æŽ¥æ”¶å¤„ç†ã€‚&lt;/p>
&lt;h2 id="æ–‡ä»¶">æ–‡ä»¶
&lt;/h2>&lt;p>input:&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>-1 -1 -1 1 1 -1 1 1
-1 -1 1 -1 1 1 1 -1
-1 1 -1 1 1 1 -1 -1
-1 1 -1 -1 -1 -1 -1 1
&lt;/pre>
&lt;/div>
&lt;p>new.c:&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;math.h&amp;gt;&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#define M 8&lt;/span>
&lt;span class="k">const&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">[]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">};&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">show&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[])&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">M&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%5d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="n">puts&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">""&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">{&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">M&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">freopen&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">&amp;#39;&lt;/span>&lt;span class="n">input&lt;/span>&lt;span class="err">&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="sc">&amp;#39;r&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">stdin&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">while&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">M&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="n">scanf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">&amp;&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">show&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="kt">int&lt;/span> &lt;span class="n">sum&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">M&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">sum&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="n">printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">"%d&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s">"&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">sum&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">M&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/pre>
&lt;/div></description></item><item><title>bash-ä½¿ç”¨funcå’Œä¸€èˆ¬çš„shçš„ä¸åŒ</title><link>https://svtter.cn/p/bash-%E4%BD%BF%E7%94%A8func%E5%92%8C%E4%B8%80%E8%88%AC%E7%9A%84sh%E7%9A%84%E4%B8%8D%E5%90%8C/</link><pubDate>Thu, 04 Dec 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/bash-%E4%BD%BF%E7%94%A8func%E5%92%8C%E4%B8%80%E8%88%AC%E7%9A%84sh%E7%9A%84%E4%B8%8D%E5%90%8C/</guid><description>&lt;ul>
&lt;li>æœ¬æ–‡å‡ºè‡ª&lt;a class="link" href="http://svtter.github.io" target="_blank" rel="noopener"
>svtter.github.io&lt;/a>&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>å¦‚æžœåªæ˜¯å•çº¯çš„ä½¿ç”¨function, åœ¨ç»ˆç«¯ä¸­æ˜¯å¯ä»¥ä½¿ç”¨çš„ï¼Œä½†æ˜¯å½“ä½œä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶æ˜¯ä¸è¡Œçš„ï¼ˆä¾‹å¦‚ï¼šä½¿ç”¨pythonè°ƒç”¨)&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>å¦‚æžœä½¿ç”¨.shçš„æ–¹å¼æ¥å¤„ç†ï¼Œ é‚£ä¹ˆé—®é¢˜å°±åœ¨äºŽç®¡ç†ä¸Šäº† â€” å¯èƒ½å¤§é‡æœ‰å¤§é‡çš„shæ–‡ä»¶ï¼Œæ‰€ä»¥è¯´éœ€è¦æƒè¡¡åˆ©å¼Šï¼Œè‡ªå·±ä½¿ç”¨äº†ã€‚&lt;/p>&lt;/blockquote>
&lt;blockquote>
&lt;p>bashå­¦å¾—å¹¶ä¸å¥½ï¼Œä¹Ÿæ²¡æœ‰è®¤çœŸçš„ç ”ç©¶ï¼Œæš‚ä¸”è®°å½•ä¸€ä¸‹ï¼Œæ—¥åŽå†åšè¡¥å……&lt;/p>&lt;/blockquote></description></item><item><title>ä½¿ç”¨cdå¿«é€Ÿåœ¨ç›®å½•é—´ç§»åŠ¨</title><link>https://svtter.cn/p/%E4%BD%BF%E7%94%A8cd%E5%BF%AB%E9%80%9F%E5%9C%A8%E7%9B%AE%E5%BD%95%E9%97%B4%E7%A7%BB%E5%8A%A8/</link><pubDate>Wed, 26 Nov 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E4%BD%BF%E7%94%A8cd%E5%BF%AB%E9%80%9F%E5%9C%A8%E7%9B%AE%E5%BD%95%E9%97%B4%E7%A7%BB%E5%8A%A8/</guid><description>&lt;ul>
&lt;li>æœ¬æ–‡å‡ºè‡ª&amp;lt;svtter.github.io&amp;gt;&lt;/li>
&lt;/ul>
&lt;p>éš¾å¾—çœ‹è§ä¸€ç¯‡å¥½æ–‡= =&lt;/p>
&lt;h2 id="æ“ä½œæ–¹æ³•">æ“ä½œæ–¹æ³•
&lt;/h2>&lt;p>åœ¨æ­¤å­¦ä¹ å¹¶ä¸”è®°å½•ã€‚&lt;/p>
&lt;ul>
&lt;li>æ ‡è®°ä¸€ä¸ªä¹¦ç­¾: mark [ä¹¦ç­¾]&lt;/li>
&lt;li>è¿›å…¥ä¸€ä¸ªä¹¦ç­¾: g [ä¹¦ç­¾]&lt;/li>
&lt;li>è¾“å‡ºå…¨éƒ¨æ ‡ç­¾: gs&lt;/li>
&lt;/ul>
&lt;h2 id="å®žçŽ°åŽŸç†">å®žçŽ°åŽŸç†
&lt;/h2>&lt;p>&lt;code>sudo vim /etc/profile&lt;/code>&lt;/p>
&lt;p>ä¹Ÿå¯ä»¥ä½¿ç”¨&lt;code>:w !sudo tee %&lt;/code>è¿™ç§æ–¹å¼æ¥ä¿å­˜&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>&lt;span class="c1"># mark&lt;/span>
&lt;span class="nb">export&lt;/span> &lt;span class="nv">MARKPATH&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$HOME&lt;/span>/.marks
&lt;span class="nb">export&lt;/span> &lt;span class="nv">MARKDEFAULT&lt;/span>&lt;span class="o">=&lt;/span>sanguo#è®¾ç½®ä½ çš„é»˜è®¤ä¹¦ç­¾ï¼Œå¯ä»¥ç›´æŽ¥è¾“å…¥gè·³è½¬
&lt;span class="k">function&lt;/span> g &lt;span class="o">{&lt;/span>
&lt;span class="nb">local&lt;/span> &lt;span class="nv">m&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$1&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="s2">"&lt;/span>&lt;span class="nv">$m&lt;/span>&lt;span class="s2">"&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">""&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span> &lt;span class="nv">m&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$MARKDEFAULT&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">fi&lt;/span>
&lt;span class="nb">cd&lt;/span> -P &lt;span class="s2">"&lt;/span>&lt;span class="nv">$MARKPATH&lt;/span>&lt;span class="s2">/&lt;/span>&lt;span class="nv">$m&lt;/span>&lt;span class="s2">"&lt;/span> &lt;span class="m">2&lt;/span>&amp;gt;/dev/null &lt;span class="o">||&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">"No such mark: &lt;/span>&lt;span class="nv">$m&lt;/span>&lt;span class="s2">"&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="k">function&lt;/span> mark &lt;span class="o">{&lt;/span>
mkdir -p &lt;span class="s2">"&lt;/span>&lt;span class="nv">$MARKPATH&lt;/span>&lt;span class="s2">"&lt;/span>
&lt;span class="nb">local&lt;/span> &lt;span class="nv">m&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$1&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="s2">"&lt;/span>&lt;span class="nv">$m&lt;/span>&lt;span class="s2">"&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">""&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span> &lt;span class="nv">m&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$MARKDEFAULT&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">fi&lt;/span>
rm -f &lt;span class="s2">"&lt;/span>&lt;span class="nv">$MARKPATH&lt;/span>&lt;span class="s2">/&lt;/span>&lt;span class="nv">$m&lt;/span>&lt;span class="s2">"&lt;/span>
ln -s &lt;span class="s2">"&lt;/span>&lt;span class="k">$(&lt;/span>&lt;span class="nb">pwd&lt;/span>&lt;span class="k">)&lt;/span>&lt;span class="s2">"&lt;/span> &lt;span class="s2">"&lt;/span>&lt;span class="nv">$MARKPATH&lt;/span>&lt;span class="s2">/&lt;/span>&lt;span class="nv">$m&lt;/span>&lt;span class="s2">"&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="k">function&lt;/span> unmark &lt;span class="o">{&lt;/span>
&lt;span class="nb">local&lt;/span> &lt;span class="nv">m&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$1&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="s2">"&lt;/span>&lt;span class="nv">$m&lt;/span>&lt;span class="s2">"&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">""&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span> &lt;span class="nv">m&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$MARKDEFAULT&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">fi&lt;/span>
rm -i &lt;span class="s2">"&lt;/span>&lt;span class="nv">$MARKPATH&lt;/span>&lt;span class="s2">/&lt;/span>&lt;span class="nv">$m&lt;/span>&lt;span class="s2">"&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="k">function&lt;/span> gs &lt;span class="o">{&lt;/span>
ls -l &lt;span class="s2">"&lt;/span>&lt;span class="nv">$MARKPATH&lt;/span>&lt;span class="s2">"&lt;/span> &lt;span class="p">|&lt;/span> grep ^l &lt;span class="p">|&lt;/span> cut -d &lt;span class="s1">&amp;#39; &amp;#39;&lt;/span> -f &lt;span class="m">13&lt;/span>-
&lt;span class="o">}&lt;/span>
_completemarks&lt;span class="o">()&lt;/span> &lt;span class="o">{&lt;/span>
&lt;span class="nb">local&lt;/span> &lt;span class="nv">curw&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">COMP_WORDS&lt;/span>&lt;span class="p">[COMP_CWORD]&lt;/span>&lt;span class="si">}&lt;/span>
&lt;span class="nb">local&lt;/span> &lt;span class="nv">wordlist&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>ls -l &lt;span class="s2">"&lt;/span>&lt;span class="nv">$MARKPATH&lt;/span>&lt;span class="s2">"&lt;/span> &lt;span class="p">|&lt;/span> grep ^l &lt;span class="p">|&lt;/span> cut -d &lt;span class="s1">&amp;#39; &amp;#39;&lt;/span> -f &lt;span class="m">13&lt;/span>&lt;span class="k">)&lt;/span>
&lt;span class="nv">COMPREPLY&lt;/span>&lt;span class="o">=(&lt;/span>&lt;span class="k">$(&lt;/span>&lt;span class="nb">compgen&lt;/span> -W &lt;span class="s1">&amp;#39;${wordlist[@]}&amp;#39;&lt;/span> -- &lt;span class="s2">"&lt;/span>&lt;span class="nv">$curw&lt;/span>&lt;span class="s2">"&lt;/span>&lt;span class="k">)&lt;/span>&lt;span class="o">)&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="m">&lt;/span>
&lt;span class="o">}&lt;/span>
&lt;span class="nb">complete&lt;/span> -F _completemarks g unmark
&lt;/pre>
&lt;/div></description></item><item><title>ä»Žgrub rescueä¿®å¤</title><link>https://svtter.cn/p/%E4%BB%8Egrub-rescue%E4%BF%AE%E5%A4%8D/</link><pubDate>Mon, 10 Nov 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/%E4%BB%8Egrub-rescue%E4%BF%AE%E5%A4%8D/</guid><description>&lt;h1 id="ä¿®å¤grub-rescueæ¨¡å¼">ä¿®å¤grub-rescueæ¨¡å¼
&lt;/h1>&lt;p>ä»Šå¤©åˆ é™¤äº†ä¸€ä¸ªå¤šä½™çš„åˆ†åŒºï¼Œç»“æžœgrubæ‰¾ä¸åˆ°åŽŸæ¥çš„å¯åŠ¨modäº†ï¼Œä¹Ÿæ˜¯å­¦ä¹ äº†ã€‚&lt;/p>
&lt;p>grub-rescueæ¨¡å¼ä¸­åªèƒ½ç”¨ls, insmod, set root= , set prefix= ,è¿™å‡ ä¸ªå‘½ä»¤ã€‚&lt;/p>
&lt;div class="codehilite">
&lt;pre>&lt;span>&lt;/span>ä½¿ç”¨lsæ˜¾ç¤ºæ‰€æœ‰çš„ç£ç›˜ã€‚
ç„¶åŽls (hd0, X)/boot/grub2 æŸ¥çœ‹å¯åŠ¨çš„ç›˜ç¬¦ã€‚
set root=(hd0, X);
set prefix=(hd0, X)/boot/grub2
insmod normal
normal
&lt;/pre>
&lt;/div>
&lt;p>å‘çŽ°æ²¡æžå®šï¼Œé‡å¯è¿˜æ˜¯ä¸å¹¸ã€‚&lt;/p>
&lt;p>ä½¿ç”¨&lt;code># grub2-install /dev/sda&lt;/code>&lt;/p>
&lt;p>ç„¶åŽå°±æžå®š= =&lt;/p></description></item><item><title>bashç›¸å…³çŸ¥è¯†</title><link>https://svtter.cn/p/bash%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86/</link><pubDate>Sat, 08 Nov 2014 01:00:00 +0800</pubDate><guid>https://svtter.cn/p/bash%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86/</guid><description>&lt;p>ä»Šå¤©æƒ³ç”¨wget+æ­£åˆ™å†™ä¸€ä¸ªç®€å•çš„dictï¼Œç»“æžœä¸å¹¸å¤±è´¥äº†ã€‚ã€‚&lt;/p>
&lt;p>ä¸€æ–¹é¢æ˜¯æ­£åˆ™è¡¨è¾¾å¼å­¦ä¹ ä¸åˆ°å®¶ï¼Œå¦ä¸€æ–¹é¢æ˜¯wgetå‘½ä»¤æ²¡æœ‰ä¹ å¾—ç²¾åŽã€‚&lt;/p>
&lt;h1 id="wget">wget
&lt;/h1>&lt;p>ä¸‹è½½åˆ°æŒ‡å®šçš„ç›®å½•&lt;code>wget -P youwant/ (URL)&lt;/code>&lt;/p>
&lt;p>åˆ©ç”¨-På°±å¯ä»¥ä¸‹è½½åˆ°æŒ‡å®šç›®å½•äº†ï¼Œå¥ˆä½•ä»Žmané‡Œé¢æ‰¾æ‰¾äº†åŠå¤©ï¼Œè¿˜æ˜¯è‡ªå·±çš„è‹±è¯­ä¸è¿‡å…³é˜¿ã€‚&lt;/p>
&lt;h1 id="bash">bash
&lt;/h1>&lt;p>å¯ä»¥ä½¿ç”¨grepä»¥åŠsed, awkè¿›è¡Œæ ¼å¼çš„åŒ¹é…ã€‚å‘çŽ°é¸Ÿå“¥çš„ç§æˆ¿èœçœ‹çš„è¿˜æ˜¯å¤ªç²—ï¼Œä¹Ÿæœ‰ä¸€æ®µæ—¶é—´æ²¡æœ‰å¥½å¥½çœ‹äº†ã€‚&lt;/p>
&lt;p>æœ‰æ—¶é—´é‡æ–°è¡¥å……ä¸€ä¸‹è¿™ç¯‡åšå®¢ï¼Œå…ˆå¤„ç†ä¸€ä¸‹ç®—æ³•é¢˜ç›®ã€‚&lt;/p></description></item></channel></rss>