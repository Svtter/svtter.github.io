<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Linux on Svtter&#39;s Blog</title>
    <link>https://svtter.cn/categories/linux/</link>
    <description>Recent content in Linux on Svtter&#39;s Blog</description>
    <generator>Hugo</generator>
    <language>zh-cn</language>
    <lastBuildDate>Sun, 02 Jun 2019 01:00:00 +0800</lastBuildDate>
    <atom:link href="https://svtter.cn/categories/linux/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>我的 Linux 开发环境</title>
      <link>https://svtter.cn/post/2019-06-02-my-linux-development-env/</link>
      <pubDate>Sun, 02 Jun 2019 01:00:00 +0800</pubDate>
      <guid>https://svtter.cn/post/2019-06-02-my-linux-development-env/</guid>
      <description>&lt;p&gt;GNU/Linux 操作系统数量繁多，对于新手直接使用进行开发十分不友好。但是，随着&#xA;许多工具的发展，Linux 入门已经没有那么困难，这里简单介绍笔者的几个开发环境，&#xA;供读者参考。&lt;/p&gt;</description>
    </item>
    <item>
      <title>安装 GNU/Linux</title>
      <link>https://svtter.cn/2018/10/12/%E5%AE%89%E8%A3%85-gnu-linux/</link>
      <pubDate>Fri, 12 Oct 2018 01:00:00 +0800</pubDate>
      <guid>https://svtter.cn/2018/10/12/%E5%AE%89%E8%A3%85-gnu-linux/</guid>
      <description>&lt;p&gt;之前一直搞不清楚 UEFI 和 Legacy 区别在哪里，今天搞了一下 Manjaro 终于搞明白了；比较好笑的是，我参考的是 Ubuntu 的文档。&lt;br&gt;&#xA;&lt;a href=&#34;https://help.ubuntu.com/community/UEFI&#34;&gt;https://help.ubuntu.com/community/UEFI&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;安装 &lt;code&gt;Manjaro&lt;/code&gt; 的时候，一直都有个安装引导程序到某处，很纳闷，为啥我这里有这个东西，别人截图就没有。后来更换了&lt;code&gt;rufus&lt;/code&gt;的写入的模式，也就是 &lt;code&gt;UEFI only&lt;/code&gt;。然后重新以 &lt;code&gt;UEFI&lt;/code&gt; 模式载入，终于，引导不再有之前的“安装引导程序“了。&lt;/p&gt;&#xA;&lt;p&gt;感动不已，于是在这里记录一下。&lt;br&gt;&#xA;&lt;a href=&#34;https://askubuntu.com/questions/63610/how-do-i-remove-ubuntu-in-the-bios-boot-menu-uefi&#34;&gt;https://askubuntu.com/questions/63610/how-do-i-remove-ubuntu-in-the-bios-boot-menu-uefi&lt;/a&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>ssh 显示图像</title>
      <link>https://svtter.cn/2018/09/20/ssh-%E6%98%BE%E7%A4%BA%E5%9B%BE%E5%83%8F/</link>
      <pubDate>Thu, 20 Sep 2018 01:00:00 +0800</pubDate>
      <guid>https://svtter.cn/2018/09/20/ssh-%E6%98%BE%E7%A4%BA%E5%9B%BE%E5%83%8F/</guid>
      <description>&lt;p&gt;原来一直认为ssh仅仅是一个字符界面，最近发现其实可以传输xserver中的图像。&lt;/p&gt;&#xA;&lt;p&gt;方法很简单，只需要在ssh的选项中添加&lt;code&gt;-Y&lt;/code&gt;就可以了。比如原来的ssh命令是这样：&lt;/p&gt;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code lang=&#34;bash&#34; class=&#34;language-bash&#34;&gt;ssh ubuntu@localhost&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;现在改成这样&lt;/p&gt;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code lang=&#34;bash&#34; class=&#34;language-bash&#34;&gt;ssh -Y ubuntu@localhost&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;非常简单有效。&lt;/p&gt;&#xA;&lt;p&gt;另外，远程查看Ubuntu中的图像，可以使用&lt;code&gt;eog&lt;/code&gt;命令。安装：&lt;/p&gt;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code lang=&#34;bash&#34; class=&#34;language-bash&#34;&gt;sudo apt install eog&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;安装完成后，直接运行&lt;code&gt;eog ./test.png&lt;/code&gt;即可。这对于服务器调试相当方便了！&lt;/p&gt;&#xA;&lt;p&gt;SSH 可选的加速策略&lt;/p&gt;&#xA;&lt;pre class=&#34;wp-block-code&#34;&gt;&lt;code class=&#34;&#34;&gt; -C      Requests compression of all data (including stdin, stdout,&#xA;         stderr, and data for forwarded X11 and TCP connections).  The&#xA;         compression algorithm is the same used by gzip(1), and the&#xA;         “level” can be controlled by the CompressionLevel option for pro-&#xA;         tocol version 1.  Compression is desirable on modem lines and&#xA;         other slow connections, but will only slow down things on fast&#xA;         networks.  The default value can be set on a host-by-host basis&#xA;         in the configuration files; see the Compression option.&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>Ubuntu 脱坑指南</title>
      <link>https://svtter.cn/2018/05/29/ubuntu%E8%84%B1%E5%9D%91%E6%8C%87%E5%8D%97/</link>
      <pubDate>Tue, 29 May 2018 01:00:00 +0800</pubDate>
      <guid>https://svtter.cn/2018/05/29/ubuntu%E8%84%B1%E5%9D%91%E6%8C%87%E5%8D%97/</guid>
      <description>&lt;p&gt;希望本文能够给读者较少一些不必要的困扰。书写顺序较为随意，以&lt;/p&gt;&#xA;&lt;p&gt;“从安装到使用”这个为主线行文。&lt;/p&gt;&#xA;&lt;h2 id=&#34;安装时&#34;&gt;安装时&lt;/h2&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;本文不在此具体介绍如何安装&lt;code&gt;Ubuntu&lt;/code&gt;。对于安装过程的建议，本文会写在&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;内容之中。安装之前，建议阅读本文。&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;h3 id=&#34;使用非定制的iso&#34;&gt;使用非定制的ISO&lt;/h3&gt;&#xA;&lt;p&gt;不要使用Lubuntu，Kubuntu甚至Gnome Ubuntu这些更改了默认桌面环境的Ubuntu。&lt;/p&gt;&#xA;&lt;p&gt;对于新手而言，Ubuntu本身就很脆弱，使用这些定制的ISO，不仅不利于提升用户&lt;/p&gt;&#xA;&lt;p&gt;体验，反而会在非重点的地方极大的消耗时间。对了，Kylin也是不推荐的，尽管&lt;/p&gt;&#xA;&lt;p&gt;官方甚至都把它挂在了首页。&lt;/p&gt;&#xA;&lt;p&gt;唯一建议使用的ISO是&lt;a href=&#34;https://www.ubuntu.com/download/desktop&#34;&gt;官方下载地址&lt;/a&gt;。&lt;/p&gt;&#xA;&lt;h3 id=&#34;使用英文系统&#34;&gt;使用英文系统&lt;/h3&gt;&#xA;&lt;p&gt;中文系统可能会导致许多问题。比如，如果一个软件不支持中文路径，你可能需要&lt;/p&gt;&#xA;&lt;p&gt;排查很久才能想到这个问题。除此之外还有其他的一些问题，比如在命令行中进入&lt;/p&gt;&#xA;&lt;p&gt;一个目录，你可能需要切换输入法，然后再切换回来，十分不方便。还有一些暗含&lt;/p&gt;&#xA;&lt;p&gt;的问题，我已经记不清了，也没有精力去探索这些问题，因为我们的目的是“脱坑”。&lt;/p&gt;&#xA;&lt;p&gt;因此，使用英文作为系统语言可以解决很多问题。唯一引入的问题可能是英文的阅&lt;/p&gt;&#xA;&lt;p&gt;读障碍。我想这应该是一个需要克服的问题。&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;如果使用英文調不出輸入法，可以嘗試添加中文支持，再去掉&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;h3 id=&#34;不要挑战花式安装&#34;&gt;不要挑战花式安装&lt;/h3&gt;&#xA;&lt;p&gt;我这里的花式安装是指，&lt;code&gt;/home&lt;/code&gt;做一个分区，&lt;code&gt;/boot&lt;/code&gt;做一个分区这种事；还有就&lt;/p&gt;&#xA;&lt;p&gt;是在固态上放一个区，在其他位置再放一个区等。这种事情不要做。是的，不要做。&lt;/p&gt;&#xA;&lt;p&gt;在我看来，这种事情毫无意义，对于新手而言，基本上不会有时间让系统稳定到&lt;/p&gt;&#xA;&lt;p&gt;硬盘不够用。&lt;/p&gt;&#xA;&lt;p&gt;把根目录&lt;code&gt;/&lt;/code&gt;挂到一个大分区下，100G，所有问题就都解决了。当空间不足需要重装，&lt;/p&gt;&#xA;&lt;p&gt;恭喜，你可能已经不是新手了，很多问题都可以不再按照此指南进行了。你可以&lt;/p&gt;&#xA;&lt;p&gt;尝试按照你自己的意图去配置系统了。&lt;/p&gt;&#xA;&lt;h2 id=&#34;使用&#34;&gt;使用&lt;/h2&gt;&#xA;&lt;p&gt;下面是使用部分。使用部分是，第一次进行安装之后，第一次进入桌面。&lt;/p&gt;&#xA;&lt;h3 id=&#34;不要添加第三方ppa&#34;&gt;不要添加第三方PPA&lt;/h3&gt;&#xA;&lt;p&gt;我把这条忠告写在最前面。如果你不知道什么叫做第三方ppa，那么很好，&lt;/p&gt;&#xA;&lt;p&gt;我的意思是，在你了解它是什么之前，不要通过&lt;code&gt;apt&lt;/code&gt;与&lt;code&gt;software center&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;以外的方式安装软件。这可以很大程度的保护你的软件包管理工具。修复&lt;/p&gt;&#xA;&lt;p&gt;软件包管理工具需要消耗的时间可能很多，而且问题往往是链式的，总会&lt;/p&gt;&#xA;&lt;p&gt;给新手造成“我以为我解决了”这样的错觉。&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;&lt;code&gt;sudo add-apt-repository ppa:kelleyk/emacs&lt;/code&gt; 这就是我所说的PPA。&lt;/p&gt;&#xA;&lt;p&gt;Vim 和 Emacs 都是我的最爱。&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;h3 id=&#34;不要在输入法上耗费太多时间&#34;&gt;不要在输入法上耗费太多时间&lt;/h3&gt;&#xA;&lt;p&gt;输入法如果花费一上午都没有解决的话，建议放弃。因为Ubuntu官方的版本&lt;/p&gt;&#xA;&lt;p&gt;有时候给出的中文输入法都可能无法使用。&lt;/p&gt;&#xA;&lt;p&gt;如果真的需要输入中文，可以先考虑使用中文搜索引擎做pinyin的转换。不过&lt;/p&gt;&#xA;&lt;p&gt;你真的需要中文，并且在Ubuntu下做文字处理的工作吗？&lt;/p&gt;&#xA;&lt;h3 id=&#34;多运行apt-get-update&#34;&gt;多运行&lt;code&gt;apt-get update&lt;/code&gt;&lt;/h3&gt;&#xA;&lt;p&gt;是的。更换国内源这个事情我是建议的，个人对于&lt;code&gt;tsinghua&lt;/code&gt;的源非常喜欢，&lt;/p&gt;&#xA;&lt;p&gt;尽管它崩的概率也有点高，不过在&lt;code&gt;ipv6&lt;/code&gt;以及速度上都太令人满意了。&lt;/p&gt;&#xA;&lt;p&gt;源的不稳定可能造成的问题是，没有完全将软件依赖更新好。&lt;/p&gt;&#xA;&lt;p&gt;如果你不知道我在说什么，没关系，&lt;code&gt;apt&lt;/code&gt;命令出现问题时，多运行&lt;code&gt;apt-get update&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;就可以了。&lt;/p&gt;&#xA;&lt;h3 id=&#34;官方文档为主&#34;&gt;官方文档为主&lt;/h3&gt;&#xA;&lt;p&gt;Ubuntu的很多问题，都是国内博主在写文章时比较随意造成的（我也挖这种坑）。&lt;/p&gt;&#xA;&lt;p&gt;在进行软件安装的时候，新手往往在国内搜索某个教程就复制粘贴了。这是非常&lt;/p&gt;&#xA;&lt;p&gt;容易出问题的，且不论安全性，甚至教程本身都无法使得软件正常运行。这里面&lt;/p&gt;&#xA;&lt;p&gt;包含很多种可能：文章不再更新，系统已经不适配；教程缺斤少两等等。&lt;/p&gt;&#xA;&lt;p&gt;安装软件先以官方文档为主，也就是软件的官方网站，一般都会有文档。文档可能&lt;/p&gt;&#xA;&lt;p&gt;不好读，但是起码能够减少问题。其次是Ubuntu官方的安装指南；再其次是google&lt;/p&gt;&#xA;&lt;p&gt;第一位的安装指南（前提是新手能明白每一步都在做什么）；没有最后。&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;能用&lt;code&gt;apt-get install&lt;/code&gt;解决的问题，不要通过&lt;code&gt;make&lt;/code&gt;解决。&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;h3 id=&#34;尽量不使用sudo&#34;&gt;尽量不使用&lt;code&gt;sudo&lt;/code&gt;&lt;/h3&gt;&#xA;&lt;p&gt;除非是按照官方文档进行操作（不排除无良软件开发者挖坑导致运行时出问题），&lt;/p&gt;</description>
    </item>
    <item>
      <title>获取本机ipv6地址</title>
      <link>https://svtter.cn/2018/02/28/%E8%8E%B7%E5%8F%96%E6%9C%AC%E6%9C%BAipv6%E5%9C%B0%E5%9D%80/</link>
      <pubDate>Wed, 28 Feb 2018 01:00:00 +0800</pubDate>
      <guid>https://svtter.cn/2018/02/28/%E8%8E%B7%E5%8F%96%E6%9C%AC%E6%9C%BAipv6%E5%9C%B0%E5%9D%80/</guid>
      <description>&lt;p&gt;获取本机ipv6地址，最简单的方法：&lt;/p&gt;&#xA;&lt;div class=&#34;codehilite&#34;&gt;&#xA;  &lt;pre&gt;&lt;span&gt;&lt;/span&gt;cat /proc/net/if_inet6&#xA;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;p&gt;还可以使用python的&lt;code&gt;netinterface&lt;/code&gt;包。&lt;/p&gt;&#xA;&lt;p&gt;&lt;code&gt;ifconfig&lt;/code&gt;也是从这个文件进行获取的，只是优化了一下格式。&lt;/p&gt;&#xA;&lt;h2 id=&#34;reference&#34;&gt;reference&lt;/h2&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&lt;a href=&#34;https://blog.lilydjwg.me/2012/6/6/get-ipv4-and-ipv6-addresses-of-local-host-in-a-programming-way.34055.html&#34;&gt;https://blog.lilydjwg.me/2012/6/6/get-ipv4-and-ipv6-addresses-of-local-host-in-a-programming-way.34055.html&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ol&gt;</description>
    </item>
    <item>
      <title>使用 grub customizer 调教grub</title>
      <link>https://svtter.cn/2018/02/28/%E4%BD%BF%E7%94%A8grubcustomizer%E8%B0%83%E6%95%99grub/</link>
      <pubDate>Wed, 28 Feb 2018 01:00:00 +0800</pubDate>
      <guid>https://svtter.cn/2018/02/28/%E4%BD%BF%E7%94%A8grubcustomizer%E8%B0%83%E6%95%99grub/</guid>
      <description>&lt;p&gt;调整grub总是需要搜索某个文件，某个配置，相当麻烦，近期找了一个比较不错的图形化配置管理器，&lt;code&gt;grub customizer&lt;/code&gt;，可以调整启动的内核，以及启动的画面，非常好用，安利一发。&lt;/p&gt;&#xA;&lt;h2 id=&#34;安装&#34;&gt;安装&lt;/h2&gt;&#xA;&lt;div class=&#34;codehilite&#34;&gt;&#xA;  &lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo add-apt-repository ppa:danielrichter2007/grub-customizer&#xA;sudo apt-get update&#xA;sudo apt-get install grub-customizer&#xA;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;h2 id=&#34;使用截图&#34;&gt;使用截图&lt;/h2&gt;&#xA;&lt;p&gt;【日后补上】&lt;/p&gt;&#xA;&lt;h2 id=&#34;reference&#34;&gt;reference&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;a href=&#34;http://ubuntuhandbook.org/index.php/2016/04/install-grub-customizer-ubuntu-16-04-lts/&#34;&gt;http://ubuntuhandbook.org/index.php/2016/04/install-grub-customizer-ubuntu-16-04-lts/&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;http://blog.csdn.net/lu_embedded/article/details/44353499&#34;&gt;grub讲解&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;</description>
    </item>
    <item>
      <title>定制ARM-Linux镜像</title>
      <link>https://svtter.cn/2017/02/25/%E5%AE%9A%E5%88%B6arm-linux%E9%95%9C%E5%83%8F/</link>
      <pubDate>Sat, 25 Feb 2017 01:00:00 +0800</pubDate>
      <guid>https://svtter.cn/2017/02/25/%E5%AE%9A%E5%88%B6arm-linux%E9%95%9C%E5%83%8F/</guid>
      <description>&lt;p&gt;简单看了看ARM-Linux镜像的相关内容，发现一个比较坑的地方，就是，不同架构的Linux是&lt;/p&gt;&#xA;&lt;p&gt;不能直接&lt;code&gt;chroot&lt;/code&gt;的，除非经过处理，比如&lt;code&gt;qemu&lt;/code&gt;。使用这种模拟器可以进行解释执行。&lt;/p&gt;&#xA;&lt;p&gt;&amp;lt;未完待续&amp;gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Linux-makefile写法</title>
      <link>https://svtter.cn/2014/12/24/linux-makefile%E5%86%99%E6%B3%95/</link>
      <pubDate>Wed, 24 Dec 2014 01:00:00 +0800</pubDate>
      <guid>https://svtter.cn/2014/12/24/linux-makefile%E5%86%99%E6%B3%95/</guid>
      <description>&lt;blockquote&gt;&#xA;&lt;p&gt;本文出自&lt;a href=&#34;http://svtter.github.io&#34;&gt;svtter.github.io&lt;/a&gt;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;本文可以随意转载，但是转载请保留本信息.&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;p&gt;makefile写法有复杂的有简单的，我这里提到的主要为了做一些简单的开发，所以还是说些简单的事情。&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;使用makefile之前，要学会使用bash的一些东西。鸟哥的私房菜虽然说是介绍Linux，但是总感觉很多都是介绍bash，以及和&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;bash配合使用的一些命令。。。&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;变量的写法&#34;&gt;变量的写法&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;定义的时候直接使用&lt;code&gt;VAR = main.o&lt;/code&gt;即可这种格式即可&lt;/li&gt;&#xA;&lt;li&gt;使用的时候使用&lt;code&gt;${VAR}&lt;/code&gt;这种形式来使用，类似于php中的变量。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;另外， 位于&lt;code&gt;makefile&lt;/code&gt;外面的变量也是可以使用的，使用的时候使用如下格式&lt;code&gt;VAR = main.o make&lt;/code&gt;即可，这样就相当于在makefile&lt;/p&gt;&#xA;&lt;p&gt;定义了一个VAR变量。在外定义的变量是优先于makefile里面的变量的，就像是一个预订义的函数一般。&lt;/p&gt;&#xA;&lt;p&gt;此外，&lt;code&gt;$@&lt;/code&gt;表示当前的目标。如果在clean那里面，&lt;code&gt;$@&lt;/code&gt;指的是&lt;code&gt;clean&lt;/code&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;make--命令写法&#34;&gt;&lt;code&gt;make + 命令&lt;/code&gt;写法&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;比如make clean的写法，就是在makefile文件中添加&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;clean:&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;rm .. (类似bash的使用方法，这个地方也可以使用变量）&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;相对的，install等等的方法就类似于这个上面的写法了。&lt;/p&gt;&#xA;&lt;p&gt;写到这里也是明白了为什么vim里面有个make命令，却没有各种编译命令了= =&lt;/p&gt;&#xA;&lt;p&gt;然后附加一个自己写的第一个&lt;code&gt;makefile&lt;/code&gt;:（为了读者更加容易理解，我没有使用变量）&lt;/p&gt;&#xA;&lt;div class=&#34;codehilite&#34;&gt;&#xA;  &lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;run&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;t2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;o&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;o&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;cc&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;o&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;run&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;o&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;t2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;o&lt;/span&gt;&#xA;    &lt;span class=&#34;o&#34;&gt;./&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;run&lt;/span&gt;&#xA;&lt;span class=&#34;n&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;o&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;c&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;cc&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;c&lt;/span&gt;&#xA;&lt;span class=&#34;n&#34;&gt;t2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;o&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;t2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;c&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;cc&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;t2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;c&lt;/span&gt;&#xA;&lt;span class=&#34;n&#34;&gt;clean&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;rm&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;o&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;rm&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;run&lt;/span&gt;&#xA;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;p&gt;test.c:&lt;/p&gt;&#xA;&lt;div class=&#34;codehilite&#34;&gt;&#xA;  &lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&#xA;&lt;span class=&#34;cm&#34;&gt;/* #include &#34;t2.h&#34; */&lt;/span&gt;&#xA;&lt;span class=&#34;k&#34;&gt;typedef&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;test&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;span class=&#34;n&#34;&gt;test&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;argc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[])&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;output&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;%d %d&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;p&gt;t2.c:&lt;/p&gt;&#xA;&lt;div class=&#34;codehilite&#34;&gt;&#xA;  &lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&#xA;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;output&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;This function is in t2.c&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;p&gt;文件目录是：&lt;/p&gt;&#xA;&lt;p&gt;– file&lt;/p&gt;&#xA;&lt;p&gt;– makefile&lt;/p&gt;&#xA;&lt;p&gt;– test.c&lt;/p&gt;&#xA;&lt;p&gt;– t2.c&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;使用make可以创建链接文件并且运行。&lt;/li&gt;&#xA;&lt;li&gt;使用&lt;code&gt;make clean&lt;/code&gt;可以删除生成的文件。&lt;/li&gt;&#xA;&lt;/ul&gt;</description>
    </item>
    <item>
      <title>Linux-软中断通信</title>
      <link>https://svtter.cn/2014/12/23/linux-%E8%BD%AF%E4%B8%AD%E6%96%AD%E9%80%9A%E4%BF%A1/</link>
      <pubDate>Tue, 23 Dec 2014 01:00:00 +0800</pubDate>
      <guid>https://svtter.cn/2014/12/23/linux-%E8%BD%AF%E4%B8%AD%E6%96%AD%E9%80%9A%E4%BF%A1/</guid>
      <description>&lt;blockquote&gt;&#xA;&lt;p&gt;本文出自&lt;a href=&#34;http://svtter.github.io&#34;&gt;svtter.github.io&lt;/a&gt;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;本文可以随意转载，但是转载请保留本信息.&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;div class=&#34;codehilite&#34;&gt;&#xA;  &lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&#xA;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;unistd.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&#xA;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;signal.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&#xA;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;unistd.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&#xA;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;wait.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&#xA;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;waiting&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;stop&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;alarming&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&#xA;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;wait_mark&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;p1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;p2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;p1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fork&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;())&lt;/span&gt;&#xA;    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;p2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fork&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;())&lt;/span&gt;&#xA;        &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;            &lt;span class=&#34;n&#34;&gt;wait_mark&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;            &lt;span class=&#34;n&#34;&gt;signal&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;SIGINT&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;stop&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;            &lt;span class=&#34;n&#34;&gt;signal&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;SIGALRM&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;alarming&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;            &lt;span class=&#34;n&#34;&gt;waiting&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&#xA;            &lt;span class=&#34;n&#34;&gt;kill&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;p1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;16&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;            &lt;span class=&#34;n&#34;&gt;kill&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;p2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;17&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;            &lt;span class=&#34;n&#34;&gt;wait&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;            &lt;span class=&#34;n&#34;&gt;wait&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;            &lt;span class=&#34;n&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;parent process is killed!&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;            &lt;span class=&#34;n&#34;&gt;exit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;        &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&#xA;        &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;            &lt;span class=&#34;n&#34;&gt;wait_mark&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;            &lt;span class=&#34;n&#34;&gt;signal&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;17&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;stop&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;            &lt;span class=&#34;n&#34;&gt;signal&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;SIGINT&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;SIG_IGN&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;            &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;wait_mark&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;            &lt;span class=&#34;n&#34;&gt;lockf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;            &lt;span class=&#34;n&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;child process2 is killed by parent!&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;            &lt;span class=&#34;n&#34;&gt;lockf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;            &lt;span class=&#34;n&#34;&gt;exit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&#xA;    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;wait_mark&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;signal&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;16&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;stop&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;signal&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;SIGINT&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;SIG_IGN&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;wait_mark&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;lockf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;child process1 is killed by parent!&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;lockf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;exit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;waiting&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;sleep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;wait_mark&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;kill&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getpid&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;SIGALRM&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;alarming&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;wait_mark&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;stop&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;wait_mark&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;h2 id=&#34;执行结果&#34;&gt;执行结果&lt;/h2&gt;&#xA;&lt;p&gt;&lt;a href=&#34;&#34;&gt;e3.png&lt;/a&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>archlinux-安装笔记2-常用软件转载</title>
      <link>https://svtter.cn/2014/12/09/archlinux-%E5%AE%89%E8%A3%85%E7%AC%94%E8%AE%B02-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E8%BD%AC%E8%BD%BD/</link>
      <pubDate>Tue, 09 Dec 2014 01:00:00 +0800</pubDate>
      <guid>https://svtter.cn/2014/12/09/archlinux-%E5%AE%89%E8%A3%85%E7%AC%94%E8%AE%B02-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E8%BD%AC%E8%BD%BD/</guid>
      <description>&lt;blockquote&gt;&#xA;&lt;p&gt;本文出自&lt;a href=&#34;http://svtter.github.io&#34;&gt;svtter.github.io&lt;/a&gt;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;div class=&#34;codehilite&#34;&gt;&#xA;  &lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Installing&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Arch&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Linux&lt;/span&gt;&#xA;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Pre-Installation&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;是i686&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;架构吗&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;（&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Pentium&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;II&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;or&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;AMD&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;K6-2以上&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;）？&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;安装方式CD&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;?&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;FTP&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;？&lt;/span&gt;&#xA;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Acquiring&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Arch&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Linux&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;从这里寻找速度最快的镜像&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;://&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;wiki&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;archlinux&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;org&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;index&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;php&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Mirror&lt;/span&gt;&#xA;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;3&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Preparing&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Installation&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Media&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;MD5&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;校验&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;烧录&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;。&lt;/span&gt;&#xA;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;4&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Using&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;the&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;CD-ROM&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;设置好光驱启动&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;。&lt;/span&gt;&#xA;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;5&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Common&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Installation&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Procedure&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;o&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Loading&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;non-US&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Keymap&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;用km&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;工具选择非英语键盘&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;o&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Running&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Setup&lt;/span&gt;&#xA;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;archlinux&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;setup&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;o&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;3&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Configure&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Network&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;FTP&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Install&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;only&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;仅适用于FTP&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;安装方式&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;CD&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;安装没有必要配置好网络&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;。&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;o&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;4&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Prepare&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Hard&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Drive&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;给磁盘分好区&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;root分区&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(/)&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;放在主分区比较好&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;（&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;放到逻辑分区也可以&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;），&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;如果有&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Windows&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;系统&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;那它也要占据一个主分区&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;。&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;个人的250G硬盘是这样分区的&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：&lt;/span&gt;&#xA;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;cfdisk&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;sda1&lt;/span&gt;          &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;boot&lt;/span&gt;        &lt;span class=&#34;nt&#34;&gt;150M&lt;/span&gt;             &lt;span class=&#34;nt&#34;&gt;xfs&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;sda2&lt;/span&gt;          &lt;span class=&#34;nt&#34;&gt;Windows&lt;/span&gt;      &lt;span class=&#34;nt&#34;&gt;18G&lt;/span&gt;              &lt;span class=&#34;nt&#34;&gt;ntfs&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;sda3&lt;/span&gt;          &lt;span class=&#34;nt&#34;&gt;FreeBSD&lt;/span&gt;      &lt;span class=&#34;nt&#34;&gt;32G&lt;/span&gt;              &lt;span class=&#34;nt&#34;&gt;ufs&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;sda5&lt;/span&gt;          &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;            &lt;span class=&#34;nt&#34;&gt;600M&lt;/span&gt;             &lt;span class=&#34;nt&#34;&gt;xfs&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;sda6&lt;/span&gt;          &lt;span class=&#34;nt&#34;&gt;SWAP&lt;/span&gt;         &lt;span class=&#34;nt&#34;&gt;2xRam&lt;/span&gt;            &lt;span class=&#34;nt&#34;&gt;xfs&lt;/span&gt;  &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;SWAP分区的大小推荐为内存大小的2倍&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;sda7&lt;/span&gt;          &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;var&lt;/span&gt;         &lt;span class=&#34;nt&#34;&gt;20G&lt;/span&gt;              &lt;span class=&#34;nt&#34;&gt;xfs&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;sda8&lt;/span&gt;          &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tmp&lt;/span&gt;         &lt;span class=&#34;nt&#34;&gt;5G&lt;/span&gt;               &lt;span class=&#34;nt&#34;&gt;xfs&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;sda9&lt;/span&gt;          &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;opt&lt;/span&gt;         &lt;span class=&#34;nt&#34;&gt;10G&lt;/span&gt;              &lt;span class=&#34;nt&#34;&gt;xfs&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;sda10&lt;/span&gt;         &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;usr&lt;/span&gt;         &lt;span class=&#34;nt&#34;&gt;20G&lt;/span&gt;              &lt;span class=&#34;nt&#34;&gt;xfs&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;sda11&lt;/span&gt;         &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;home&lt;/span&gt;        &lt;span class=&#34;nt&#34;&gt;105G&lt;/span&gt;              &lt;span class=&#34;nt&#34;&gt;xfs&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;sda12&lt;/span&gt;         &lt;span class=&#34;nt&#34;&gt;Files&lt;/span&gt;        &lt;span class=&#34;nt&#34;&gt;不大于32G&lt;/span&gt;        &lt;span class=&#34;nt&#34;&gt;fat32&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;如果需要加密磁盘&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;并启用开机验证&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;推荐使用luks&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;：&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;通常加密&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;root&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;分区和&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;home&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;分区&lt;/span&gt;&#xA;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;modprobe&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;dm-crypt&lt;/span&gt;&#xA;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;modprobe&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;aes-i586&lt;/span&gt;&#xA;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;cryptsetup&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;–&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;y&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;luksFormat&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;dev&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;sda3&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;输入密码&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;确认&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;。&lt;/span&gt;&#xA;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;cryptsetup&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;–&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;y&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;luksFormat&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;dev&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;sda10&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;输入密码&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;确认&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;。&lt;/span&gt;&#xA;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;cryptsetup&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;luksOpen&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;dev&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;sda3&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;root&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;解开root&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;分区&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;并建立一个映射&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;dev&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;mapping&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;root&lt;/span&gt;&#xA;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;cryptsetup&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;luksOpen&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;dev&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;sda10&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;home&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;解开&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;home&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;分区&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;并建立一个映射&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;dev&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;mapping&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;home&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;参看&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;://&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;wiki&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;archlinux&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;org&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;index&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;php&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;LUKS_Encrypted_Root&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;o&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;5&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Partition&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Hard&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Drives&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;可以跳过了&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;。&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;o&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;6&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Set&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Filesystem&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Mountpoints&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;如果用luks&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;加密了分区&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;那么&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;分区需要挂载到&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;dev&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;mapping&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;root&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;；&lt;/span&gt;&#xA;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;home&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;需要挂载到&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;dev&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;mapping&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;home&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;同时选择一个合适的文件系统&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;（&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;JFS&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;XFS&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Reiserfs&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;...&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;）。&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;o&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;7&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Select&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Packages&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;至少选择&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Base&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;安装&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;。&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;如果需要一个可编译环境&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;要选上devel和lib&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;；&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;如果需要ADSL拨号&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;或WiFi支持&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;要选上support&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;。&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;确定后会看到所有将要安装的包&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;可以在这里去掉一些暂时不想安装的包&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;。&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;要是不清楚就&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;不管了&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;几个M的大小而已&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;。&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;o&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;8&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Install&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Packages&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;只要烧录的光碟不是太差&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;基本上都能正常安装的&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;。&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;o&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;9&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Configure&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;System&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;配置系统是必须和关键的&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;应当允许hwdetect&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;script自动检测硬件&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;并生成相应配置&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;。&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;根据启动时的实际情况选择是否需要对RAID&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;LVM2&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;和encrypted&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;volumes的支持&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;以及&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;其它必要的支持&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;。&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;选择熟悉的编辑器后&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;对&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;etc&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;下的生成的配置文件作适当的修正&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;rc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;conf&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;设置时区为Asia&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Hong_Kong&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;检查eth0的配置是合适&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;mkinitcpio&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;conf&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;在最后一行的HOOKS&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;中去除不必要的支持&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;hosts&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;：&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;设置主机名和域名&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;locale&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;gen&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;设置本机要支持的locale&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;（&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;zh_CN&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;utf8&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;zh_CN&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;gbk&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;or&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;zh_TW&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;utf8&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;）&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;root&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;PassWord&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;为root&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;设置管理密码&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;pacman&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Mirrors&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;设置安装源&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;。&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;找一个高速镜像站点&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;比如&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;://&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;mirrors&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;lcuc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;org&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;cn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;archlinux&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;；&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;://&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;ftp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;archlinux&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;org&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;；&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;://&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;ftp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;belnet&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;be&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;packages&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;archlinux&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;；&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;://&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;ftp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;gigabit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;nu&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;；&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;://&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;archlinux&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;puzzle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;ch&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;；&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;://&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;mirror&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;cs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;vt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;edu&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;pub&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;ArchLinux&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;；&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;://&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;ftp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;heanet&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;ie&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;mirrors&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;ftp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;archlinux&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;org&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;；&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;://&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;distro&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;ibiblio&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;org&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;pub&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;linux&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;distributions&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;archlinux&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;o&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;10&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Install&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Kernel&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;略&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;o&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;11&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Install&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Bootloader&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;推荐GRUB&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;。&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;配置好menu&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;lst&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;。&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;如果root&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;分区用luks&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;加密过了&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;那么要把menu&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;lst&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;修正为&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：&lt;/span&gt;&#xA;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Arch&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Linux&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;title&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Arch&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Linux&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;root&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;hd0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;kernel&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;vmlinuz26&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;root&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;dev&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;sda3&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;ro&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;initrd&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;kernel26&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;img&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;注意&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Bootloader&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;需要安装到MBR&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;（&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;即&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;sda&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;下&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;），&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;而不是&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;boot&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;所在的分区&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;（&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;sda1&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;）。&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;o&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;12&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Exit&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Install&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;退出安装程式后&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;取出安装光盘&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;。&lt;/span&gt;&#xA;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;head&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;-n&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;300&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;dev&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;urandom&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;tail&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;-n&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;256&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;mnt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;etc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;home&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;key&lt;/span&gt;&#xA;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;cryptsetup&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;luksAddKey&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;dev&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;sda10&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;mnt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;etc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;home&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;key&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;输入密码&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;确认&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;。&lt;/span&gt;&#xA;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;home&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;dev&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;sda10&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;etc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;home&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;key&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;mnt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;etc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;crypttab&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;开机时&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;用home&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;key&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;解开&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;dev&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;sda10&lt;/span&gt;&#xA;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;sed&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;-i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;swap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;d&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;mnt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;etc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;fstab&lt;/span&gt;   &lt;span class=&#34;err&#34;&gt;（&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;删除fstab&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;文件中含有swap&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;的一栏&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;）&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;nn&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;swap&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;dev&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;sda2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;dev&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;urandom&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&#34;-c   aes-cbc-essiv:sha256 -h sha256 -s 256&#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;mnt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;etc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;crypttab&lt;/span&gt;&#xA;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&#34;mkswap /dev/mapper/swap&#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;mnt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;etc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;rc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;local&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;以上两个命令是设置swap&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;加密分区&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;。&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;另外直接在&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;etc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;crypttab&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;中加入如下内容也起相同作用&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;swap&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;dev&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;sda2&lt;/span&gt;  &lt;span class=&#34;nt&#34;&gt;SWAP&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;-c&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;aes-cbc-essiv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;nd&#34;&gt;sha256&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;-h&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;sha256&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;-s&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;256&lt;/span&gt;&#xA;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;reboot&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;2&lt;/span&gt;  &lt;span class=&#34;nt&#34;&gt;基础配置&lt;/span&gt;&#xA;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;1&lt;/span&gt;  &lt;span class=&#34;nt&#34;&gt;Internet&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Access&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;如果是局域网&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;视讯宽等无需拨号的网络环境&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;只需要在&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;etc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;rc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;conf中设置好&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;eth0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;dhcp&#34;&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;重启电脑后&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;即可正常上网了&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;。&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;如果是用PPPOE协议拨号上网&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;（&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;如ADSL&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;），&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;需安装rp-pppoe安装包&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;然后&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：&lt;/span&gt;&#xA;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;pppoe-setup&lt;/span&gt;&#xA;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;etc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;rc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;adsl&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;start&lt;/span&gt;&#xA;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;etc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;rc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;adsl&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;stop&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;或者&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;使用更好的ppp&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;安装包&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;（&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;参照WiKi&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;）&lt;/span&gt;&#xA;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;2&lt;/span&gt;  &lt;span class=&#34;nt&#34;&gt;更新安装包列表&lt;/span&gt;&#xA;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;pacman&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;–&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Syu&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;更新安装包列表&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;并升级已安装的包和内核&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;比自己make&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;world要快多了&lt;/span&gt;&#xA;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;reboot&lt;/span&gt;&#xA;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;pacman-optimize&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;这是优化pacman系统&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;如果安装时仅选择了base安装&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;那么优化可能不会成功&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;因为缺少&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;diffutils安装包&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;它在devel里面&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;安装它就可以了&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：&lt;/span&gt;&#xA;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;pacman&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;-S&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;diffutils&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;安装AUR&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;工具&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;（&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;建议安装&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;好软件多多&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;）：&lt;/span&gt;&#xA;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;vi&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;etc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;pacman&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;conf&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;加入&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&#xA;&lt;span class=&#34;cp&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;archlinuxfr&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;]&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;Server&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;://&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;repo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;archlinux&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;fr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;i686&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&#xA;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;pacman&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;-Sy&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;yaourt&lt;/span&gt;   &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;安装一个Pacman前端&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;如果碰到服务器调整&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;那就装不了啦&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;）&lt;/span&gt;&#xA;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;yaourt&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;-S&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;tupac&lt;/span&gt;     &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;速度更快的Pacman前端&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;依赖于yaourt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&#xA;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;tupac&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;-S&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;aurvote&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;可以通过aurvote对喜欢的AUR软件投票&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;如果票数够多了&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;该软件就会被加入Community&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;。&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;用&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;“&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;aurvote&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;-h&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;”&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;来查看使用帮助&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;。&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;如果要对yaourt和tupac这两个软件投票&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;可以这样做&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：&lt;/span&gt;&#xA;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;到&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;://&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;aur&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;archlinux&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;org&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;account&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;php&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;注册一个帐号&lt;/span&gt;&#xA;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;vi&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;~/&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;aruvote&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;加入&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;YourName&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;pass&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;YourPassWord&lt;/span&gt;&#xA;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;aurvote&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;-v&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;yaourt&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;tupac&lt;/span&gt;&#xA;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;3&lt;/span&gt;  &lt;span class=&#34;nt&#34;&gt;安装多线程多协议的下载工具aria2&lt;/span&gt;&#xA;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;pacman&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;-S&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;aria2&lt;/span&gt;&#xA;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&#34;XferCommand = /usr/bin/aria2c –s 3 %u&#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;etc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;pacman&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;conf&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;用aria2替换默认的wget来安装软件&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;如果带宽足够大&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;就不需要用aria2了&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;。&lt;/span&gt;&#xA;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;4&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;根据个人习惯安装其它Shell&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;（&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;如zsh&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;ksh&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;），&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;当然使用默认的Bash也很好&lt;/span&gt;&#xA;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;pacman&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;-S&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;zsh&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;关于ZSH的介绍&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;可以参照Wiki&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;://&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;wiki&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;archlinux&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;org&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;index&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;php&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Zsh&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;可从中获取配置好的&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;zshrc&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;文件&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;放入&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;HOME中&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;。&lt;/span&gt;&#xA;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;chsh&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;-s&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;bin&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;zsh&lt;/span&gt;&#xA;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;source&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;~/&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;zshrc&lt;/span&gt;&#xA;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;5&lt;/span&gt;  &lt;span class=&#34;nt&#34;&gt;安装sudo&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;用普通用户进入系统&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;创建一个账户&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：&lt;/span&gt;&#xA;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;useradd&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;–&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;mG&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;users&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;audio&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;optical&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;storage&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;wheel&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;-s&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;bin&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;zsh&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;yourname&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;创建一个限制用户&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;有声音支持&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;有HAL&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;支持&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;能切换到root&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;权限&lt;/span&gt;&#xA;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;passwd&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;yourname&lt;/span&gt;  &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;如果还没有为root创建密码&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;要先&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;nn&#34;&gt;passwd&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;root&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&#xA;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;cd&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;home&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;YOUNAME&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;&amp;&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;cp&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;~/&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;zshrc&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;./&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;&amp;&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;chown&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;YOUENAME&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;./&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;zshrc&lt;/span&gt;&#xA;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;pacman&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;-S&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;sudo&lt;/span&gt;&#xA;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;vi&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;etc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;sudoers&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;加入&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;yourname&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;ALL&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=(&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;ALL&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;NOPASSWD&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;SETENV&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;ALL&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;或直接对用户组作出相应设置&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;。&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;如果主机上会有多个终端同时在用&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;还要加入&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;visudo&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;到&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;etc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;sudoers&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;命令补全&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;（&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;注意&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;仅适用于Bash&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;）：&lt;/span&gt;&#xA;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;pacman&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;-S&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;bash-completion&lt;/span&gt;&#xA;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;source&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;etc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;bash_completion&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;etc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;profile&lt;/span&gt;&#xA;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;source&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;etc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;profile&lt;/span&gt;   &lt;span class=&#34;err&#34;&gt;（&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;或exit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;用普通用户重登录&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;）&lt;/span&gt;&#xA;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;6&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;开启控制台鼠标&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;gpm&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;支持&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;方便控制台下浏览网页&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;在控制台下浏览网页的工具有&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;elinks&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;英文网页&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;w3m&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;（&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;在CCE下可浏览中文网页&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;）：&lt;/span&gt;&#xA;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;pacman&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;elinks&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;w3m&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;cce&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;用elinks等工具&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;在控制台下浏览网页&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;如果没有鼠标支持&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;，&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;实在是很郁闷的事情&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：&lt;/span&gt;&#xA;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;pacman&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;-S&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;gpm&lt;/span&gt;&#xA;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;vi&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;etc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;conf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;gpm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;加入&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;GPM_ARGS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;-m /dev/misc/psaux -t ps2&#34;&lt;/span&gt;   &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;PS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;or&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;GPM_ARGS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;-m /dev/input/mice -t imps2&#34;&lt;/span&gt;  &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;USB&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&#xA;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;gpm&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;-m&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;dev&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;input&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;psaux&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;-t&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;ps2&lt;/span&gt;   &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;PS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;or&lt;/span&gt;&#xA;&lt;span class=&#34;o&#34;&gt;$&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;gpm&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;-m&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;dev&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;input&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;mice&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;-t&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;imps2&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;  (USB)&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;如果已经正常工作，把gpm 加到rc.conf中的DAEMONS 数组中，让它开机自动运行。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;* 2.7 Post Installation Tips&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(1) Colorize your PS1 and Console&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;编辑SHELL的配置文件（如 ~/.bashrc），加入：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;export LS_COLORS=&amp;#39;no=00:fi=00:di=01;37;44:ln=01;36:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=01;05;37;41:mi=01;05;37;41:ex=01;32:*.cmd=01;32:*.exe=01;32:*.com=01;32:*.btm=01;32:*.bat=01;32:*.sh=01;32:*.csh=01;32:*.tar=01;31:*.tgz=01;31:*.arj=01;31:*.taz=01;31:*.lzh=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.gz=01;31:*.bz2=01;31:*.bz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.rar=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.jpg=01;35:*.jpeg=01;35:*.gif=01;35:*.bmp=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.mng=01;35:*.xcf=01;35:*.pcx=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.avi=01;35:*.mkv=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.mov=01;35:*.qt=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.fli=01;35:*.gl=01;35:*.dl=01;35:*.pdf=00;32:*.ps=00;32:*.txt=00;32:*.patch=00;32:*.diff=00;32:*.log=00;32:*.tex=00;32:*.doc=00;32:*.mp3=01;32:*.wav=01;32:*.mid=01;32:*.midi=01;32:*.au=01;32:*.ogg=01;32:*.flac=01;32:*.aac=01;32:&amp;#39;;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;关于提示符的修改，参看一下：http://bbs.linuxsir.org/showthread.php?t=223.44&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(2) 实现彩色版的 Manpages&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo pacman -S most &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ vi /etc/man.conf file， change the PAGER and BROWSER variable to: &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;PAGER   /usr/bin/most -s &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;BROWSER  /usr/bin/most –s &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ vi ~/.mostrc，add: &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;color normal brightwhite black&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;color status yellow blue&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;color underline white lightblue &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;color overstrike brightcyan black&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;不过用most是有一些不便之处的，这时可以试试下面的方法，真的挺不错：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;1. 在你的主目录创建 .terminfo 目录，并转到该目录：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;mkdir ~/.terminfo/ &amp;&amp; cd ~/.terminfo&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;2. 从作者网站获取 terminfo 描述文件：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;wget http://nion.modprobe.de/mostlike.txt&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;3. 使用 tic 命令编译 mostlike.txt 文件（编译后可删除）：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;tic mostlike.txt&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;4. 在SHELL的配置文件中定义别名：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;alias man=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;TERMINFO&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=~/&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;terminfo&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;LESS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;C&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;TERM&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;mostlike&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;PAGER&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;less&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;man&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;现在使用 man 指令就可以读到彩色版的 Manpages 了。如果你需要修改 terminfo 文件，则可以使用 infocmp mostlike。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(3) Timesaving Command-aliases&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;编辑SHELL的配置文件（如 ~/.bashrc），加入： &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;alias ls=&amp;#39;ls --color=auto&amp;#39; &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;alias la=&amp;#39;ls -a --color=auto&amp;#39; &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;alias ll=&amp;#39;ls -aoth --color=auto&amp;#39;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;alias p=&amp;#39;sudo pacman&amp;#39; &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;alias t=&amp;#39;sudo tupac&amp;#39; &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;alias x=&amp;#39;startx&amp;#39; &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;alias pq=&amp;#39;pacman -Q |grep&amp;#39;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;alias pa=&amp;#39;sudo pacman -S&amp;#39; &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;alias pas=&amp;#39;sudo pacman -Ss&amp;#39; &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;alias pau=&amp;#39;sudo pacman -Syu&amp;#39; &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;alias pay=&amp;#39;sudo pacman -Sy&amp;#39; &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;alias pao=”sudo pacman-optimize” &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;alias pasch=&amp;#39;pacman -Sl | cut -d&amp;#39; &amp;#39; -f2 | grep &amp;#39; &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;alias tp=&amp;#39;sudo tupac -S&amp;#39; &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;alias tps=&amp;#39;sudo tupac -Ss&amp;#39; &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;alias tpu=&amp;#39;sudo tupac -Syu&amp;#39; &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;alias tpy=&amp;#39;sudo tupac -Sy&amp;#39; &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;alias vi=&amp;#39;vim&amp;#39; &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;alias v=&amp;#39;sudo vim&amp;#39; &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;alias ps=&amp;#39;ps ax&amp;#39;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;alias m=&amp;#39;less –s&amp;#39;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;3  安装一个桌面&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;* 3.1 xorg&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo pacman -S xorg&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo X –configure &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo vi xorg.conf.new    (作出适当的修正) &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ X -config xorg.conf.new  (测试一下配置文件是否能正常工作，用Ctrl+Alt+Backspace退出X)&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ cp xorg.conf.new /etc/X11/xorg.conf&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;如果发现“X -configure”不能正确配置某些硬件（比如鼠标），可以试试hwd命令：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo pacman -S hwd &amp;&amp; sudo hwd -xa&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;它会在/etc/X11/自动生成一个xorg.conf，并备份原有的文件。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;* 3.2 安装显卡驱动&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;装完Xorg后，就已经有了一个通用的VESA驱动了。不过对图形加速支持得不太好。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;一般显卡的开源驱动可以用：pacman -Ss xf86-video 来搜索到。不过要想较好的支持3D&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;性能，还需要使用厂商提供的驱动：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;ATI显示芯片：tupac -S catalyst ，参考http://wiki.archlinux.org/index.php/ATI&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;Nvidia显示芯片可用：tupac -Ss nvidia 来搜索，并参考：http://wiki.archlinux.org/index.php/NVIDIA&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;不过个人认为，对于Nvidia的显卡，最好是直接使用其官方网站上的驱动，下载地址是：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;http://www.nvidia.cn/Download/index.aspx?lang=cn&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;下载最新的Linux驱动(当前是NVIDIA-Linux-x86-169.09-pkg1.run)，然后：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo sh NVIDIA-Linux-x86-169.09-pkg1.run&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;*3.3 安装字体&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo pacman –Sy ttf  ｜less  （从安装包列表中查找可用的字体包） &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo pacman –S sdl_ttf font-bh-ttf ttf-dejavu ttf-fireflysung ttf-ms-fonts&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;当前的开源字体已经相当不错了，尤其是文泉驿字体。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;安装文泉驿点阵宋体和正黑体。当前已经进入Community 了。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ tupac -S wqy-bitmapfont wqy-zenhei&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo vi /etc/X11/xorg.conf ，增加字体路径 &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;如果没有安装 fontconfig ，就用 pacman 安装一下，然后，&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;下载本文附件：fonts.conf.tar.gz ，并解压到 $HOME下：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ tar zxf fonts.conf.tar.gz  -C ~/&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;这会在 $HOME下产生一个 .fonts.conf 文件，可以优化中文显示。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;如果磁盘上有Windows系统，也可以：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo mkdir /usr/share/fonts/msfonts &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;复制一些Windows 字体到此目录下，如：msyh, simhei, simyou &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;并自行编辑.fonts.conf 文件。当然了，最好不要使用Windows字体，因为是有版权的。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;*3.4 安装一个顺手的整合桌面环境或窗口管理器&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;o 3.4.1 gnome&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo pacman -S gnome  （gnome-extra是附加软件，自行选择安装）&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;o 3.4.2 kde&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo pacman -S kde&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;o 3.4.3 xfce + idesk&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo pacman -S xfce4 idesk (xfce4-goodies是附加软件，自行选择安装)&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;o 3.4.4 e17 + idesk&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo pacman -S e17 idesk&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;o 3.4.5 fvwm + idesk&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo pacman -S fvwm idesk (如果要安装最新版本，需自行下载编译安装)&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;o 3.4.6 openbox + rox-filer + lxpanel + idesk&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo pacman -S openbox rox lxpanel idesk&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;o 3.4.7 windowmaker + rox-filer + *dockapp + idesk&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo pacman -S windowmaker rox lxpanel idesk&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ pacman -Ss dock , 然后安装中意的dockapp&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;安装上面任一桌面后，可能还要安装和启用一个顺手的登录管理器，主要有：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;XDM，GDM，KDM，Entrance, SLIM.&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;如果要启用gdm，需注释掉/etc/inittab 中“x:5:respawn:/usr/bin/xdm –nodaemon” &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;这一行，另在/etc/rc.conf 中的 DAEMONS行中加入 gdm，可使开机时自动运行。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;~/.profile 文件中的命令是gdm 登录时会默认调用的。其它与之相似。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;如果不用登录管理器，就配置好~/.xinitrc,用&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;startx&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;命令，直接从Console下进入。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;参考：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;http://wiki.archlinux.org/index.php/{Gnome,Kde,Xfce,E17,Openbox,GDM,KDM,SLIM}&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;http://www.fvwm.org&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;http://slim.berlios.de&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;http://icculus.org/openbox/index.php/Main_Page&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;http://www.windowmaker.info&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;http://roscidus.com&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;http://idesk.sourceforge.net&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;* 3.5 安装中文输入法（fcitx,or scim）&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;o 3.5.1 fcitx&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo pacman -S fcitx &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ cat &amp;gt;&amp;gt;~/.profile &amp;lt;&amp;lt;EOF &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&amp;gt; LC_CTYPE=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;zh_CN&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;utf8&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34; &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&amp;gt; export XMODIFIERS=@im=fcitx &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&amp;gt; export GTK_IM_MODULE=xim &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&amp;gt; export QT_IM_MODULE=xim &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&amp;gt; fcitx &amp; &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&amp;gt; EOF&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;o 3.5.2 scim&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo pacman -S scim-tables   (或安装scim-fcitx。要用拼音，安装scim-pinying)&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ cat &amp;gt;&amp;gt;~/.profile &amp;lt;&amp;lt;EOF &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&amp;gt; LC_CTYPE=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;zh_CN&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;utf8&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34; &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&amp;gt; export XMODIFIERS=@im=SCIM&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&amp;gt; export GTK_IM_MODULE=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;scim&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&amp;gt; export QT_IM_MODULE=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;scim&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&amp;gt; scim -f socket -c socket -d&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&amp;gt; EOF&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;# cp ~/.profile ~/.xinitrc &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;# echo exec gnome-session &amp;gt;&amp;gt;~/.xinitrc  &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;这是startx 调用的配置文件。用“&amp;gt;&amp;gt;”,确保了gnome-session是最后被执行的命令。 &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;# startx&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;4  安装常用软件&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;* 4.1 X下的虚拟终端&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;roxterm,tilda和yakuake都是相当棒的虚拟终端。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;toxterm同gnome-terminal相似，却要小巧得多。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;Tilda 可用于 GNOME、Xfce 桌面，而 Yakuake 主要用于 KDE 桌面。它们都具有热键控制，&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;桌面嵌入，背景透明，动画效果，标签页功能和可定制性。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;个人偏好tilda，直接用Pacman命令安装：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;# pacman -S tilda （不过最近Gnome的MetaCity似乎对Tilda不太友好，老是找不到焦点）&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;* 4.2 网络浏览&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;使用经过优化的更小巧快速的 swiftfox 来代替Firefox。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;如果安装了elinks，可以先：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ elinks http://getswift.com/installer.htm&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;看看有哪些版本可以下载，结合电脑处理器的类型下载，如Pentium 4的CPU：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ aria2c –s 4 http://getswiftfox.com/builds/installer/pentium4/install-swiftfox.sh -d /tmp &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ vi /tmp/ install-swiftfox.sh  （作出适当的修正，不作修正也可） &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo sh /tmp/install-swiftfox.sh&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;也可以选择其他的网络浏览器，比如 Opera：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;# pacman -S opera&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;* 4.3 图像编辑&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(1) Linux下的Photoshop: GIMP，要安装它可以执行命令：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;# pacman -S gimp&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;你可以通过”应用程序 → 图像 → GIMP“来运行 GIMP。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(2)矢量图形编辑软件可以使用 Inkscape：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;# pacman -S inkscape&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(3)命令行的可以装上 ImageMagick：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;# pacman -S imagemagick&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(4)用来捕获图像的 Scrot：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;# pacman -S scrot&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(5)轻量级的图像查看软件 GQview：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -S gqview&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;或者 GNOME 默认的 Eog：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -S eog&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;* 4.4 Linux下的Office软件&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(1) OpenOffice.org ：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;# pacman -S openoffice-base openoffice-zh_cn&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;为了让 OpenOffice.org 运行于 GTK 2 模式，向SHELL的配置文件（如 ~/.bashrc） 添加：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;export OOO_FORCE_DESKTOP=gnome&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(2) 永中Office:&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;国产软件，听说对MS Office文档格式的支持要比OpenOffice好，如果Word，Exel的文件较多，&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;可以考虑这个，就是安装略显麻烦。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ cd ~&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ aria2c -s 4 http://218.90.147.70/EverMore/EIOffice2007/EIO2007_Trial_ZH_Lin.tar.gz  （电信）or:&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ aria2c -s 4 http://218.104.51.66/EverMore/EIOffice2007/EIO2007_Trial_ZH_Lin.tar.gz   (网通)&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ tar zxf EIO2007_Trial_ZH_Lin.tar.gz&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;用su命令登录root，再进入解压后文件夹（好像是4开头的）；&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;# ./setup.sh        （进入永中Office的图形界面安装，指定一下安装目录）&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;安装完成后，要以root身份运行一下永中：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;# eio; exit&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ cd ~ ; seteio     (为普通用户配置下永中)&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ eio               (从终端运行永中Office，或者从菜单中运行也可以)&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;* 4.5 即时通讯&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;要与朋友即时聊天，我们可以选用 Pidgin，它支持 Gtalk、MSN、QQ 等多种协议：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -S pidgin&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;当然，Skype 也不可错过：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -S skype-staticqt&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;* 4.6 音影播放&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(1)音乐播放软件我选择 Quod Libet，你可以凭自己的喜好来安装：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;# pacman -S quodlibet&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;其他的音乐播放器有 MPD、Audacious、Exaile、Amarok 等。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(2)看电影的话，可用mplayer，同时也加上浏览器插件和常用解码器：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;# pacman -S mplayer mplayer-plugin codecs gstreamer0.10-bad gstreamer0.10-ugly gstreamer0.10-ffmpeg gstreamer0.10-mad gstreamer0.10-mpeg2dec&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;如果需要 MPlayer 的前端，那么可以安装 SMPlayer：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;# pacman -S smplayer&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;当然，另一个选择 VLC 也挺好：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;# pacman -S vlc&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;* 4.7 下载工具&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;命令行下载工具，有 wget。此外，aria2 也不错，它支持断点续传和多线程下载：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -S aria2&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;BitTorrent 下载工具，我们选用 Deluge：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -S deluge&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;其他的包括 Azureus、rTorrent 等。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;另外，我们把 aMule 也安装上：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -S amule&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;为了能够让 aMule 直接从 Firefox 浏览器中处理 ed2k 链接，我们在 Firefox 的 &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;about:config 中新建字符串 network.protocol-handler.app.ed2k，并将其设为 &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;/usr/bin/ed2k。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;* 4.8 文本编辑与排版&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(1)如果要求简单的话，可以选用 Gedit：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -S gedit&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(2)安装 Vim，要图形界面的话，可以加上 Gvim：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -S vim gvim&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(3)Emacs 迷们可以执行：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -S emacs&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;Emacs CVS 版本可在 community 中找到。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(4)世界第一流的排版工具集 TexLive&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;参看http://wiki.archlinux.org/index.php/Texlive&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;也可额外安装 TeX 的集成编辑环境：Kile, or Lyx&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;* 4.9 安装VirtualBox虚拟机&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo tupac -S virtualbox_bin   (从AUR安装VirtualBox 的PUEL版本)&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo vbox_build_module  (创建VirtualBox的内核)&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo gpasswd -a YourName vboxusers  (将你的名字加入vboxusers用户组)&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo modprobe  vboxdrv  （如果要立刻开始用，需要加载vboxdrv模块）&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo vim /etc/rc.conf：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;MODULES中加入vboxdrv，使开机时加载vboxdrv模块.&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ VirtalBox   (从终端运行virtualbox，或从桌面的菜单中运行它)&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;有时，会因为没有libstdc++5 这个库文件，而使virtualbox不能运行。安装它就是了：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo pacman -S libstdc++5&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;* 4.10 wine──在Unix/Linux系统上实现Windows API  &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;Wine用Unix的方式实现（或代替了）Windows API ，所以通过Wine可以在Unix-Like系统上运行 Windows 程序及游戏。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;Wine-Doors是一款基于Gnome桌面的Windows软件安装管理包，是Wine 的辅助工具，&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;使用非常方便，只需在软件列表中选择要安装的软件，Wine-Doors就会帮你搞定一切，&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;不再需要自己动手来配置Wine。什么Office 2003，Photoshop都不在话下了。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo tupac -S wine wine-doors&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ winecfg        (配置好Wine)&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo wine iexplore http://www.winehq.org  （安装Wine Gecko IE engine）&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$  cp /usr/share/fonts/wenquanyi/wqy-zenhei/wqy-zenhei.ttf ~/.wine/drive_c/windows/fonts&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;给Wine提供一个中文字体：WenQuanYi Zen Hei&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ vi ~/zh.reg, add:      （编辑Wine中文字体支持的注册表文件，否则中文网页会乱码）&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;REGEDIT4&lt;/span&gt;&#xA;&lt;span class=&#34;cp&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;HKEY_LOCAL_MACHINE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;\&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Software&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;\&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Microsoft&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;\&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Windows&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;NT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;\&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;CurrentVersion&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;\&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;FontSubstitutes&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Arial&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;WenQuanYi&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Zen&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Hei&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Arial&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;CE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;238&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;WenQuanYi&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Zen&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Hei&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Arial&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;CYR&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;204&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;WenQuanYi&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Zen&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Hei&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Arial&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Greek&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;161&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;WenQuanYi&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Zen&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Hei&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Arial&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;TUR&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;162&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;WenQuanYi&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Zen&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Hei&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Courier&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;New&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;WenQuanYi&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Zen&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Hei&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Courier&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;New&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;CE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;238&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;WenQuanYi&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Zen&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Hei&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Courier&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;New&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;CYR&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;204&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;WenQuanYi&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Zen&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Hei&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Courier&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;New&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Greek&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;161&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;WenQuanYi&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Zen&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Hei&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Courier&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;New&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;TUR&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;162&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;WenQuanYi&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Zen&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Hei&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;FixedSys&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;WenQuanYi&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Zen&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Hei&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Helv&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;WenQuanYi&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Zen&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Hei&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Helvetica&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;WenQuanYi&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Zen&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Hei&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;MS&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Sans&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Serif&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;WenQuanYi&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Zen&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Hei&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;MS&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Shell&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Dlg&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;WenQuanYi&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Zen&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Hei&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;MS&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Shell&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Dlg&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;WenQuanYi&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Zen&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Hei&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;WenQuanYi&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Zen&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Hei&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Tahoma&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;WenQuanYi&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Zen&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Hei&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Times&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;WenQuanYi&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Zen&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Hei&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Times&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;New&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Roman&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;CE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;238&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;WenQuanYi&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Zen&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Hei&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Times&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;New&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Roman&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;CYR&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;204&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;WenQuanYi&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Zen&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Hei&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Times&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;New&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Roman&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Greek&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;161&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;WenQuanYi&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Zen&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Hei&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Times&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;New&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Roman&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;TUR&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;162&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;WenQuanYi&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Zen&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Hei&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Tms&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Rmn&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;WenQuanYi&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Zen&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Hei&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ regedit zh.reg    (将中文字体配置写入Wine的注册表)&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ wine iexplore http://www.126.com     (试验一下中文效果)&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;需要注意的是，如果从abs系统编译了并升级安装到了最新的Wine，一定要运行“wineprefixcreate” 来更新Wine的注册表。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;* 4.11  其他工具&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(1)光盘刻录&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;KDE下建议选择 K3b，可以通过以下指令安装：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -S k3b dvd+rw-tools&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;为了让当前用户能够使用光盘刻录设备，需要将其添加到 optical 用户组中：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;gpasswd -a YOURNAME optical&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;如果是Gnome用户，建议安装gnomebaker，不亚于k3b:&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -S gnomebaker&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(2) FTP上传&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;可选择命令行的 Lftp：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -S lftp&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;图形化的有 gFTP、FileZilla 等。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;FTP下载其实不必特意安装什么，因为wget，aria2都是支持FTP协议的。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(3)文档查看&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;查看 PDF 文档，可以安装 Evince：pacman -S evince&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;也可以用Adobe公司的acroread：pacman -S acroread&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;或轻量级的xpdf：pacman -S xpdf xpdf-chinese-simplified xpdf-chinese-traditional&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;CHM 文档，可以选用kchmviewer&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(4)新闻阅读&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;RSS 离线阅读软件，用 Liferea：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -S liferea&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(5)邮件收发&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;电子邮件客户端，可以选择 Thunderbird：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -S thunderbird thunderbird-i18n&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;或者采用：mutt + msmtp + getmail&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(6)图形界面的进程查看器 (gps)&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo pacman –S gps &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ gps &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;如果是文字界面的话，可用下面的命令： &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ ps ax&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(7)计算器：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -S gcalctool&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(8)压缩/解压 rar、zip 等格式：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -S p7zip q7z    (安装7zip，q7z是其GUI程序)&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -S unrar unzip&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;另外，图形化的可以用 File-roller：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -S file-roller&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(9)词典翻译&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;安装 StarDict：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -S stardict&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;同时，词典文件需从 StarDict 官方网站下载，并释放到 /usr/share/stardict/dic/ 目录。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(10)Java 支持：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -S jre&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(11)Flash 插件：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -S flashplugin&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;* 4.11 安装主题&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;GDM 可以安装 Arch Boomerang Underlight 这套清爽的主题。下载后，执行：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ tar zxvf arch-boomerang-underlight-gdm.tar.gz&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ mv arch-underlight-* /usr/share/gdm/themes/&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo gdmsetup   (需要在X下执行，需要事先安装gdm)&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;或者，如果在使用Gnome，就在”系统 → 系统管理 → 登录窗口“中将样式更改为主题模式，&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;并选择已安装的主题即可。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;参看：http://www.gnome-look.org/&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;还可以打造一个 Mac OS X 风格的界面，参看：http://sourceforge.net/projects/mac4lin&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;5  常见问题&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;* 5.1 声音问题&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;安装ALSA。实际上，ALSA 已被包含到 2.6 版的内核中。因此，只需安装 ALSA 的相关工具即可：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -S alsa-utils&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;接着，将当前用户添加到 audio 用户组，以便使用声卡设备：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;gpasswd -a YOURNAME audio&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;同时，将 alsa 添加到 /etc/rc.conf 配置文件的 DAEMONS 中：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;DAEMONS=(syslog-ng network netfs crond gdm alsa)&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;值得注意的是，ALSA 默认是静音状态，需要先打开音量。另外，也可点击”系统 → 首选&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;项 → 音效“进行测试。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo pacman -S alsa-lib alsa-oss alsa-utils (oss 包解决声卡独占问题) &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo alsaconf   (设置声卡) &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo alsamixer &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo alsactl store  (设置和保存音量，并在 /etc/rc.conf中的 DAEMONS行加入alsa) &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ amixer set Master 75 unmute &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ amixer set PCM 75 unmute  (75 好像是原声，再高的话，声音会失真)&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;* 5.2 笔记本电脑可能遇到的问题&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(1) 触摸板问题&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;参看http://wiki.archlinux.org/index.php/Touchpad_Synaptics&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(2) 摄像头问题&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;参看http://wiki.archlinux.org/index.php/Webcam_Setup&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(3) 无线上网问题&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;参看http://wiki.archlinux.org/index.php/Wireless&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(4) 快捷键问题&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;参看http://wiki.archlinux.org/index.php/Extra_Keyboard_Keys&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;* 5.3 打印机设置&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(1) 当前最流行的底层基础打印系统：CUPS  (适用于所有打印机)&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;Unix-Like系统下的打印系统中，最具易用性的当数CUPS (The Common UNIX Printing System )，即&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;Unix通用打印系统。在过去，Unix-Like系统下的打印问题是老大难。CUPS的出现使这个问题得到了&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;极大的缓解。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;安装：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;# pacman -S cups ghostscript gsfonts&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;CUPS系统运行记录：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;编辑/etc/cups/cupsd.conf，设置LogLevel的等级：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;LogLevel debug2&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;如果出现错误，就可以察看调试信息了：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ tail -n 100 -f /var/log/cups/error_log&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;看看系统已经加载了哪些模组（Modules）：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;# lsmode |less&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;再来看看系统中有哪些可以使用的模组：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;# modprobe -l |less&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;为内核加载打印机模组后，连接好打印机机，并打开电源：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;i) USB 接口打印机&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;# modprobe usblp                      （2.6.x 内核）&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;# modprobe printer                    （2.4.x 内核）&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;# tail /var/log/messages.log          （看看安装成功了没有）&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;ii) 并口打印机&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;# modprobe lp parport parport_pc      （2.6.x 内核）&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;# modprobe parport parport_pc         （2.4.x 内核）&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;# tail /var/log/messages.log          （看看安装成功了没有）&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;将这些模组加入/etc/rc.conf中的MODULES中去，以便开机时自动加载。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;启动 CUPS ：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;# /etc/rc.d/cups start       （可将cups加入/etc/rc.conf中的DAEMONS中去，以便开机时自动加载）&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;这个时候，就可以用CUPS在控制台下做一些简单的打印了，如：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ cat ~/.xinitrc &amp;gt; /dev/usb/lp0      (USB接口打印机)&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;当然仅仅依靠CUPS打印，如果在X下，肯定是不方便的。主要是因为缺少驱动，Linux下的打印驱动是PPD文件。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(2) 打印驱动： Foomatic&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;Foomatic是一个数据库驱动的打印系统，它将Unix下的通用后台打印系统与开源的打印机驱动整合在一起。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;只要有任一在开源驱动下能够正常工作的打印机，它就能支持了。它支持CUPS, LPRng, LPD, GNUlpr, Solaris LP,&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;PPR, PDQ, CPS 这些底层的打印系统，也能直接打印（既是驱动也是打印工具）。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;Foomatic打印速度快，打印质量也挺不错。不过缺点是，有个别的打印机可能没有PPD文件驱动。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;# pacman -S foomatic-***&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;Foomatic包含五个安装包：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;foomatic-filters (帮助后台打印系统将PostScript转成打印机语言)，&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;foomatic-db (foomatic-db-engine生成PPD文件时要用到的一切资料)，&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;foomatic-db-PPD (已经获支持的打印驱动)&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;foomatic-db-engine (将 Foomatic XMLo数据库中的数据生成PPD文件)，&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;foomatic-db-hpijs (专为HP打印驱动生成Foomatic XML 数据)。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;一般来说，安装前四个包就可以了。如果没有惠普打印机，就不必安装foomatic-db-hpijs了。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(4) 打印驱动：hplip&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;惠普DeskJet, OfficeJet, Photosmart, Business Inkjet 和一些 LaserJet 打印机型号，需要安装hplip。只用于惠普打印机。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;也可同时安装上面的Foomatic，对比一下两者的打印速度。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;# pacman -S hplip&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(5) 打印驱动：Gutenprint&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;也许以上的打印驱动仍然不行（不过安装foomatic一定是必要的，能提高打印速度）。在配置CUPS时（即将讲到）&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;没有找到自己的打印机型号。那么可能还需要接着安装Gutenprint。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;Gutenprint 是GIMP的打印扩充功能模块，过去叫&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;gimp-print&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;，它能够为GIMP提供流行的打印驱动，能&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;让佳能、爱普生、惠普、利盟、索尼、奥林巴斯，以及其他基于PCL技术的打印机，打印出更出色的品质。用于高品质的图像打印是在好不过了。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;它支持的打印机型号列表可见于：http://gutenprint.sourceforge.net/p_Supported_Printers.php3&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;不过Gutenprint的打印品质是没得说，但速度就不敢恭维了。但有foomatic的支持就会快很多。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;# pacman -S gutenprint&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(6)  在X下配置CUPS&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;打印基础系统CUPS和打印驱动安装好的，就要开始配置打印机了。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;可以通过配置CUPS来配置打印机。配置CUPS的方法适用于一切打印机及其驱动。因此推荐使用。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;进入X，打开一个网络浏览器，访问：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;http://localhost:631      （也可以用在/etc/hosts中设置好的hostname来代替localhost）&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;按照提示，一步一步的配置好打印机：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;Manage Printers ---&amp;gt; Add Printer ---&amp;gt; root密码验证 ---&amp;gt; 输入打印机名称 ---&amp;gt; 选择设备类型&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;（打印机型号及其接口：USB接口 or 并口打印机） ---&amp;gt; 选择你的打印机 ---&amp;gt; 通过打印机型号来选择适当的打印机驱动，并Add&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;（如果打印驱动的名称中出现了foomatic字样，一定要优先选择） ---&amp;gt; 打印选项的设置 ---&amp;gt; 完成&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;也可以使用另外的配置界面，不过可能要另外安装：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;tupac -S gnome-cups-manager     (Gnome下)&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;tupac -S gtklp                  (KDE下)&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(5) 打印机共享&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;i) Linux to Linux&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;服务器端：编辑 /etc/cups/cupsd.conf 中“Location”一段，以允许客户端的访问，重启cups服务。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;客户端：编辑 /etc/cups/cupsd.conf 中“ServerName”一段，以允许访问服务器端。执行命令：lpq&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;ii) Linux to Windows&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;两端都应当安装Samba。参看Wiki。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;iii) Windows to Linux&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;两端都应当安装Samba。参看Wiki&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;*******&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;所有关于打印的问题，请一定要参看：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;http://wiki.archlinux.org/index.php/CUPS&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;http://www.cups.org/&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;http://gimp-print.sourceforge.net/&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;http://www.linuxprinting.org/printer_list.cgi&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;http://www.linux-foundation.org/en/OpenPrinting/Database/Foomatic&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;http://savannah.nongnu.org/projects/foomatic-gui/&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;http://wiki.gentoo.tw/mediawiki/index.php/Printing-howto&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;另可参看http://www.redhat.net.cn/online/linuxbook/1/16.htm&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;* 5.4 服务的访问控制&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;/etc/hosts.allow 和/etc/hosts.deny &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;这两个文件是tcpd 服务器的配置文件，tcpd 服务器可以控制外部IP 对本机服务的访问。 &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;这两个配置文件的格式如下： &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;#服务进程名:主机列表:当规则匹配时可选的命令操作 &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;server_name:hosts-list&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;command&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;/etc/hosts.allow 控制可以访问本机的IP 地址，/etc/hosts.deny 控制禁止访问本机的IP。 &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;如果两个文件的配置有冲突，以/etc/hosts.deny 为准。下面是一个/etc/hosts.allow 的示例： &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;ALL: 127.0.0.1: ALLOW     #允许本机访问本机所有服务进程 &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;smbd: 192.168.0.0/255.255.255.0   #允许192.168.0.网段的IP 访问smbd 服务 &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;ALL 关键字匹配所有情况，EXCEPT 匹配除了某些项之外的情况，PARANOID 匹配你想控 &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;制的IP 地址和它的域名不匹配时(域名伪装)的情况。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;* 5.5 启动加速&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;编辑 /etc/rc.conf ，在 “ DAEMONS ”行的一些不急着需要用的后台程序前加上@，使后台运行。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;* 5.6  中文Java 支持&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$JAVA_HOME/jre/lib/fonts/  下建一个fallback 的目录，然后建一个中文字体的软链接过去。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;* 5.7  可移动设备的自动挂载（HAL + dbus or ivman） 及中文名支持&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo pacman -S hal dbus acpid（hal 依赖 dbus，acpid 可管理设备的电源。） &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo vi /etc/rc.conf ，在 DAEMONS行 加入hal，如: &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;DAEMONS=(syslog-ng acpid hal network !netfs @crond @alsa gdm) &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;注意：如果daemons 列表中有dbus，要移除它，以免出错。hal 会自动加载dbus。 &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo gpasswd –a username optical &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo gpasswd –a username storage &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;把你的用户加入到 optical，storage 这几个组里面。前文中已经加入过了，可跳过。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;如果用ivman来替代dbus，则需要将用户名加入到plugdev组中。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo vi /etc/fstab，注释掉下面两行： &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;/dev/cdrom /mnt/cdrom  iso9660 ro,user,noauto,unhide 0     0 &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;/dev/dvd /mnt/dvd   udf  ro,user,noauto,unhide 0      0 &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo vi /etc/hal/fdi/policy/preferences.fdi，可加入一些很有用的规则，&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;如自动挂载NTFS文件系统，自动挂载可移动设备，性能优化，U盘的中文名支持等：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&amp;lt;?xml version=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34; encoding=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;UTF-8&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;?&amp;gt; &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&amp;lt;deviceinfo version=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;    &amp;lt;device&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;        &amp;lt;match key=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;volume&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;fstype&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34; string=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;ntfs&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;            &amp;lt;append key=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;volume&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;mount&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;valid_options&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34; &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;            type=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;strlist&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&amp;gt;dmask=000&amp;lt;/append&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;            &amp;lt;append key=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;volume&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;mount&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;valid_options&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34; &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;            type=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;strlist&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&amp;gt;fmask=111&amp;lt;/append&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;        &amp;lt;/match&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;    &amp;lt;/device&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;    &amp;lt;device&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;    &amp;lt;!-- Use UTF-8 charset for vfat --&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;       &amp;lt;match key=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;volume&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;fstype&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34; string=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;vfat&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;           &amp;lt;merge key=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;volume&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;policy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;mount_option&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;iocharset&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;utf8&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34; &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;           type=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;bool&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&amp;gt;true&amp;lt;/merge&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;       &amp;lt;/match&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;   &amp;lt;/device&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;   &amp;lt;device&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;       &amp;lt;match key=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;storage&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;hotpluggable&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34; bool=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;          &amp;lt;match key=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;storage&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;removable&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34; bool=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;            &amp;lt;merge key=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;storage&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;automount_enabled_hint&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34; type=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;bool&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&amp;gt;false&amp;lt;/merge&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;          &amp;lt;/match&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;       &amp;lt;/match&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;   &amp;lt;/device&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt; &amp;lt;device&amp;gt; &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;   &amp;lt;match key=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;block&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;is_volume&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34; bool=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;     &amp;lt;match key=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;volume&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34; compare_lt=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;8000000000&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;       &amp;lt;match key=&#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;block&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;storage_device&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;nd&#34;&gt;storage&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;hotpluggable&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34; bool=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;         &amp;lt;merge key=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;volume&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;policy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;mount_option&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;sync&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34; type=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;bool&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&amp;gt;true&amp;lt;/merge&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;         &amp;lt;merge key=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;volume&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;policy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;mount_option&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;noatime&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34; &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;         type=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;bool&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&amp;gt;true&amp;lt;/merge&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;        &amp;lt;/match&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;        &amp;lt;match key=&#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;block&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;storage_device&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;nd&#34;&gt;storage&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;removable&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34; bool=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;         &amp;lt;merge key=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;volume&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;policy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;mount_option&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;sync&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34; type=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;bool&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&amp;gt;true&amp;lt;/merge&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;         &amp;lt;merge key=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;volume&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;policy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;mount_option&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;noatime&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34; &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;          type=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;bool&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&amp;gt;true&amp;lt;/merge&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;        &amp;lt;/match&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;      &amp;lt;/match&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;     &amp;lt;match key=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;volume&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34; compare_ge=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;8000000000&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;       &amp;lt;match key=&#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;block&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;storage_device&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;nd&#34;&gt;storage&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;hotpluggable&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34; bool=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;         &amp;lt;merge key=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;volume&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;policy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;mount_option&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;sync&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34; &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;          type=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;bool&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&amp;gt;false&amp;lt;/merge&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;         &amp;lt;merge key=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;volume&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;policy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;mount_option&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;noatime&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34; &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;         type=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;bool&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&amp;gt;false&amp;lt;/merge&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;       &amp;lt;/match&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;       &amp;lt;match key=&#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;block&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;storage_device&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;nd&#34;&gt;storage&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;removable&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34; bool=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;         &amp;lt;merge key=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;volume&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;policy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;mount_option&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;sync&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34; &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;          type=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;bool&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&amp;gt;false&amp;lt;/merge&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;         &amp;lt;merge key=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;volume&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;policy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;mount_option&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;noatime&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34; &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;         type=&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;bool&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&#34;&amp;gt;false&amp;lt;/merge&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;       &amp;lt;/match&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;     &amp;lt;/match&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;   &amp;lt;/match&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt; &amp;lt;/device&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;&amp;lt;/deviceinfo&amp;gt;&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;参看：http://wiki.archlinux.org/index.php/HAL&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;注意，必须事先安装好ntfs-3g安装包，才能成功挂载NTFS分区。最后：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo /etc/rc.d/hal restart&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;即可正常使用HAL支持了，同时移动设备上的中文名（其实其它语言也可以）也可以得到支持。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;如果以上不能工作，还可以安装pmount: &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ sudo pacman -Sy pmount&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;* 5.8 更改GNOME 菜单下的图标&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;可以编辑/usr/share/applications 中的相应文件&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;* 5.9 ArchLinux的包管理系统：Pacman&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;常用命令有：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -Sy  abc                  #和源同步后安装名为abc的包 &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -S   abc                  #从本地数据库中得到abc的信息，下载安装abc包 &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -Sf  abc                  #强制安装包abc &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -Ss  abc                  #搜索有关abc信息的包 &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -Si  abc                  #从数据库中搜索包abc的信息 &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -Qi  abc                  #列出已安装的包abc的详细信息 &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -Syu                      #同步源，并更新系统 &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -Sy                       #仅同步源 &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -R   abc                  #删除abc包 &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -Rc  abc                  #删除abc包和依赖abc的包 &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -Rsc abc                  #删除abc包和abc依赖的包 &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -Sc                       #清理/var/cache/pacman/pkg目录下的旧包 &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -Scc                      #清除所有下载的包和数据库 &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -U   abc                  #安装下载的abs包，或新编译的abc包&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -Sd  abc                  #忽略依赖性问题，安装包abc &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman pacman -Su --ignore foo   #升级时不升级包foo &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;pacman -Sg  abc                  #查询abc这个包组包含的软件包&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;* 5.10 Arch Build System (ABS)&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;利用abs 可以从源码自定义编译安装包。其过程如下： &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(1) Synchronize your ABS tree with the server. &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;# pacman -S cvsup &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;# abs&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(2) Create a new directory in /var/abs/local/ named after the package &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;you are going to create. &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ mkdir -p ~/abs/local/       (这里，推荐在个人的主目录下创建一个ABS的工作目录)&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(3）Copy the PKGBUILD.proto prototype from /var/abs/ into your &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;newly created directory, remove the .proto suffix, and edit it to fit &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;the new package. &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ cp -r /var/abs/...  ~/abs/local/    (将你要编译的软件的PKGBUILD目录复制到个人目录下)&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(4) Run makepkg in the working directory with the PKGBUILD file. &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ makepkg        (开始编译这前，可以编辑一下PKGBUILD文件，更改其默认安装目录到个人&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;主目录下，用“--prefix＝...”来指定安装目录)&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(5) Install the newly built package with pacman.&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;$ pacman -U ..pkg.gz    (安装新编译好的包文件)&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(6) Send the package to your friends for bragging rights (or give it to an Archer &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;so s/he can stick it in the master ABS tree).&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;* 5.11  创建一个光盘镜像&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;Linux 下创建一个光盘镜像真的很简单，基本上有两类方法：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(1) 镜像的源文件在光盘上&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;将光盘放入光驱，但不用 mount 指令加载它，然后：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;dd if=/dev/dvd of=dvd.iso # for dvd &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;dd if=/dev/cdrom of=cd.iso # for cdrom &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;dd if=/dev/scd0 of=cd.iso # if cdrom is scsi &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(2) 镜像的源文件在硬盘上或被 mount 到了硬盘上，比如在 /tmp/directory/：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;mkisofs -o cd.iso /tmp/directory/ &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;如果这个源文件是一个DVD视频文件，那么要这样用：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;mkisofs -dvd-video -o dvd.iso /tmp/directory/&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;关于mkisofs 的更多用法，还请参看手册：man mkisofs&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;关于DVD视频光盘的编辑和创建，请参看：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;http://gecius.de/linux/dvd.html&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;http://gentoo-wiki.com/HOWTO_Create_a_DVD:Filesystem&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;6 服务器环境&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;* 6.1 FTP服务&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(1) vsftpd&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;FTP服务器的安装比较简单。直接用Pacman安装即可。当然，还必须配置好，才可正常安全的使用。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;vsftpd的使用和配置，可参考：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;http://vsftpd.beasts.org/&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;http://gentoo-wiki.com/HOWTO_vsftpd&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;http://www.uplinux.com/www/net/02/117.shtml&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(2) pureftpd&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;参考http://www.pureftpd.org/project/pure-ftpd&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;    http://www.chinaunix.net/jh/15/2424.html&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;* 6.2 HTTP服务&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(1) 提供Web服务的程序&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;能提供WEB服务的开源程序主要有：Apache httpd, Lighttpd, 和Nginx。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;Apache稳定，安全，使用者最多，但是运行时对内存、CPU的开销也是最高的。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;在静态网页支持上，lighttpd/nginx 比 apache 优胜很多。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;如果不考虑虚拟主机的安全设置问题，Nginx无疑是最好的选择，其次是Lighttpd。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;i) Apache httpd: 参见http://httpd.apache.org/&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;ii) Lighttpd: 参见http://wiki.archlinux.org/index.php/Lighttpd_For_Both_SSL_And_Non-SSL&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;iii) Nginx: 参见http://wiki.codemongers.com/Main&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(2) 动态网页的程序接口(CGI)：FastCGI：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;是HTTP服务器与机器上其他程序进行通信的一个接口。这个“其他程序”可以使用任何计算机语言&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;来编写，它通过CGI这个接口从HTTP服务器取得输入，然后把运行的结果又通过CGI这个接口交给HTTP&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;服务器，而HTTP服务器把这个结果送给浏览器。提供Web服务的程序都有CGI模块。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;不过CGI技术的通用性与效率不高，所以有了性能大幅提升的FastCGI。FastCGI要求提供Web服务的&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;程序整合fcgi模块。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;参见http://wiki.archlinux.org/index.php/Apache_fastcgi&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;    http://wiki.archlinux.org/index.php/Fastcgi_and_lighttpd&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(3) 动态网页的脚本语言&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;PHP：参见http://wiki.archlinux.org/index.php/PHP&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;Python: 在动态网页上的应用与PHP相似。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;JSP：Java语言支持，需安装JDK&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(4) 数据库&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;MySQL:  当前国内用的较多的数据库。适合小访问量或个人使用。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;PostgreSQL:  世界上最先进，最稳定的数据库。能充分发挥出机器的潜能。更加适合大企业环境。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;参看http://wiki.archlinux.org/index.php/PostgreSQL&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(5) HTTP服务器的架构&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;i) 不带数据库支持的轻量级WEB：Nginx/lighttpd + PHP/Python + FastCGI&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;ii) 有数据库支持：Apache/lighttpd + PHP/Python + MySQL/PostgreSQL，也可再追加JSP的支持。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;参看http://wiki.archlinux.org/index.php/LAMP&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;参见http://wiki.archlinux.org/index.php/Apache_fastcgi&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;    http://wiki.archlinux.org/index.php/Fastcgi_and_lighttpd&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;    http://www.knowsky.com/3232.html&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;iii) 更加高效、可靠、稳定的WEB服务器。下面的架构图比较不错：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;--------      ------------      -------------        ----------------        --------------&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;|客户端| ===&amp;gt; |负载均衡器| ===&amp;gt; |反向**/缓存| ===&amp;gt;   |WEB服务器|     ===&amp;gt;  |数据库服务器|&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;--------      ------------      -------------        ----------------        --------------&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;                  Nginx            Squid              Apache/lighttpd        MySQL/PostgreSQL&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;                                                      +(PHP+eAccelerator)     + memcache&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;参看http://huangjt.jobui.com/blog/80186.html&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(6) 用WebDav替代传统的FTP服务&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;WebDav是一个使用XML技术的基于HTTP协议的扩展协议，具备HTTP的所有优点，力图提供&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;一个网页编辑的统一接口。用它替代传统的FTP服务，可以避免FTP存在的一些中文问题。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;参看：http://wiki.archlinux.org/index.php/Simple_WebDav_Setup&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;      http://wiki.archlinux.org/index.php/WebDAV_authentication&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;* 6.3 邮件服务&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;PostFix：参看http://wiki.archlinux.org/index.php/PostFix_Howto&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;* 6.4 文件共享&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;文件共享的方法较多，机器上只要安装了任一网络文件系统就可以共享了。网络文件系统有：&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;ftpfs, sshfs, shfs, smbfs, nfs, etc. &lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;当然，使用http服务来共享文件也未尝不可。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(1) Shfs&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;sshfs可以开机自动挂载，关机和重启时也可以自动卸载sshfs文件系统，但是它不能用mount来&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;直接指定-t参数来挂载，因此也不能直接加到/etc/fstab中，而且用df也不能列出那样的分区。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;但是shfs解决了这个问题，它能像挂载普通分区那样挂载sshfs文件系统。它是通过内核的shfs&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;模块来实现的，&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;参看http://wiki.archlinux.org/index.php/Shfs&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(2) Samba&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;可帮助实现跨平台（Linux &amp;lt;---&amp;gt;Windows) 的文件共享和打印共享。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;参看http://wiki.archlinux.org/index.php/Setting_up_Samba&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;    http://www.samba.org/&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(3) NFS&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;参看http://wiki.archlinux.org/index.php/Nfs&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(2) rsync&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;Rsync用于两台机器上文件的同步备份，它本身不算是共享程序，但它能起到共享的作用。通常与ssh合用。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;参看http://samba.anu.edu.au/rsync/&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;    http://dz.adj.idv.tw/thread-48-1-4.html&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;* 6.5 远程登录&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(1) OpenSSH/OpenSSH-chroot&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;用 OpenSSH-chroot 基于Openssh，但添加了新特性，即可以创建一个chrootjail。chrootjail是单独划分&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;出的一个空间，以限制远程登录者活动不超出此范围，更不会影响到主系统。所以比用 Openssh 更安全。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;# pacman -S openssh-chroot&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;# mkdir /var/openssh_chroot&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;# chroot_create /var/openssh_chroot   (将chrootjail放到/var/openssh_chroot，或其它地方)&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;# chroot_adduser USERNAME /var/openssh_chroot  (创建远程登录者帐户，并为其指定chrootjail)&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;# /etc/rc.d/sshd restart  (手动重启sshd服务，也可将sshd添加到/etc/rc.conf中的DAEMON中去)&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;如果远程机器是Unix-Like系统，可用：ssh &amp;lt;username&amp;gt;@localhost 来登入；如果是Windows, 可使用&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;Putty, or pietty。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;参看http://wiki.archlinux.org/index.php/Openssh-chroot&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(2) OpenVPN&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;* 6.6 安全问题&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(1) 防火墙 (Iptables)&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;这个实在不是几句话能讲明白的。不过想提醒几句：要使Iptables发挥出最大作用，最好是在一台&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;旧电脑装上NAT+Iptables，充当网关，然后自己的电脑跟此网关相连接。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;参看：http://wiki.archlinux.org/index.php/Firewalls&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;      http://wiki.archlinux.org/index.php/Simple_stateful_firewall_HOWTO&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;      http://gentoo-wiki.com/HOWTO_Iptables_for_newbies&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;      http://iptables-tutorial.frozentux.net/iptables-tutorial.html&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;      http://wiki.archlinux.org/index.php/High_Performance_Firewall/Nat_with_iptables_and_VLANs_and_iproute2&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;(2) 入侵监测 (Snort)&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;这个太复杂了。&lt;/span&gt;&#xA;&lt;span class=&#34;s2&#34;&gt;有兴趣可以看一看Toby Kohlenberg等编写的专著&#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Snort&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Intrusion&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Detection&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;and&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Prevention&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;Toolkit&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&#34;。&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;电子书下载&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;：&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;://&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;rapidshare&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;com&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;files&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;27449819&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Snort_Intrusion_Detection_and_Prevention_Toolkit_ertu&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;rar&lt;/span&gt;&#xA;&lt;span class=&#34;nt&#34;&gt;参看http&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;://&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;www&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;snort&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;org&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&#xA;&lt;/pre&gt;&#xA;&lt;/div&gt;</description>
    </item>
    <item>
      <title>archlinux-支持iphone插线3G</title>
      <link>https://svtter.cn/2014/12/02/archlinux-%E6%94%AF%E6%8C%81iphone%E6%8F%92%E7%BA%BF3g/</link>
      <pubDate>Tue, 02 Dec 2014 01:00:00 +0800</pubDate>
      <guid>https://svtter.cn/2014/12/02/archlinux-%E6%94%AF%E6%8C%81iphone%E6%8F%92%E7%BA%BF3g/</guid>
      <description>&lt;ul&gt;&#xA;&lt;li&gt;本文出自&lt;a href=&#34;http://svtter.github.io&#34;&gt;svtter.github.io&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;&lt;em&gt;度娘永远都不会告诉你真正的答案是什么。&lt;/em&gt;&lt;/p&gt;&#xA;&lt;p&gt;因为没有了CMCC-EDU，用上了坑爹联通，所以现在习惯于手机USB上网了。。（博主套餐流量看个技术是可以的。。)&lt;/p&gt;&#xA;&lt;p&gt;然后问题就来了。。CentOS7上可以安稳的使用3G但是arch似乎不支持，百度了好久也没有找到。&lt;/p&gt;&#xA;&lt;p&gt;后来bing 了一下&lt;code&gt;iphone arch linux&lt;/code&gt;神奇的wiki就出来了，随后就申请了个帐号，准备在学习Linux的过程中学习英语。给wiki&lt;/p&gt;&#xA;&lt;p&gt;做点翻译还是可以的吧= =。&lt;/p&gt;&#xA;&lt;p&gt;方法很简单, 因为我用的是NetworkManager, 所以最简单而行之有效的方法是:&lt;/p&gt;&#xA;&lt;div class=&#34;codehilite&#34;&gt;&#xA;  &lt;pre&gt;&lt;span&gt;&lt;/span&gt;pacman -S libimobiledevice&#xA;pacman -S usbmuxd  ifuse&#xA;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;p&gt;重启机器或者NetworkManager搞定。&lt;/p&gt;&#xA;&lt;p&gt;虽然无关技术以及学术痛痒，但是总感觉在Linux普及上尽了一份力= =&lt;/p&gt;</description>
    </item>
    <item>
      <title>archlinux-安装笔记</title>
      <link>https://svtter.cn/2014/11/30/archlinux-%E5%AE%89%E8%A3%85%E7%AC%94%E8%AE%B0/</link>
      <pubDate>Sun, 30 Nov 2014 01:00:00 +0800</pubDate>
      <guid>https://svtter.cn/2014/11/30/archlinux-%E5%AE%89%E8%A3%85%E7%AC%94%E8%AE%B0/</guid>
      <description>&lt;ul&gt;&#xA;&lt;li&gt;本文出自&amp;lt;svtter.github.io&amp;gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;花了一些时间安装arch，记录一下注意事项。&lt;/p&gt;&#xA;&lt;h2 id=&#34;多重引导&#34;&gt;多重引导&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;安装多重引导支持&lt;/p&gt;&#xA;&lt;p&gt;&lt;code&gt;pacman -S os-prober&lt;/code&gt;&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;更新grub&lt;/p&gt;&#xA;&lt;p&gt;&lt;code&gt;grub-mkconfig -o /boot/grub/grub.cfg&lt;/code&gt;&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;写入mbr&lt;/p&gt;&#xA;&lt;p&gt;&lt;code&gt;grub-install --target=i386-pc --recheck /dev/sda&lt;/code&gt;&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;图形化的网络服务&#34;&gt;图形化的网络服务&lt;/h2&gt;&#xA;&lt;p&gt;&lt;code&gt;systemctl enable NetWorkManager.service&lt;/code&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;wifi配置&#34;&gt;wifi配置&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;如果你想使用wifi（在图形界面下），首先你要停止dhcp服务&lt;code&gt;systemctl stop dhcpcd.service&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;开机停止运行&lt;code&gt;systemctl disable dhcpcd.service&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;我们之所以这样，是为了保证我们的NetWorkManager正常服务。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;session控制器&#34;&gt;session控制器&lt;/h2&gt;&#xA;&lt;p&gt;我选择的是gdm，原因是slim我不太会配置。&lt;/p&gt;&#xA;&lt;p&gt;&lt;code&gt;pacman -S gdm&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;另外patheon在我书写这篇blog的时候，还是存在不少bug.官方的wiki在这个时候也不是很好用了。期待patheon！&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;添加了官方给的patheon库，会出现一个gnome-lib的冲突&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;输入法的注意事项&#34;&gt;输入法的注意事项&lt;/h2&gt;&#xA;&lt;p&gt;使用fcitx需要注意.xprofile的配置问题。&lt;/p&gt;&#xA;&lt;div class=&#34;codehilite&#34;&gt;&#xA;  &lt;pre&gt;&lt;span&gt;&lt;/span&gt;export GTK_IM_MODULE=fcitx&#xA;export QT_IM_MODULE=fcitx&#xA;export XMODIFIERS=&#34;@im=fcitx&#34;&#xA;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;p&gt;其他的安装情况可以看看官方的wiki&lt;/p&gt;&#xA;&lt;h2 id=&#34;sudoer的配置&#34;&gt;sudoer的配置&lt;/h2&gt;&#xA;&lt;p&gt;使用pacman安装sudoer&lt;/p&gt;&#xA;&lt;p&gt;&lt;code&gt;pacman -S sudo&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;编辑&lt;code&gt;/etc/sudoers&lt;/code&gt;，取消&lt;code&gt;wheel&lt;/code&gt;用户组的注释.&lt;/p&gt;&#xA;&lt;h2 id=&#34;vim配置&#34;&gt;vim配置&lt;/h2&gt;&#xA;&lt;p&gt;在&lt;strong&gt;gvim&lt;/strong&gt;中，直接使用synatic on而不用判断，否则会造成代码高亮失效。&lt;/p&gt;&#xA;&lt;h2 id=&#34;locate配置&#34;&gt;locate配置&lt;/h2&gt;&#xA;&lt;p&gt;安装以后发现&lt;strong&gt;locate&lt;/strong&gt;命令无法使用，安装&lt;code&gt;pacman -S mlocate&lt;/code&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;另外-mark一个项目gitbook-很好很强大&#34;&gt;另外, mark一个项目:&lt;code&gt;gitbook&lt;/code&gt;, 很好很强大&lt;/h2&gt;&#xA;&lt;p&gt;应该涵盖了所有的我安装时候遇到的问题，如果还有什么问题，我再后续添加。&lt;/p&gt;</description>
    </item>
    <item>
      <title>Linux-进程间的通信</title>
      <link>https://svtter.cn/2014/11/28/linux-%E8%BF%9B%E7%A8%8B%E9%97%B4%E7%9A%84%E9%80%9A%E4%BF%A1/</link>
      <pubDate>Fri, 28 Nov 2014 01:00:00 +0800</pubDate>
      <guid>https://svtter.cn/2014/11/28/linux-%E8%BF%9B%E7%A8%8B%E9%97%B4%E7%9A%84%E9%80%9A%E4%BF%A1/</guid>
      <description>&lt;ul&gt;&#xA;&lt;li&gt;本文出自&amp;lt;svtter.github.io&amp;gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;实验内容&#34;&gt;实验内容&lt;/h2&gt;&#xA;&lt;p&gt;消息的创建，发送，和接收。&lt;/p&gt;&#xA;&lt;h3 id=&#34;任务&#34;&gt;&amp;lt;任务&amp;gt;&lt;/h3&gt;&#xA;&lt;p&gt;使用系统调用 msgget( ), megsnd( ), msgrev( )及 msgctl()编制一长度为 1K 的消息发送和接收的程序 。&lt;/p&gt;&#xA;&lt;h3 id=&#34;程序设计&#34;&gt;程序设计&lt;/h3&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;为了便于操作和观察结, 用一个程序为&lt;strong&gt;引子&lt;/strong&gt; , 先后&lt;code&gt;fork( )&lt;/code&gt;两个子进程 , SERVER 和 CLIENT,进行通信。&lt;/li&gt;&#xA;&lt;li&gt;SERVER 端建立一个 Key 为 75 的消息队列,等待其他进程发来的消息。当遇到类型为 1 的消息,&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;pre&gt;&lt;code&gt;则作为结束信号,取消该队列,并退出 SERVER 。SERVER 每接收到一个消息后显示一句 “(server)received”。&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;ol start=&#34;3&#34;&gt;&#xA;&lt;li&gt;CLIENT 端使用 Key 为 75 的消息队列,先后发送类型从 10 到 1 的消息,然后退出。最后的一个&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;pre&gt;&lt;code&gt;消息,既是 SERVER 端需要的结束信号。CLIENT 每发送一条消息后显示一句“(client)sent”。&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;ol start=&#34;4&#34;&gt;&#xA;&lt;li&gt;父进程在 SERVER 和 CLIENT 均退出后结束。&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;h2 id=&#34;使用的函数&#34;&gt;使用的函数&lt;/h2&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;并非每次创建消息队列都会成功，所以重新添加-1情况的判断。&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;可以使用&lt;code&gt;ipcs -q&lt;/code&gt;命令查看&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;h2 id=&#34;源代码&#34;&gt;源代码&lt;/h2&gt;&#xA;&lt;div class=&#34;codehilite&#34;&gt;&#xA;  &lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&#xA;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;unistd.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&#xA;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;stdlib.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&#xA;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;string.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&#xA;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;sys/types.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&#xA;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;sys/ipc.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&#xA;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;sys/msg.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&#xA;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;sys/wait.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&#xA;&lt;span class=&#34;cp&#34;&gt;#define MSGKEY 75&lt;/span&gt;&#xA;&lt;span class=&#34;k&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;msgform&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;    &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mtype&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;    &lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mtexe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;100&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;msg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;msgqid&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;CLIENT&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;msgqid&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;msgget&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MSGKEY&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mo&#34;&gt;0777&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;IPC_CREAT&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;msgqid&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&#xA;    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;puts&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;client error in build&#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;client qid is: %d&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;msgqid&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&#xA;    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;msg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mtype&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;(client)sent mtype %ld.&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;msg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mtype&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;msgsnd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;msgqid&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;msg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;strlen&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;msg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mtexe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;puts&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;client exit...&#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;exit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;SERVER&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;msgqid&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;msgget&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MSGKEY&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mo&#34;&gt;0777&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;IPC_CREAT&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;msgqid&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&#xA;    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;error in build.&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;server qid is: %d&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;msgqid&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;do&lt;/span&gt;&#xA;    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;msgrcv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;msgqid&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;msg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1030&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;(server)received mtype %ld.&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;msg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mtype&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;msg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mtype&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;msgctl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;msgqid&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;IPC_RMID&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;puts&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;server exit...&#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fork&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;())&lt;/span&gt;&#xA;    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;SERVER&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;wait&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;CLIENT&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;h2 id=&#34;运行结果&#34;&gt;运行结果&lt;/h2&gt;&#xA;&lt;img alt=&#34;进程间的通信&#34; src=&#34;https://i0.wp.com/ww3.sinaimg.cn/mw690/c53b1907jw1emqt8omadvj207n0demyj.jpg?w=625&#34; data-recalc-dims=&#34;1&#34; /&gt;</description>
    </item>
    <item>
      <title>Linux-管道</title>
      <link>https://svtter.cn/2014/11/21/linux-%E7%AE%A1%E9%81%93/</link>
      <pubDate>Fri, 21 Nov 2014 01:00:00 +0800</pubDate>
      <guid>https://svtter.cn/2014/11/21/linux-%E7%AE%A1%E9%81%93/</guid>
      <description>&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;本文出自&amp;lt;svtter.github.io&amp;gt;&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;&lt;strong&gt;头文件&lt;/strong&gt;: #include&amp;lt;unistd.h&amp;gt;&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;&lt;strong&gt;使用方法&lt;/strong&gt;: int pipe(int chan[2]);&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;&lt;strong&gt;说明&lt;/strong&gt;: pipe会建立管道，并将文件描述词通过chan返回。一般chan[0]为管道的读取端，chan[1]是写入端。&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;&lt;strong&gt;返回值&lt;/strong&gt;: 成功返回0，失败返回-1，错误信息保存在errno中&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;&lt;strong&gt;错误信息&lt;/strong&gt;:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;EMFILE 进程已用完文件描述词最大量。&lt;/li&gt;&#xA;&lt;li&gt;ENFILE 系统已无文件描述词可用。&lt;/li&gt;&#xA;&lt;li&gt;EFAULT 参数filedes数组地址不合法&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div class=&#34;codehilite&#34;&gt;&#xA;  &lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;/*=============================================================================&lt;/span&gt;&#xA;&lt;span class=&#34;cm&#34;&gt;#&lt;/span&gt;&#xA;&lt;span class=&#34;cm&#34;&gt;# Author: svtter - svtter@qq.com&lt;/span&gt;&#xA;&lt;span class=&#34;cm&#34;&gt;#&lt;/span&gt;&#xA;&lt;span class=&#34;cm&#34;&gt;# QQ : 57180160&lt;/span&gt;&#xA;&lt;span class=&#34;cm&#34;&gt;#&lt;/span&gt;&#xA;&lt;span class=&#34;cm&#34;&gt;# Last modified: 2014-11-21 16:20&lt;/span&gt;&#xA;&lt;span class=&#34;cm&#34;&gt;#&lt;/span&gt;&#xA;&lt;span class=&#34;cm&#34;&gt;# Filename: 管道.c&lt;/span&gt;&#xA;&lt;span class=&#34;cm&#34;&gt;#&lt;/span&gt;&#xA;&lt;span class=&#34;cm&#34;&gt;# Description: &lt;/span&gt;&#xA;&lt;span class=&#34;cm&#34;&gt;#&lt;/span&gt;&#xA;&lt;span class=&#34;cm&#34;&gt;=============================================================================*/&lt;/span&gt;&#xA;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;unistd.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&#xA;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;signal.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&#xA;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&#xA;&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;parent&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&#34;a message from parent&#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;child&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&#34;a message from child&#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;p2c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c2p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;&#xA;    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pid&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;    &lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;buf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;100&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;pipe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;p2c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;pipe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c2p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;pid&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fork&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pid&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&#xA;    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;close&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c2p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;close&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;p2c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;write&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c2p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;parent&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;sizeof&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;parent&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;close&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c2p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;read&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;p2c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;buf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;100&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;%s&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;buf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;close&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;p2c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]);&lt;/span&gt;&#xA;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pid&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&#xA;    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;close&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;p2c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;close&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c2p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;read&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c2p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;buf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;100&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;%s&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;buf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;write&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;p2c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;child&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;sizeof&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;child&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;close&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c2p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;close&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;p2c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]);&lt;/span&gt;&#xA;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;h2 id=&#34;运行结果&#34;&gt;运行结果：&lt;/h2&gt;&#xA;&lt;img alt=&#34;管道运行结果&#34; src=&#34;https://i1.wp.com/ww3.sinaimg.cn/mw690/c53b1907jw1emivfwrkquj20cs05hwel.jpg?w=625&#34; data-recalc-dims=&#34;1&#34; /&gt;</description>
    </item>
    <item>
      <title>Linux-同步互斥</title>
      <link>https://svtter.cn/2014/11/21/linux-%E5%90%8C%E6%AD%A5%E4%BA%92%E6%96%A5/</link>
      <pubDate>Fri, 21 Nov 2014 01:00:00 +0800</pubDate>
      <guid>https://svtter.cn/2014/11/21/linux-%E5%90%8C%E6%AD%A5%E4%BA%92%E6%96%A5/</guid>
      <description>&lt;ul&gt;&#xA;&lt;li&gt;本文出自&amp;lt;svtter.github.io&amp;gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;使用pthread实现经典问题生产者消费者&#34;&gt;使用pthread实现经典问题：生产者消费者&lt;/h2&gt;&#xA;&lt;p&gt;关于semaphore的相关信息就不再贴出来了。&lt;/p&gt;&#xA;&lt;p&gt;编译的时候记得&lt;code&gt;-pthread&lt;/code&gt;选项。&lt;/p&gt;&#xA;&lt;div class=&#34;codehilite&#34;&gt;&#xA;  &lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;/*=============================================================================&lt;/span&gt;&#xA;&lt;span class=&#34;cm&#34;&gt;#&lt;/span&gt;&#xA;&lt;span class=&#34;cm&#34;&gt;# Author: svtter - svtter@qq.com&lt;/span&gt;&#xA;&lt;span class=&#34;cm&#34;&gt;#&lt;/span&gt;&#xA;&lt;span class=&#34;cm&#34;&gt;# QQ : 57180160&lt;/span&gt;&#xA;&lt;span class=&#34;cm&#34;&gt;#&lt;/span&gt;&#xA;&lt;span class=&#34;cm&#34;&gt;# Last modified: 2014-10-03 20:35&lt;/span&gt;&#xA;&lt;span class=&#34;cm&#34;&gt;#&lt;/span&gt;&#xA;&lt;span class=&#34;cm&#34;&gt;# Filename: producer_consumer.cc&lt;/span&gt;&#xA;&lt;span class=&#34;cm&#34;&gt;#&lt;/span&gt;&#xA;&lt;span class=&#34;cm&#34;&gt;# Description: &lt;/span&gt;&#xA;&lt;span class=&#34;cm&#34;&gt;#&lt;/span&gt;&#xA;&lt;span class=&#34;cm&#34;&gt;=============================================================================*/&lt;/span&gt;&#xA;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;cstdio&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&#xA;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;unistd.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&#xA;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;semaphore.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&#xA;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;pthread.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&#xA;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;sys/types.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&#xA;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;stdlib.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&#xA;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&#xA;&lt;span class=&#34;k&#34;&gt;using&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;namespace&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;std&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;span class=&#34;cp&#34;&gt;#define N 5&lt;/span&gt;&#xA;&lt;span class=&#34;cp&#34;&gt;#define item int&lt;/span&gt;&#xA;&lt;span class=&#34;c1&#34;&gt;// P/V操作&lt;/span&gt;&#xA;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;P&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sem_t&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sem_wait&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;perror&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;P error!&#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sem_t&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sem_post&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;perror&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;V error!&#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;span class=&#34;n&#34;&gt;sem_t&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mutex&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;span class=&#34;n&#34;&gt;sem_t&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;full&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;span class=&#34;n&#34;&gt;sem_t&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;empty&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;span class=&#34;n&#34;&gt;item&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;buffer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;&#xA;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;init_sem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;sem_init&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mutex&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;sem_init&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;full&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;sem_init&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;empty&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;producer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;arg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;product&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&#xA;    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;        &lt;span class=&#34;c1&#34;&gt;//生成随机数字&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;product&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rand&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;100&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;        &lt;span class=&#34;c1&#34;&gt;// cout &amp;lt;&amp;lt; &#34;producer running...&#34; &amp;lt;&amp;lt; endl;&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;P&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;empty&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;P&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mutex&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;buffer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;product&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;producer produced %d @ %d pos&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&#xA;                &lt;span class=&#34;n&#34;&gt;product&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mutex&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;full&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;sleep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;consumer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;arg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;product&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;temp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&#xA;    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;        &lt;span class=&#34;c1&#34;&gt;// cout &amp;lt;&amp;lt; &#34;consumer running...&#34; &amp;lt;&amp;lt; endl;&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;P&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;full&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;P&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mutex&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;product&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;buffer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mutex&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;empty&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;Consumer consumed %d @ %d pos&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&#xA;                &lt;span class=&#34;n&#34;&gt;product&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;sleep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;    &lt;span class=&#34;c1&#34;&gt;//random num&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;srand&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;init_sem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&#xA;    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;pthread_t&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;producer_t&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;consumer_t&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;error&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pthread_create&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;producer_t&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;producer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;error&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;error in create producer.&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;create producer success!&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;pthread_create&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;consumer_t&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;consumer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;error&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;error in create consumer.&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;create consumer success!&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;pthread_join&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;producer_t&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;pthread_join&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;consumer_t&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;h3 id=&#34;运行结果&#34;&gt;运行结果&lt;/h3&gt;&#xA;&lt;img alt=&#34;生产者消费者&#34; src=&#34;https://i1.wp.com/ww2.sinaimg.cn/mw690/c53b1907jw1emiuwm4ev0j20es07cwfi.jpg?w=625&#34; data-recalc-dims=&#34;1&#34; /&gt;&#xA;&lt;h2 id=&#34;操作系统经典问题哲学家就餐问题&#34;&gt;操作系统经典问题：哲学家就餐问题&lt;/h2&gt;&#xA;&lt;p&gt;mutex是c++11的新功能。记得添加C++11支持。(在运行结果中包含编译选项。)&lt;/p&gt;&#xA;&lt;div class=&#34;codehilite&#34;&gt;&#xA;  &lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&#xA;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;mutex&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&#xA;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;cstdio&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&#xA;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;thread&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&#xA;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;semaphore.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&#xA;&lt;span class=&#34;n&#34;&gt;using&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;namespace&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;std&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;span class=&#34;cp&#34;&gt;#define THINK(i) printf(&#34;ph[%d] is thinking...\n&#34;, i)&lt;/span&gt;&#xA;&lt;span class=&#34;cp&#34;&gt;#define EAT(i) printf(&#34;ph[%d] eats.\n&#34;, i)&lt;/span&gt;&#xA;&lt;span class=&#34;kr&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;P&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mutex&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;mt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;span class=&#34;kr&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mutex&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;mt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;unlock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;span class=&#34;kr&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;P&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sem_t&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sem_wait&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;perror&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;P error!&#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;span class=&#34;kr&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sem_t&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sem_post&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;perror&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;V error!&#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;span class=&#34;c1&#34;&gt;// 加入unistd.h出现问题，似乎与thread的兼容性比较差，于是重写&lt;/span&gt;&#xA;&lt;span class=&#34;kr&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;delay&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;    &lt;span class=&#34;kr&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sum&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kr&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;10000000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;sum&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;span class=&#34;n&#34;&gt;mutex&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fork&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;&#xA;&lt;span class=&#34;n&#34;&gt;sem_t&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;room&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;span class=&#34;kr&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;init&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;sem_init&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;room&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;span class=&#34;kr&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;philosopher&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kr&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kr&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&#xA;    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;THINK&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;P&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;room&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;P&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fork&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;P&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fork&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;EAT&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;room&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fork&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fork&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]);&lt;/span&gt;&#xA;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;span class=&#34;kr&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;init&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&#xA;    &lt;span class=&#34;kr&#34;&gt;thread&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;        &lt;span class=&#34;kr&#34;&gt;thread&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;philosopher&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&#xA;        &lt;span class=&#34;kr&#34;&gt;thread&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;philosopher&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&#xA;        &lt;span class=&#34;kr&#34;&gt;thread&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;philosopher&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&#xA;        &lt;span class=&#34;kr&#34;&gt;thread&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;philosopher&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&#xA;        &lt;span class=&#34;kr&#34;&gt;thread&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;philosopher&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&#xA;    &lt;span class=&#34;p&#34;&gt;};&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kr&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;k&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;k&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;join&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;h3 id=&#34;运行结果-1&#34;&gt;运行结果&lt;/h3&gt;&#xA;&lt;img alt=&#34;哲学家就餐&#34; src=&#34;https://i1.wp.com/ww3.sinaimg.cn/mw690/c53b1907jw1emiwe5eqnyj20hq0b1q3w.jpg?w=625&#34; data-recalc-dims=&#34;1&#34; /&gt;&#xA;&lt;h2 id=&#34;操作系统经典问题读者写者问题&#34;&gt;操作系统经典问题：读者写者问题&lt;/h2&gt;&#xA;&lt;h3 id=&#34;读者优先&#34;&gt;读者优先&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;使用了c++11的新特性thread&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div class=&#34;codehilite&#34;&gt;&#xA;  &lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&#xA;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;mutex&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&#xA;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;thread&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&#xA;&lt;span class=&#34;k&#34;&gt;using&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;namespace&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;std&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;span class=&#34;n&#34;&gt;mutex&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;wsem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;readcount&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;span class=&#34;cp&#34;&gt;#define READ(a) cout &amp;lt;&amp;lt; a &amp;lt;&amp;lt; &#34; is reading...&#34; &amp;lt;&amp;lt; endl;&lt;/span&gt;&#xA;&lt;span class=&#34;cp&#34;&gt;#define FINISH(a) cout &amp;lt;&amp;lt; a &amp;lt;&amp;lt; &#34; finished reading.&#34; &amp;lt;&amp;lt; endl;&lt;/span&gt;&#xA;&lt;span class=&#34;cp&#34;&gt;#define WRITE cout &amp;lt;&amp;lt; &#34;writing...&#34; &amp;lt;&amp;lt; endl;&lt;/span&gt;&#xA;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;P&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mutex&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;mt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mutex&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;mt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;unlock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;span class=&#34;c1&#34;&gt;// 加入unistd.h出现问题，似乎与thread的兼容性比较差，于是重写&lt;/span&gt;&#xA;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;delay&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sum&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;10000000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;sum&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;read&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&#xA;    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;P&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;readcount&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;readcount&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&#xA;            &lt;span class=&#34;n&#34;&gt;P&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;wsem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;READ&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;delay&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;P&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;readcount&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;FINISH&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;readcount&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&#xA;            &lt;span class=&#34;n&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;wsem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;write&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&#xA;    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;P&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;wsem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;WRITE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;delay&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;wsem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;    &lt;span class=&#34;kr&#34;&gt;thread&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;reader1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;read&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&#34;svtter&#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;    &lt;span class=&#34;kr&#34;&gt;thread&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;reader2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;read&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&#34;sr&#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;    &lt;span class=&#34;kr&#34;&gt;thread&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;reader3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;read&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&#34;yym&#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;    &lt;span class=&#34;kr&#34;&gt;thread&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;reader4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;read&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&#34;xiaoniu&#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;    &lt;span class=&#34;kr&#34;&gt;thread&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;writer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;write&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;reader1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;join&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;reader2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;join&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;reader3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;join&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;reader4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;join&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&#xA;    &lt;span class=&#34;n&#34;&gt;writer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;join&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;h4 id=&#34;运行结果-2&#34;&gt;运行结果&lt;/h4&gt;&#xA;&lt;p&gt;由于可以同时阅读，所以读者reading输出可能出现少许问题。&lt;/p&gt;</description>
    </item>
    <item>
      <title>Linux系统函数简介</title>
      <link>https://svtter.cn/2014/11/21/linux%E7%B3%BB%E7%BB%9F%E5%87%BD%E6%95%B0%E7%AE%80%E4%BB%8B/</link>
      <pubDate>Fri, 21 Nov 2014 01:00:00 +0800</pubDate>
      <guid>https://svtter.cn/2014/11/21/linux%E7%B3%BB%E7%BB%9F%E5%87%BD%E6%95%B0%E7%AE%80%E4%BB%8B/</guid>
      <description>&lt;p&gt;本文出自&amp;lt;svtter.github.io&amp;gt;&lt;/p&gt;&#xA;&lt;p&gt;系统调用函数说明、参数值及定义&lt;/p&gt;&#xA;&lt;p&gt;本文摘自老师的资料= =&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;使用这些函数的时候记得将头文件unistd.h包含到程序中&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;1fork&#34;&gt;1、fork()&lt;/h2&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;创建一个新进程&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;int fork()&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;其中返回int取值意义如下:&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;0:创建子进程,从子进程返回的id值大于0:从父进程返回的子进程id值 -1:创建失败&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;h2 id=&#34;2lockffilesfunctionsize&#34;&gt;2、lockf(files,function,size):&lt;/h2&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;用作锁定文件的某些段或者整个文件,本函数适用的头文件为:&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;#include&amp;lt;unistd.h&amp;gt;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;参数定义:&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;int lockf(files,function,size)&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;int files,function;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;long size;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;其中:files是文件描述符:function是锁定和解锁;1表示锁定,0表示解锁。size是锁定和解锁的字节数,若用0,表示从文件的当前位置到文件尾。&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;h2 id=&#34;3msggetkeyflag&#34;&gt;3、msgget(key,flag):&lt;/h2&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;获得一个消息的描述符,该描述符指定一个消息队列以便用于其他系统调用。&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;该函数使用偷文件如下:&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;#include&amp;lt;sy/types.h&amp;gt;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;#include&amp;lt;sy/ipc.h&amp;gt;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;#include&amp;lt;sy/msg.h&amp;gt;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;参数定义&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;int msgget(key,flag)&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;&lt;code&gt;key_tkey;&lt;/code&gt;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;&lt;code&gt;int flag;&lt;/code&gt;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;语法格式:msgqid=msgget(key,flag)&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;其中:msgid是该系统调用返回的描述符,失败则返回-1;flag 本身由操作允许权和控制命令值相或得到。&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;如:&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;&lt;code&gt;IP_CREAT|0400&lt;/code&gt; 是否该队列应被创建;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;&lt;code&gt;IP_EXCL |0400&lt;/code&gt; 是否该队列的创建应是互斥的;等。&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;h2 id=&#34;msgsndidmsgpsizeflag&#34;&gt;msgsnd(id,msgp,size,flag):&lt;/h2&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;发送一消息。&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;该函数是用头文件如下:&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;#include&amp;lt;sy/types.h&amp;gt;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;#include&amp;lt;sy/ipc.h&amp;gt;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;#include&amp;lt;sy/msg.h&amp;gt;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;参数定义&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;int msgnd(id,msgp,size,flag)&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;int id,size,flag;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;struct msgbuf * msgp;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;其中:id是返回消息队列的描述符;msgp是指向用户存储区的一个构造体指针,size指示由msgp&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;指向的数据结构中字符数组的长度;即消息的长度。这个数组的最大值由MSG-MAX系统可调用参数来确&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;定。flag规定当核心用尽内部缓冲空间时应执行的动作;若在标志flag中末设置IPC_NOWAIT位,则当&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;41该消息队列中字节数超过一最大值时,或系统范围的消息数超过某一最大值时,调用msgsnd进程睡眠。&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;若是设置IPC_NOWAIT,则在此情况下,msgsnd立即返回。&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;h2 id=&#34;msgrcvidmsgpsizetypeflag&#34;&gt;msgrcv(id,msgp,size,type,flag):&lt;/h2&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;接受一消息。&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;该函数调用使用头文件如下:&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;#include&amp;lt;sy/types.h&amp;gt;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;#include&amp;lt;sy/ipc.h&amp;gt;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;#include&amp;lt;sy/msg.h&amp;gt;&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;参数定义&lt;/p&gt;</description>
    </item>
    <item>
      <title>解决无法在CentOS下的gvim中使用ibus输入中文</title>
      <link>https://svtter.cn/post/2014-11-15-%E8%A7%A3%E5%86%B3%E6%97%A0%E6%B3%95%E5%9C%A8centos%E4%B8%8B%E7%9A%84gvim%E4%B8%AD%E4%BD%BF%E7%94%A8ibus%E8%BE%93%E5%85%A5%E4%B8%AD%E6%96%87/</link>
      <pubDate>Sat, 15 Nov 2014 01:00:00 +0800</pubDate>
      <guid>https://svtter.cn/post/2014-11-15-%E8%A7%A3%E5%86%B3%E6%97%A0%E6%B3%95%E5%9C%A8centos%E4%B8%8B%E7%9A%84gvim%E4%B8%AD%E4%BD%BF%E7%94%A8ibus%E8%BE%93%E5%85%A5%E4%B8%AD%E6%96%87/</guid>
      <description>&lt;h1 id=&#34;问题&#34;&gt;问题&lt;/h1&gt;&#xA;&lt;p&gt;之前在gvim中一直无法使用中文，格外痛苦，后来使用了vim-ibus插件之后，可以在vim中使用中文了，但是依然不能在gvim中使用，一直以为是两个软件冲突的&lt;/p&gt;&#xA;&lt;p&gt;问题，现在终于解决了。&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;gvim version: vim-X11&lt;/li&gt;&#xA;&lt;li&gt;ibus version: 1.6&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h1 id=&#34;解决方案&#34;&gt;解决方案&lt;/h1&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;问题出在：使用的vim插件中有插件与ibus冲突，但是奈何找不到X11的log（应该可以找到，找到再说。。）&lt;/li&gt;&#xA;&lt;li&gt;排查方式比较简单，使用&lt;code&gt;:PluginInstall&lt;/code&gt;,&lt;code&gt;:PluginClean&lt;/code&gt;即可(考虑到我使用vundle管理插件)&lt;/li&gt;&#xA;&lt;li&gt;去除相应的插件即可(比如现在冲突的是auto-pairs)。如果不想去除冲突插件，可以考虑使用vim-ibus，这个在shell下是可以使得很多冲突减少的。&lt;/li&gt;&#xA;&lt;li&gt;可能auto-pairs在不久的将来就会修复这个bug，请在具体环境下排查&lt;/li&gt;&#xA;&lt;/ul&gt;</description>
    </item>
    <item>
      <title>Linux-存储管理</title>
      <link>https://svtter.cn/2014/11/14/linux-%E5%AD%98%E5%82%A8%E7%AE%A1%E7%90%86/</link>
      <pubDate>Fri, 14 Nov 2014 01:00:00 +0800</pubDate>
      <guid>https://svtter.cn/2014/11/14/linux-%E5%AD%98%E5%82%A8%E7%AE%A1%E7%90%86/</guid>
      <description>&lt;p&gt;还未动笔&lt;/p&gt;</description>
    </item>
    <item>
      <title>Linux-进程管理</title>
      <link>https://svtter.cn/2014/11/14/linux-%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/</link>
      <pubDate>Fri, 14 Nov 2014 01:00:00 +0800</pubDate>
      <guid>https://svtter.cn/2014/11/14/linux-%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/</guid>
      <description>&lt;p&gt;本文出自&amp;lt;svtter.github.io&amp;gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;进程的创建&#34;&gt;进程的创建&lt;/h2&gt;&#xA;&lt;p&gt;用于进程的创建。fork()的作用是，从&lt;strong&gt;当前位置&lt;/strong&gt;创建一个子进程，并执行。fork的返回值为子进程的pid&lt;/p&gt;&#xA;&lt;div class=&#34;codehilite&#34;&gt;&#xA;  &lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&#xA;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;p1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;p2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;p1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fork&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;())&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;//父进程返回1， 子进程返回0&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;putchar&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sc&#34;&gt;&amp;#39;b&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&#xA;    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;p2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fork&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;())&lt;/span&gt;&#xA;            &lt;span class=&#34;n&#34;&gt;putchar&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sc&#34;&gt;&amp;#39;c&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&#xA;            &lt;span class=&#34;n&#34;&gt;putchar&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sc&#34;&gt;&amp;#39;a&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;h3 id=&#34;运行结果&#34;&gt;运行结果&lt;/h3&gt;&#xA;&lt;img alt=&#34;运行结果&#34; src=&#34;https://i1.wp.com/ww2.sinaimg.cn/mw690/c53b1907jw1emivyoryqoj205704d3yg.jpg?w=625&#34; data-recalc-dims=&#34;1&#34; /&gt;&#xA;&lt;h2 id=&#34;进程的控制&#34;&gt;进程的控制&lt;/h2&gt;&#xA;&lt;p&gt;在这段代码中使用了lockf, 和wait函数。作用是什么呢？&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;lockf顾名思义是锁定file. &lt;code&gt;lockf(1, 1, 0)&lt;/code&gt;锁定资源，&lt;code&gt;lockf(1, 0, 0)&lt;/code&gt;释放资源。&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;wait作用为等待子进程的返回信息。wait中的signal用于接受进程的返回信号，即exit(0)中的0&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div class=&#34;codehilite&#34;&gt;&#xA;  &lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&#xA;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;wait.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&#xA;&lt;span class=&#34;c1&#34;&gt;// 利用lockf(1, 1, 0)锁定输出设备&lt;/span&gt;&#xA;&lt;span class=&#34;c1&#34;&gt;// lockf(1, 0, 0)解锁输出设备&lt;/span&gt;&#xA;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;p1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;p2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;p1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fork&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;())&lt;/span&gt;&#xA;    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;lockf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;500&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&#xA;            &lt;span class=&#34;n&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;parent%d&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;lockf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;wait&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;        &lt;span class=&#34;c1&#34;&gt;//confirm the father killed after child&lt;/span&gt;&#xA;        &lt;span class=&#34;n&#34;&gt;exit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;    &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&#xA;    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;p2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fork&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;())&lt;/span&gt;&#xA;        &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;            &lt;span class=&#34;n&#34;&gt;lockf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;            &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;500&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&#xA;            &lt;span class=&#34;n&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;son %d&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;            &lt;span class=&#34;n&#34;&gt;lockf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;            &lt;span class=&#34;n&#34;&gt;wait&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;        &lt;span class=&#34;c1&#34;&gt;//&lt;/span&gt;&#xA;            &lt;span class=&#34;n&#34;&gt;exit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;        &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&#xA;        &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&#xA;            &lt;span class=&#34;n&#34;&gt;lockf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;            &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;500&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&#xA;                &lt;span class=&#34;n&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;grandchild%d&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;            &lt;span class=&#34;n&#34;&gt;lockf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;            &lt;span class=&#34;n&#34;&gt;exit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&#xA;        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&#xA;&lt;/pre&gt;&#xA;&lt;/div&gt;&#xA;&lt;h3 id=&#34;运行结果-1&#34;&gt;运行结果&lt;/h3&gt;&#xA;&lt;img alt=&#34;运行结果&#34; src=&#34;https://i2.wp.com/ww4.sinaimg.cn/mw690/c53b1907jw1emivx24ob6j20hy0dhgmh.jpg?w=625&#34; data-recalc-dims=&#34;1&#34; /&gt;</description>
    </item>
    <item>
      <title>Linux -基础学习笔记-2</title>
      <link>https://svtter.cn/2014/11/12/linux-%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-2/</link>
      <pubDate>Wed, 12 Nov 2014 01:00:00 +0800</pubDate>
      <guid>https://svtter.cn/2014/11/12/linux-%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-2/</guid>
      <description>&lt;h1 id=&#34;linux用户和用户组&#34;&gt;Linux用户和用户组&lt;/h1&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;简单解释：&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;文件权限&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;连接数&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;文件所有者&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;文件所属用户组&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;文件大小&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;文件最后被修改的时间&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: left&#34;&gt;文件名&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;-rw-r–r–&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;1&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;root&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;root&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;42304&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;Sep 4 18:26&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: left&#34;&gt;install.log&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;</description>
    </item>
    <item>
      <title>Linux-SELinux-httpd无法访问</title>
      <link>https://svtter.cn/2014/11/10/linux-selinux-httpd%E6%97%A0%E6%B3%95%E8%AE%BF%E9%97%AE/</link>
      <pubDate>Mon, 10 Nov 2014 01:00:00 +0800</pubDate>
      <guid>https://svtter.cn/2014/11/10/linux-selinux-httpd%E6%97%A0%E6%B3%95%E8%AE%BF%E9%97%AE/</guid>
      <description>&lt;h1 id=&#34;目录的问题&#34;&gt;目录的问题&lt;/h1&gt;&#xA;&lt;p&gt;由于SELinux造成的httpd中的目录无法访问，可以使用&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;code&gt;chcon -R -t httpd_user_content_t &amp;lt;path to web files&amp;gt;&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;code&gt;chcon -R -t httpd_sys_content_t &amp;lt;path to web files&amp;gt;&lt;/code&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;mark一个网站()[http://www.jb51.net/os/RedHat/1303.html]&lt;/p&gt;&#xA;&lt;h1 id=&#34;文件夹访问权限&#34;&gt;文件夹访问权限&lt;/h1&gt;&#xA;&lt;p&gt;以上方法解决了SELinux的问题，但是我的目录依然没有访问权限。&lt;/p&gt;&#xA;&lt;p&gt;然后看了一下文件的基本属性: &lt;code&gt;-rw-r--r--. 1 root root   21 11月 11 12:27 index.html&lt;/code&gt;&lt;/p&gt;&#xA;&lt;p&gt;应该也是没有问题的。&lt;/p&gt;&#xA;&lt;h1 id=&#34;再查selinux&#34;&gt;再查SElinux&lt;/h1&gt;&#xA;&lt;p&gt;随后使用&lt;code&gt;cat /var/log/messages&lt;/code&gt;探索一番，依然没有找到问题所在——SELinux没有报错。&lt;/p&gt;&#xA;&lt;p&gt;防火墙的问题？不是阿。因为我本身是在内网访问，防火墙应该不会出问题。&lt;/p&gt;&#xA;&lt;p&gt;那应该是什么问题呢？&lt;/p&gt;&#xA;&lt;h1 id=&#34;配置文件&#34;&gt;配置文件&lt;/h1&gt;&#xA;&lt;p&gt;终于在配置文件中找到了问题。&lt;/p&gt;&#xA;&lt;p&gt;apache在进入2.4.*以后，不再使用&lt;code&gt;Allow from all&lt;/code&gt;这种形式了，取而代之，使用&lt;code&gt;Require from granted&lt;/code&gt;这种格式。晕，就是在此处，&lt;code&gt;&amp;lt;Directory&amp;gt;&lt;/code&gt;没有设置好，坑了好久阿。。&lt;/p&gt;&#xA;&lt;p&gt;相对的我这几天一直都在deepin下开发——因为&lt;code&gt;apt-get&lt;/code&gt;得到的apache之前比较习惯，此外deepin没有se也是省了很多功夫。不过通过这一次，总算是把问题解决了！&lt;/p&gt;&#xA;&lt;p&gt;鼓励！&lt;/p&gt;</description>
    </item>
    <item>
      <title>Linux – CentOS-安装更新并重启</title>
      <link>https://svtter.cn/2014/11/09/linux-centos-%E5%AE%89%E8%A3%85%E6%9B%B4%E6%96%B0%E5%B9%B6%E9%87%8D%E5%90%AF/</link>
      <pubDate>Sun, 09 Nov 2014 01:00:00 +0800</pubDate>
      <guid>https://svtter.cn/2014/11/09/linux-centos-%E5%AE%89%E8%A3%85%E6%9B%B4%E6%96%B0%E5%B9%B6%E9%87%8D%E5%90%AF/</guid>
      <description>&lt;p&gt;有时候我们用&lt;code&gt;yum update&lt;/code&gt;更新了系统，但是选项中【一般gnome-session】的’安装更&lt;/p&gt;&#xA;&lt;p&gt;依然固执的在那里我们应该怎么办？&lt;/p&gt;&#xA;&lt;p&gt;打开’软件更新’即可。&lt;/p&gt;</description>
    </item>
    <item>
      <title>Linux – 基础学习笔记(1)</title>
      <link>https://svtter.cn/2014/11/09/linux-%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%281%29/</link>
      <pubDate>Sun, 09 Nov 2014 01:00:00 +0800</pubDate>
      <guid>https://svtter.cn/2014/11/09/linux-%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%281%29/</guid>
      <description>&lt;h1 id=&#34;linux基础学习笔记&#34;&gt;Linux基础学习笔记&lt;/h1&gt;&#xA;&lt;p&gt;以鸟哥的私房菜为基础进行学习。&lt;/p&gt;&#xA;&lt;p&gt;用Linux有接近两年的时间了，还是很水，于是决定从头开始，认真学习基础。&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
